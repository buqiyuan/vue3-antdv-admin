import{e as d,a as M,m as A,_ as p,aP as P,d as $,i as R,b as U,k as y,aR as L,cE as h,c3 as V,aT as q,bd as k,r as D,o as X,di as Y,h as G,b8 as J,C as K,v as Q,F as W,x as N,L as H,H as I,n as Z}from"./index-Clv9zNM3.js";import{S as tt,C as et}from"./index-Kl1M3oNd.js";import"./index-DrW2oiMG.js";import"./index-BJ4r8mM4.js";import"./_baseUniq-CsQ8HEXR.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./collapseMotion-BCa41I5P.js";import"./useRefs-CCU70ahe.js";import"./pick-DtFW9KKp.js";import"./hasIn-DoY5MSeO.js";import"./isMobile-BbN7I0i_.js";import"./useMergedState-CVClCPu2.js";import"./PlusOutlined-8cnECNsV.js";const E=t=>{const{value:n,formatter:e,precision:o,decimalSeparator:s,groupSeparator:u="",prefixCls:l}=t;let c;if(typeof e=="function")c=e({value:n});else{const i=String(n),m=i.match(/^(-?)(\d*)(\.(\d+))?$/);if(!m)c=i;else{const f=m[1];let a=m[2]||"0",r=m[4]||"";a=a.replace(/\B(?=(\d{3})+(?!\d))/g,u),typeof o=="number"&&(r=r.padEnd(o,"0").slice(0,o>0?o:0)),r&&(r=`${s}${r}`),c=[d("span",{key:"int",class:`${l}-content-value-int`},[f,a]),r&&d("span",{key:"decimal",class:`${l}-content-value-decimal`},[r])]}}return d("span",{class:`${l}-content-value`},[c])};E.displayName="StatisticNumber";const nt=t=>{const{componentCls:n,marginXXS:e,padding:o,colorTextDescription:s,statisticTitleFontSize:u,colorTextHeading:l,statisticContentFontSize:c,statisticFontFamily:i}=t;return{[`${n}`]:p(p({},P(t)),{[`${n}-title`]:{marginBottom:e,color:s,fontSize:u},[`${n}-skeleton`]:{paddingTop:o},[`${n}-content`]:{color:l,fontSize:c,fontFamily:i,[`${n}-content-value`]:{display:"inline-block",direction:"ltr"},[`${n}-content-prefix, ${n}-content-suffix`]:{display:"inline-block"},[`${n}-content-prefix`]:{marginInlineEnd:e},[`${n}-content-suffix`]:{marginInlineStart:e}}})}},at=M("Statistic",t=>{const{fontSizeHeading3:n,fontSize:e,fontFamily:o}=t,s=A(t,{statisticTitleFontSize:e,statisticContentFontSize:n,statisticFontFamily:o});return[nt(s)]}),z=()=>({prefixCls:String,decimalSeparator:String,groupSeparator:String,format:String,value:k([Number,String,Object]),valueStyle:{type:Object,default:void 0},valueRender:q(),formatter:V(),precision:Number,prefix:h(),suffix:h(),title:h(),loading:L()}),v=$({compatConfig:{MODE:3},name:"AStatistic",inheritAttrs:!1,props:R(z(),{decimalSeparator:".",groupSeparator:",",loading:!1}),slots:Object,setup(t,n){let{slots:e,attrs:o}=n;const{prefixCls:s,direction:u}=U("statistic",t),[l,c]=at(s);return()=>{var i,m,f,a,r,g,S;const{value:O=0,valueStyle:j,valueRender:T}=t,x=s.value,_=(i=t.title)!==null&&i!==void 0?i:(m=e.title)===null||m===void 0?void 0:m.call(e),b=(f=t.prefix)!==null&&f!==void 0?f:(a=e.prefix)===null||a===void 0?void 0:a.call(e),F=(r=t.suffix)!==null&&r!==void 0?r:(g=e.suffix)===null||g===void 0?void 0:g.call(e),B=(S=t.formatter)!==null&&S!==void 0?S:e.formatter;let C=d(E,y({"data-for-update":Date.now()},p(p({},t),{prefixCls:x,value:O,formatter:B})),null);return T&&(C=T(C)),l(d("div",y(y({},o),{},{class:[x,{[`${x}-rtl`]:u.value==="rtl"},o.class,c.value]}),[_&&d("div",{class:`${x}-title`},[_]),d(tt,{paragraph:!1,loading:t.loading},{default:()=>[d("div",{style:j,class:`${x}-content`},[b&&d("span",{class:`${x}-content-prefix`},[b]),C,F&&d("span",{class:`${x}-content-suffix`},[F])])]})]))}}}),ot=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function it(t,n){let e=t;const o=/\[[^\]]*]/g,s=(n.match(o)||[]).map(i=>i.slice(1,-1)),u=n.replace(o,"[]"),l=ot.reduce((i,m)=>{let[f,a]=m;if(i.includes(f)){const r=Math.floor(e/a);return e-=r*a,i.replace(new RegExp(`${f}+`,"g"),g=>{const S=g.length;return r.toString().padStart(S,"0")})}return i},u);let c=0;return l.replace(o,()=>{const i=s[c];return c+=1,i})}function st(t,n){const{format:e=""}=n,o=new Date(t).getTime(),s=Date.now(),u=Math.max(o-s,0);return it(u,e)}const rt=1e3/30;function w(t){return new Date(t).getTime()}const lt=()=>p(p({},z()),{value:k([Number,String,Object]),format:String,onFinish:Function,onChange:Function}),ct=$({compatConfig:{MODE:3},name:"AStatisticCountdown",props:R(lt(),{format:"HH:mm:ss"}),setup(t,n){let{emit:e,slots:o}=n;const s=D(),u=D(),l=()=>{const{value:a}=t;w(a)>=Date.now()?c():i()},c=()=>{if(s.value)return;const a=w(t.value);s.value=setInterval(()=>{u.value.$forceUpdate(),a>Date.now()&&e("change",a-Date.now()),l()},rt)},i=()=>{const{value:a}=t;s.value&&(clearInterval(s.value),s.value=void 0,w(a)<Date.now()&&e("finish"))},m=a=>{let{value:r,config:g}=a;const{format:S}=t;return st(r,p(p({},g),{format:S}))},f=a=>a;return X(()=>{l()}),Y(()=>{l()}),G(()=>{i()}),()=>{const a=t.value;return d(v,y({ref:u},p(p({},J(t,["onFinish","onChange"])),{value:a,valueRender:f,formatter:m})),o)}}});v.Countdown=ct;v.install=function(t){return t.component(v.name,v),t.component(v.Countdown.name,v.Countdown),t};v.Countdown;const ut={class:"title"},mt={class:"suffix"},dt=$({name:"OverviewHeaderItem",__name:"overview-header-item",props:{title:{type:String,required:!0},value:{type:Number,required:!0},suffix:{type:String,default:""}},setup(t){return(n,e)=>(Q(),K(I(et),{class:"header-item-card",hoverable:""},{default:W(()=>[N("div",ut,H(t.title),1),d(I(v),{class:"value",value:t.value,duration:2e3},null,8,["value"]),N("span",mt,H(t.suffix),1)]),_:1}))}}),bt=Z(dt,[["__scopeId","data-v-f118c67c"]]);export{bt as default};
