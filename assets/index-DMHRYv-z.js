import{w as DO,d as BO,cP as ER,r as YD,o as zR,h as AR,dc as TR,er as OR,dC as H7,ac as V7,bG as NR,aF as DR,a1 as MR,c as TO,an as RR,C as XD,v as MO,$ as BR,H as RO,e as VS,at as JD,F as GT,q as FR,N as LR,T as IR,a_ as PR}from"./index-Clv9zNM3.js";import"./ApiSelect.vue_vue_type_script_setup_true_lang-DvgRuKxQ.js";import"./dayjs.min-BYaCBWoX.js";import{u as HR}from"./useForm-CTCEUqYb.js";import{C as VR}from"./index-Kl1M3oNd.js";import{T as jR,_ as $R}from"./index-DrW2oiMG.js";import"./index-6_t5xb7Y.js";import"./index-CsLYSjjd.js";import"./cloneDeep-s5SpPfgx.js";import"./useFlexGapSupport-FJ5YreuO.js";import"./hasIn-DoY5MSeO.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./debounce-BtYDntiA.js";import"./QuestionCircleOutlined-B99GTLc_.js";import"./collapseMotion-BCa41I5P.js";import"./_castArrayLikeObject-BIyyQ4IM.js";import"./index-C2Yf5-vJ.js";import"./CheckOutlined-C_x0bhih.js";import"./useRefs-CCU70ahe.js";import"./useMergedState-CVClCPu2.js";import"./index-D0onqgqk.js";import"./index-BJ4r8mM4.js";import"./_baseUniq-CsQ8HEXR.js";import"./move-DRIeMv9s.js";import"./index-DXPG-Hl7.js";import"./RightOutlined-CtKcSETS.js";import"./LeftOutlined-DkJ_dKcN.js";import"./index-BPPLYRCV.js";import"./DownOutlined-DxS2-6Ij.js";import"./isMobile-BbN7I0i_.js";import"./index-Binr3P75.js";import"./index-CYmqXHpm.js";import"./is-fQYYZi7x.js";import"./schema-form.vue_vue_type_script_setup_true_lang-uF5z2XZj.js";import"./isNumber-s4abpS_O.js";import"./index-jwD5cS8J.js";import"./dateUtil-C_wTM_e-.js";import"./pick-DtFW9KKp.js";import"./PlusOutlined-8cnECNsV.js";var UR=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ZR=function(Oo){return UR.map(function(an){return an.toLowerCase()}).indexOf(Oo.toLowerCase())!==-1},qR=function(Oo,an,Ko){Object.keys(an).filter(ZR).forEach(function(cn){var en=an[cn];typeof en=="function"&&(cn==="onInit"?en(Oo,Ko):Ko.on(cn.substring(2),function(ro){return en(ro,Ko)}))})},WR=function(Oo,an,Ko,cn){var en=Oo.modelEvents?Oo.modelEvents:null,ro=Array.isArray(en)?en.join(" "):en;DO(cn,function(gn,$o){Ko&&typeof gn=="string"&&gn!==$o&&gn!==Ko.getContent({format:Oo.outputFormat})&&Ko.setContent(gn)}),Ko.on(ro||"change input undo redo",function(){an.emit("update:modelValue",Ko.getContent({format:Oo.outputFormat}))})},GR=function(Oo,an,Ko,cn,en,ro){cn.setContent(ro()),Ko.attrs["onUpdate:modelValue"]&&WR(an,Ko,cn,en),qR(Oo,Ko.attrs,cn)},j7=0,QD=function(Oo){var an=Date.now(),Ko=Math.floor(Math.random()*1e9);return j7++,Oo+"_"+Ko+j7+String(an)},KR=function(Oo){return Oo!==null&&Oo.tagName.toLowerCase()==="textarea"},$7=function(Oo){return typeof Oo>"u"||Oo===""?[]:Array.isArray(Oo)?Oo:Oo.split(" ")},YR=function(Oo,an){return $7(Oo).concat($7(an))},XR=function(Oo){return Oo==null},U7=function(){return{listeners:[],scriptId:QD("tiny-script"),scriptLoaded:!1}},JR=function(){var Oo=U7(),an=function(en,ro,gn,$o){var go=ro.createElement("script");go.referrerPolicy="origin",go.type="application/javascript",go.id=en,go.src=gn;var At=function(){go.removeEventListener("load",At),$o()};go.addEventListener("load",At),ro.head&&ro.head.appendChild(go)},Ko=function(en,ro,gn){Oo.scriptLoaded?gn():(Oo.listeners.push(gn),en.getElementById(Oo.scriptId)||an(Oo.scriptId,en,ro,function(){Oo.listeners.forEach(function($o){return $o()}),Oo.scriptLoaded=!0}))},cn=function(){Oo=U7()};return{load:Ko,reinitialize:cn}},QR=JR(),eB=function(){return typeof window<"u"?window:global},Xv=function(){var Oo=eB();return Oo&&Oo.tinymce?Oo.tinymce:null},eM={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(Oo){return Oo==="html"||Oo==="text"}}},eh=function(){return eh=Object.assign||function(Oo){for(var an,Ko=1,cn=arguments.length;Ko<cn;Ko++){an=arguments[Ko];for(var en in an)Object.prototype.hasOwnProperty.call(an,en)&&(Oo[en]=an[en])}return Oo},eh.apply(this,arguments)},tB=function(Oo,an,Ko,cn){return Oo(cn||"div",{id:an,ref:Ko})},oB=function(Oo,an,Ko){return Oo("textarea",{id:an,visibility:"hidden",ref:Ko})},OO={selector:void 0,target:void 0},nB=BO({props:eM,setup:function(Oo,an){var Ko=Oo.init?eh(eh({},Oo.init),OO):eh({},OO),cn=ER(Oo),en=cn.disabled,ro=cn.modelValue,gn=cn.tagName,$o=YD(null),go=null,At=Oo.id||QD("tiny-vue"),kn=Oo.init&&Oo.init.inline||Oo.inline,tn=!!an.attrs["onUpdate:modelValue"],Gt=!0,Je=Oo.initialValue?Oo.initialValue:"",bt="",no=function(St){return tn?function(){return ro!=null&&ro.value?ro.value:""}:function(){return St?Je:bt}},ao=function(){var St=no(Gt),wo=eh(eh({},Ko),{readonly:Oo.disabled,target:$o.value,plugins:YR(Ko.plugins,Oo.plugins),toolbar:Oo.toolbar||Ko.toolbar,inline:kn,license_key:Oo.licenseKey,setup:function(he){go=he,he.on("init",function(Xe){return GR(Xe,Oo,an,he,ro,St)}),typeof Ko.setup=="function"&&Ko.setup(he)}});KR($o.value)&&($o.value.style.visibility=""),Xv().init(wo),Gt=!1};DO(en,function(St){var wo;go!==null&&(typeof((wo=go.mode)===null||wo===void 0?void 0:wo.set)=="function"?go.mode.set(St?"readonly":"design"):go.setMode(St?"readonly":"design"))}),DO(gn,function(St){var wo;tn||(bt=go.getContent()),(wo=Xv())===null||wo===void 0||wo.remove(go),V7(function(){return ao()})}),zR(function(){if(Xv()!==null)ao();else if($o.value&&$o.value.ownerDocument){var St=Oo.cloudChannel?Oo.cloudChannel:"7",wo=Oo.apiKey?Oo.apiKey:"no-api-key",he=XR(Oo.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(wo,"/tinymce/").concat(St,"/tinymce.min.js"):Oo.tinymceScriptSrc;QR.load($o.value.ownerDocument,he,ao)}}),AR(function(){Xv()!==null&&Xv().remove(go)}),kn||(TR(function(){Gt||ao()}),OR(function(){var St;tn||(bt=go.getContent()),(St=Xv())===null||St===void 0||St.remove(go)}));var Te=function(St){var wo;bt=go.getContent(),(wo=Xv())===null||wo===void 0||wo.remove(go),Ko=eh(eh(eh({},Ko),St),OO),V7(function(){return ao()})};return an.expose({rerender:Te,getEditor:function(){return go}}),function(){return kn?tB(H7,At,$o,Oo.tagName):oB(H7,At,$o)}}});const rB="/vue3-antdv-admin/assets/tinymce.min-Dc9YNu3N.js";var NO={exports:{}},Z7;function aB(){return Z7||(Z7=1,function(Oo){(function(){var an=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var o=typeof t;return o==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":o==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":o},Ko=function(t){return{eq:t}},cn=Ko(function(t,o){return t===o}),en=function(t){return Ko(function(o,r){if(o.length!==r.length)return!1;for(var s=o.length,i=0;i<s;i++)if(!t.eq(o[i],r[i]))return!1;return!0})},ro=function(t){return Ko(function(o,r){var s=Object.keys(o),i=Object.keys(r);if(!function(f,y){return function(v,k){return Ko(function(z,F){return v.eq(k(z),k(F))})}(en(f),function(v){return function(k,z){return Array.prototype.slice.call(k).sort(z)}(v,y)})}(cn).eq(s,i))return!1;for(var c=s.length,d=0;d<c;d++){var m=s[d];if(!t.eq(o[m],r[m]))return!1}return!0})},gn=Ko(function(t,o){if(t===o)return!0;var r=an(t);return r===an(o)&&(function(s){return["undefined","boolean","number","string","function","xml","null"].indexOf(s)!==-1}(r)?t===o:r==="array"?en(gn).eq(t,o):r==="object"&&ro(gn).eq(t,o))});const $o=Object.getPrototypeOf,go=(t,o,r)=>{var s;return!!r(t,o.prototype)||((s=t.constructor)===null||s===void 0?void 0:s.name)===o.name},At=t=>o=>(r=>{const s=typeof r;return r===null?"null":s==="object"&&Array.isArray(r)?"array":s==="object"&&go(r,String,(i,c)=>c.isPrototypeOf(i))?"string":s})(o)===t,kn=t=>o=>typeof o===t,tn=t=>o=>t===o,Gt=(t,o)=>bt(t)&&go(t,o,(r,s)=>$o(r)===s),Je=At("string"),bt=At("object"),no=t=>Gt(t,Object),ao=At("array"),Te=tn(null),St=kn("boolean"),wo=tn(void 0),he=t=>t==null,Xe=t=>!he(t),ae=kn("function"),pt=kn("number"),sn=(t,o)=>{if(ao(t)){for(let r=0,s=t.length;r<s;++r)if(!o(t[r]))return!1;return!0}return!1},Ro=()=>{},pn=(t,o)=>(...r)=>t(o.apply(null,r)),Vo=(t,o)=>r=>t(o(r)),Nt=t=>()=>t,D=t=>t,zt=(t,o)=>t===o;function Ot(t,...o){return(...r)=>{const s=o.concat(r);return t.apply(null,s)}}const Lt=t=>o=>!t(o),po=t=>()=>{throw new Error(t)},vt=t=>t(),so=t=>{t()},Bo=Nt(!1),je=Nt(!0);class R{constructor(o,r){this.tag=o,this.value=r}static some(o){return new R(!0,o)}static none(){return R.singletonNone}fold(o,r){return this.tag?r(this.value):o()}isSome(){return this.tag}isNone(){return!this.tag}map(o){return this.tag?R.some(o(this.value)):R.none()}bind(o){return this.tag?o(this.value):R.none()}exists(o){return this.tag&&o(this.value)}forall(o){return!this.tag||o(this.value)}filter(o){return!this.tag||o(this.value)?this:R.none()}getOr(o){return this.tag?this.value:o}or(o){return this.tag?this:o}getOrThunk(o){return this.tag?this.value:o()}orThunk(o){return this.tag?this:o()}getOrDie(o){if(this.tag)return this.value;throw new Error(o??"Called getOrDie on None")}static from(o){return Xe(o)?R.some(o):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(o){this.tag&&o(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const ut=Array.prototype.slice,tt=Array.prototype.indexOf,Bt=Array.prototype.push,Vt=(t,o)=>tt.call(t,o),co=(t,o)=>Vt(t,o)>-1,xo=(t,o)=>{for(let r=0,s=t.length;r<s;r++)if(o(t[r],r))return!0;return!1},No=(t,o)=>{const r=t.length,s=new Array(r);for(let i=0;i<r;i++){const c=t[i];s[i]=o(c,i)}return s},ke=(t,o)=>{for(let r=0,s=t.length;r<s;r++)o(t[r],r)},Ft=(t,o)=>{for(let r=t.length-1;r>=0;r--)o(t[r],r)},Uo=(t,o)=>{const r=[],s=[];for(let i=0,c=t.length;i<c;i++){const d=t[i];(o(d,i)?r:s).push(d)}return{pass:r,fail:s}},Ue=(t,o)=>{const r=[];for(let s=0,i=t.length;s<i;s++){const c=t[s];o(c,s)&&r.push(c)}return r},me=(t,o,r)=>(Ft(t,(s,i)=>{r=o(r,s,i)}),r),xe=(t,o,r)=>(ke(t,(s,i)=>{r=o(r,s,i)}),r),Pe=(t,o,r)=>{for(let s=0,i=t.length;s<i;s++){const c=t[s];if(o(c,s))return R.some(c);if(r(c,s))break}return R.none()},Ie=(t,o)=>Pe(t,o,Bo),ye=(t,o)=>{for(let r=0,s=t.length;r<s;r++)if(o(t[r],r))return R.some(r);return R.none()},Ee=t=>{const o=[];for(let r=0,s=t.length;r<s;++r){if(!ao(t[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+t);Bt.apply(o,t[r])}return o},ot=(t,o)=>Ee(No(t,o)),_t=(t,o)=>{for(let r=0,s=t.length;r<s;++r)if(o(t[r],r)!==!0)return!1;return!0},We=t=>{const o=ut.call(t,0);return o.reverse(),o},dt=(t,o)=>Ue(t,r=>!co(o,r)),io=(t,o)=>{const r={};for(let s=0,i=t.length;s<i;s++){const c=t[s];r[String(c)]=o(c,s)}return r},Fo=(t,o)=>{const r=ut.call(t,0);return r.sort(o),r},rt=(t,o)=>o>=0&&o<t.length?R.some(t[o]):R.none(),xt=t=>rt(t,0),oo=t=>rt(t,t.length-1),qo=ae(Array.from)?Array.from:t=>ut.call(t),Mn=(t,o)=>{for(let r=0;r<t.length;r++){const s=o(t[r],r);if(s.isSome())return s}return R.none()},_n=(t,o)=>{const r=[],s=ae(o)?i=>xo(r,c=>o(c,i)):i=>co(r,i);for(let i=0,c=t.length;i<c;i++){const d=t[i];s(d)||r.push(d)}return r},Dt=Object.keys,Pt=Object.hasOwnProperty,ft=(t,o)=>{const r=Dt(t);for(let s=0,i=r.length;s<i;s++){const c=r[s];o(t[c],c)}},bo=(t,o)=>Rn(t,(r,s)=>({k:s,v:o(r,s)})),Rn=(t,o)=>{const r={};return ft(t,(s,i)=>{const c=o(s,i);r[c.k]=c.v}),r},On=t=>(o,r)=>{t[r]=o},fo=(t,o,r,s)=>{ft(t,(i,c)=>{(o(i,c)?r:s)(i,c)})},gr=(t,o)=>{const r={};return fo(t,o,On(r),Ro),r},Ur=(t,o)=>{const r=[];return ft(t,(s,i)=>{r.push(o(s,i))}),r},Ha=t=>Ur(t,D),Cn=(t,o)=>on(t,o)?R.from(t[o]):R.none(),on=(t,o)=>Pt.call(t,o),ea=(t,o)=>on(t,o)&&t[o]!==void 0&&t[o]!==null,Ya=t=>{if(!ao(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const o=[],r={};return ke(t,(s,i)=>{const c=Dt(s);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],m=s[d];if(r[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ao(m))throw new Error("case arguments must be an array");o.push(d),r[d]=(...f)=>{const y=f.length;if(y!==m.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+m.length+" ("+m+"), got "+y);return{fold:(...v)=>{if(v.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+v.length);return v[i].apply(null,f)},match:v=>{const k=Dt(v);if(o.length!==k.length)throw new Error("Wrong number of arguments to match. Expected: "+o.join(",")+`
Actual: `+k.join(","));if(!_t(o,z=>co(k,z)))throw new Error("Not all branches were specified when using match. Specified: "+k.join(", ")+`
Required: `+o.join(", "));return v[d].apply(null,f)},log:v=>{}}}}),r},Tr=t=>{let o=t;return{get:()=>o,set:r=>{o=r}}},Gn=t=>{const o=c=>c(t),r=Nt(t),s=()=>i,i={tag:!0,inner:t,fold:(c,d)=>d(t),isValue:je,isError:Bo,map:c=>ta.value(c(t)),mapError:s,bind:o,exists:o,forall:o,getOr:r,or:s,getOrThunk:r,orThunk:s,getOrDie:r,each:c=>{c(t)},toOptional:()=>R.some(t)};return i},Qn=t=>{const o=()=>r,r={tag:!1,inner:t,fold:(s,i)=>s(t),isValue:Bo,isError:je,map:o,mapError:s=>ta.error(s(t)),bind:o,exists:Bo,forall:je,getOr:D,or:D,getOrThunk:vt,orThunk:vt,getOrDie:po(String(t)),each:Ro,toOptional:R.none};return r},ta={value:Gn,error:Qn,fromOption:(t,o)=>t.fold(()=>Qn(o),Gn)},Ba=typeof window<"u"?window:Function("return this;")(),Or=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Va=0;const gt=t=>{const o=new Date().getTime(),r=Math.floor(1e9*Or());return Va++,t+"_"+r+Va+String(o)},se=t=>(...o)=>{if(o.length===0)throw new Error("Can't merge zero objects");const r={};for(let s=0;s<o.length;s++){const i=o[s];for(const c in i)on(i,c)&&(r[c]=t(r[c],i[c]))}return r},Io=se((t,o)=>no(t)&&no(o)?Io(t,o):o),Yo=se((t,o)=>o),Er=(t,o,r=zt)=>t.exists(s=>r(s,o)),kr=(t,o,r=zt)=>Rr(t,o,r).getOr(t.isNone()&&o.isNone()),Rr=(t,o,r)=>t.isSome()&&o.isSome()?R.some(r(t.getOrDie(),o.getOrDie())):R.none(),Dr=(t,o)=>t?R.some(o):R.none(),Fs=(t,o)=>((r,s)=>{let i=s??Ba;for(let c=0;c<r.length&&i!=null;++c)i=i[r[c]];return i})(t.split("."),o);Ya([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const De=t=>{const o=Tr(R.none()),r=()=>o.get().each(s=>clearInterval(s));return{clear:()=>{r(),o.set(R.none())},isSet:()=>o.get().isSome(),get:()=>o.get(),set:s=>{r(),o.set(R.some(setInterval(s,t)))}}},Fe=()=>{const t=(o=>{const r=Tr(R.none()),s=()=>r.get().each(o);return{clear:()=>{s(),r.set(R.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:i=>{s(),r.set(R.some(i))}}})(Ro);return{...t,on:o=>t.get().each(o)}},wt=(t,o,r)=>o===""||t.length>=o.length&&t.substr(r,r+o.length)===o,Tt=(t,o)=>Jo(t,o)?((r,s)=>r.substring(s))(t,o.length):t,ko=(t,o,r=0,s)=>{const i=t.indexOf(o,r);return i!==-1&&(!!wo(s)||i+o.length<=s)},Jo=(t,o)=>wt(t,o,0),hn=(t,o)=>wt(t,o,t.length-o.length),cr=t=>o=>o.replace(t,""),ur=cr(/^\s+|\s+$/g),ir=cr(/^\s+/g),Le=cr(/\s+$/g),Be=t=>t.length>0,Kt=t=>!Be(t),Po=(t,o=10)=>{const r=parseInt(t,o);return isNaN(r)?R.none():R.some(r)},Do=(t,o)=>{let r=null;return{cancel:()=>{Te(r)||(clearTimeout(r),r=null)},throttle:(...s)=>{Te(r)&&(r=setTimeout(()=>{r=null,t.apply(null,s)},o))}}},vn=(t,o)=>{let r=null;const s=()=>{Te(r)||(clearTimeout(r),r=null)};return{cancel:s,throttle:(...i)=>{s(),r=setTimeout(()=>{r=null,t.apply(null,i)},o)}}},xn=t=>{let o,r=!1;return(...s)=>(r||(r=!0,o=t.apply(null,s)),o)},nn="\uFEFF",zn=" ",eo=t=>t===nn,Pr=t=>{const o={};return ke(t,r=>{o[r]={}}),Dt(o)},fa=t=>t.length!==void 0,qs=Array.isArray,cs=(t,o,r)=>{if(!t)return!1;if(r=r||t,fa(t)){for(let s=0,i=t.length;s<i;s++)if(o.call(r,t[s],s,t)===!1)return!1}else for(const s in t)if(on(t,s)&&o.call(r,t[s],s,t)===!1)return!1;return!0},Ci=(t,o)=>{const r=[];return cs(t,(s,i)=>{r.push(o(s,i,t))}),r},Kr=(t,o)=>{const r=[];return cs(t,(s,i)=>{o&&!o(s,i,t)||r.push(s)}),r},Yr=(t,o,r,s)=>{let i=wo(r)?t[0]:r;for(let c=0;c<t.length;c++)i=o.call(s,i,t[c],c);return i},Br=(t,o,r)=>{for(let s=0,i=t.length;s<i;s++)if(o.call(r,t[s],s,t))return s;return-1},Ls=t=>t[t.length-1],cl=()=>zr(0,0),zr=(t,o)=>({major:t,minor:o}),oi={nu:zr,detect:(t,o)=>{const r=String(o).toLowerCase();return t.length===0?cl():((s,i)=>{const c=((m,f)=>{for(let y=0;y<m.length;y++){const v=m[y];if(v.test(f))return v}})(s,i);if(!c)return{major:0,minor:0};const d=m=>Number(i.replace(c,"$"+m));return zr(d(1),d(2))})(t,r)},unknown:cl},Jl=(t,o)=>{const r=String(o).toLowerCase();return Ie(t,s=>s.search(r))},Ni=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ws=t=>o=>ko(o,t),Di=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>ko(t,"edge/")&&ko(t,"chrome")&&ko(t,"safari")&&ko(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ni],search:t=>ko(t,"chrome")&&!ko(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>ko(t,"msie")||ko(t,"trident")},{name:"Opera",versionRegexes:[Ni,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ws("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ws("firefox")},{name:"Safari",versionRegexes:[Ni,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(ko(t,"safari")||ko(t,"mobile/"))&&ko(t,"applewebkit")}],Bl=[{name:"Windows",search:Ws("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>ko(t,"iphone")||ko(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ws("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ws("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ws("linux"),versionRegexes:[]},{name:"Solaris",search:Ws("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ws("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ws("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Os={browsers:Nt(Di),oses:Nt(Bl)},ni="Edge",Fl="Chromium",Is="Opera",wa="Firefox",wl="Safari",Ki=t=>{const o=t.current,r=t.version,s=i=>()=>o===i;return{current:o,version:r,isEdge:s(ni),isChromium:s(Fl),isIE:s("IE"),isOpera:s(Is),isFirefox:s(wa),isSafari:s(wl)}},Yi=()=>Ki({current:void 0,version:oi.unknown()}),Ql=Ki,Xa="Windows",ri="Android",ec="Linux",Ll="macOS",Ps="Solaris",pc="FreeBSD",Si="ChromeOS",Mi=t=>{const o=t.current,r=t.version,s=i=>()=>o===i;return{current:o,version:r,isWindows:s(Xa),isiOS:s("iOS"),isAndroid:s(ri),isMacOS:s(Ll),isLinux:s(ec),isSolaris:s(Ps),isFreeBSD:s(pc),isChromeOS:s(Si)}},fc=()=>Mi({current:void 0,version:oi.unknown()}),Kc=Mi,hc=t=>window.matchMedia(t).matches;let kl=xn(()=>((t,o,r)=>{const s=Os.browsers(),i=Os.oses(),c=o.bind(f=>((y,v)=>Mn(v.brands,k=>{const z=k.brand.toLowerCase();return Ie(y,F=>{var N;return z===((N=F.brand)===null||N===void 0?void 0:N.toLowerCase())}).map(F=>({current:F.name,version:oi.nu(parseInt(k.version,10),0)}))}))(s,f)).orThunk(()=>((f,y)=>Jl(f,y).map(v=>{const k=oi.detect(v.versionRegexes,y);return{current:v.name,version:k}}))(s,t)).fold(Yi,Ql),d=((f,y)=>Jl(f,y).map(v=>{const k=oi.detect(v.versionRegexes,y);return{current:v.name,version:k}}))(i,t).fold(fc,Kc),m=((f,y,v,k)=>{const z=f.isiOS()&&/ipad/i.test(v)===!0,F=f.isiOS()&&!z,N=f.isiOS()||f.isAndroid(),P=N||k("(pointer:coarse)"),M=z||!F&&N&&k("(min-device-width:768px)"),j=F||N&&!M,Y=y.isSafari()&&f.isiOS()&&/safari/i.test(v)===!1,X=!j&&!M&&!Y;return{isiPad:Nt(z),isiPhone:Nt(F),isTablet:Nt(M),isPhone:Nt(j),isTouch:Nt(P),isAndroid:f.isAndroid,isiOS:f.isiOS,isWebView:Nt(Y),isDesktop:Nt(X)}})(d,c,t,r);return{browser:c,os:d,deviceType:m}})(window.navigator.userAgent,R.from(window.navigator.userAgentData),hc));const Ja=()=>kl(),oe=Object.getPrototypeOf,_e=t=>{const o=Fs("ownerDocument.defaultView",t);return bt(t)&&((r=>((s,i)=>{const c=((d,m)=>Fs(d,m))(s,i);if(c==null)throw new Error(s+" not available on this browser");return c})("HTMLElement",r))(o).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(oe(t).constructor.name))},st=window.navigator.userAgent,Yt=Ja(),W=Yt.browser,ce=Yt.os,it=Yt.deviceType,mo=st.indexOf("Windows Phone")!==-1,lo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:W.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!W.isIE(),windowsPhone:mo,browser:{current:W.current,version:W.version,isChromium:W.isChromium,isEdge:W.isEdge,isFirefox:W.isFirefox,isIE:W.isIE,isOpera:W.isOpera,isSafari:W.isSafari},os:{current:ce.current,version:ce.version,isAndroid:ce.isAndroid,isChromeOS:ce.isChromeOS,isFreeBSD:ce.isFreeBSD,isiOS:ce.isiOS,isLinux:ce.isLinux,isMacOS:ce.isMacOS,isSolaris:ce.isSolaris,isWindows:ce.isWindows},deviceType:{isDesktop:it.isDesktop,isiPad:it.isiPad,isiPhone:it.isiPhone,isPhone:it.isPhone,isTablet:it.isTablet,isTouch:it.isTouch,isWebView:it.isWebView}},$=/^\s*|\s*$/g,te=t=>he(t)?"":(""+t).replace($,""),ze=function(t,o,r,s){s=s||this,t&&(r&&(t=t[r]),cs(t,(i,c)=>o.call(s,i,c,r)!==!1&&(ze(i,o,r,s),!0)))},ve={trim:te,isArray:qs,is:(t,o)=>o?!(o!=="array"||!qs(t))||typeof t===o:t!==void 0,toArray:t=>{if(qs(t))return t;{const o=[];for(let r=0,s=t.length;r<s;r++)o[r]=t[r];return o}},makeMap:(t,o,r={})=>{const s=Je(t)?t.split(o||","):t||[];let i=s.length;for(;i--;)r[s[i]]={};return r},each:cs,map:Ci,grep:Kr,inArray:(t,o)=>{if(t){for(let r=0,s=t.length;r<s;r++)if(t[r]===o)return r}return-1},hasOwn:on,extend:(t,...o)=>{for(let r=0;r<o.length;r++){const s=o[r];for(const i in s)if(on(s,i)){const c=s[i];c!==void 0&&(t[i]=c)}}return t},walk:ze,resolve:(t,o=window)=>{const r=t.split(".");for(let s=0,i=r.length;s<i&&(o=o[r[s]]);s++);return o},explode:(t,o)=>ao(t)?t:t===""?[]:Ci(t.split(o||","),te),_addCacheSuffix:t=>{const o=lo.cacheSuffix;return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}},vo=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Kn=(t,o)=>{const r=(o||document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1){const s="HTML does not have a single root node";throw console.error(s,t),new Error(s)}return vo(r.childNodes[0])},Wn=(t,o)=>{const r=(o||document).createElement(t);return vo(r)},ka=(t,o)=>{const r=(o||document).createTextNode(t);return vo(r)},Se=vo,Oa=(t,o,r)=>R.from(t.dom.elementFromPoint(o,r)).map(vo),vs=(t,o,r)=>{const s=t.document.createRange();var i;return i=s,o.fold(c=>{i.setStartBefore(c.dom)},(c,d)=>{i.setStart(c.dom,d)},c=>{i.setStartAfter(c.dom)}),((c,d)=>{d.fold(m=>{c.setEndBefore(m.dom)},(m,f)=>{c.setEnd(m.dom,f)},m=>{c.setEndAfter(m.dom)})})(s,r),s},xs=(t,o,r,s,i)=>{const c=t.document.createRange();return c.setStart(o.dom,r),c.setEnd(s.dom,i),c},na=Ya([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),md=(t,o,r)=>o(Se(r.startContainer),r.startOffset,Se(r.endContainer),r.endOffset);na.ltr,na.rtl;const Ri=(t,o)=>{const r=t.dom;if(r.nodeType!==1)return!1;{const s=r;if(s.matches!==void 0)return s.matches(o);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(o);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(o);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(o);throw new Error("Browser lacks native selectors")}},ai=t=>t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11||t.childElementCount===0,wr=(t,o)=>t.dom===o.dom,Na=(t,o)=>{const r=t.dom,s=o.dom;return r!==s&&r.contains(s)},bc=(t,o)=>{const r=[],s=c=>(r.push(c),o(c));let i=o(t);do i=i.bind(s);while(i.isSome());return r},pr=t=>t.dom.nodeName.toLowerCase(),Id=t=>t.dom.nodeType,_l=t=>o=>Id(o)===t,Xi=t=>Gs(t)&&_e(t.dom),Gs=_l(1),la=_l(3),ds=_l(9),Cl=_l(11),de=t=>o=>Gs(o)&&pr(o)===t,Ce=t=>Se(t.dom.ownerDocument),lt=t=>ds(t)?t:Ce(t),Zt=t=>Se(lt(t).dom.defaultView),rn=t=>R.from(t.dom.parentNode).map(Se),lr=t=>R.from(t.dom.parentElement).map(Se),Nr=(t,o)=>{const r=ae(o)?o:Bo;let s=t.dom;const i=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const c=s.parentNode,d=Se(c);if(i.push(d),r(d)===!0)break;s=c}return i},us=t=>R.from(t.dom.previousSibling).map(Se),Ns=t=>R.from(t.dom.nextSibling).map(Se),Hs=t=>We(bc(t,us)),ks=t=>bc(t,Ns),ha=t=>No(t.dom.childNodes,Se),Sl=(t,o)=>{const r=t.dom.childNodes;return R.from(r[o]).map(Se)},An=t=>Sl(t,0),yc=t=>Sl(t,t.dom.childNodes.length-1),Qa=t=>t.dom.childNodes.length,ba=t=>Cl(t)&&Xe(t.dom.host),mi=t=>Se(t.dom.getRootNode()),ya=t=>ba(t)?t:(o=>{const r=o.dom.head;if(r==null)throw new Error("Head is not available yet");return Se(r)})(lt(t)),Fu=t=>Se(t.dom.host),Yc=t=>{if(Xe(t.target)){const o=Se(t.target);if(Gs(o)&&Up(o)&&t.composed&&t.composedPath){const r=t.composedPath();if(r)return xt(r)}}return R.from(t.target)},Up=t=>Xe(t.dom.shadowRoot),Zp=(t,o,r,s)=>((i,c,d,m,f)=>{const y=((v,k)=>z=>{v(z)&&k((F=>{const N=Se(Yc(F).getOr(F.target)),P=()=>F.stopPropagation(),M=()=>F.preventDefault(),j=pn(M,P);return((Y,X,ie,ne,we,Ye,Ve)=>({target:Y,x:X,y:ie,stop:ne,prevent:we,kill:Ye,raw:Ve}))(N,F.clientX,F.clientY,P,M,j,F)})(z))})(d,m);return i.dom.addEventListener(c,y,f),{unbind:Ot(Lu,i,c,y,f)}})(t,o,r,s,!1),Lu=(t,o,r,s)=>{t.dom.removeEventListener(o,r,s)},ym=je,dl=()=>Se(document),si=(t,o=!1)=>t.dom.focus({preventScroll:o}),vc=t=>{const o=mi(t).dom;return t.dom===o.activeElement},nu=(t=dl())=>R.from(t.dom.activeElement).map(Se),ua=(t,o)=>{rn(t).each(r=>{r.dom.insertBefore(o.dom,t.dom)})},xc=(t,o)=>{Ns(t).fold(()=>{rn(t).each(r=>{Aa(r,o)})},r=>{ua(r,o)})},er=(t,o)=>{An(t).fold(()=>{Aa(t,o)},r=>{t.dom.insertBefore(o.dom,r.dom)})},Aa=(t,o)=>{t.dom.appendChild(o.dom)},gd=(t,o)=>{ua(t,o),Aa(o,t)},Ds=(t,o)=>{ke(o,r=>{Aa(t,r)})},ru=(t,o,r)=>{if(!(Je(r)||St(r)||pt(r)))throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(o,r+"")},ra=(t,o,r)=>{ru(t.dom,o,r)},Mc=(t,o)=>{const r=t.dom;ft(o,(s,i)=>{ru(r,i,s)})},gi=(t,o)=>{const r=t.dom.getAttribute(o);return r===null?void 0:r},br=(t,o)=>R.from(gi(t,o)),Bi=(t,o)=>{const r=t.dom;return!(!r||!r.hasAttribute)&&r.hasAttribute(o)},ja=(t,o)=>{t.dom.removeAttribute(o)},ng=t=>xe(t.dom.attributes,(o,r)=>(o[r.name]=r.value,o),{}),Fa=t=>{t.dom.textContent="",ke(ha(t),o=>{Xr(o)})},Xr=t=>{const o=t.dom;o.parentNode!==null&&o.parentNode.removeChild(o)},El=t=>{const o=ha(t);var r,s;o.length>0&&(r=t,ke(s=o,(i,c)=>{const d=c===0?r:s[c-1];xc(d,i)})),Xr(t)},Xc=(t,o)=>Se(t.dom.cloneNode(o)),Rc=t=>Xc(t,!1),Fi=t=>Xc(t,!0),Ks=t=>No(t,Se),Jc=t=>t.dom.innerHTML,Qc=(t,o)=>{const r=Ce(t).dom,s=Se(r.createDocumentFragment()),i=((c,d)=>{const m=(d||document).createElement("div");return m.innerHTML=c,ha(Se(m))})(o,r);Ds(s,i),Fa(t),Aa(t,s)},ca=t=>t.style!==void 0&&ae(t.style.getPropertyValue),zl=t=>{const o=la(t)?t.dom.parentNode:t.dom;if(o==null||o.ownerDocument===null)return!1;const r=o.ownerDocument;return(s=>{const i=mi(s);return ba(i)?R.some(i):R.none()})(Se(o)).fold(()=>r.body.contains(o),Vo(zl,Fu))},Ji=(t,o,r)=>{if(!Je(r))throw console.error("Invalid call to CSS.set. Property ",o,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);ca(t)&&t.style.setProperty(o,r)},pd=(t,o,r)=>{const s=t.dom;Ji(s,o,r)},Ui=(t,o)=>{const r=t.dom;ft(o,(s,i)=>{Ji(r,i,s)})},Qi=(t,o)=>{const r=t.dom,s=window.getComputedStyle(r).getPropertyValue(o);return s!==""||zl(t)?s:Yg(r,o)},Yg=(t,o)=>ca(t)?t.style.getPropertyValue(o):"",au=(t,o)=>{const r=t.dom,s=Yg(r,o);return R.from(s).filter(i=>i.length>0)},Xg=t=>{const o={},r=t.dom;if(ca(r))for(let s=0;s<r.style.length;s++){const i=r.style.item(s);o[i]=r.style[i]}return o},Iu=(t,o)=>{((r,s)=>{ca(r)&&r.style.removeProperty(s)})(t.dom,o),Er(br(t,"style").map(ur),"")&&ja(t,"style")},Pu=(t=>{const o=s=>{const i=(c=>{const d=c.dom;return zl(c)?d.getBoundingClientRect().height:d.offsetHeight})(s);if(i<=0||i===null){const c=Qi(s,t);return parseFloat(c)||0}return i},r=(s,i)=>xe(i,(c,d)=>{const m=Qi(s,d),f=m===void 0?0:parseInt(m,10);return isNaN(f)?c:c+f},0);return{set:(s,i)=>{if(!pt(i)&&!i.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+i);const c=s.dom;ca(c)&&(c.style[t]=i+"px")},get:o,getOuter:o,aggregate:r,max:(s,i,c)=>{const d=r(s,c);return i>d?i-d:0}}})("height"),rg=(t,o)=>({left:t,top:o,translate:(r,s)=>rg(t+r,o+s)}),su=rg,vm=(t,o)=>t!==void 0?t:o!==void 0?o:0,es=t=>{const o=t.dom,r=o.ownerDocument.body;return r===o?su(r.offsetLeft,r.offsetTop):zl(t)?(s=>{const i=s.getBoundingClientRect();return su(i.left,i.top)})(o):su(0,0)},ag=t=>{const o=t!==void 0?t.dom:document,r=o.body.scrollLeft||o.documentElement.scrollLeft,s=o.body.scrollTop||o.documentElement.scrollTop;return su(r,s)},Pd=(t,o,r)=>{const s=(r!==void 0?r.dom:document).defaultView;s&&s.scrollTo(t,o)},qr=(t,o)=>{Ja().browser.isSafari()&&ae(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(o)},Il=(t,o)=>{const r=document.createDocumentFragment();return ke(t,s=>{r.appendChild(s.dom)}),Se(r)},iu=(t=>{const o=r=>t(r)?R.from(r.dom.nodeValue):R.none();return{get:r=>{if(!t(r))throw new Error("Can only get text value of a text node");return o(r).getOr("")},getOption:o,set:(r,s)=>{if(!t(r))throw new Error("Can only set raw text value of a text node");r.dom.nodeValue=s}}})(la),ed=t=>iu.get(t),pi=(t,o)=>iu.set(t,o),lu=(t,o)=>{const r=gi(t,o);return r===void 0||r===""?[]:r.split(" ")};var xm=(t,o,r,s,i)=>t(r,s)?R.some(r):ae(i)&&i(r)?R.none():o(r,s,i);const Ei=(t,o,r)=>{let s=t.dom;const i=ae(r)?r:Bo;for(;s.parentNode;){s=s.parentNode;const c=Se(s);if(o(c))return R.some(c);if(i(c))break}return R.none()},Jr=(t,o,r)=>xm((s,i)=>i(s),Ei,t,o,r),wm=(t,o)=>{const r=s=>{for(let i=0;i<s.childNodes.length;i++){const c=Se(s.childNodes[i]);if(o(c))return R.some(c);const d=r(s.childNodes[i]);if(d.isSome())return d}return R.none()};return r(t.dom)},ma=(t,o,r)=>Ei(t,s=>Ri(s,o),r),fi=(t,o)=>((r,s)=>{const i=s===void 0?document:s.dom;return ai(i)?R.none():R.from(i.querySelector(r)).map(Se)})(o,t),Pl=(t,o,r)=>xm((s,i)=>Ri(s,i),ma,t,o,r),ii=t=>t.dom.classList!==void 0,Hu=t=>lu(t,"class"),Vs=(t,o)=>((r,s,i)=>{const c=lu(r,s).concat([i]);return ra(r,s,c.join(" ")),!0})(t,"class",o),Bc=(t,o)=>((r,s,i)=>{const c=Ue(lu(r,s),d=>d!==i);return c.length>0?ra(r,s,c.join(" ")):ja(r,s),!1})(t,"class",o),fd=(t,o)=>{ii(t)?t.dom.classList.add(o):Vs(t,o)},Ys=t=>{(ii(t)?t.dom.classList:Hu(t)).length===0&&ja(t,"class")},hd=(t,o)=>{ii(t)?t.dom.classList.remove(o):Bc(t,o),Ys(t)},cu=(t,o)=>ii(t)&&t.dom.classList.contains(o),td=(t,o=!1)=>{return zl(t)?t.dom.isContentEditable:(r=t,Pl(r,"[contenteditable]")).fold(Nt(o),s=>km(s)==="true");var r},km=t=>t.dom.contentEditable,od=(t,o)=>{t.dom.contentEditable=o?"true":"false"},_m=(t,o)=>{let r=[];return ke(ha(t),s=>{o(s)&&(r=r.concat([s])),r=r.concat(_m(s,o))}),r},hi=(t,o)=>((r,s)=>{const i=s===void 0?document:s.dom;return ai(i)?[]:No(i.querySelectorAll(r),Se)})(o,t),Cm=(t,o,r)=>Ei(t,o,r).isSome(),Sm=(t,o)=>((r,s)=>{const i=r.dom;return i.parentNode?((c,d)=>Ie(c.dom.childNodes,m=>d(Se(m))).map(Se))(Se(i.parentNode),c=>!wr(r,c)&&s(c)):R.none()})(t,o).isSome(),tc=(t,o)=>wm(t,o).isSome(),Vu=t=>ae(t)?t:Bo,sg=(t,o,r)=>{const s=o(t),i=Vu(r);return s.orThunk(()=>i(t)?R.none():((c,d,m)=>{let f=c.dom;const y=Vu(m);for(;f.parentNode;){f=f.parentNode;const v=Se(f),k=d(v);if(k.isSome())return k;if(y(v))break}return R.none()})(t,o,i))},du=["img","br"],Zi=t=>{return(o=t,iu.getOption(o)).filter(r=>r.trim().length!==0||r.indexOf(zn)>-1).isSome()||co(du,pr(t))||(r=>Xi(r)&&gi(r,"contenteditable")==="false")(t);var o},ju=(t,o,r,s)=>({start:t,soffset:o,finish:r,foffset:s}),Hl=Ya([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Al={before:Hl.before,on:Hl.on,after:Hl.after,cata:(t,o,r,s)=>t.fold(o,r,s),getStart:t=>t.fold(D,D,D)},nd=Ya([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),bd={domRange:nd.domRange,relative:nd.relative,exact:nd.exact,exactFromRange:t=>nd.exact(t.start,t.soffset,t.finish,t.foffset),getWin:t=>{const o=(r=>r.match({domRange:s=>Se(s.startContainer),relative:(s,i)=>Al.getStart(s),exact:(s,i,c,d)=>s}))(t);return Zt(o)},range:ju},yd=(t,o)=>{const r=pr(t);return r==="input"?Al.after(t):co(["br","img"],r)?o===0?Al.before(t):Al.after(t):Al.on(t,o)},uu=(t,o)=>{const r=t.fold(Al.before,yd,Al.after),s=o.fold(Al.before,yd,Al.after);return bd.relative(r,s)},Xs=(t,o,r,s)=>{const i=yd(t,o),c=yd(r,s);return bd.relative(i,c)},js=t=>{const o=bd.getWin(t).dom,r=(i,c,d,m)=>xs(o,i,c,d,m),s=(i=>i.match({domRange:c=>{const d=Se(c.startContainer),m=Se(c.endContainer);return Xs(d,c.startOffset,m,c.endOffset)},relative:uu,exact:Xs}))(t);return((i,c)=>{const d=((m,f)=>f.match({domRange:y=>({ltr:Nt(y),rtl:R.none}),relative:(y,v)=>({ltr:xn(()=>vs(m,y,v)),rtl:xn(()=>R.some(vs(m,v,y)))}),exact:(y,v,k,z)=>({ltr:xn(()=>xs(m,y,v,k,z)),rtl:xn(()=>R.some(xs(m,k,z,y,v)))})}))(i,c);return((m,f)=>{const y=f.ltr();return y.collapsed?f.rtl().filter(v=>v.collapsed===!1).map(v=>na.rtl(Se(v.endContainer),v.endOffset,Se(v.startContainer),v.startOffset)).getOrThunk(()=>md(0,na.ltr,y)):md(0,na.ltr,y)})(0,d)})(o,s).match({ltr:r,rtl:r})},vd=(t,o,r)=>((s,i,c)=>((d,m,f)=>d.caretPositionFromPoint?((y,v,k)=>{var z;return R.from((z=y.caretPositionFromPoint)===null||z===void 0?void 0:z.call(y,v,k)).bind(F=>{if(F.offsetNode===null)return R.none();const N=y.createRange();return N.setStart(F.offsetNode,F.offset),N.collapse(),R.some(N)})})(d,m,f):d.caretRangeFromPoint?((y,v,k)=>{var z;return R.from((z=y.caretRangeFromPoint)===null||z===void 0?void 0:z.call(y,v,k))})(d,m,f):R.none())(s.document,i,c).map(d=>ju(Se(d.startContainer),d.startOffset,Se(d.endContainer),d.endOffset)))(t,o,r),$u=(t,o,r,s)=>({x:t,y:o,width:r,height:s,right:t+r,bottom:o+s}),bi=t=>{const o=t===void 0?window:t,r=o.document,s=ag(Se(r));return(i=>{const c=i===void 0?window:i;return Ja().browser.isFirefox()?R.none():R.from(c.visualViewport)})(o).fold(()=>{const i=o.document.documentElement,c=i.clientWidth,d=i.clientHeight;return $u(s.left,s.top,c,d)},i=>$u(Math.max(i.pageLeft,s.left),Math.max(i.pageTop,s.top),i.width,i.height))};class Ms{constructor(o,r){this.node=o,this.rootNode=r,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(o){return this.node=this.findSibling(this.node,"firstChild","nextSibling",o),this.node}prev(o){return this.node=this.findSibling(this.node,"lastChild","previousSibling",o),this.node}prev2(o){return this.node=this.findPreviousNode(this.node,o),this.node}findSibling(o,r,s,i){if(o){if(!i&&o[r])return o[r];if(o!==this.rootNode){let c=o[s];if(c)return c;for(let d=o.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[s],c)return c}}}findPreviousNode(o,r){if(o){const s=o.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!r){for(let c=s.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return s}const i=o.parentNode;if(i&&i!==this.rootNode)return i}}}const O=/^[ \t\r\n]*$/,V=t=>O.test(t),K=t=>t===`
`||t==="\r",Ne=(t,o=4,r=!0,s=!0)=>{const i=((m,f)=>f<=0?"":new Array(f+1).join(" "))(0,o),c=t.replace(/\t/g,i);return xe(c,(m,f)=>(y=>" \f	\v".indexOf(y)!==-1)(f)||f===zn?m.pcIsSpace||m.str===""&&r||m.str.length===c.length-1&&s||((y,v)=>v<y.length&&v>=0&&K(y[v]))(c,m.str.length+1)?{pcIsSpace:!1,str:m.str+zn}:{pcIsSpace:!0,str:m.str+" "}:{pcIsSpace:K(f),str:m.str+f},{pcIsSpace:!1,str:""}).str},qe=t=>o=>!!o&&o.nodeType===t,yo=t=>!!t&&!Object.getPrototypeOf(t),$t=qe(1),Zn=t=>$t(t)&&Xi(Se(t)),ar=t=>{const o=t.toLowerCase();return r=>Xe(r)&&r.nodeName.toLowerCase()===o},bn=t=>{const o=t.map(r=>r.toLowerCase());return r=>{if(r&&r.nodeName){const s=r.nodeName.toLowerCase();return co(o,s)}return!1}},aa=(t,o)=>{const r=o.toLowerCase().split(" ");return s=>{if($t(s)){const i=s.ownerDocument.defaultView;if(i)for(let c=0;c<r.length;c++){const d=i.getComputedStyle(s,null);if((d?d.getPropertyValue(t):null)===r[c])return!0}}return!1}},va=t=>$t(t)&&t.hasAttribute("data-mce-bogus"),Rs=t=>$t(t)&&t.tagName==="TABLE",$a=t=>o=>!!(Zn(o)&&(o.contentEditable===t||o.getAttribute("data-mce-contenteditable")===t)),Hd=bn(["textarea","input"]),Ao=qe(3),Es=qe(4),Uu=qe(7),Fc=qe(8),mu=qe(9),qp=qe(11),ts=ar("br"),Em=ar("img"),xb=ar("a"),Vl=$a("true"),_a=$a("false"),zm=t=>Zn(t)&&t.isContentEditable&&Xe(t.parentElement)&&!t.parentElement.isContentEditable,Zu=bn(["td","th"]),wb=bn(["td","th","caption"]),wc=bn(["video","audio","object","embed"]),ig=ar("li"),jl=ar("details"),Pn=ar("summary"),Vd={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Jg=t=>$t(t)&&t.hasAttribute("data-mce-bookmark"),kb=(t,o,r,s)=>Ao(t)&&!((i,c,d)=>V(i.data)&&!((m,f,y)=>{const v=Se(f),k=Se(m),z=y.getWhitespaceElements();return Cm(k,F=>on(z,pr(F)),Ot(wr,v))})(i,c,d))(t,o,r)&&(!s.includeZwsp||!(i=>{for(const c of i)if(!eo(c))return!1;return!0})(t.data)),Am=(t,o,r,s)=>ae(s.isContent)&&s.isContent(o)||((i,c)=>$t(i)&&on(c.getNonEmptyElements(),i.nodeName))(o,t)||Jg(o)||(i=>$t(i)&&i.nodeName==="A"&&!i.hasAttribute("href")&&(i.hasAttribute("name")||i.hasAttribute("id")))(o)||kb(o,r,t,s)||_a(o)||Vl(o)&&(i=>lr(Se(i)).exists(c=>!td(c)))(o),kc=(t,o,r)=>{const s={...Vd,...r};if(s.checkRootAsContent&&Am(t,o,o,s))return!1;let i=o.firstChild,c=0;if(!i)return!0;const d=new Ms(i,o);do{if(s.skipBogus&&$t(i)){const m=i.getAttribute("data-mce-bogus");if(m){i=d.next(m==="all");continue}}if(Fc(i))i=d.next(!0);else if(ts(i))c++,i=d.next();else{if(Am(t,i,o,s))return!1;i=d.next()}}while(i);return c<=1},zi=(t,o,r)=>kc(t,o.dom,{checkRootAsContent:!0,...r}),th=(t,o,r)=>Am(t,o,o,{includeZwsp:Vd.includeZwsp,...r}),os=t=>{const o=t.toLowerCase();return o==="svg"?"svg":o==="math"?"math":"html"},qi=t=>os(t)!=="html",el=t=>qi(t.nodeName),gu=t=>os(t.nodeName),Tl=["svg","math"],qu="data-mce-block",yi=t=>No((o=>Ue(Dt(o),r=>!/[A-Z]/.test(r)))(t),o=>{const r=CSS.escape(o);return`${r}:`+No(Tl,s=>`not(${s} ${r})`).join(":")}).join(","),Wi=(t,o)=>Xe(o.querySelector(t))?(o.setAttribute(qu,"true"),o.getAttribute("data-mce-selected")==="inline-boundary"&&o.removeAttribute("data-mce-selected"),!0):(o.removeAttribute(qu),!1),Tm=(t,o)=>{const r=yi(t.getTransparentElements()),s=yi(t.getBlockElements());return Ue(o.querySelectorAll(r),i=>Wi(s,i))},ho=(t,o,r)=>{var s;const i=r?"lastChild":"firstChild";for(let c=o[i];c;c=c[i])if(kc(t,c,{checkRootAsContent:!0}))return void((s=c.parentNode)===null||s===void 0||s.removeChild(c))},_c=(t,o,r)=>{const s=t.getBlockElements(),i=Se(o),c=m=>pr(m)in s,d=m=>wr(m,i);ke(Ks(r),m=>{Ei(m,c,d).each(f=>{const y=(v=>Ue(ha(v),k=>c(k)&&!t.isValidChild(pr(f),pr(k))))(m);if(y.length>0){const v=lr(f);ke(y,k=>{Ei(k,c,d).each(z=>{((F,N,P)=>{const M=document.createRange(),j=N.parentNode;if(j){M.setStartBefore(N),M.setEndBefore(P);const Y=M.extractContents();ho(F,Y,!0),M.setStartAfter(P),M.setEndAfter(N);const X=M.extractContents();ho(F,X,!1),kc(F,Y,{checkRootAsContent:!0})||j.insertBefore(Y,N),kc(F,P,{checkRootAsContent:!0})||j.insertBefore(P,N),kc(F,X,{checkRootAsContent:!0})||j.insertBefore(X,N),j.removeChild(N)}})(t,z.dom,k.dom)})}),v.each(k=>Tm(t,k.dom))}})})},Wu=(t,o)=>{const r=Tm(t,o);_c(t,o,r),((s,i,c)=>{ke([...c,...Lc(s,i)?[i]:[]],d=>ke(hi(Se(d),d.nodeName.toLowerCase()),m=>{ul(s,m.dom)&&El(m)}))})(t,o,r)},li=(t,o)=>{if(xd(t,o)){const r=yi(t.getBlockElements());Wi(r,o)}},Cc=t=>t.hasAttribute(qu),oc=(t,o)=>on(t.getTransparentElements(),o),xd=(t,o)=>$t(o)&&oc(t,o.nodeName),Lc=(t,o)=>xd(t,o)&&Cc(o),ul=(t,o)=>xd(t,o)&&!Cc(o),Hr=(t,o)=>o.type===1&&oc(t,o.name)&&Je(o.attr(qu)),Ic=Ja().browser,Js=t=>Ie(t,Gs),Bs=(t,o)=>t.children&&co(t.children,o),Qg=(t,o={})=>{let r=0;const s={},i=Se(t),c=lt(i),d=k=>{Aa(ya(i),k)},m=k=>{const z=ya(i);fi(z,"#"+k).each(Xr)},f=k=>Cn(s,k).getOrThunk(()=>({id:"mce-u"+r++,passed:[],failed:[],count:0})),y=k=>new Promise((z,F)=>{let N;const P=ve._addCacheSuffix(k),M=f(P);s[P]=M,M.count++;const j=(ne,we)=>{ke(ne,so),M.status=we,M.passed=[],M.failed=[],N&&(N.onload=null,N.onerror=null,N=null)},Y=()=>j(M.passed,2),X=()=>j(M.failed,3);if(z&&M.passed.push(z),F&&M.failed.push(F),M.status===1)return;if(M.status===2)return void Y();if(M.status===3)return void X();M.status=1;const ie=Wn("link",c.dom);Mc(ie,{rel:"stylesheet",type:"text/css",id:M.id}),o.contentCssCors&&ra(ie,"crossOrigin","anonymous"),o.referrerPolicy&&ra(ie,"referrerpolicy",o.referrerPolicy),N=ie.dom,N.onload=Y,N.onerror=X,d(ie),ra(ie,"href",P)}),v=k=>{const z=ve._addCacheSuffix(k);Cn(s,z).each(F=>{--F.count==0&&(delete s[z],m(F.id))})};return{load:y,loadRawCss:(k,z)=>{const F=f(k);s[k]=F,F.count++;const N=Wn("style",c.dom);Mc(N,{rel:"stylesheet",type:"text/css",id:F.id,"data-mce-key":k}),N.dom.innerHTML=z,d(N)},loadAll:k=>Promise.allSettled(No(k,z=>y(z).then(Nt(z)))).then(z=>{const F=Uo(z,N=>N.status==="fulfilled");return F.fail.length>0?Promise.reject(No(F.fail,N=>N.reason)):No(F.pass,N=>N.value)}),unload:v,unloadRawCss:k=>{Cn(s,k).each(z=>{--z.count==0&&(delete s[k],m(z.id))})},unloadAll:k=>{ke(k,z=>{v(z)})},_setReferrerPolicy:k=>{o.referrerPolicy=k},_setContentCssCors:k=>{o.contentCssCors=k}}},Li=(()=>{const t=new WeakMap;return{forElement:(o,r)=>{const s=mi(o).dom;return R.from(t.get(s)).getOrThunk(()=>{const i=Qg(s,r);return t.set(s,i),i})}}})(),Gu=(t,o)=>Xe(t)&&(th(o,t)||o.isInline(t.nodeName.toLowerCase())),ml=t=>(o=>o.nodeName.toLowerCase()==="span")(t)&&t.getAttribute("data-mce-type")==="bookmark",kt=(t,o,r,s)=>{var i;const c=s||o;if($t(o)&&ml(o))return o;const d=o.childNodes;for(let m=d.length-1;m>=0;m--)kt(t,d[m],r,c);if($t(o)){const m=o.childNodes;m.length===1&&ml(m[0])&&((i=o.parentNode)===null||i===void 0||i.insertBefore(m[0],o))}return(m=>qp(m)||mu(m))(o)||th(r,o)||(m=>!!$t(m)&&m.childNodes.length>0)(o)||((m,f,y)=>Ao(m)&&m.data.length>0&&((v,k,z)=>{const F=new Ms(v,k).prev(!1),N=new Ms(v,k).next(!1),P=wo(F)||Gu(F,z),M=wo(N)||Gu(N,z);return P&&M})(m,f,y))(o,c,r)||t.remove(o),o},Pc=ve.makeMap,rd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ca=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nc=/[<>&\"\']/g,Ii=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,La={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},rc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},lg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ku=(t,o)=>{const r={};if(t){const s=t.split(",");o=o||10;for(let i=0;i<s.length;i+=2){const c=String.fromCharCode(parseInt(s[i],o));if(!rc[c]){const d="&"+s[i+1]+";";r[c]=d,r[d]=c}}return r}},pu=Ku("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ai=(t,o)=>t.replace(o?rd:Ca,r=>rc[r]||r),S=(t,o)=>t.replace(o?rd:Ca,r=>r.length>1?"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";":rc[r]||"&#"+r.charCodeAt(0)+";"),B=(t,o,r)=>{const s=r||pu;return t.replace(o?rd:Ca,i=>rc[i]||s[i]||i)},G={encodeRaw:Ai,encodeAllRaw:t=>(""+t).replace(nc,o=>rc[o]||o),encodeNumeric:S,encodeNamed:B,getEncodeFunc:(t,o)=>{const r=Ku(o)||pu,s=Pc(t.replace(/\+/g,","));return s.named&&s.numeric?(i,c)=>i.replace(c?rd:Ca,d=>rc[d]!==void 0?rc[d]:r[d]!==void 0?r[d]:d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":"&#"+d.charCodeAt(0)+";"):s.named?o?(i,c)=>B(i,c,r):B:s.numeric?S:Ai},decode:t=>t.replace(Ii,(o,r)=>r?(r=r.charAt(0).toLowerCase()==="x"?parseInt(r.substr(1),16):parseInt(r,10))>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):La[r]||String.fromCharCode(r):lg[o]||pu[o]||(s=>{const i=Wn("div").dom;return i.innerHTML=s,i.textContent||i.innerText||s})(o))},le=(t,o)=>(t=ve.trim(t))?t.split(o||" "):[],Ke=t=>new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),Jt=t=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...t!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...t!=="html5-strict"?["xml:lang"]:[]]),jo=t=>{let o,r;o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(o+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",r+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),t!=="html5-strict"&&(r=[r,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "));const s=[o,r].join(" ");return{blockContent:o,phrasingContent:r,flowContent:s}},fn=t=>{const{blockContent:o,phrasingContent:r,flowContent:s}=jo(t),i=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:i(o),phrasingContent:i(r),flowContent:i(s)})},Hn={html4:xn(()=>fn("html4")),html5:xn(()=>fn("html5")),"html5-strict":xn(()=>fn("html5-strict"))},sr=(t,o)=>{const{blockContent:r,phrasingContent:s,flowContent:i}=Hn[t]();return o==="blocks"?R.some(r):o==="phrasing"?R.some(s):o==="flow"?R.some(i):R.none()},Sa=t=>R.from(/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/.exec(t)).map(o=>({preset:o[1]==="@",name:o[2]})),sa={},zs=ve.makeMap,ms=ve.each,$l=ve.extend,Ul=ve.explode,fu=(t,o={})=>{const r=zs(t," ",zs(t.toUpperCase()," "));return $l(r,o)},hu=t=>fu("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),cg=(t,o)=>{if(t){const r={};return Je(t)&&(t={"*":t}),ms(t,(s,i)=>{r[i]=r[i.toUpperCase()]=o==="map"?zs(s,/[, ]/):Ul(s,/[, ]/)}),r}},ac=(t={})=>{var o;const r={},s={};let i=[];const c={},d={},m=(mn,xr,jr)=>{const dr=t[mn];if(dr)return zs(dr,/[, ]/,zs(dr.toUpperCase(),/[, ]/));{let pa=sa[mn];return pa||(pa=fu(xr,jr),sa[mn]=pa),pa}},f=(o=t.schema)!==null&&o!==void 0?o:"html5",y=(mn=>{const xr=Jt(mn),{phrasingContent:jr,flowContent:dr}=jo(mn),pa={},bs=(as,ss,_i)=>{pa[as]={attributes:io(ss,Nt({})),attributesOrder:ss,children:io(_i,Nt({}))}},ln=(as,ss="",_i="")=>{const Ml=le(_i),bm=le(as);let gc=bm.length;const ou=[...xr,...le(ss)];for(;gc--;)bs(bm[gc],ou.slice(),Ml)},tr=(as,ss)=>{const _i=le(as),Ml=le(ss);let bm=_i.length;for(;bm--;){const gc=pa[_i[bm]];for(let ou=0,il=Ml.length;ou<il;ou++)gc.attributes[Ml[ou]]={},gc.attributesOrder.push(Ml[ou])}};return mn!=="html5-strict"&&(ke(le("acronym applet basefont big font strike tt"),as=>{ln(as,"",jr)}),ke(le("center dir isindex noframes"),as=>{ln(as,"",dr)})),ln("html","manifest","head body"),ln("head","","base command link meta noscript script style title"),ln("title hr noscript br"),ln("base","href target"),ln("link","href rel media hreflang type sizes hreflang"),ln("meta","name http-equiv content charset"),ln("style","media type scoped"),ln("script","src async defer type charset"),ln("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",dr),ln("dd div","",dr),ln("address dt caption","",mn==="html4"?jr:dr),ln("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",jr),ln("blockquote","cite",dr),ln("ol","reversed start type","li"),ln("ul","","li"),ln("li","value",dr),ln("dl","","dt dd"),ln("a","href target rel media hreflang type",mn==="html4"?jr:dr),ln("q","cite",jr),ln("ins del","cite datetime",dr),ln("img","src sizes srcset alt usemap ismap width height"),ln("iframe","src name width height",dr),ln("embed","src type width height"),ln("object","data type typemustmatch name usemap form width height",[dr,"param"].join(" ")),ln("param","name value"),ln("map","name",[dr,"area"].join(" ")),ln("area","alt coords shape href target rel media hreflang type"),ln("table","border","caption colgroup thead tfoot tbody tr"+(mn==="html4"?" col":"")),ln("colgroup","span","col"),ln("col","span"),ln("tbody thead tfoot","","tr"),ln("tr","","td th"),ln("td","colspan rowspan headers",dr),ln("th","colspan rowspan headers scope abbr",dr),ln("form","accept-charset action autocomplete enctype method name novalidate target",dr),ln("fieldset","disabled form name",[dr,"legend"].join(" ")),ln("label","form for",jr),ln("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),ln("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",mn==="html4"?dr:jr),ln("select","disabled form multiple name required size","option optgroup"),ln("optgroup","disabled label","option"),ln("option","disabled label selected value"),ln("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),ln("menu","type label",[dr,"li"].join(" ")),ln("noscript","",dr),mn!=="html4"&&(ln("wbr"),ln("ruby","",[jr,"rt rp"].join(" ")),ln("figcaption","",dr),ln("mark rt rp bdi","",jr),ln("summary","",[jr,"h1 h2 h3 h4 h5 h6"].join(" ")),ln("canvas","width height",dr),ln("data","value",jr),ln("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[dr,"track source"].join(" ")),ln("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[dr,"track source"].join(" ")),ln("picture","","img source"),ln("source","src srcset type media sizes"),ln("track","kind src srclang label default"),ln("datalist","",[jr,"option"].join(" ")),ln("article section nav aside main header footer","",dr),ln("hgroup","","h1 h2 h3 h4 h5 h6"),ln("figure","",[dr,"figcaption"].join(" ")),ln("time","datetime",jr),ln("dialog","open",dr),ln("command","type label icon disabled checked radiogroup command"),ln("output","for form name",jr),ln("progress","value max",jr),ln("meter","value min max low high optimum",jr),ln("details","open",[dr,"summary"].join(" ")),ln("keygen","autofocus challenge disabled form keytype name"),bs("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),mn!=="html5-strict"&&(tr("script","language xml:space"),tr("style","xml:space"),tr("object","declare classid code codebase codetype archive standby align border hspace vspace"),tr("embed","align name hspace vspace"),tr("param","valuetype type"),tr("a","charset name rev shape coords"),tr("br","clear"),tr("applet","codebase archive code object alt name width height align hspace vspace"),tr("img","name longdesc align border hspace vspace"),tr("iframe","longdesc frameborder marginwidth marginheight scrolling align"),tr("font basefont","size color face"),tr("input","usemap align"),tr("select"),tr("textarea"),tr("h1 h2 h3 h4 h5 h6 div p legend caption","align"),tr("ul","type compact"),tr("li","type"),tr("ol dl menu dir","compact"),tr("pre","width xml:space"),tr("hr","align noshade size width"),tr("isindex","prompt"),tr("table","summary width frame rules cellspacing cellpadding align bgcolor"),tr("col","width align char charoff valign"),tr("colgroup","width align char charoff valign"),tr("thead","align char charoff valign"),tr("tr","align char charoff valign bgcolor"),tr("th","axis align char charoff valign nowrap bgcolor width height"),tr("form","accept"),tr("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),tr("tfoot","align char charoff valign"),tr("tbody","align char charoff valign"),tr("area","nohref"),tr("body","background bgcolor text link vlink alink")),mn!=="html4"&&(tr("input button select textarea","autofocus"),tr("input textarea","placeholder"),tr("a","download"),tr("link script img","crossorigin"),tr("img","loading"),tr("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),mn!=="html4"&&ke([pa.video,pa.audio],as=>{delete as.children.audio,delete as.children.video}),ke(le("a form meter progress dfn"),as=>{pa[as]&&delete pa[as].children[as]}),delete pa.caption.children.table,delete pa.script,pa})(f);t.verify_html===!1&&(t.valid_elements="*[*]");const v=cg(t.valid_styles),k=cg(t.invalid_styles,"map"),z=cg(t.valid_classes,"map"),F=m("whitespace_elements","pre script noscript style textarea video audio iframe object code"),N=m("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),P=m("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),M=m("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),j="td th iframe video audio object script code",Y=m("non_empty_elements",j+" pre svg textarea summary",P),X=m("move_caret_before_on_enter_elements",j+" table",P),ie="h1 h2 h3 h4 h5 h6",ne=m("text_block_elements",ie+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),we=m("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",ne),Ye=m("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ve=m("transparent_elements","a ins del canvas map"),at=m("wrap_block_elements","pre "+ie);ms("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),mn=>{d[mn]=new RegExp("</"+mn+"[^>]*>","gi")});const Mt=mn=>{const xr=R.from(r["@"]),jr=/[*?+]/;ke(((dr,pa)=>{const bs=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ot(le(pa,","),ln=>{const tr=bs.exec(ln);if(tr){const as=tr[1],ss=tr[2],_i=tr[3],Ml=tr[4],bm=tr[5],gc={attributes:{},attributesOrder:[]};if(dr.each(ou=>((il,Kf)=>{ft(il.attributes,(Ip,qg)=>{Kf.attributes[qg]=Ip}),Kf.attributesOrder.push(...il.attributesOrder)})(ou,gc)),as==="#"?gc.paddEmpty=!0:as==="-"&&(gc.removeEmpty=!0),Ml==="!"&&(gc.removeEmptyAttrs=!0),bm&&((ou,il)=>{const Kf=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Ip=/[*?+]/,{attributes:qg,attributesOrder:Bu}=il;ke(le(ou,"|"),Pp=>{const Hp=Kf.exec(Pp);if(Hp){const Wg={},Gv=Hp[1],dd=Hp[2].replace(/[\\:]:/g,":"),Vp=Hp[3],Yf=Hp[4];if(Gv==="!"&&(il.attributesRequired=il.attributesRequired||[],il.attributesRequired.push(dd),Wg.required=!0),Gv==="-")return delete qg[dd],void Bu.splice(ve.inArray(Bu,dd),1);if(Vp&&(Vp==="="?(il.attributesDefault=il.attributesDefault||[],il.attributesDefault.push({name:dd,value:Yf}),Wg.defaultValue=Yf):Vp==="~"?(il.attributesForced=il.attributesForced||[],il.attributesForced.push({name:dd,value:Yf}),Wg.forcedValue=Yf):Vp==="<"&&(Wg.validValues=ve.makeMap(Yf,"?"))),Ip.test(dd)){const jp=Wg;il.attributePatterns=il.attributePatterns||[],jp.pattern=Ke(dd),il.attributePatterns.push(jp)}else qg[dd]||Bu.push(dd),qg[dd]=Wg}})})(bm,gc),_i&&(gc.outputName=ss),ss==="@"){if(!dr.isNone())return[];dr=R.some(gc)}return[_i?{name:ss,element:gc,aliasName:_i}:{name:ss,element:gc}]}return[]})})(xr,mn??""),({name:dr,element:pa,aliasName:bs})=>{if(bs&&(r[bs]=pa),jr.test(dr)){const ln=pa;ln.pattern=Ke(dr),i.push(ln)}else r[dr]=pa})},Ae=mn=>{i=[],ke(Dt(r),xr=>{delete r[xr]}),Mt(mn)},Ze=(mn,xr)=>{var jr,dr;delete sa.text_block_elements,delete sa.block_elements;const pa=!!xr.extends&&!ns(xr.extends),bs=xr.extends;if(s[mn]=bs?s[bs]:{},c[mn]=bs??mn,Y[mn.toUpperCase()]={},Y[mn]={},pa||(we[mn.toUpperCase()]={},we[mn]={}),bs&&!r[mn]&&r[bs]){const ln=(tr=>{const as=ss=>ao(ss)?No(ss,as):(_i=>bt(_i)&&_i.source&&Object.prototype.toString.call(_i)==="[object RegExp]")(ss)?new RegExp(ss.source,ss.flags):bt(ss)?bo(ss,as):ss;return as(tr)})(r[bs]);delete ln.removeEmptyAttrs,delete ln.removeEmpty,r[mn]=ln}else r[mn]={attributesOrder:[],attributes:{}};if(ao(xr.attributes)){const ln=as=>{tr.attributesOrder.push(as),tr.attributes[as]={}},tr=(jr=r[mn])!==null&&jr!==void 0?jr:{};delete tr.attributesDefault,delete tr.attributesForced,delete tr.attributePatterns,delete tr.attributesRequired,tr.attributesOrder=[],tr.attributes={},ke(xr.attributes,as=>{const ss=Jt(f);Sa(as).each(({preset:_i,name:Ml})=>{_i?Ml==="global"&&ke(ss,ln):ln(Ml)})}),r[mn]=tr}if(St(xr.padEmpty)){const ln=(dr=r[mn])!==null&&dr!==void 0?dr:{};ln.paddEmpty=xr.padEmpty,r[mn]=ln}if(ao(xr.children)){const ln={},tr=ss=>{ln[ss]={}},as=ss=>{sr(f,ss).each(_i=>{ke(_i,tr)})};ke(xr.children,ss=>{Sa(ss).each(({preset:_i,name:Ml})=>{_i?as(Ml):tr(Ml)})}),s[mn]=ln}bs&&ft(s,(ln,tr)=>{ln[bs]&&(s[tr]=ln=$l({},s[tr]),ln[mn]=ln[bs])})},et=mn=>{bt(mn)?ft(mn,(xr,jr)=>Ze(jr,xr)):Je(mn)&&(xr=>{ke((jr=>{const dr=/^(~)?(.+)$/;return ot(le(jr,","),pa=>{const bs=dr.exec(pa);return bs?[{cloneName:bs[1]==="~"?"span":"div",name:bs[2]}]:[]})})(xr??""),({name:jr,cloneName:dr})=>{Ze(jr,{extends:dr})})})(mn)},jt=mn=>{ke((xr=>{const jr=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ot(le(xr,","),dr=>{const pa=jr.exec(dr);if(pa){const bs=pa[1];return[{operation:bs?(tr=>tr==="-"?"remove":"add")(bs):"replace",name:pa[2],validChildren:ot(le(pa[3],"|"),tr=>Sa(tr).toArray())}]}return[]})})(mn??""),({operation:xr,name:jr,validChildren:dr})=>{const pa=xr==="replace"?{"#comment":{}}:s[jr],bs=ln=>{xr==="remove"?delete pa[ln]:pa[ln]={}};ke(dr,({preset:ln,name:tr})=>{ln?(as=>{sr(f,as).each(ss=>{ke(ss,bs)})})(tr):bs(tr)}),s[jr]=pa})},Lo=mn=>{const xr=r[mn];if(xr)return xr;let jr=i.length;for(;jr--;){const dr=i[jr];if(dr.pattern.test(mn))return dr}},_o=Nt(v),wn=Nt(k),Dn=Nt(z),Ln=Nt(M),jn=Nt(we),Qo=Nt(ne),Tn=Nt(Ye),nt=Nt(Object.seal(P)),ct=Nt(N),Ut=Nt(Y),Ht=Nt(X),Xo=Nt(F),So=Nt(Ve),$n=Nt(at),Jn=Nt(Object.seal(d)),fr=(mn,xr)=>{const jr=Lo(mn);if(jr){if(!xr)return!0;{if(jr.attributes[xr])return!0;const dr=jr.attributePatterns;if(dr){let pa=dr.length;for(;pa--;)if(dr[pa].pattern.test(xr))return!0}}}return!1},ns=mn=>on(jn(),mn),_s=mn=>!Jo(mn,"#")&&fr(mn)&&!ns(mn),tu=Nt(c);return t.valid_elements?(Ae(t.valid_elements),ms(y,(mn,xr)=>{s[xr]=mn.children})):(ms(y,(mn,xr)=>{r[xr]={attributes:mn.attributes,attributesOrder:mn.attributesOrder},s[xr]=mn.children}),ms(le("strong/b em/i"),mn=>{const xr=le(mn,"/");r[xr[1]].outputName=xr[0]}),ms(Ye,(mn,xr)=>{r[xr]&&(t.padd_empty_block_inline_children&&(r[xr].paddInEmptyBlock=!0),r[xr].removeEmpty=!0)}),ms(le("ol ul blockquote a table tbody"),mn=>{r[mn]&&(r[mn].removeEmpty=!0)}),ms(le("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),mn=>{r[mn]&&(r[mn].paddEmpty=!0)}),ms(le("span"),mn=>{r[mn].removeEmptyAttrs=!0})),delete r.svg,et(t.custom_elements),jt(t.valid_children),Mt(t.extended_valid_elements),jt("+ol[ul|ol],+ul[ul|ol]"),ms({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(mn,xr)=>{r[xr]&&(r[xr].parentsRequired=le(mn))}),t.invalid_elements&&ms(Ul(t.invalid_elements),mn=>{r[mn]&&delete r[mn]}),Lo("span")||Mt("span[!data-mce-type|*]"),{type:f,children:s,elements:r,getValidStyles:_o,getValidClasses:Dn,getBlockElements:jn,getInvalidStyles:wn,getVoidElements:nt,getTextBlockElements:Qo,getTextInlineElements:Tn,getBoolAttrs:Ln,getElementRule:Lo,getSelfClosingElements:ct,getNonEmptyElements:Ut,getMoveCaretBeforeOnEnterElements:Ht,getWhitespaceElements:Xo,getTransparentElements:So,getSpecialElements:Jn,isValidChild:(mn,xr)=>{const jr=s[mn.toLowerCase()];return!(!jr||!jr[xr.toLowerCase()])},isValid:fr,isBlock:ns,isInline:_s,isWrapper:mn=>on($n(),mn)||_s(mn),getCustomElements:tu,addValidElements:Mt,setValidElements:Ae,addCustomElements:et,addValidChildren:jt}},Ua=t=>{const o=t.toString(16);return(o.length===1?"0"+o:o).toUpperCase()},Wp=t=>(o=>{return{value:(r=o,Tt(r,"#").toUpperCase())};var r})(Ua(t.red)+Ua(t.green)+Ua(t.blue)),Ol=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Hc=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Gp=(t,o,r,s)=>((i,c,d,m)=>({red:i,green:c,blue:d,alpha:m}))(parseInt(t,10),parseInt(o,10),parseInt(r,10),parseFloat(s)),bu=t=>{const o=Ol.exec(t);if(o!==null)return R.some(Gp(o[1],o[2],o[3],"1"));const r=Hc.exec(t);return r!==null?R.some(Gp(r[1],r[2],r[3],r[4])):R.none()},yr=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,ga=t=>bu(t).map(Wp).map(o=>"#"+o.value).getOr(t),vi=(t={},o)=>{const r=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,c={};let d,m;const f=nn;o&&(d=o.getValidStyles(),m=o.getInvalidStyles());const y=`\\" \\' \\; \\: ; : \uFEFF`.split(" ");for(let k=0;k<y.length;k++)c[y[k]]=f+k,c[f+k]=y[k];const v={parse:k=>{const z={};let F=!1;const N=t.url_converter,P=t.url_converter_scope||v,M=(Ae,Ze,et)=>{const jt=z[Ae+"-top"+Ze];if(!jt)return;const Lo=z[Ae+"-right"+Ze];if(!Lo)return;const _o=z[Ae+"-bottom"+Ze];if(!_o)return;const wn=z[Ae+"-left"+Ze];if(!wn)return;const Dn=[jt,Lo,_o,wn];let Ln=Dn.length-1;for(;Ln--&&Dn[Ln]===Dn[Ln+1];);Ln>-1&&et||(z[Ae+Ze]=Ln===-1?Dn[0]:Dn.join(" "),delete z[Ae+"-top"+Ze],delete z[Ae+"-right"+Ze],delete z[Ae+"-bottom"+Ze],delete z[Ae+"-left"+Ze])},j=Ae=>{const Ze=z[Ae];if(!Ze)return;const et=Ze.indexOf(",")>-1?[Ze]:Ze.split(" ");let jt=et.length;for(;jt--;)if(et[jt]!==et[0])return!1;return z[Ae]=et[0],!0},Y=Ae=>(F=!0,c[Ae]),X=(Ae,Ze)=>(F&&(Ae=Ae.replace(/\uFEFF[0-9]/g,et=>c[et])),Ze||(Ae=Ae.replace(/\\([\'\";:])/g,"$1")),Ae),ie=Ae=>String.fromCharCode(parseInt(Ae.slice(1),16)),ne=Ae=>Ae.replace(/\\[0-9a-f]+/gi,ie),we=(Ae,Ze,et,jt,Lo,_o)=>{if(Lo=Lo||_o)return"'"+(Lo=X(Lo)).replace(/\'/g,"\\'")+"'";if(Ze=X(Ze||et||jt||""),!t.allow_script_urls){const wn=Ze.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(wn)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(wn))return""}return N&&(Ze=N.call(P,Ze,"style")),"url('"+Ze.replace(/\'/g,"\\'")+"')"};if(k){let Ae;for(k=(k=k.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,Y).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ze=>Ze.replace(/[;:]/g,Y));Ae=s.exec(k);){s.lastIndex=Ae.index+Ae[0].length;let Ze=Ae[1].replace(i,"").toLowerCase(),et=Ae[2].replace(i,"");if(Ze&&et){if(Ze=ne(Ze),et=ne(et),Ze.indexOf(f)!==-1||Ze.indexOf('"')!==-1||!t.allow_script_urls&&(Ze==="behavior"||/expression\s*\(|\/\*|\*\//.test(et)))continue;Ze==="font-weight"&&et==="700"?et="bold":Ze!=="color"&&Ze!=="background-color"||(et=et.toLowerCase()),Mt=et,(Ol.test(Mt)?"rgb":Hc.test(Mt)?"rgba":"other")=="rgb"&&bu(et).each(jt=>{et=ga(yr(jt)).toLowerCase()}),et=et.replace(r,we),z[Ze]=F?X(et,!0):et}}M("border","",!0),M("border","-width"),M("border","-color"),M("border","-style"),M("padding",""),M("margin",""),Ve="border-style",at="border-color",j(Ye="border-width")&&j(Ve)&&j(at)&&(z.border=z[Ye]+" "+z[Ve]+" "+z[at],delete z[Ye],delete z[Ve],delete z[at]),z.border==="medium none"&&delete z.border,z["border-image"]==="none"&&delete z["border-image"]}var Ye,Ve,at,Mt;return z},serialize:(k,z)=>{let F="";const N=(P,M)=>{const j=M[P];if(j)for(let Y=0,X=j.length;Y<X;Y++){const ie=j[Y],ne=k[ie];ne&&(F+=(F.length>0?" ":"")+ie+": "+ne+";")}};return z&&d?(N("*",d),N(z,d)):ft(k,(P,M)=>{P&&((j,Y)=>{if(!m||!Y)return!0;let X=m["*"];return!(X&&X[j]||(X=m[Y],X&&X[j]))})(M,z)&&(F+=(F.length>0?" ":"")+M+": "+P+";")}),F}};return v},Sc={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},dg=(t,o)=>{const r=o??{};for(const s in t)on(Sc,s)||(r[s]=t[s]);return Xe(t.composedPath)&&(r.composedPath=()=>t.composedPath()),Xe(t.getModifierState)&&(r.getModifierState=s=>t.getModifierState(s)),Xe(t.getTargetRanges)&&(r.getTargetRanges=()=>t.getTargetRanges()),r},ep=(t,o,r,s)=>{var i;const c=dg(o,s);return c.type=t,he(c.target)&&(c.target=(i=c.srcElement)!==null&&i!==void 0?i:r),(d=>he(d.preventDefault)||(m=>m instanceof Event||ae(m.initEvent))(d))(o)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=je,ae(o.preventDefault)&&o.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=je,ae(o.stopPropagation)&&o.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=je,c.stopPropagation()},(d=>d.isDefaultPrevented===je||d.isDefaultPrevented===Bo)(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?je:Bo,c.isPropagationStopped=c.cancelBubble===!0?je:Bo,c.isImmediatePropagationStopped=Bo)),c},Om=/^(?:mouse|contextmenu)|click/,Nm=(t,o,r,s)=>{t.addEventListener(o,r,s||!1)},oh=(t,o,r,s)=>{t.removeEventListener(o,r,s||!1)},ug=(t,o)=>{const r=ep(t.type,t,document,o);if((s=>Xe(s)&&Om.test(s.type))(t)&&wo(t.pageX)&&!wo(t.clientX)){const s=r.target.ownerDocument||document,i=s.documentElement,c=s.body,d=r;d.pageX=t.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),d.pageY=t.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}return r},mg=(t,o,r)=>{const s=t.document,i={type:"ready"};if(r.domLoaded)return void o(i);const c=()=>{oh(t,"DOMContentLoaded",c),oh(t,"load",c),r.domLoaded||(r.domLoaded=!0,o(i)),t=null};s.readyState==="complete"||s.readyState==="interactive"&&s.body?c():Nm(t,"DOMContentLoaded",c),r.domLoaded||Nm(t,"load",c)};class Zl{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(o,r,s,i){const c=this;let d;const m=window,f=z=>{c.executeHandlers(ug(z||m.event),y)};if(!o||Ao(o)||Fc(o))return s;let y;o[c.expando]?y=o[c.expando]:(y=c.count++,o[c.expando]=y,c.events[y]={}),i=i||o;const v=r.split(" ");let k=v.length;for(;k--;){let z=v[k],F=f,N=!1,P=!1;z==="DOMContentLoaded"&&(z="ready"),c.domLoaded&&z==="ready"&&o.readyState==="complete"?s.call(i,ug({type:z})):(c.hasFocusIn||z!=="focusin"&&z!=="focusout"||(N=!0,P=z==="focusin"?"focus":"blur",F=M=>{const j=ug(M||m.event);j.type=j.type==="focus"?"focusin":"focusout",c.executeHandlers(j,y)}),d=c.events[y][z],d?z==="ready"&&c.domLoaded?s(ug({type:z})):d.push({func:s,scope:i}):(c.events[y][z]=d=[{func:s,scope:i}],d.fakeName=P,d.capture=N,d.nativeHandler=F,z==="ready"?mg(o,F,c):Nm(o,P||z,F,N)))}return o=d=null,s}unbind(o,r,s){if(!o||Ao(o)||Fc(o))return this;const i=o[this.expando];if(i){let c=this.events[i];if(r){const d=r.split(" ");let m=d.length;for(;m--;){const f=d[m],y=c[f];if(y){if(s){let v=y.length;for(;v--;)if(y[v].func===s){const k=y.nativeHandler,z=y.fakeName,F=y.capture,N=y.slice(0,v).concat(y.slice(v+1));N.nativeHandler=k,N.fakeName=z,N.capture=F,c[f]=N}}s&&y.length!==0||(delete c[f],oh(o,y.fakeName||f,y.nativeHandler,y.capture))}}}else ft(c,(d,m)=>{oh(o,d.fakeName||m,d.nativeHandler,d.capture)}),c={};for(const d in c)if(on(c,d))return this;delete this.events[i];try{delete o[this.expando]}catch{o[this.expando]=null}}return this}fire(o,r,s){return this.dispatch(o,r,s)}dispatch(o,r,s){if(!o||Ao(o)||Fc(o))return this;const i=ug({type:r,target:o},s);do{const c=o[this.expando];c&&this.executeHandlers(i,c),o=o.parentNode||o.ownerDocument||o.defaultView||o.parentWindow}while(o&&!i.isPropagationStopped());return this}clean(o){if(!o||Ao(o)||Fc(o))return this;if(o[this.expando]&&this.unbind(o),o.getElementsByTagName||(o=o.document),o&&o.getElementsByTagName){this.unbind(o);const r=o.getElementsByTagName("*");let s=r.length;for(;s--;)(o=r[s])[this.expando]&&this.unbind(o)}return this}destroy(){this.events={}}cancel(o){return o&&(o.preventDefault(),o.stopImmediatePropagation()),!1}executeHandlers(o,r){const s=this.events[r],i=s&&s[o.type];if(i)for(let c=0,d=i.length;c<d;c++){const m=i[c];if(m&&m.func.call(m.scope,o)===!1&&o.preventDefault(),o.isImmediatePropagationStopped())return}}}Zl.Event=new Zl;const wd=ve.each,tp=ve.grep,_b="data-mce-style",Cb=ve.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),gg=(t,o,r)=>{he(r)||r===""?ja(t,o):ra(t,o,r)},nh=t=>t.replace(/[A-Z]/g,o=>"-"+o.toLowerCase()),Dm=(t,o)=>{let r=0;if(t)for(let s=t.nodeType,i=t.previousSibling;i;i=i.previousSibling){const c=i.nodeType;(!o||!Ao(i)||c!==s&&i.data.length)&&(r++,s=c)}return r},rh=(t,o)=>{const r=gi(o,"style"),s=t.serialize(t.parse(r),pr(o));gg(o,_b,s)},Sb=(t,o,r)=>{const s=nh(o);he(r)||r===""?Iu(t,s):pd(t,s,((i,c)=>pt(i)?on(Cb,c)?i+"":i+"px":i)(r,s))},Za=(t,o={})=>{const r={},s=window,i={};let c=0;const d=Li.forElement(Se(t),{contentCssCors:o.contentCssCors,referrerPolicy:o.referrerPolicy}),m=[],f=o.schema?o.schema:ac({}),y=vi({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema),v=o.ownEvents?new Zl:Zl.Event,k=f.getBlockElements(),z=nt=>nt&&t&&Je(nt)?t.getElementById(nt):nt,F=nt=>{const ct=z(nt);return Xe(ct)?Se(ct):null},N=(nt,ct,Ut="")=>{let Ht;const Xo=F(nt);if(Xe(Xo)&&Gs(Xo)){const So=Tn[ct];Ht=So&&So.get?So.get(Xo.dom,ct):gi(Xo,ct)}return Xe(Ht)?Ht:Ut},P=nt=>{const ct=z(nt);return he(ct)?[]:ct.attributes},M=(nt,ct,Ut)=>{Ve(nt,Ht=>{if($t(Ht)){const Xo=Se(Ht),So=Ut===""?null:Ut,$n=gi(Xo,ct),Jn=Tn[ct];Jn&&Jn.set?Jn.set(Xo.dom,So,ct):gg(Xo,ct,So),$n!==So&&o.onSetAttrib&&o.onSetAttrib({attrElm:Xo.dom,attrName:ct,attrValue:So})}})},j=()=>o.root_element||t.body,Y=(nt,ct)=>((Ut,Ht,Xo)=>{let So=0,$n=0;const Jn=Ut.ownerDocument;if(Xo=Xo||Ut,Ht){if(Xo===Ut&&Ht.getBoundingClientRect&&Qi(Se(Ut),"position")==="static"){const ns=Ht.getBoundingClientRect();return So=ns.left+(Jn.documentElement.scrollLeft||Ut.scrollLeft)-Jn.documentElement.clientLeft,$n=ns.top+(Jn.documentElement.scrollTop||Ut.scrollTop)-Jn.documentElement.clientTop,{x:So,y:$n}}let fr=Ht;for(;fr&&fr!==Xo&&fr.nodeType&&!Bs(fr,Xo);){const ns=fr;So+=ns.offsetLeft||0,$n+=ns.offsetTop||0,fr=ns.offsetParent}for(fr=Ht.parentNode;fr&&fr!==Xo&&fr.nodeType&&!Bs(fr,Xo);)So-=fr.scrollLeft||0,$n-=fr.scrollTop||0,fr=fr.parentNode;$n+=(ns=>Ic.isFirefox()&&pr(ns)==="table"?Js(ha(ns)).filter(_s=>pr(_s)==="caption").bind(_s=>Js(ks(_s)).map(tu=>{const mn=tu.dom.offsetTop,xr=_s.dom.offsetTop,jr=_s.dom.offsetHeight;return mn<=xr?-jr:0})).getOr(0):0)(Se(Ht))}return{x:So,y:$n}})(t.body,z(nt),ct),X=(nt,ct,Ut)=>{const Ht=z(nt);var Xo;if(!he(Ht)&&(Zn(Ht)||$t(Xo=Ht)&&Xo.namespaceURI==="http://www.w3.org/2000/svg"))return Ut?Qi(Se(Ht),nh(ct)):((ct=ct.replace(/-(\D)/g,(So,$n)=>$n.toUpperCase()))==="float"&&(ct="cssFloat"),Ht.style?Ht.style[ct]:void 0)},ie=nt=>{const ct=z(nt);if(!ct)return{w:0,h:0};let Ut=X(ct,"width"),Ht=X(ct,"height");return Ut&&Ut.indexOf("px")!==-1||(Ut="0"),Ht&&Ht.indexOf("px")!==-1||(Ht="0"),{w:parseInt(Ut,10)||ct.offsetWidth||ct.clientWidth,h:parseInt(Ht,10)||ct.offsetHeight||ct.clientHeight}},ne=(nt,ct)=>{if(!nt)return!1;const Ut=ao(nt)?nt:[nt];return xo(Ut,Ht=>Ri(Se(Ht),ct))},we=(nt,ct,Ut,Ht)=>{const Xo=[];let So=z(nt);Ht=Ht===void 0;const $n=Ut||(j().nodeName!=="BODY"?j().parentNode:null);if(Je(ct))if(ct==="*")ct=$t;else{const Jn=ct;ct=fr=>ne(fr,Jn)}for(;So&&!(So===$n||he(So.nodeType)||mu(So)||qp(So));){if(!ct||ct(So)){if(!Ht)return[So];Xo.push(So)}So=So.parentNode}return Ht?Xo:null},Ye=(nt,ct,Ut)=>{let Ht=ct;if(nt){Je(ct)&&(Ht=Xo=>ne(Xo,ct));for(let Xo=nt[Ut];Xo;Xo=Xo[Ut])if(ae(Ht)&&Ht(Xo))return Xo}return null},Ve=function(nt,ct,Ut){const Ht=Ut??this;if(ao(nt)){const Xo=[];return wd(nt,(So,$n)=>{const Jn=z(So);Jn&&Xo.push(ct.call(Ht,Jn,$n))}),Xo}{const Xo=z(nt);return!!Xo&&ct.call(Ht,Xo)}},at=(nt,ct)=>{Ve(nt,Ut=>{ft(ct,(Ht,Xo)=>{M(Ut,Xo,Ht)})})},Mt=(nt,ct)=>{Ve(nt,Ut=>{const Ht=Se(Ut);Qc(Ht,ct)})},Ae=(nt,ct,Ut,Ht,Xo)=>Ve(nt,So=>{const $n=Je(ct)?t.createElement(ct):ct;return Xe(Ut)&&at($n,Ut),Ht&&(!Je(Ht)&&Ht.nodeType?$n.appendChild(Ht):Je(Ht)&&Mt($n,Ht)),Xo?$n:So.appendChild($n)}),Ze=(nt,ct,Ut)=>Ae(t.createElement(nt),nt,ct,Ut,!0),et=G.encodeAllRaw,jt=(nt,ct)=>Ve(nt,Ut=>{const Ht=Se(Ut);return ct&&ke(ha(Ht),Xo=>{la(Xo)&&Xo.dom.length===0?Xr(Xo):ua(Ht,Xo)}),Xr(Ht),Ht.dom}),Lo=(nt,ct,Ut)=>{Ve(nt,Ht=>{if($t(Ht)){const Xo=Se(Ht),So=ct.split(" ");ke(So,$n=>{Xe(Ut)?(Ut?fd:hd)(Xo,$n):((Jn,fr)=>{ii(Jn)?Jn.dom.classList.toggle(fr):((ns,_s)=>co(Hu(ns),_s)?Bc(ns,_s):Vs(ns,_s))(Jn,fr),Ys(Jn)})(Xo,$n)})}})},_o=(nt,ct,Ut)=>Ve(ct,Ht=>{var Xo;const So=ao(ct)?nt.cloneNode(!0):nt;return Ut&&wd(tp(Ht.childNodes),$n=>{So.appendChild($n)}),(Xo=Ht.parentNode)===null||Xo===void 0||Xo.replaceChild(So,Ht),Ht}),wn=()=>t.createRange(),Dn=(nt,ct,Ut,Ht)=>{if(ao(nt)){let Xo=nt.length;const So=[];for(;Xo--;)So[Xo]=Dn(nt[Xo],ct,Ut,Ht);return So}return!o.collect||nt!==t&&nt!==s||m.push([nt,ct,Ut,Ht]),v.bind(nt,ct,Ut,Ht||Qo)},Ln=(nt,ct,Ut)=>{if(ao(nt)){let Ht=nt.length;const Xo=[];for(;Ht--;)Xo[Ht]=Ln(nt[Ht],ct,Ut);return Xo}if(m.length>0&&(nt===t||nt===s)){let Ht=m.length;for(;Ht--;){const[Xo,So,$n]=m[Ht];nt!==Xo||ct&&ct!==So||Ut&&Ut!==$n||v.unbind(Xo,So,$n)}}return v.unbind(nt,ct,Ut)},jn=nt=>{if(nt&&Zn(nt)){const ct=nt.getAttribute("data-mce-contenteditable");return ct&&ct!=="inherit"?ct:nt.contentEditable!=="inherit"?nt.contentEditable:null}return null},Qo={doc:t,settings:o,win:s,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:d,boundEvents:m,styles:y,schema:f,events:v,isBlock:nt=>Je(nt)?on(k,nt):$t(nt)&&(on(k,nt.nodeName)||Lc(f,nt)),root:null,clone:(nt,ct)=>nt.cloneNode(ct),getRoot:j,getViewPort:nt=>{const ct=bi(nt);return{x:ct.x,y:ct.y,w:ct.width,h:ct.height}},getRect:nt=>{const ct=z(nt),Ut=Y(ct),Ht=ie(ct);return{x:Ut.x,y:Ut.y,w:Ht.w,h:Ht.h}},getSize:ie,getParent:(nt,ct,Ut)=>{const Ht=we(nt,ct,Ut,!1);return Ht&&Ht.length>0?Ht[0]:null},getParents:we,get:z,getNext:(nt,ct)=>Ye(nt,ct,"nextSibling"),getPrev:(nt,ct)=>Ye(nt,ct,"previousSibling"),select:(nt,ct)=>{var Ut,Ht;const Xo=(Ht=(Ut=z(ct))!==null&&Ut!==void 0?Ut:o.root_element)!==null&&Ht!==void 0?Ht:t;return ae(Xo.querySelectorAll)?qo(Xo.querySelectorAll(nt)):[]},is:ne,add:Ae,create:Ze,createHTML:(nt,ct,Ut="")=>{let Ht="<"+nt;for(const Xo in ct)ea(ct,Xo)&&(Ht+=" "+Xo+'="'+et(ct[Xo])+'"');return Kt(Ut)&&on(f.getVoidElements(),nt)?Ht+" />":Ht+">"+Ut+"</"+nt+">"},createFragment:nt=>{const ct=t.createElement("div"),Ut=t.createDocumentFragment();let Ht;for(Ut.appendChild(ct),nt&&(ct.innerHTML=nt);Ht=ct.firstChild;)Ut.appendChild(Ht);return Ut.removeChild(ct),Ut},remove:jt,setStyle:(nt,ct,Ut)=>{Ve(nt,Ht=>{const Xo=Se(Ht);Sb(Xo,ct,Ut),o.update_styles&&rh(y,Xo)})},getStyle:X,setStyles:(nt,ct)=>{Ve(nt,Ut=>{const Ht=Se(Ut);ft(ct,(Xo,So)=>{Sb(Ht,So,Xo)}),o.update_styles&&rh(y,Ht)})},removeAllAttribs:nt=>Ve(nt,ct=>{const Ut=ct.attributes;for(let Ht=Ut.length-1;Ht>=0;Ht--)ct.removeAttributeNode(Ut.item(Ht))}),setAttrib:M,setAttribs:at,getAttrib:N,getPos:Y,parseStyle:nt=>y.parse(nt),serializeStyle:(nt,ct)=>y.serialize(nt,ct),addStyle:nt=>{if(Qo!==Za.DOM&&t===document){if(r[nt])return;r[nt]=!0}let ct=t.getElementById("mceDefaultStyles");if(!ct){ct=t.createElement("style"),ct.id="mceDefaultStyles",ct.type="text/css";const Ut=t.head;Ut.firstChild?Ut.insertBefore(ct,Ut.firstChild):Ut.appendChild(ct)}ct.styleSheet?ct.styleSheet.cssText+=nt:ct.appendChild(t.createTextNode(nt))},loadCSS:nt=>{nt||(nt=""),ke(nt.split(","),ct=>{i[ct]=!0,d.load(ct).catch(Ro)})},addClass:(nt,ct)=>{Lo(nt,ct,!0)},removeClass:(nt,ct)=>{Lo(nt,ct,!1)},hasClass:(nt,ct)=>{const Ut=F(nt),Ht=ct.split(" ");return Xe(Ut)&&_t(Ht,Xo=>cu(Ut,Xo))},toggleClass:Lo,show:nt=>{Ve(nt,ct=>Iu(Se(ct),"display"))},hide:nt=>{Ve(nt,ct=>pd(Se(ct),"display","none"))},isHidden:nt=>{const ct=F(nt);return Xe(ct)&&Er(au(ct,"display"),"none")},uniqueId:nt=>(nt||"mce_")+c++,setHTML:Mt,getOuterHTML:nt=>{const ct=F(nt);return Xe(ct)?$t(ct.dom)?ct.dom.outerHTML:(Ut=>{const Ht=Wn("div"),Xo=Se(Ut.dom.cloneNode(!0));return Aa(Ht,Xo),Jc(Ht)})(ct):""},setOuterHTML:(nt,ct)=>{Ve(nt,Ut=>{$t(Ut)&&(Ut.outerHTML=ct)})},decode:G.decode,encode:et,insertAfter:(nt,ct)=>{const Ut=z(ct);return Ve(nt,Ht=>{const Xo=Ut==null?void 0:Ut.parentNode,So=Ut==null?void 0:Ut.nextSibling;return Xo&&(So?Xo.insertBefore(Ht,So):Xo.appendChild(Ht)),Ht})},replace:_o,rename:(nt,ct)=>{if(nt.nodeName!==ct.toUpperCase()){const Ut=Ze(ct);return wd(P(nt),Ht=>{M(Ut,Ht.nodeName,N(nt,Ht.nodeName))}),_o(Ut,nt,!0),Ut}return nt},findCommonAncestor:(nt,ct)=>{let Ut=nt;for(;Ut;){let Ht=ct;for(;Ht&&Ut!==Ht;)Ht=Ht.parentNode;if(Ut===Ht)break;Ut=Ut.parentNode}return!Ut&&nt.ownerDocument?nt.ownerDocument.documentElement:Ut},run:Ve,getAttribs:P,isEmpty:(nt,ct,Ut)=>no(ct)?kc(f,nt,{...Ut,isContent:Xo=>{const So=Xo.nodeName.toLowerCase();return!!ct[So]}}):kc(f,nt,Ut),createRng:wn,nodeIndex:Dm,split:(nt,ct,Ut)=>{let Ht,Xo,So=wn();if(nt&&ct&&nt.parentNode&&ct.parentNode){const $n=nt.parentNode;return So.setStart($n,Dm(nt)),So.setEnd(ct.parentNode,Dm(ct)),Ht=So.extractContents(),So=wn(),So.setStart(ct.parentNode,Dm(ct)+1),So.setEnd($n,Dm(nt)+1),Xo=So.extractContents(),$n.insertBefore(kt(Qo,Ht,f),nt),Ut?$n.insertBefore(Ut,nt):$n.insertBefore(ct,nt),$n.insertBefore(kt(Qo,Xo,f),nt),jt(nt),Ut||ct}},bind:Dn,unbind:Ln,fire:(nt,ct,Ut)=>v.dispatch(nt,ct,Ut),dispatch:(nt,ct,Ut)=>v.dispatch(nt,ct,Ut),getContentEditable:jn,getContentEditableParent:nt=>{const ct=j();let Ut=null;for(let Ht=nt;Ht&&Ht!==ct&&(Ut=jn(Ht),Ut===null);Ht=Ht.parentNode);return Ut},isEditable:nt=>{if(Xe(nt)){const ct=$t(nt)?nt:nt.parentElement;return Xe(ct)&&Zn(ct)&&td(Se(ct))}return!1},destroy:()=>{if(m.length>0){let nt=m.length;for(;nt--;){const[ct,Ut,Ht]=m[nt];v.unbind(ct,Ut,Ht)}}ft(i,(nt,ct)=>{d.unload(ct),delete i[ct]})},isChildOf:(nt,ct)=>nt===ct||ct.contains(nt),dumpRng:nt=>"startContainer: "+nt.startContainer.nodeName+", startOffset: "+nt.startOffset+", endContainer: "+nt.endContainer.nodeName+", endOffset: "+nt.endOffset},Tn=((nt,ct,Ut)=>{const Ht=ct.keep_values,Xo={set:($n,Jn,fr)=>{const ns=Se($n);ae(ct.url_converter)&&Xe(Jn)&&(Jn=ct.url_converter.call(ct.url_converter_scope||Ut(),String(Jn),fr,$n)),gg(ns,"data-mce-"+fr,Jn),gg(ns,fr,Jn)},get:($n,Jn)=>{const fr=Se($n);return gi(fr,"data-mce-"+Jn)||gi(fr,Jn)}},So={style:{set:($n,Jn)=>{const fr=Se($n);Ht&&gg(fr,_b,Jn),ja(fr,"style"),Je(Jn)&&Ui(fr,nt.parse(Jn))},get:$n=>{const Jn=Se($n),fr=gi(Jn,_b)||gi(Jn,"style");return nt.serialize(nt.parse(fr),pr(Jn))}}};return Ht&&(So.href=So.src=Xo),So})(y,o,Nt(Qo));return Qo};Za.DOM=Za(document),Za.nodeIndex=Dm;const jd=Za.DOM;class ql{constructor(o={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=o}_setReferrerPolicy(o){this.settings.referrerPolicy=o}loadScript(o){return new Promise((r,s)=>{const i=jd;let c;const d=()=>{i.remove(m),c&&(c.onerror=c.onload=c=null)},m=i.uniqueId();c=document.createElement("script"),c.id=m,c.type="text/javascript",c.src=ve._addCacheSuffix(o),this.settings.referrerPolicy&&i.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=()=>{d(),r()},c.onerror=()=>{d(),s("Failed to load script: "+o)},(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(o){return this.states[o]===2}markDone(o){this.states[o]=2}add(o){const r=this;return r.queue.push(o),r.states[o]===void 0&&(r.states[o]=0),new Promise((s,i)=>{r.scriptLoadedCallbacks[o]||(r.scriptLoadedCallbacks[o]=[]),r.scriptLoadedCallbacks[o].push({resolve:s,reject:i})})}load(o){return this.add(o)}remove(o){delete this.states[o],delete this.scriptLoadedCallbacks[o]}loadQueue(){const o=this.queue;return this.queue=[],this.loadScripts(o)}loadScripts(o){const r=this,s=(f,y)=>{Cn(r.scriptLoadedCallbacks,y).each(v=>{ke(v,k=>k[f](y))}),delete r.scriptLoadedCallbacks[y]},i=f=>{const y=Ue(f,v=>v.status==="rejected");return y.length>0?Promise.reject(ot(y,({reason:v})=>ao(v)?v:[v])):Promise.resolve()},c=f=>Promise.allSettled(No(f,y=>r.states[y]===2?(s("resolve",y),Promise.resolve()):r.states[y]===3?(s("reject",y),Promise.reject(y)):(r.states[y]=1,r.loadScript(y).then(()=>{r.states[y]=2,s("resolve",y);const v=r.queue;return v.length>0?(r.queue=[],c(v).then(i)):Promise.resolve()},()=>(r.states[y]=3,s("reject",y),Promise.reject(y)))))),d=f=>(r.loading=!0,c(f).then(y=>{r.loading=!1;const v=r.queueLoadedCallbacks.shift();return R.from(v).each(so),i(y)})),m=Pr(o);return r.loading?new Promise((f,y)=>{r.queueLoadedCallbacks.push(()=>{d(m).then(f,y)})}):d(m)}}ql.ScriptLoader=new ql;const Mm={},Eb=Tr("en"),zb=()=>Cn(Mm,Eb.get()),kd={getData:()=>bo(Mm,t=>({...t})),setCode:t=>{t&&Eb.set(t)},getCode:()=>Eb.get(),add:(t,o)=>{let r=Mm[t];r||(Mm[t]=r={});const s=No(Dt(o),i=>i.toLowerCase());ft(o,(i,c)=>{const d=c.toLowerCase();d!==c&&((m,f)=>{const y=m.indexOf(f);return y!==-1&&m.indexOf(f,y+1)>y})(s,d)?(on(o,d)||(r[d]=i),r[c]=i):r[d]=i})},translate:t=>{const o=zb().getOr({}),r=m=>ae(m)?Object.prototype.toString.call(m):s(m)?"":""+m,s=m=>m===""||m==null,i=m=>{const f=r(m);return on(o,f)?r(o[f]):Cn(o,f.toLowerCase()).map(r).getOr(f)},c=m=>m.replace(/{context:\w+}$/,"");if(s(t))return"";if(bt(d=t)&&on(d,"raw"))return r(t.raw);var d;if((m=>ao(m)&&m.length>1)(t)){const m=t.slice(1);return c(i(t[0]).replace(/\{([0-9]+)\}/g,(f,y)=>on(m,y)?r(m[y]):f))}return c(i(t))},isRtl:()=>zb().bind(t=>Cn(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>on(Mm,t)},gl=()=>{const t=[],o={},r={},s=[],i=(f,y)=>{const v=Ue(s,k=>k.name===f&&k.state===y);ke(v,k=>k.resolve())},c=f=>on(o,f),d=(f,y)=>{const v=kd.getCode();!v||y&&(","+(y||"")+",").indexOf(","+v+",")===-1||ql.ScriptLoader.add(o[f]+"/langs/"+v+".js")},m=(f,y="added")=>y==="added"&&(v=>on(r,v))(f)||y==="loaded"&&c(f)?Promise.resolve():new Promise(v=>{s.push({name:f,state:y,resolve:v})});return{items:t,urls:o,lookup:r,get:f=>{if(r[f])return r[f].instance},requireLangPack:(f,y)=>{gl.languageLoad!==!1&&(c(f)?d(f,y):m(f,"loaded").then(()=>d(f,y)))},add:(f,y)=>(t.push(y),r[f]={instance:y},i(f,"added"),y),remove:f=>{delete o[f],delete r[f]},createUrl:(f,y)=>Je(y)?Je(f)?{prefix:"",resource:y,suffix:""}:{prefix:f.prefix,resource:y,suffix:f.suffix}:y,load:(f,y)=>{if(o[f])return Promise.resolve();let v=Je(y)?y:y.prefix+y.resource+y.suffix;v.indexOf("/")!==0&&v.indexOf("://")===-1&&(v=gl.baseURL+"/"+v),o[f]=v.substring(0,v.lastIndexOf("/"));const k=()=>(i(f,"loaded"),Promise.resolve());return r[f]?k():ql.ScriptLoader.add(v).then(k)},waitFor:m}};gl.languageLoad=!0,gl.baseURL="",gl.PluginManager=gl(),gl.ThemeManager=gl(),gl.ModelManager=gl();const pg=Nt("mce-annotation"),fg=Nt("data-mce-annotation"),Kp=Nt("data-mce-annotation-uid"),hg=Nt("data-mce-annotation-active"),_d=Nt("data-mce-annotation-classes"),Rm=Nt("data-mce-annotation-attrs"),Fr=t=>o=>wr(o,t),sc=(t,o)=>{const r=t.selection.getRng(),s=Se(r.startContainer),i=Se(t.getBody()),c=o.fold(()=>"."+pg(),m=>`[${fg()}="${m}"]`),d=Sl(s,r.startOffset).getOr(s);return Pl(d,c,Fr(i)).bind(m=>br(m,`${Kp()}`).bind(f=>br(m,`${fg()}`).map(y=>{const v=ah(t,f);return{uid:f,name:y,elements:v}})))},Bm=(t,o)=>Bi(t,"data-mce-bogus")||((r,s,i)=>ma(r,'[data-mce-bogus="all"]',i).isSome())(t,0,Fr(o)),ah=(t,o)=>{const r=Se(t.getBody()),s=hi(r,`[${Kp()}="${o}"]`);return Ue(s,i=>!Bm(i,r))},qa=(t,o)=>{const r=Se(t.getBody()),s=hi(r,`[${fg()}="${o}"]`),i={};return ke(s,c=>{if(!Bm(c,r)){const d=gi(c,Kp()),m=Cn(i,d).getOr([]);i[d]=m.concat([c])}}),i},_0=(t,o,r=Bo)=>{const s=new Ms(t,o),i=c=>{let d;do d=s[c]();while(d&&!Ao(d)&&!r(d));return R.from(d).filter(Ao)};return{current:()=>R.from(s.current()).filter(Ao),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},bg=(t,o)=>{const r=o||(i=>t.isBlock(i)||ts(i)||_a(i)),s=(i,c,d,m)=>{if(Ao(i)){const f=m(i,c,i.data);if(f!==-1)return R.some({container:i,offset:f})}return d().bind(f=>s(f.container,f.offset,d,m))};return{backwards:(i,c,d,m)=>{const f=_0(i,m??t.getRoot(),r);return s(i,c,()=>f.prev().map(y=>({container:y,offset:y.length})),d).getOrNull()},forwards:(i,c,d,m)=>{const f=_0(i,m??t.getRoot(),r);return s(i,c,()=>f.next().map(y=>({container:y,offset:0})),d).getOrNull()}}},$d=t=>{let o;return r=>(o=o||io(t,je),on(o,pr(r)))},Fm=t=>Gs(t)&&pr(t)==="br",Ab=$d(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),sh=$d(["ul","ol","dl"]),ad=$d(["li","dd","dt"]),C0=$d(["thead","tbody","tfoot"]),Lm=$d(["td","th"]),op=$d(["pre","script","textarea","style"]),yg=()=>{const t=Wn("br");return ra(t,"data-mce-bogus","1"),t},Yu=t=>{Fa(t),Aa(t,yg())},Pi=nn,Yp=eo,Wl=t=>t.replace(/\uFEFF/g,""),ih=$t,Cd=Ao,Xu=t=>(Cd(t)&&(t=t.parentNode),ih(t)&&t.hasAttribute("data-mce-caret")),yu=t=>Cd(t)&&Yp(t.data),Ec=t=>Xu(t)||yu(t),pl=t=>t.firstChild!==t.lastChild||!ts(t.firstChild),Im=t=>{const o=t.container();return!!Ao(o)&&(o.data.charAt(t.offset())===Pi||t.isAtStart()&&yu(o.previousSibling))},S0=t=>{const o=t.container();return!!Ao(o)&&(o.data.charAt(t.offset()-1)===Pi||t.isAtEnd()&&yu(o.nextSibling))},Tb=t=>Cd(t)&&t.data[0]===Pi,Ob=t=>Cd(t)&&t.data[t.data.length-1]===Pi,E0=t=>t&&t.hasAttribute("data-mce-caret")?((o=>{var r;const s=o.getElementsByTagName("br"),i=s[s.length-1];va(i)&&((r=i.parentNode)===null||r===void 0||r.removeChild(i))})(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,z0=t=>Xu(t.startContainer),np=Math.round,Ju=t=>t?{left:np(t.left),top:np(t.top),bottom:np(t.bottom),right:np(t.right),width:np(t.width),height:np(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},fl=(t,o)=>(t=Ju(t),o||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),Vc=(t,o,r)=>t>=0&&t<=Math.min(o.height,r.height)/2,ic=(t,o)=>{const r=Math.min(o.height/2,t.height/2);return t.bottom-r<o.top||!(t.top>o.bottom)&&Vc(o.top-t.bottom,t,o)},vg=(t,o)=>t.top>o.bottom||!(t.bottom<o.top)&&Vc(o.bottom-t.top,t,o),Nb=(t,o,r)=>{const s=Math.max(Math.min(o,t.left+t.width),t.left),i=Math.max(Math.min(r,t.top+t.height),t.top);return Math.sqrt((o-s)*(o-s)+(r-i)*(r-i))},Db=t=>{const o=t.startContainer,r=t.startOffset;return o===t.endContainer&&o.hasChildNodes()&&t.endOffset===r+1?o.childNodes[r]:null},Qu=(t,o)=>{if($t(t)&&t.hasChildNodes()){const r=t.childNodes,s=((i,c,d)=>Math.min(Math.max(i,0),d))(o,0,r.length-1);return r[s]}return t},A0=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Jv=t=>Je(t)&&t.charCodeAt(0)>=768&&A0.test(t),Mb=Vl,lh=_a,Qv=ts,T0=Ao,O0=bn(["script","style","textarea"]),Da=bn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),em=bn(["table"]),Rb=Ec,Sd=t=>!Rb(t)&&(T0(t)?!O0(t.parentNode):Da(t)||Qv(t)||em(t)||ch(t)),ch=t=>!(o=>$t(o)&&o.getAttribute("unselectable")==="true")(t)&&lh(t),dh=(t,o)=>Sd(t)&&((r,s)=>{for(let i=r.parentNode;i&&i!==s;i=i.parentNode){if(ch(i))return!1;if(Mb(i))return!0}return!0})(t,o),Bb=$t,N0=Sd,D0=aa("display","block table"),M0=aa("float","left right"),Nl=((...t)=>o=>{for(let r=0;r<t.length;r++)if(!t[r](o))return!1;return!0})(Bb,N0,Lt(M0)),Fb=Lt(aa("white-space","pre pre-line pre-wrap")),Ti=Ao,tm=ts,uh=Za.nodeIndex,Xp=(t,o)=>o<0&&$t(t)&&t.hasChildNodes()?void 0:Qu(t,o),mh=t=>t?t.createRange():Za.DOM.createRng(),gh=t=>Je(t)&&/[\r\n\t ]/.test(t),R0=t=>!!t.setStart&&!!t.setEnd,Lb=t=>{const o=t.startContainer,r=t.startOffset;if(gh(t.toString())&&Fb(o.parentNode)&&Ao(o)){const s=o.data;if(gh(s[r-1])||gh(s[r+1]))return!0}return!1},B0=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,Pm=t=>{var o;let r;const s=t.getClientRects();return r=s.length>0?Ju(s[0]):Ju(t.getBoundingClientRect()),!R0(t)&&tm(t)&&B0(r)?(i=>{const c=i.ownerDocument,d=mh(c),m=c.createTextNode(zn),f=i.parentNode;f.insertBefore(m,i),d.setStart(m,0),d.setEnd(m,1);const y=Ju(d.getBoundingClientRect());return f.removeChild(m),y})(t):B0(r)&&R0(t)&&(o=(i=>{const c=i.startContainer,d=i.endContainer,m=i.startOffset,f=i.endOffset;if(c===d&&Ao(d)&&m===0&&f===1){const y=i.cloneRange();return y.setEndAfter(d),Pm(y)}return null})(t))!==null&&o!==void 0?o:r},ci=(t,o)=>{const r=fl(t,o);return r.width=1,r.right=r.left+1,r},It=(t,o,r)=>{const s=()=>(r||(r=(i=>{const c=[],d=v=>{var k,z;v.height!==0&&(c.length>0&&(k=v,z=c[c.length-1],k.left===z.left&&k.top===z.top&&k.bottom===z.bottom&&k.right===z.right)||c.push(v))},m=(v,k)=>{const z=mh(v.ownerDocument);if(k<v.data.length){if(Jv(v.data[k]))return;if(Jv(v.data[k-1])&&(z.setStart(v,k),z.setEnd(v,k+1),!Lb(z)))return void d(ci(Pm(z),!1))}k>0&&(z.setStart(v,k-1),z.setEnd(v,k),Lb(z)||d(ci(Pm(z),!1))),k<v.data.length&&(z.setStart(v,k),z.setEnd(v,k+1),Lb(z)||d(ci(Pm(z),!0)))},f=i.container(),y=i.offset();if(Ti(f))return m(f,y),c;if(Bb(f))if(i.isAtEnd()){const v=Xp(f,y);Ti(v)&&m(v,v.data.length),Nl(v)&&!tm(v)&&d(ci(Pm(v),!1))}else{const v=Xp(f,y);if(Ti(v)&&m(v,0),Nl(v)&&i.isAtEnd())return d(ci(Pm(v),!1)),c;const k=Xp(i.container(),i.offset()-1);Nl(k)&&!tm(k)&&(D0(k)||D0(v)||!Nl(v))&&d(ci(Pm(k),!1)),Nl(v)&&d(ci(Pm(v),!0))}return c})(It(t,o))),r);return{container:Nt(t),offset:Nt(o),toRange:()=>{const i=mh(t.ownerDocument);return i.setStart(t,o),i.setEnd(t,o),i},getClientRects:s,isVisible:()=>s().length>0,isAtStart:()=>(Ti(t),o===0),isAtEnd:()=>Ti(t)?o>=t.data.length:o>=t.childNodes.length,isEqual:i=>i&&t===i.container()&&o===i.offset(),getNode:i=>Xp(t,i?o-1:o)}};It.fromRangeStart=t=>It(t.startContainer,t.startOffset),It.fromRangeEnd=t=>It(t.endContainer,t.endOffset),It.after=t=>It(t.parentNode,uh(t)+1),It.before=t=>It(t.parentNode,uh(t)),It.isAbove=(t,o)=>Rr(xt(o.getClientRects()),oo(t.getClientRects()),ic).getOr(!1),It.isBelow=(t,o)=>Rr(oo(o.getClientRects()),xt(t.getClientRects()),vg).getOr(!1),It.isAtStart=t=>!!t&&t.isAtStart(),It.isAtEnd=t=>!!t&&t.isAtEnd(),It.isTextPosition=t=>!!t&&Ao(t.container()),It.isElementPosition=t=>!It.isTextPosition(t);const ph=(t,o)=>{Ao(o)&&o.data.length===0&&t.remove(o)},Ib=(t,o,r)=>{qp(r)?((s,i,c)=>{const d=R.from(c.firstChild),m=R.from(c.lastChild);i.insertNode(c),d.each(f=>ph(s,f.previousSibling)),m.each(f=>ph(s,f.nextSibling))})(t,o,r):((s,i,c)=>{i.insertNode(c),ph(s,c.previousSibling),ph(s,c.nextSibling)})(t,o,r)},Ud=Ao,Pb=va,Hb=Za.nodeIndex,F0=t=>{const o=t.parentNode;return Pb(o)?F0(o):o},di=t=>t?Yr(t.childNodes,(o,r)=>(Pb(r)&&r.nodeName!=="BR"?o=o.concat(di(r)):o.push(r),o),[]):[],xi=t=>o=>t===o,tl=t=>(Ud(t)?"text()":t.nodeName.toLowerCase())+"["+(o=>{let r,s;r=di(F0(o)),s=Br(r,xi(o),o),r=r.slice(0,s+1);const i=Yr(r,(c,d,m)=>(Ud(d)&&Ud(r[m-1])&&c++,c),0);return r=Kr(r,bn([o.nodeName])),s=Br(r,xi(o),o),s-i})(t)+"]",ol=(t,o)=>{let r,s=[],i=o.container(),c=o.offset();if(Ud(i))r=((m,f)=>{let y=m;for(;(y=y.previousSibling)&&Ud(y);)f+=y.data.length;return f})(i,c);else{const m=i.childNodes;c>=m.length?(r="after",c=m.length-1):r="before",i=m[c]}s.push(tl(i));let d=((m,f)=>{const y=[];for(let v=f.parentNode;v&&v!==m;v=v.parentNode)y.push(v);return y})(t,i);return d=Kr(d,Lt(va)),s=s.concat(Ci(d,m=>tl(m))),s.reverse().join("/")+","+r},Hi=(t,o)=>{if(!o)return null;const r=o.split(","),s=r[0].split("/"),i=r.length>1?r[1]:"before",c=Yr(s,(d,m)=>{const f=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(m);return f?(f[1]==="text()"&&(f[1]="#text"),((y,v,k)=>{let z=di(y);return z=Kr(z,(F,N)=>!Ud(F)||!Ud(z[N-1])),z=Kr(z,bn([v])),z[k]})(d,f[1],parseInt(f[2],10))):null},t);if(!c)return null;if(!Ud(c)&&c.parentNode){let d;return d=i==="after"?Hb(c)+1:Hb(c),It(c.parentNode,d)}return((d,m)=>{let f=d,y=0;for(;Ud(f);){const v=f.data.length;if(m>=y&&m<=y+v){d=f,m-=y;break}if(!Ud(f.nextSibling)){d=f,m=v;break}y+=v,f=f.nextSibling}return Ud(d)&&m>d.data.length&&(m=d.data.length),It(d,m)})(c,parseInt(i,10))},Qs=_a,fh=(t,o,r,s,i)=>{const c=i?s.startContainer:s.endContainer;let d=i?s.startOffset:s.endOffset;const m=[],f=t.getRoot();if(Ao(c))m.push(r?((y,v,k)=>{let z=y(v.data.slice(0,k)).length;for(let F=v.previousSibling;F&&Ao(F);F=F.previousSibling)z+=y(F.data).length;return z})(o,c,d):d);else{let y=0;const v=c.childNodes;d>=v.length&&v.length&&(y=1,d=Math.max(0,v.length-1)),m.push(t.nodeIndex(v[d],r)+y)}for(let y=c;y&&y!==f;y=y.parentNode)m.push(t.nodeIndex(y,r));return m},Jp=(t,o,r)=>{let s=0;return ve.each(t.select(o),i=>i.getAttribute("data-mce-bogus")==="all"?void 0:i!==r&&void s++),s},Vb=(t,o)=>{let r=o?t.startContainer:t.endContainer,s=o?t.startOffset:t.endOffset;if($t(r)&&r.nodeName==="TR"){const i=r.childNodes;r=i[Math.min(o?s:s-1,i.length-1)],r&&(s=o?0:r.childNodes.length,o?t.setStart(r,s):t.setEnd(r,s))}},L0=t=>(Vb(t,!0),Vb(t,!1),t),hh=(t,o)=>{if($t(t)&&(t=Qu(t,o),Qs(t)))return t;if(Ec(t)){Ao(t)&&Xu(t)&&(t=t.parentNode);let r=t.previousSibling;if(Qs(r)||(r=t.nextSibling,Qs(r)))return r}},Qp=(t,o,r)=>{const s=r.getNode(),i=r.getRng();if(s.nodeName==="IMG"||Qs(s)){const d=s.nodeName;return{name:d,index:Jp(r.dom,d,s)}}const c=(d=>hh(d.startContainer,d.startOffset)||hh(d.endContainer,d.endOffset))(i);if(c){const d=c.tagName;return{name:d,index:Jp(r.dom,d,c)}}return((d,m,f,y)=>{const v=m.dom,k=fh(v,d,f,y,!0),z=m.isForward(),F=z0(y)?{isFakeCaret:!0}:{};return m.isCollapsed()?{start:k,forward:z,...F}:{start:k,end:fh(v,d,f,y,!1),forward:z,...F}})(t,r,o,i)},jb=(t,o,r)=>{const s={"data-mce-type":"bookmark",id:o,style:"overflow:hidden;line-height:0px"};return r?t.create("span",s,"&#xFEFF;"):t.create("span",s)},bh=(t,o)=>{const r=t.dom;let s=t.getRng();const i=r.uniqueId(),c=t.isCollapsed(),d=t.getNode(),m=d.nodeName,f=t.isForward();if(m==="IMG")return{name:m,index:Jp(r,m,d)};const y=L0(s.cloneRange());if(!c){y.collapse(!1);const k=jb(r,i+"_end",o);Ib(r,y,k)}s=L0(s),s.collapse(!0);const v=jb(r,i+"_start",o);return Ib(r,s,v),t.moveToBookmark({id:i,keep:!0,forward:f}),{id:i,forward:f}},zc=Ot(Qp,D,!0),xg=t=>t.type==="inline-command"||t.type==="inline-format",wg=t=>t.type==="block-command"||t.type==="block-format",I0=t=>{var o;const r=i=>ta.error({message:i,pattern:t}),s=(i,c,d)=>{if(t.format!==void 0){let m;if(ao(t.format)){if(!_t(t.format,Je))return r(i+" pattern has non-string items in the `format` array");m=t.format}else{if(!Je(t.format))return r(i+" pattern has non-string `format` parameter");m=[t.format]}return ta.value(c(m))}return t.cmd!==void 0?Je(t.cmd)?ta.value(d(t.cmd,t.value)):r(i+" pattern has non-string `cmd` parameter"):r(i+" pattern is missing both `format` and `cmd` parameters")};if(!bt(t))return r("Raw pattern is not an object");if(!Je(t.start))return r("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!Je(t.end))return r("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return r("Inline pattern has empty `start` and `end` parameters");let i=t.start,c=t.end;return c.length===0&&(c=i,i=""),s("Inline",d=>({type:"inline-format",start:i,end:c,format:d}),(d,m)=>({type:"inline-command",start:i,end:c,cmd:d,value:m}))}if(t.replacement!==void 0)return Je(t.replacement)?t.start.length===0?r("Replacement pattern has empty `start` parameter"):ta.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):r("Replacement pattern has non-string `replacement` parameter");{const i=(o=t.trigger)!==null&&o!==void 0?o:"space";return t.start.length===0?r("Block pattern has empty `start` parameter"):s("Block",c=>({type:"block-format",start:t.start,format:c[0],trigger:i}),(c,d)=>({type:"block-command",start:t.start,cmd:c,value:d,trigger:i}))}},P0=t=>Ue(t,wg),$b=t=>Ue(t,xg),ef=(t,o)=>({...t,blockPatterns:Ue(t.blockPatterns,r=>((s,i)=>(s.type==="block-command"||s.type==="block-format")&&s.trigger===i)(r,o))}),Ub=t=>{const o=(r=>{const s=[],i=[];return ke(r,c=>{c.fold(d=>{s.push(d)},d=>{i.push(d)})}),{errors:s,values:i}})(No(t,I0));return ke(o.errors,r=>console.error(r.message,r.pattern)),o.values},tf=(t,o,r)=>{t.dispatch(o,r)},rp=(t,o,r,s)=>{t.dispatch("FormatApply",{format:o,node:r,vars:s})},of=(t,o,r,s)=>{t.dispatch("FormatRemove",{format:o,node:r,vars:s})},ap=(t,o)=>t.dispatch("SetContent",o),kg=(t,o)=>t.dispatch("GetContent",o),jc=(t,o)=>{t.dispatch("AutocompleterUpdateActiveRange",o)},nf=(t,o)=>t.dispatch("PastePlainTextToggle",{state:o}),rf=Ja().deviceType,H0=rf.isTouch(),E_=Za.DOM,V0=t=>Gt(t,RegExp),dn=t=>o=>o.options.get(t),Zb=t=>Je(t)||bt(t),Hm=(t,o="")=>r=>{const s=Je(r);if(s){if(r.indexOf("=")!==-1){const i=(c=>{const d=c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(",");return xe(d,(m,f)=>{const y=f.split("="),v=y[0],k=y.length>1?y[1]:v;return m[ur(v)]=ur(k),m},{})})(r);return{value:Cn(i,t.id).getOr(o),valid:s}}return{value:r,valid:s}}return{valid:!1,message:"Must be a string."}},j0=dn("iframe_attrs"),sp=dn("doctype"),yh=dn("document_base_url"),om=dn("body_id"),vh=dn("body_class"),$0=dn("content_security_policy"),Gl=dn("br_in_pre"),As=dn("forced_root_block"),nl=dn("forced_root_block_attrs"),af=dn("newline_behavior"),nm=dn("br_newline_selector"),Mr=dn("no_newline_selector"),Nn=dn("keep_styles"),ip=dn("end_container_on_empty_block"),qb=dn("automatic_uploads"),Wb=dn("images_reuse_filename"),xh=dn("images_replace_blob_uris"),Ea=dn("icons"),_g=dn("icons_url"),Gb=dn("images_upload_url"),Wt=dn("images_upload_base_path"),Kb=dn("images_upload_credentials"),wh=dn("images_upload_handler"),sf=dn("content_css_cors"),kh=dn("referrer_policy"),rm=dn("language"),U0=dn("language_url"),am=dn("indent_use_margin"),Ia=dn("indentation"),Zd=dn("content_css"),ex=dn("content_style"),vu=dn("font_css"),xu=dn("directionality"),Yb=dn("inline_boundaries_selector"),tx=dn("object_resizing"),ox=dn("resize_img_proportional"),Co=dn("placeholder"),nx=dn("event_root"),rl=dn("service_message"),lf=dn("theme"),Z0=dn("theme_url"),Xb=dn("model"),Yn=dn("model_url"),lp=dn("inline_boundaries"),Jb=dn("formats"),z_=dn("preview_styles"),cf=dn("format_empty_lines"),Vn=dn("format_noneditable_selector"),q0=dn("custom_ui_selector"),wu=dn("inline"),Ed=dn("hidden_input"),cp=dn("submit_patch"),Ac=dn("add_form_submit_trigger"),dp=dn("add_unload_trigger"),df=dn("custom_undo_redo_levels"),_h=dn("disable_nodechange"),Cg=dn("readonly"),Sg=dn("editable_root"),W0=dn("content_css_cors"),Qb=dn("plugins"),G0=dn("external_plugins"),Vr=dn("block_unsupported_drop"),zd=dn("visual"),up=dn("visual_table_class"),ey=dn("visual_anchor_class"),mp=dn("iframe_aria_text"),Zr=dn("setup"),rx=dn("init_instance_callback"),uf=dn("urlconverter_callback"),ty=dn("auto_focus"),ax=dn("browser_spellcheck"),sx=dn("protect"),K0=dn("paste_block_drop"),mf=dn("paste_data_images"),A_=dn("paste_preprocess"),ix=dn("paste_postprocess"),oa=dn("newdocument_content"),gp=dn("paste_webkit_styles"),Ch=dn("paste_remove_styles_if_webkit"),oy=dn("paste_merge_formats"),qd=dn("smart_paste"),lx=dn("paste_as_text"),T_=dn("paste_tab_spaces"),Y0=dn("allow_html_data_urls"),ku=dn("text_patterns"),gf=dn("text_patterns_lookup"),Vm=dn("noneditable_class"),ny=dn("editable_class"),ry=dn("noneditable_regexp"),X0=dn("preserve_cdata"),cx=dn("highlight_on_focus"),Eg=dn("xss_sanitization"),Sh=dn("init_content_sync"),Eh=t=>ve.explode(t.options.get("images_file_types")),J0=dn("table_tab_navigation"),zh=dn("details_initial_state"),_u=dn("details_serialized_state"),Q0=dn("sandbox_iframes"),Ah=t=>t.options.get("sandbox_iframes_exclusions"),Th=dn("convert_unsafe_embeds"),zg=dn("license_key"),Oh=dn("api_key"),wi=dn("disabled"),dx=$t,ay=Ao,ux=t=>{const o=t.parentNode;o&&o.removeChild(t)},mx=t=>{const o=Wl(t);return{count:t.length-o.length,text:o}},Nh=t=>{let o;for(;(o=t.data.lastIndexOf(Pi))!==-1;)t.deleteData(o,1)},pf=(t,o)=>(sm(t),o),e1=(t,o)=>It.isTextPosition(o)?((r,s)=>ay(r)&&s.container()===r?((i,c)=>{const d=mx(i.data.substr(0,c.offset())),m=mx(i.data.substr(c.offset()));return(d.text+m.text).length>0?(Nh(i),It(i,c.offset()-d.count)):c})(r,s):pf(r,s))(t,o):((r,s)=>s.container()===r.parentNode?((i,c)=>{const d=c.container(),m=((f,y)=>{const v=Vt(f,y);return v===-1?R.none():R.some(v)})(qo(d.childNodes),i).map(f=>f<c.offset()?It(d,c.offset()-1):c).getOr(c);return sm(i),m})(r,s):pf(r,s))(t,o),sm=t=>{dx(t)&&Ec(t)&&(pl(t)?t.removeAttribute("data-mce-caret"):ux(t)),ay(t)&&(Nh(t),t.data.length===0&&ux(t))},t1=_a,gx=wc,o1=Zu,n1=(t,o,r)=>{const s=fl(o.getBoundingClientRect(),r);let i,c;if(t.tagName==="BODY"){const m=t.ownerDocument.documentElement;i=t.scrollLeft||m.scrollLeft,c=t.scrollTop||m.scrollTop}else{const m=t.getBoundingClientRect();i=t.scrollLeft-m.left,c=t.scrollTop-m.top}s.left+=i,s.right+=i,s.top+=c,s.bottom+=c,s.width=1;let d=o.offsetWidth-o.clientWidth;return d>0&&(r&&(d*=-1),s.left+=d,s.right+=d),s},px=(t,o,r,s)=>{const i=Fe();let c,d;const m=As(t),f=t.dom,y=()=>{(v=>{var k,z;const F=hi(Se(v),"*[contentEditable=false],video,audio,embed,object");for(let N=0;N<F.length;N++){const P=F[N].dom;let M=P.previousSibling;if(Ob(M)){const j=M.data;j.length===1?(k=M.parentNode)===null||k===void 0||k.removeChild(M):M.deleteData(j.length-1,1)}M=P.nextSibling,Tb(M)&&(M.data.length===1?(z=M.parentNode)===null||z===void 0||z.removeChild(M):M.deleteData(0,1))}})(o),d&&(sm(d),d=null),i.on(v=>{f.remove(v.caret),i.clear()}),c&&(clearInterval(c),c=void 0)};return{isShowing:i.isSet,show:(v,k)=>{let z;if(y(),o1(k))return null;if(!r(k))return d=((F,N)=>{var P;const M=((P=F.ownerDocument)!==null&&P!==void 0?P:document).createTextNode(Pi),j=F.parentNode;if(N){const Y=F.previousSibling;if(Cd(Y)){if(Ec(Y))return Y;if(Ob(Y))return Y.splitText(Y.data.length-1)}j==null||j.insertBefore(M,F)}else{const Y=F.nextSibling;if(Cd(Y)){if(Ec(Y))return Y;if(Tb(Y))return Y.splitText(1),Y}F.nextSibling?j==null||j.insertBefore(M,F.nextSibling):j==null||j.appendChild(M)}return M})(k,v),z=k.ownerDocument.createRange(),ff(d.nextSibling)?(z.setStart(d,0),z.setEnd(d,0)):(z.setStart(d,1),z.setEnd(d,1)),z;{const F=((M,j,Y)=>{var X;const ie=((X=j.ownerDocument)!==null&&X!==void 0?X:document).createElement(M);ie.setAttribute("data-mce-caret",Y?"before":"after"),ie.setAttribute("data-mce-bogus","all"),ie.appendChild(yg().dom);const ne=j.parentNode;return Y?ne==null||ne.insertBefore(ie,j):j.nextSibling?ne==null||ne.insertBefore(ie,j.nextSibling):ne==null||ne.appendChild(ie),ie})(m,k,v),N=n1(o,k,v);f.setStyle(F,"top",N.top),f.setStyle(F,"caret-color","transparent"),d=F;const P=f.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});f.setStyles(P,{...N}),f.add(o,P),i.set({caret:P,element:k,before:v}),v&&f.addClass(P,"mce-visual-caret-before"),c=window.setInterval(()=>{i.on(M=>{s()?f.toggleClass(M.caret,"mce-visual-caret-hidden"):f.addClass(M.caret,"mce-visual-caret-hidden")})},500),z=k.ownerDocument.createRange(),z.setStart(F,0),z.setEnd(F,0)}return z},hide:y,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on(v=>{const k=n1(o,v.element,v.before);f.setStyles(v.caret,{...k})})},destroy:()=>clearInterval(c)}},sy=()=>lo.browser.isFirefox(),ff=t=>t1(t)||gx(t),jm=t=>(ff(t)||Rs(t)&&sy())&&lr(Se(t)).exists(td),fx=Vl,Dh=_a,r1=wc,a1=aa("display","block table table-cell table-row table-caption list-item"),Mh=Ec,s1=Xu,hx=$t,i1=Ao,iy=Sd,pp=t=>t===1,Ag=t=>t===-1,p=(t,o)=>{let r;for(;r=t(o);)if(!s1(r))return r;return null},b=(t,o,r,s,i)=>{const c=new Ms(t,s),d=Dh(t)||s1(t);let m;if(Ag(o)){if(d&&(m=p(c.prev.bind(c),!0),r(m)))return m;for(;m=p(c.prev.bind(c),i);)if(r(m))return m}if(pp(o)){if(d&&(m=p(c.next.bind(c),!0),r(m)))return m;for(;m=p(c.next.bind(c),i);)if(r(m))return m}return null},_=(t,o)=>{for(;t&&t!==o;){if(a1(t))return t;t=t.parentNode}return null},E=(t,o,r)=>_(t.container(),r)===_(o.container(),r),I=(t,o)=>{if(!o)return R.none();const r=o.container(),s=o.offset();return hx(r)?R.from(r.childNodes[s+t]):R.none()},H=(t,o)=>{var r;const s=((r=o.ownerDocument)!==null&&r!==void 0?r:document).createRange();return t?(s.setStartBefore(o),s.setEndBefore(o)):(s.setStartAfter(o),s.setEndAfter(o)),s},q=(t,o,r)=>_(o,t)===_(r,t),J=(t,o,r)=>{const s=t?"previousSibling":"nextSibling";let i=r;for(;i&&i!==o;){let c=i[s];if(c&&Mh(c)&&(c=c[s]),Dh(c)||r1(c)){if(q(o,c,i))return c;break}if(iy(c))break;i=i.parentNode}return null},pe=Ot(H,!0),Oe=Ot(H,!1),Qe=(t,o,r)=>{let s;const i=Ot(J,!0,o),c=Ot(J,!1,o),d=r.startContainer,m=r.startOffset;if(Xu(d)){const f=i1(d)?d.parentNode:d,y=f.getAttribute("data-mce-caret");if(y==="before"&&(s=f.nextSibling,jm(s)))return pe(s);if(y==="after"&&(s=f.previousSibling,jm(s)))return Oe(s)}if(!r.collapsed)return r;if(Ao(d)){if(Mh(d)){if(t===1){if(s=c(d),s)return pe(s);if(s=i(d),s)return Oe(s)}if(t===-1){if(s=i(d),s)return Oe(s);if(s=c(d),s)return pe(s)}return r}if(Ob(d)&&m>=d.data.length-1)return t===1&&(s=c(d),s)?pe(s):r;if(Tb(d)&&m<=1)return t===-1&&(s=i(d),s)?Oe(s):r;if(m===d.data.length)return s=c(d),s?pe(s):r;if(m===0)return s=i(d),s?Oe(s):r}return r},Me=(t,o)=>I(t?0:-1,o).filter(Dh),$e=(t,o,r)=>{const s=Qe(t,o,r);return t===-1?It.fromRangeStart(s):It.fromRangeEnd(s)},He=t=>R.from(t.getNode()).map(Se),yt=(t,o)=>{let r=o;for(;r=t(r);)if(r.isVisible())return r;return r},ht=(t,o)=>{const r=E(t,o);return!(r||!ts(t.getNode()))||r},Qt=_a,to=Ao,Eo=$t,To=ts,zo=Sd,Zo=t=>Da(t)||(o=>!!ch(o)&&!xe(qo(o.getElementsByTagName("*")),(r,s)=>r||Mb(s),!1))(t),Wo=dh,Sn=(t,o)=>t.hasChildNodes()&&o<t.childNodes.length?t.childNodes[o]:null,qn=(t,o)=>{if(pp(t)){if(zo(o.previousSibling)&&!to(o.previousSibling))return It.before(o);if(to(o))return It(o,0)}if(Ag(t)){if(zo(o.nextSibling)&&!to(o.nextSibling))return It.after(o);if(to(o))return It(o,o.data.length)}return Ag(t)?To(o)?It.before(o):It.after(o):It.before(o)},Lr=(t,o,r)=>{let s,i,c,d;if(!Eo(r)||!o)return null;if(o.isEqual(It.after(r))&&r.lastChild){if(d=It.after(r.lastChild),Ag(t)&&zo(r.lastChild)&&Eo(r.lastChild))return To(r.lastChild)?It.before(r.lastChild):d}else d=o;const m=d.container();let f=d.offset();if(to(m)){if(Ag(t)&&f>0)return It(m,--f);if(pp(t)&&f<m.length)return It(m,++f);s=m}else{if(Ag(t)&&f>0&&(i=Sn(m,f-1),zo(i)))return!Zo(i)&&(c=b(i,t,Wo,i),c)?to(c)?It(c,c.data.length):It.after(c):to(i)?It(i,i.data.length):It.before(i);if(pp(t)&&f<m.childNodes.length&&(i=Sn(m,f),zo(i)))return To(i)?((v,k)=>{const z=k.nextSibling;return z&&zo(z)?to(z)?It(z,0):It.before(z):Lr(1,It.after(k),v)})(r,i):!Zo(i)&&(c=b(i,t,Wo,i),c)?to(c)?It(c,0):It.before(c):to(i)?It(i,0):It.after(i);s=i||d.getNode()}if(s&&(pp(t)&&d.isAtEnd()||Ag(t)&&d.isAtStart())&&(s=b(s,t,je,r,!0),Wo(s,r)))return qn(t,s);i=s&&b(s,t,Wo,r);const y=Ls(Ue(((v,k)=>{const z=[];let F=v;for(;F&&F!==k;)z.push(F),F=F.parentNode;return z})(m,r),Qt));return!y||i&&y.contains(i)?i?qn(t,i):null:(d=pp(t)?It.after(y):It.before(y),d)},Xn=t=>({next:o=>Lr(1,o,t),prev:o=>Lr(-1,o,t)}),Ar=t=>It.isTextPosition(t)?t.offset()===0:Sd(t.getNode()),mr=t=>{if(It.isTextPosition(t)){const o=t.container();return t.offset()===o.data.length}return Sd(t.getNode(!0))},za=(t,o)=>!It.isTextPosition(t)&&!It.isTextPosition(o)&&t.getNode()===o.getNode(!0),Ho=(t,o,r)=>{const s=Xn(o);return R.from(t?s.next(r):s.prev(r))},ei=(t,o,r)=>Ho(t,o,r).bind(s=>E(r,s,o)&&((i,c,d)=>{return i?!za(c,d)&&(m=c,!(!It.isTextPosition(m)&&ts(m.getNode())))&&mr(c)&&Ar(d):!za(d,c)&&Ar(c)&&mr(d);var m})(t,r,s)?Ho(t,o,s):R.some(s)),Vi=(t,o,r,s)=>ei(t,o,r).bind(i=>s(i)?Vi(t,o,i,s):R.some(i)),hl=(t,o)=>{const r=t?o.firstChild:o.lastChild;return Ao(r)?R.some(It(r,t?0:r.data.length)):r?Sd(r)?R.some(t?It.before(r):ts(s=r)?It.before(s):It.after(s)):((i,c,d)=>{const m=i?It.before(d):It.after(d);return Ho(i,c,m)})(t,o,r):R.none();var s},ki=Ot(Ho,!0),ws=Ot(Ho,!1),$s=Ot(hl,!0),Dl=Ot(hl,!1),fp="_mce_caret",lc=t=>$t(t)&&t.id===fp,Cu=(t,o)=>{let r=o;for(;r&&r!==t;){if(lc(r))return r;r=r.parentNode}return null},Su=t=>on(t,"name"),O_=t=>ve.isArray(t.start),l1=t=>!(!Su(t)&&St(t.forward))||t.forward,Tg=(t,o)=>($t(o)&&t.isBlock(o)&&!o.innerHTML&&(o.innerHTML='<br data-mce-bogus="1" />'),o),jS=(t,o)=>Dl(t).fold(Bo,r=>(o.setStart(r.container(),r.offset()),o.setEnd(r.container(),r.offset()),!0)),bx=(t,o,r)=>!(!(s=>!s.hasChildNodes())(o)||!Cu(t,o)||(((s,i)=>{var c;const d=((c=s.ownerDocument)!==null&&c!==void 0?c:document).createTextNode(Pi);s.appendChild(d),i.setStart(d,0),i.setEnd(d,0)})(o,r),0)),c1=(t,o,r,s)=>{const i=r[o?"start":"end"],c=t.getRoot();if(i){let d=c,m=i[0];for(let f=i.length-1;d&&f>=1;f--){const y=d.childNodes;if(bx(c,d,s))return!0;if(i[f]>y.length-1)return!!bx(c,d,s)||jS(d,s);d=y[i[f]]}Ao(d)&&(m=Math.min(i[0],d.data.length)),$t(d)&&(m=Math.min(i[0],d.childNodes.length)),o?s.setStart(d,m):s.setEnd(d,m)}return!0},yx=t=>Ao(t)&&t.data.length>0,$S=(t,o,r)=>{const s=t.get(r.id+"_"+o),i=s==null?void 0:s.parentNode,c=r.keep;if(s&&i){let d,m;if(o==="start"?c?s.hasChildNodes()?(d=s.firstChild,m=1):yx(s.nextSibling)?(d=s.nextSibling,m=0):yx(s.previousSibling)?(d=s.previousSibling,m=s.previousSibling.data.length):(d=i,m=t.nodeIndex(s)+1):(d=i,m=t.nodeIndex(s)):c?s.hasChildNodes()?(d=s.firstChild,m=1):yx(s.previousSibling)?(d=s.previousSibling,m=s.previousSibling.data.length):(d=i,m=t.nodeIndex(s)):(d=i,m=t.nodeIndex(s)),!c){const f=s.previousSibling,y=s.nextSibling;let v;for(ve.each(ve.grep(s.childNodes),k=>{Ao(k)&&(k.data=k.data.replace(/\uFEFF/g,""))});v=t.get(r.id+"_"+o);)t.remove(v,!0);if(Ao(y)&&Ao(f)&&!lo.browser.isOpera()){const k=f.data.length;f.appendData(y.data),t.remove(y),d=f,m=k}}return R.some(It(d,m))}return R.none()},US=(t,o,r)=>((s,i,c=!1)=>i===2?Qp(Wl,c,s):i===3?(d=>{const m=d.getRng();return{start:ol(d.dom.getRoot(),It.fromRangeStart(m)),end:ol(d.dom.getRoot(),It.fromRangeEnd(m)),forward:d.isForward()}})(s):i?(d=>({rng:d.getRng(),forward:d.isForward()}))(s):bh(s,!1))(t,o,r),ZS=(t,o)=>{((r,s)=>{const i=r.dom;if(s){if(O_(s))return((c,d)=>{const m=c.createRng();return c1(c,!0,d,m)&&c1(c,!1,d,m)?R.some({range:m,forward:l1(d)}):R.none()})(i,s);if((c=>Je(c.start))(s))return((c,d)=>{const m=R.from(Hi(c.getRoot(),d.start)),f=R.from(Hi(c.getRoot(),d.end));return Rr(m,f,(y,v)=>{const k=c.createRng();return k.setStart(y.container(),y.offset()),k.setEnd(v.container(),v.offset()),{range:k,forward:l1(d)}})})(i,s);if((c=>on(c,"id"))(s))return((c,d)=>{const m=$S(c,"start",d),f=$S(c,"end",d);return Rr(m,f.or(m),(y,v)=>{const k=c.createRng();return k.setStart(Tg(c,y.container()),y.offset()),k.setEnd(Tg(c,v.container()),v.offset()),{range:k,forward:l1(d)}})})(i,s);if(Su(s))return((c,d)=>R.from(c.select(d.name)[d.index]).map(m=>{const f=c.createRng();return f.selectNode(m),{range:f,forward:!0}}))(i,s);if((c=>on(c,"rng"))(s))return R.some({range:s.rng,forward:l1(s)})}return R.none()})(t,o).each(({range:r,forward:s})=>{t.setRng(r,s)})},Wd=t=>$t(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",ly=(N_=zn,t=>N_===t);var N_;const hf=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,D_=t=>!hf(t)&&!ly(t)&&!eo(t),d1=t=>{const o=[];if(t)for(let r=0;r<t.rangeCount;r++)o.push(t.getRangeAt(r));return o},qS=(t,o)=>{const r=hi(o,"td[data-mce-selected],th[data-mce-selected]");return r.length>0?r:(s=>Ue((i=>ot(i,c=>{const d=Db(c);return d?[Se(d)]:[]}))(s),Lm))(t)},hp=t=>qS(d1(t.selection.getSel()),Se(t.getBody())),cy=(t,o)=>ma(t,"table",o),WS=t=>An(t).fold(Nt([t]),o=>[t].concat(WS(o))),or=t=>yc(t).fold(Nt([t]),o=>pr(o)==="br"?us(o).map(r=>[t].concat(or(r))).getOr([]):[t].concat(or(o))),M_=(t,o)=>Rr((r=>{const s=r.startContainer,i=r.startOffset;return Ao(s)?i===0?R.some(Se(s)):R.none():R.from(s.childNodes[i]).map(Se)})(o),(r=>{const s=r.endContainer,i=r.endOffset;return Ao(s)?i===s.data.length?R.some(Se(s)):R.none():R.from(s.childNodes[i-1]).map(Se)})(o),(r,s)=>{const i=Ie(WS(t),Ot(wr,r)),c=Ie(or(t),Ot(wr,s));return i.isSome()&&c.isSome()}).getOr(!1),R_=(t,o,r,s)=>{const i=r,c=new Ms(r,i),d=gr(t.schema.getMoveCaretBeforeOnEnterElements(),(f,y)=>!co(["td","th","table"],y.toLowerCase()));let m=r;do{if(Ao(m)&&ve.trim(m.data).length!==0)return void(s?o.setStart(m,0):o.setEnd(m,m.data.length));if(d[m.nodeName])return void(s?o.setStartBefore(m):m.nodeName==="BR"?o.setEndBefore(m):o.setEndAfter(m))}while(m=s?c.next():c.prev());i.nodeName==="BODY"&&(s?o.setStart(i,0):o.setEnd(i,i.childNodes.length))},vx=t=>{const o=t.selection.getSel();return Xe(o)&&o.rangeCount>0},B_=(t,o)=>{const r=hp(t);r.length>0?ke(r,s=>{const i=s.dom,c=t.dom.createRng();c.setStartBefore(i),c.setEndAfter(i),o(c,!0)}):o(t.selection.getRng(),!1)},GS=(t,o,r)=>{const s=bh(t,o);r(s),t.moveToBookmark(s)},dy=t=>pt(t==null?void 0:t.nodeType),u1=t=>$t(t)&&!Wd(t)&&!lc(t)&&!va(t),uy=(t,o,r)=>{const{selection:s,dom:i}=t,c=s.getNode(),d=_a(c);GS(s,!0,()=>{o()}),d&&_a(c)&&i.isChildOf(c,t.getBody())?t.selection.select(c):r(s.getStart())&&my(i,s)},my=(t,o)=>{var r,s;const i=o.getRng(),{startContainer:c,startOffset:d}=i;if(!((m,f)=>{if(u1(f)&&!/^(TD|TH)$/.test(f.nodeName)){const y=m.getAttrib(f,"data-mce-selected"),v=parseInt(y,10);return!isNaN(v)&&v>0}return!1})(t,o.getNode())&&$t(c)){const m=c.childNodes,f=t.getRoot();let y;if(d<m.length){const v=m[d];y=new Ms(v,(r=t.getParent(v,t.isBlock))!==null&&r!==void 0?r:f)}else{const v=m[m.length-1];y=new Ms(v,(s=t.getParent(v,t.isBlock))!==null&&s!==void 0?s:f),y.next(!0)}for(let v=y.current();v;v=y.next()){if(t.getContentEditable(v)==="false")return;if(Ao(v)&&!xx(v))return i.setStart(v,0),void o.setRng(i)}}},KS=(t,o,r)=>{if(t){const s=o?"nextSibling":"previousSibling";for(t=t[s];t;t=t[s])if($t(t)||!xx(t))return t}},gy=(t,o)=>!!t.getTextBlockElements()[o.nodeName.toLowerCase()]||Lc(t,o),py=(t,o,r)=>t.schema.isValidChild(o,r),xx=(t,o=!1)=>{if(Xe(t)&&Ao(t)){const r=o?t.data.replace(/ /g," "):t.data;return V(r)}return!1},wx=(t,o)=>{const r=t.dom;return u1(o)&&r.getContentEditable(o)==="false"&&((s,i)=>{const c="[data-mce-cef-wrappable]",d=Vn(s),m=Kt(d)?c:`${c},${d}`;return Ri(Se(i),m)})(t,o)&&r.select('[contenteditable="true"]',o).length===0},bf=(t,o)=>ae(t)?t(o):(Xe(o)&&(t=t.replace(/%(\w+)/g,(r,s)=>o[s]||r)),t),F_=(t,o)=>(o=o||"",t=""+((t=t||"").nodeName||t),o=""+(o.nodeName||o),t.toLowerCase()===o.toLowerCase()),L_=(t,o)=>{if(he(t))return null;{let r=String(t);return o!=="color"&&o!=="backgroundColor"||(r=ga(r)),o==="fontWeight"&&t===700&&(r="bold"),o==="fontFamily"&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),r}},kx=(t,o,r)=>{const s=t.getStyle(o,r);return L_(s,r)},yf=(t,o)=>{let r;return t.getParent(o,s=>!!$t(s)&&(r=t.getStyle(s,"text-decoration"),!!r&&r!=="none")),r},_x=(t,o,r)=>t.getParents(o,r,t.getRoot()),I_=(t,o,r)=>{const s=t.formatter.get(o);return Xe(s)&&xo(s,r)},$m=t=>ea(t,"block"),Eu=t=>ea(t,"selector"),bl=t=>ea(t,"inline"),P_=t=>Eu(t)&&t.expand!==!1&&!bl(t),gs=t=>(o=>{const r=[];let s=o;for(;s;){if(Ao(s)&&s.data!==Pi||s.childNodes.length>1)return[];$t(s)&&r.push(s),s=s.firstChild}return r})(t).length>0,Cx=t=>lc(t.dom)&&gs(t.dom),fy=Wd,Sx=_x,Kl=xx,Gd=gy,H_=(t,o)=>{let r=o;for(;r;){if($t(r)&&t.getContentEditable(r))return t.getContentEditable(r)==="false"?r:o;r=r.parentNode}return o},YS=(t,o,r,s)=>{const i=o.data;if(t){for(let c=r;c>0;c--)if(s(i.charAt(c-1)))return c}else for(let c=r;c<i.length;c++)if(s(i.charAt(c)))return c;return-1},KT=(t,o,r)=>YS(t,o,r,s=>ly(s)||hf(s)),Um=(t,o,r)=>YS(t,o,r,D_),XS=(t,o,r,s,i,c)=>{let d;const m=t.getParent(r,v=>zm(v)||t.isBlock(v)),f=Xe(m)?m:o,y=(v,k,z)=>{const F=bg(t),N=i?F.backwards:F.forwards;return R.from(N(v,k,(P,M)=>fy(P.parentNode)?-1:(d=P,z(i,P,M)),f))};return y(r,s,KT).bind(v=>c?y(v.container,v.offset+(i?-1:0),Um):R.some(v)).orThunk(()=>d?R.some({container:d,offset:i?0:d.length}):R.none())},JS=(t,o,r,s,i)=>{const c=s[i];Ao(s)&&Kt(s.data)&&c&&(s=c);const d=Sx(t,s);for(let m=0;m<d.length;m++)for(let f=0;f<o.length;f++){const y=o[f];if((!Xe(y.collapsed)||y.collapsed===r.collapsed)&&Eu(y)&&t.is(d[m],y.selector))return d[m]}return s},$r=(t,o,r,s)=>{var i;let c=r;const d=t.getRoot(),m=o[0];if($m(m)&&(c=m.wrapper?null:t.getParent(r,m.block,d)),!c){const f=(i=t.getParent(r,"LI,TD,TH,SUMMARY"))!==null&&i!==void 0?i:d;c=t.getParent(Ao(r)?r.parentNode:r,y=>y!==d&&Gd(t.schema,y),f)}if(c&&$m(m)&&m.wrapper&&(c=Sx(t,c,"ul,ol").reverse()[0]||c),!c)for(c=r;c&&c[s]&&!t.isBlock(c[s])&&(c=c[s],!F_(c,"br")););return c||r},QS=(t,o,r,s)=>{const i=r.parentNode;return!Xe(r[s])&&(!(i!==o&&!he(i)&&!t.isBlock(i))||QS(t,o,i,s))},Ex=(t,o,r,s,i,c)=>{let d=r;const m=i?"previousSibling":"nextSibling",f=t.getRoot();if(Ao(r)&&!Kl(r)&&(i?s>0:s<r.data.length))return r;for(;d;){if(zm(d))return r;if(!o[0].block_expand&&t.isBlock(d))return c?d:r;for(let v=d[m];v;v=v[m]){const k=Ao(v)&&!QS(t,f,v,m);if(!fy(v)&&(!ts(y=v)||!y.getAttribute("data-mce-bogus")||y.nextSibling)&&!Kl(v,k))return d}if(d===f||d.parentNode===f){r=d;break}d=d.parentNode}var y;return r},e3=t=>fy(t.parentNode)||fy(t),ps=(t,o,r,s={})=>{const{includeTrailingSpace:i=!1,expandToBlock:c=!0}=s,d=t.getParent(o.commonAncestorContainer,F=>zm(F)),m=Xe(d)?d:t.getRoot();let{startContainer:f,startOffset:y,endContainer:v,endOffset:k}=o;const z=r[0];return $t(f)&&f.hasChildNodes()&&(f=Qu(f,y),Ao(f)&&(y=0)),$t(v)&&v.hasChildNodes()&&(v=Qu(v,o.collapsed?k:k-1),Ao(v)&&(k=v.data.length)),f=H_(t,f),v=H_(t,v),e3(f)&&(f=fy(f)?f:f.parentNode,f=o.collapsed?f.previousSibling||f:f.nextSibling||f,Ao(f)&&(y=o.collapsed?f.length:0)),e3(v)&&(v=fy(v)?v:v.parentNode,v=o.collapsed?v.nextSibling||v:v.previousSibling||v,Ao(v)&&(k=o.collapsed?0:v.length)),o.collapsed&&(XS(t,m,f,y,!0,i).each(({container:F,offset:N})=>{f=F,y=N}),XS(t,m,v,k,!1,i).each(({container:F,offset:N})=>{v=F,k=N})),(bl(z)||z.block_expand)&&(bl(z)&&Ao(f)&&y!==0||(f=Ex(t,r,f,y,!0,c)),bl(z)&&Ao(v)&&k!==v.data.length||(v=Ex(t,r,v,k,!1,c))),P_(z)&&(f=JS(t,r,o,f,"previousSibling"),v=JS(t,r,o,v,"nextSibling")),($m(z)||Eu(z))&&(f=$r(t,r,f,"previousSibling"),v=$r(t,r,v,"nextSibling"),$m(z)&&(t.isBlock(f)||(f=Ex(t,r,f,y,!0,c),Ao(f)&&(y=0)),t.isBlock(v)||(v=Ex(t,r,v,k,!1,c),Ao(v)&&(k=v.data.length)))),$t(f)&&f.parentNode&&(y=t.nodeIndex(f),f=f.parentNode),$t(v)&&v.parentNode&&(k=t.nodeIndex(v)+1,v=v.parentNode),{startContainer:f,startOffset:y,endContainer:v,endOffset:k}},m1=(t,o,r)=>{var s;const i=o.startOffset,c=Qu(o.startContainer,i),d=o.endOffset,m=Qu(o.endContainer,d-1),f=M=>{const j=M[0];Ao(j)&&j===c&&i>=j.data.length&&M.splice(0,1);const Y=M[M.length-1];return d===0&&M.length>0&&Y===m&&Ao(Y)&&M.splice(M.length-1,1),M},y=(M,j,Y)=>{const X=[];for(;M&&M!==Y;M=M[j])X.push(M);return X},v=(M,j)=>t.getParent(M,Y=>Y.parentNode===j,j),k=(M,j,Y)=>{const X=Y?"nextSibling":"previousSibling";for(let ie=M,ne=ie.parentNode;ie&&ie!==j;ie=ne){ne=ie.parentNode;const we=y(ie===M?ie:ie[X],X);we.length&&(Y||we.reverse(),r(f(we)))}};if(c===m)return r(f([c]));const z=(s=t.findCommonAncestor(c,m))!==null&&s!==void 0?s:t.getRoot();if(t.isChildOf(c,m))return k(c,z,!0);if(t.isChildOf(m,c))return k(m,z);const F=v(c,z)||c,N=v(m,z)||m;k(c,F,!0);const P=y(F===c?F:F.nextSibling,"nextSibling",N===m?N.nextSibling:N);P.length&&r(f(P)),k(m,N)},t3=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],zx=(t,o,r,s,i,c)=>{const{uid:d=o,...m}=r;fd(t,pg()),ra(t,`${Kp()}`,d),ra(t,`${fg()}`,s);const{attributes:f={},classes:y=[]}=i(d,m);if(Mc(t,f),((v,k)=>{ke(k,z=>{fd(v,z)})})(t,y),c){y.length>0&&ra(t,`${_d()}`,y.join(","));const v=Dt(f);v.length>0&&ra(t,`${Rm()}`,v.join(","))}},o3=(t,o,r,s,i)=>{const c=Wn("span",t);return zx(c,o,r,s,i,!1),c},YT=(t,o,r,s,i,c)=>{const d=[],m=o3(t.getDoc(),r,c,s,i),f=Fe(),y=()=>{f.clear()},v=z=>{ke(z,k)},k=z=>{switch(((F,N,P,M)=>lr(N).fold(()=>"skipping",j=>M==="br"||(Y=>la(Y)&&ed(Y)===Pi)(N)?"valid":(Y=>Gs(Y)&&cu(Y,pg()))(N)?"existing":lc(N.dom)?"caret":xo(t3,Y=>Ri(N,Y))?"valid-block":py(F,P,M)&&py(F,pr(j),P)?"valid":"invalid-child"))(t,z,"span",pr(z))){case"invalid-child":{y();const F=ha(z);v(F),y();break}case"valid-block":y(),zx(z,r,c,s,i,!0);break;case"valid":{const F=f.get().getOrThunk(()=>{const N=Rc(m);return d.push(N),f.set(N),N});gd(z,F);break}}};return m1(t.dom,o,z=>{y(),(F=>{const N=No(F,Se);v(N)})(z)}),d},n3=t=>{const o=(()=>{const c={};return{register:(d,m)=>{c[d]={name:d,settings:m}},lookup:d=>Cn(c,d).map(m=>m.settings),getNames:()=>Dt(c)}})();((c,d)=>{const m=fg(),f=v=>R.from(v.attr(m)).bind(d.lookup),y=v=>{var k,z;v.attr(Kp(),null),v.attr(fg(),null),v.attr(hg(),null);const F=R.from(v.attr(Rm())).map(j=>j.split(",")).getOr([]),N=R.from(v.attr(_d())).map(j=>j.split(",")).getOr([]);ke(F,j=>v.attr(j,null));const P=(z=(k=v.attr("class"))===null||k===void 0?void 0:k.split(" "))!==null&&z!==void 0?z:[],M=dt(P,[pg()].concat(N));v.attr("class",M.length>0?M.join(" "):null),v.attr(_d(),null),v.attr(Rm(),null)};c.serializer.addTempAttr(hg()),c.serializer.addAttributeFilter(m,v=>{for(const k of v)f(k).each(z=>{z.persistent===!1&&(k.name==="span"?k.unwrap():y(k))})})})(t,o);const r=((c,d)=>{const m=Tr({}),f=()=>({listeners:[],previous:Fe()}),y=(F,N)=>{v(F,P=>(N(P),P))},v=(F,N)=>{const P=m.get(),M=N(Cn(P,F).getOrThunk(f));P[F]=M,m.set(P)},k=(F,N)=>{ke(ah(c,F),P=>{N?ra(P,hg(),"true"):ja(P,hg())})},z=vn(()=>{const F=Fo(d.getNames());ke(F,N=>{v(N,P=>{const M=P.previous.get();return sc(c,R.some(N)).fold(()=>{M.each(j=>{(Y=>{y(Y,X=>{ke(X.listeners,ie=>ie(!1,Y))})})(N),P.previous.clear(),k(j,!1)})},({uid:j,name:Y,elements:X})=>{Er(M,j)||(M.each(ie=>k(ie,!1)),((ie,ne,we)=>{y(ie,Ye=>{ke(Ye.listeners,Ve=>Ve(!0,ie,{uid:ne,nodes:No(we,at=>at.dom)}))})})(Y,j,X),P.previous.set(j),k(j,!0))}),{previous:P.previous,listeners:P.listeners}})})},30);return c.on("remove",()=>{z.cancel()}),c.on("NodeChange",()=>{z.throttle()}),{addListener:(F,N)=>{v(F,P=>({previous:P.previous,listeners:P.listeners.concat([N])}))}}})(t,o),s=de("span"),i=c=>{ke(c,d=>{s(d)?El(d):(m=>{hd(m,pg()),ja(m,`${Kp()}`),ja(m,`${fg()}`),ja(m,`${hg()}`);const f=br(m,`${Rm()}`).map(k=>k.split(",")).getOr([]),y=br(m,`${_d()}`).map(k=>k.split(",")).getOr([]);var v;ke(f,k=>ja(m,k)),v=m,ke(y,k=>{hd(v,k)}),ja(m,`${_d()}`),ja(m,`${Rm()}`)})(d)})};return{register:(c,d)=>{o.register(c,d)},annotate:(c,d)=>{o.lookup(c).each(m=>{((f,y,v,k)=>{f.undoManager.transact(()=>{const z=f.selection,F=z.getRng(),N=hp(f).length>0,P=gt("mce-annotation");if(F.collapsed&&!N&&((M,j)=>{const Y=ps(M.dom,j,[{inline:"span"}]);j.setStart(Y.startContainer,Y.startOffset),j.setEnd(Y.endContainer,Y.endOffset),M.selection.setRng(j)})(f,F),z.getRng().collapsed&&!N){const M=o3(f.getDoc(),P,k,y,v.decorate);Qc(M,zn),z.getRng().insertNode(M.dom),z.select(M.dom)}else GS(z,!1,()=>{B_(f,M=>{YT(f,M,P,y,v.decorate,k)})})})})(t,c,m,d)})},annotationChanged:(c,d)=>{r.addListener(c,d)},remove:c=>{sc(t,R.some(c)).each(({elements:d})=>{const m=t.selection.getBookmark();i(d),t.selection.moveToBookmark(m)})},removeAll:c=>{const d=t.selection.getBookmark();ft(qa(t,c),(m,f)=>{i(m)}),t.selection.moveToBookmark(d)},getAll:c=>{const d=qa(t,c);return bo(d,m=>No(m,f=>f.dom))}}},g1=t=>({getBookmark:Ot(US,t),moveToBookmark:Ot(ZS,t)});g1.isBookmarkNode=Wd;const Ax=(t,o,r)=>!r.collapsed&&xo(r.getClientRects(),s=>((i,c,d)=>c>=i.left&&c<=i.right&&d>=i.top&&d<=i.bottom)(s,t,o)),Tx=(t,o)=>{const r=la(o)?ed(o).length:ha(o).length+1;return t>r?r:t<0?0:t},r3=t=>bd.range(t.start,Tx(t.soffset,t.start),t.finish,Tx(t.foffset,t.finish)),a3=(t,o)=>!yo(o.dom)&&(Na(t,o)||wr(t,o)),s3=t=>o=>a3(t,o.start)&&a3(t,o.finish),XT=t=>bd.range(Se(t.startContainer),t.startOffset,Se(t.endContainer),t.endOffset),En=t=>{const o=document.createRange();try{return o.setStart(t.start.dom,t.soffset),o.setEnd(t.finish.dom,t.foffset),R.some(o)}catch{return R.none()}},Ad=t=>{const o=(s=>s.inline||lo.browser.isFirefox())(t)?(r=Se(t.getBody()),(s=>{const i=s.getSelection();return(i&&i.rangeCount!==0?R.from(i.getRangeAt(0)):R.none()).map(XT)})(Zt(r).dom).filter(s3(r))):R.none();var r;t.bookmark=o.isSome()?o:t.bookmark},Ox=t=>(t.bookmark?t.bookmark:R.none()).bind(o=>{return r=Se(t.getBody()),s=o,R.from(s).filter(s3(r)).map(r3);var r,s}).bind(En),i3={isEditorUIElement:t=>{const o=t.className.toString();return o.indexOf("tox-")!==-1||o.indexOf("mce-")!==-1}},zu={setEditorTimeout:(t,o,r)=>((s,i)=>(pt(i)||(i=0),window.setTimeout(s,i)))(()=>{t.removed||o()},r),setEditorInterval:(t,o,r)=>{const s=((i,c)=>(pt(c)||(c=0),window.setInterval(i,c)))(()=>{t.removed?window.clearInterval(s):o()},r);return s}},V_=(t,o)=>t.view(o).fold(Nt([]),r=>{const s=t.owner(r),i=V_(t,s);return[r].concat(i)});var l3=Object.freeze({__proto__:null,view:t=>{var o;return(t.dom===document?R.none():R.from((o=t.dom.defaultView)===null||o===void 0?void 0:o.frameElement)).map(Se)},owner:t=>lt(t)});const Nx=t=>{const o=dl(),r=ag(o),s=((d,m)=>{const f=m.owner(d);return V_(m,f)})(t,l3),i=es(t),c=me(s,(d,m)=>{const f=es(m);return{left:d.left+f.left,top:d.top+f.top}},{left:0,top:0});return su(c.left+i.left+r.left,c.top+i.top+r.top)};let vf;const p1=Za.DOM,f1=t=>{const o=t.classList;return o!==void 0&&(o.contains("tox-edit-area")||o.contains("tox-edit-area__iframe")||o.contains("mce-content-body"))},h1=(t,o)=>{const r=q0(t);return p1.getParent(o,i=>(c=>$t(c)&&i3.isEditorUIElement(c))(i)||!!r&&t.dom.is(i,r))!==null},Dx=t=>{try{const o=mi(Se(t.getElement()));return nu(o).fold(()=>document.body,r=>r.dom)}catch{return document.body}},j_=(t,o)=>{const r=o.editor;(i=>{const c=Do(()=>{Ad(i)},0);i.on("init",()=>{i.inline&&((d,m)=>{const f=()=>{m.throttle()};Za.DOM.bind(document,"mouseup",f),d.on("remove",()=>{Za.DOM.unbind(document,"mouseup",f)})})(i,c),((d,m)=>{((f,y)=>{f.on("mouseup touchend",v=>{y.throttle()})})(d,m),d.on("keyup NodeChange AfterSetSelectionRange",f=>{(y=>y.type==="nodechange"&&y.selectionChange)(f)||Ad(d)})})(i,c)}),i.on("remove",()=>{c.cancel()})})(r);const s=(i,c)=>{cx(i)&&i.inline!==!0&&c(Se(i.getContainer()),"tox-edit-focus")};r.on("focusin",()=>{const i=t.focusedEditor;if(f1(Dx(r))&&s(r,fd),i!==r){i&&i.dispatch("blur",{focusedEditor:r}),t.setActive(r),t.focusedEditor=r,r.dispatch("focus",{blurredEditor:i}),r.focus(!0);const c=Ja().browser;r.inline!==!0&&(c.isSafari()||c.isChromium())&&(d=>{if(!d.iframeElement)return;const m=Se(d.iframeElement),f=Nx(m),y=bi(window);(f.top<y.y||f.top>y.bottom-25)&&m.dom.scrollIntoView({block:"center"})})(r)}}),r.on("focusout",()=>{zu.setEditorTimeout(r,()=>{const i=t.focusedEditor;f1(Dx(r))&&i===r||s(r,hd),h1(r,Dx(r))||i!==r||(r.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),vf||(vf=i=>{const c=t.activeEditor;c&&Yc(i).each(d=>{const m=d;m.ownerDocument===document&&(m===document.body||h1(c,m)||t.focusedEditor!==c||(c.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null))})},p1.bind(document,"focusin",vf))},JT=(t,o)=>{t.focusedEditor===o.editor&&(t.focusedEditor=null),!t.activeEditor&&vf&&(p1.unbind(document,"focusin",vf),vf=null)},$_=(t,o)=>{((r,s)=>(i=>i.collapsed?R.from(Qu(i.startContainer,i.startOffset)).map(Se):R.none())(s).bind(i=>C0(i)?R.some(i):Na(r,i)?R.none():R.some(r)))(Se(t.getBody()),o).bind(r=>$s(r.dom)).fold(()=>{t.selection.normalize()},r=>t.selection.setRng(r.toRange()))},hy=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},Rh=t=>t.inline?(o=>{const r=o.getBody();return r&&(s=Se(r),vc(s)||(i=s,nu(mi(i)).filter(c=>i.dom.contains(c.dom))).isSome());var s,i})(t):(o=>Xe(o.iframeElement)&&vc(Se(o.iframeElement)))(t),Mx=t=>Rh(t)||(o=>{const r=mi(Se(o.getElement()));return nu(r).filter(s=>!f1(s.dom)&&h1(o,s.dom)).isSome()})(t),by=t=>t.editorManager.setActive(t),un={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||un.metaKeyPressed(t),metaKeyPressed:t=>lo.os.isMacOS()||lo.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},xf="data-mce-selected",c3=Math.abs,Rx=Math.round,U_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},d3=(t,o)=>{const r=o.dom,s=o.getDoc(),i=document,c=o.getBody();let d,m,f,y,v,k,z,F,N,P,M,j,Y,X,ie;const ne=Qo=>Xe(Qo)&&(Em(Qo)||r.is(Qo,"figure.image")),we=Qo=>wc(Qo)||r.hasClass(Qo,"mce-preview-object"),Ye=Qo=>{const Tn=Qo.target;((nt,ct)=>{if((Ut=>Ut.type==="longpress"||Ut.type.indexOf("touch")===0)(nt)){const Ut=nt.touches[0];return ne(nt.target)&&!Ax(Ut.clientX,Ut.clientY,ct)}return ne(nt.target)&&!Ax(nt.clientX,nt.clientY,ct)})(Qo,o.selection.getRng())&&!Qo.isDefaultPrevented()&&o.selection.select(Tn)},Ve=Qo=>r.hasClass(Qo,"mce-preview-object")&&Xe(Qo.firstElementChild)?[Qo,Qo.firstElementChild]:r.is(Qo,"figure.image")?[Qo.querySelector("img")]:[Qo],at=Qo=>{const Tn=tx(o);return!(!Tn||o.mode.isReadOnly())&&Qo.getAttribute("data-mce-resize")!=="false"&&Qo!==o.getBody()&&(r.hasClass(Qo,"mce-preview-object")&&Xe(Qo.firstElementChild)?Ri(Se(Qo.firstElementChild),Tn):Ri(Se(Qo),Tn))},Mt=(Qo,Tn,nt)=>{if(Xe(nt)){const ct=Ve(Qo);ke(ct,Ut=>{Ut.style[Tn]||!o.schema.isValid(Ut.nodeName.toLowerCase(),Tn)?r.setStyle(Ut,Tn,nt):r.setAttrib(Ut,Tn,""+nt)})}},Ae=(Qo,Tn,nt)=>{Mt(Qo,"width",Tn),Mt(Qo,"height",nt)},Ze=Qo=>{let Tn,nt,ct,Ut,Ht;Tn=Qo.screenX-k,nt=Qo.screenY-z,j=Tn*y[2]+F,Y=nt*y[3]+N,j=j<5?5:j,Y=Y<5?5:Y,ct=(ne(d)||we(d))&&ox(o)!==!1?!un.modifierPressed(Qo):un.modifierPressed(Qo),ct&&(c3(Tn)>c3(nt)?(Y=Rx(j*P),j=Rx(Y/P)):(j=Rx(Y/P),Y=Rx(j*P))),Ae(m,j,Y),Ut=y.startPos.x+Tn,Ht=y.startPos.y+nt,Ut=Ut>0?Ut:0,Ht=Ht>0?Ht:0,r.setStyles(f,{left:Ut,top:Ht,display:"block"}),f.innerHTML=j+" &times; "+Y,Tn=c.scrollWidth-X,nt=c.scrollHeight-ie,Tn+nt!==0&&r.setStyles(f,{left:Ut-Tn,top:Ht-nt}),M||(((Xo,So,$n,Jn,fr)=>{Xo.dispatch("ObjectResizeStart",{target:So,width:$n,height:Jn,origin:fr})})(o,d,F,N,"corner-"+y.name),M=!0)},et=()=>{const Qo=M;M=!1,Qo&&(Mt(d,"width",j),Mt(d,"height",Y)),r.unbind(s,"mousemove",Ze),r.unbind(s,"mouseup",et),i!==s&&(r.unbind(i,"mousemove",Ze),r.unbind(i,"mouseup",et)),r.remove(m),r.remove(f),r.remove(v),jt(d),Qo&&(((Tn,nt,ct,Ut,Ht)=>{Tn.dispatch("ObjectResized",{target:nt,width:ct,height:Ut,origin:Ht})})(o,d,j,Y,"corner-"+y.name),r.setAttrib(d,"style",r.getAttrib(d,"style"))),o.nodeChanged()},jt=Qo=>{Ln();const Tn=r.getPos(Qo,c),nt=Tn.x,ct=Tn.y,Ut=Qo.getBoundingClientRect(),Ht=Ut.width||Ut.right-Ut.left,Xo=Ut.height||Ut.bottom-Ut.top;d!==Qo&&(_o(),d=Qo,j=Y=0);const So=o.dispatch("ObjectSelected",{target:Qo});at(Qo)&&!So.isDefaultPrevented()?ft(U_,($n,Jn)=>{let fr=r.get("mceResizeHandle"+Jn);fr&&r.remove(fr),fr=r.add(c,"div",{id:"mceResizeHandle"+Jn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Jn+"-resize; margin:0; padding:0"}),r.bind(fr,"mousedown",ns=>{ns.stopImmediatePropagation(),ns.preventDefault(),(_s=>{const tu=Ve(d)[0];k=_s.screenX,z=_s.screenY,F=tu.clientWidth,N=tu.clientHeight,P=N/F,y=$n,y.name=Jn,y.startPos={x:Ht*$n[0]+nt,y:Xo*$n[1]+ct},X=c.scrollWidth,ie=c.scrollHeight,v=r.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),r.setStyles(v,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),m=((mn,xr)=>{if(we(xr))return mn.create("img",{src:lo.transparentSrc});if(Rs(xr)){const jr=Jo(y.name,"n")?xt:oo,dr=xr.cloneNode(!0);return jr(mn.select("tr",dr)).each(pa=>{const bs=mn.select("td,th",pa);mn.setStyle(pa,"height",null),ke(bs,ln=>mn.setStyle(ln,"height",null))}),dr}return xr.cloneNode(!0)})(r,d),r.addClass(m,"mce-clonedresizable"),r.setAttrib(m,"data-mce-bogus","all"),m.contentEditable="false",r.setStyles(m,{left:nt,top:ct,margin:0}),Ae(m,Ht,Xo),m.removeAttribute(xf),c.appendChild(m),r.bind(s,"mousemove",Ze),r.bind(s,"mouseup",et),i!==s&&(r.bind(i,"mousemove",Ze),r.bind(i,"mouseup",et)),f=r.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},F+" &times; "+N)})(ns)}),$n.elm=fr,r.setStyles(fr,{left:Ht*$n[0]+nt-fr.offsetWidth/2,top:Xo*$n[1]+ct-fr.offsetHeight/2})}):_o(!1)},Lo=Do(jt,0),_o=(Qo=!0)=>{Lo.cancel(),Ln(),d&&Qo&&d.removeAttribute(xf),ft(U_,(Tn,nt)=>{const ct=r.get("mceResizeHandle"+nt);ct&&(r.unbind(ct),r.remove(ct))})},wn=(Qo,Tn)=>r.isChildOf(Qo,Tn),Dn=Qo=>{if(M||o.removed||o.composing)return;const Tn=Qo.type==="mousedown"?Qo.target:t.getNode(),nt=Pl(Se(Tn),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(Ut=>Ut.dom).filter(Ut=>r.isEditable(Ut.parentElement)||Ut.nodeName==="IMG"&&r.isEditable(Ut)).getOrUndefined(),ct=Xe(nt)?r.getAttrib(nt,xf,"1"):"1";if(ke(r.select(`img[${xf}],hr[${xf}]`),Ut=>{Ut.removeAttribute(xf)}),Xe(nt)&&wn(nt,c)&&Mx(o)){jn();const Ut=t.getStart(!0);if(wn(Ut,nt)&&wn(t.getEnd(!0),nt))return r.setAttrib(nt,xf,ct),void Lo.throttle(nt)}_o()},Ln=()=>{ft(U_,Qo=>{Qo.elm&&(r.unbind(Qo.elm),delete Qo.elm)})},jn=()=>{try{o.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return o.on("init",()=>{jn(),o.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Dn),o.on("keyup compositionend",Qo=>{d&&d.nodeName==="TABLE"&&Dn(Qo)}),o.on("hide blur",_o),o.on("contextmenu longpress",Ye,!0)}),o.on("remove",Ln),{isResizable:at,showResizeRect:jt,hideResizeRect:_o,updateResizeRect:Dn,destroy:()=>{Lo.cancel(),d=m=v=null}}},u3=(t,o,r)=>{const s=Zt(Se(r));return vd(s.dom,t,o).map(i=>{const c=r.createRange();return c.setStart(i.start.dom,i.soffset),c.setEnd(i.finish.dom,i.foffset),c}).getOrUndefined()},fs=(t,o)=>Xe(t)&&Xe(o)&&t.startContainer===o.startContainer&&t.startOffset===o.startOffset&&t.endContainer===o.endContainer&&t.endOffset===o.endOffset,Bx=(t,o,r)=>((s,i,c)=>{let d=s;for(;d&&d!==i;){if(c(d))return d;d=d.parentNode}return null})(t,o,r)!==null,Fx=(t,o,r)=>Bx(t,o,s=>s.nodeName===r),Lx=(t,o)=>Ec(t)&&!Bx(t,o,lc),Og=(t,o,r)=>{const s=o.parentNode;if(s){const i=new Ms(o,t.getParent(s,t.isBlock)||t.getRoot());let c;for(;c=i[r?"prev":"next"]();)if(ts(c))return!0}return!1},yy=(t,o,r,s,i)=>{const c=t.getRoot(),d=t.schema.getNonEmptyElements(),m=i.parentNode;let f,y;if(!m)return R.none();const v=t.getParent(m,t.isBlock)||c;if(s&&ts(i)&&o&&t.isEmpty(v))return R.some(It(m,t.nodeIndex(i)));const k=new Ms(i,v);for(;y=k[s?"prev":"next"]();){if(t.getContentEditableParent(y)==="false"||Lx(y,c))return R.none();if(Ao(y)&&y.data.length>0)return Fx(y,c,"A")?R.none():R.some(It(y,s?y.data.length:0));if(t.isBlock(y)||d[y.nodeName.toLowerCase()])return R.none();f=y}return Fc(f)?R.none():r&&f?R.some(It(f,0)):R.none()},Bh=(t,o,r,s)=>{const i=t.getRoot();let c,d=!1,m=r?s.startContainer:s.endContainer,f=r?s.startOffset:s.endOffset;const y=$t(m)&&f===m.childNodes.length,v=t.schema.getNonEmptyElements();let k=r;if(Ec(m))return R.none();if($t(m)&&f>m.childNodes.length-1&&(k=!1),mu(m)&&(m=i,f=0),m===i){if(k&&(c=m.childNodes[f>0?f-1:0],c)&&(Ec(c)||v[c.nodeName]||Rs(c)))return R.none();if(m.hasChildNodes()){if(f=Math.min(!k&&f>0?f-1:f,m.childNodes.length-1),m=m.childNodes[f],f=Ao(m)&&y?m.data.length:0,!o&&m===i.lastChild&&Rs(m)||((z,F)=>{let N=F;for(;N&&N!==z;){if(_a(N))return!0;N=N.parentNode}return!1})(i,m)||Ec(m)||jl(m))return R.none();if(m.hasChildNodes()&&!Rs(m)){c=m;const z=new Ms(m,i);do{if(_a(c)||Ec(c)){d=!1;break}if(Ao(c)&&c.data.length>0){f=k?0:c.data.length,m=c,d=!0;break}if(v[c.nodeName.toLowerCase()]&&!wb(c)){f=t.nodeIndex(c),m=c.parentNode,k||f++,d=!0;break}}while(c=k?z.next():z.prev())}}}return o&&(Ao(m)&&f===0&&yy(t,y,o,!0,m).each(z=>{m=z.container(),f=z.offset(),d=!0}),$t(m)&&(c=m.childNodes[f],c||(c=m.childNodes[f-1]),!c||!ts(c)||(z=>{var F;return((F=z.previousSibling)===null||F===void 0?void 0:F.nodeName)==="A"})(c)||Og(t,c,!1)||Og(t,c,!0)||yy(t,y,o,!0,c).each(z=>{m=z.container(),f=z.offset(),d=!0}))),k&&!o&&Ao(m)&&f===m.data.length&&yy(t,y,o,!1,m).each(z=>{m=z.container(),f=z.offset(),d=!0}),d&&m?R.some(It(m,f)):R.none()},b1=(t,o)=>{const r=o.collapsed,s=o.cloneRange(),i=It.fromRangeStart(o);return Bh(t,r,!0,s).each(c=>{r&&It.isAbove(i,c)||s.setStart(c.container(),c.offset())}),r||Bh(t,r,!1,s).each(c=>{s.setEnd(c.container(),c.offset())}),r&&s.collapse(!0),fs(o,s)?R.none():R.some(s)},y1=(t,o)=>t.splitText(o),vy=t=>{let o=t.startContainer,r=t.startOffset,s=t.endContainer,i=t.endOffset;if(o===s&&Ao(o)){if(r>0&&r<o.data.length)if(s=y1(o,r),o=s.previousSibling,i>r){i-=r;const c=y1(s,i).previousSibling;o=s=c,i=c.data.length,r=0}else i=0}else if(Ao(o)&&r>0&&r<o.data.length&&(o=y1(o,r),r=0),Ao(s)&&i>0&&i<s.data.length){const c=y1(s,i).previousSibling;s=c,i=c.data.length}return{startContainer:o,startOffset:r,endContainer:s,endOffset:i}},Ng=t=>({walk:(o,r)=>m1(t,o,r),split:vy,expand:(o,r={type:"word"})=>{if(r.type==="word"){const s=ps(t,o,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),i=t.createRng();return i.setStart(s.startContainer,s.startOffset),i.setEnd(s.endContainer,s.endOffset),i}return o},normalize:o=>b1(t,o).fold(Bo,r=>(o.setStart(r.startContainer,r.startOffset),o.setEnd(r.endContainer,r.endOffset),!0))});Ng.compareRanges=fs,Ng.getCaretRangeFromPoint=u3,Ng.getSelectedNode=Db,Ng.getNode=Qu;const Dg=t=>pr(t)==="textarea",wf=(t,o)=>{const r=(i=>{const c=i.dom.ownerDocument,d=c.body,m=c.defaultView,f=c.documentElement;if(d===i.dom)return su(d.offsetLeft,d.offsetTop);const y=vm(m==null?void 0:m.pageYOffset,f.scrollTop),v=vm(m==null?void 0:m.pageXOffset,f.scrollLeft),k=vm(f.clientTop,d.clientTop),z=vm(f.clientLeft,d.clientLeft);return es(i).translate(v-z,y-k)})(t),s=(i=>Pu.get(i))(t);return{element:t,bottom:r.top+s,height:s,pos:r,cleanup:o}},Z_=(t,o,r,s)=>{QT(t,(i,c)=>g3(t,o,r,s),r)},m3=(t,o,r,s,i)=>{const c={elm:s.element.dom,alignToTop:i};((d,m)=>d.dispatch("ScrollIntoView",m).isDefaultPrevented())(t,c)||(r(t,o,ag(o).top,s,i),((d,m)=>{d.dispatch("AfterScrollIntoView",m)})(t,c))},g3=(t,o,r,s)=>{const i=Se(t.getBody()),c=Se(t.getDoc());i.dom.offsetWidth;const d=((m,f)=>{const y=((k,z)=>{const F=ha(k);if(F.length===0||Dg(k))return{element:k,offset:z};if(z<F.length&&!Dg(F[z]))return{element:F[z],offset:0};{const N=F[F.length-1];return Dg(N)?{element:k,offset:z}:pr(N)==="img"?{element:N,offset:1}:la(N)?{element:N,offset:ed(N).length}:{element:N,offset:ha(N).length}}})(m,f),v=Kn('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return ua(y.element,v),wf(v,()=>Xr(v))})(Se(r.startContainer),r.startOffset);m3(t,c,o,d,s),d.cleanup()},p3=(t,o,r,s)=>{const i=Se(t.getDoc());m3(t,i,r,(c=>wf(Se(c),Ro))(o),s)},QT=(t,o,r)=>{const s=r.startContainer,i=r.startOffset,c=r.endContainer,d=r.endOffset;o(Se(s),Se(c));const m=t.dom.createRng();m.setStart(s,i),m.setEnd(c,d),t.selection.setRng(r)},q_=(t,o,r,s,i)=>{const c=o.pos;if(s)Pd(c.left,Math.max(0,c.top-30),i);else{const d=c.top-r+o.height+30;Pd(-t.getBody().getBoundingClientRect().left,d,i)}},al=(t,o,r,s,i,c)=>{const d=s+r,m=i.pos.top,f=i.bottom,y=f-m>=s;m<r?q_(t,i,s,c!==!1,o):m>d?q_(t,i,s,y?c!==!1:c===!0,o):f>d&&!y&&q_(t,i,s,c===!0,o)},Ix=(t,o,r,s,i)=>{const c=Zt(o).dom.innerHeight;al(t,o,r,c,s,i)},yl=(t,o,r,s,i)=>{const c=Zt(o).dom.innerHeight;al(t,o,r,c,s,i);const d=Nx(s.element),m=bi(window);d.top<m.y?qr(s.element,i!==!1):d.top>m.bottom&&qr(s.element,i===!0)},xy=(t,o,r)=>Z_(t,Ix,o,r),wy=(t,o,r)=>p3(t,o,Ix,r),f3=(t,o,r)=>Z_(t,yl,o,r),W_=(t,o,r)=>p3(t,o,yl,r),ky=(t,o,r)=>{(t.inline?xy:f3)(t,o,r)},h3=(t,o)=>o.collapsed?t.isEditable(o.startContainer):t.isEditable(o.startContainer)&&t.isEditable(o.endContainer),b3=(t,o,r,s,i)=>{const c=r?o.startContainer:o.endContainer,d=r?o.startOffset:o.endOffset;return R.from(c).map(Se).map(m=>s&&o.collapsed?m:Sl(m,i(m,d)).getOr(m)).bind(m=>Gs(m)?R.some(m):rn(m).filter(Gs)).map(m=>m.dom).getOr(t)},Td=(t,o,r=!1)=>b3(t,o,!0,r,(s,i)=>Math.min(Qa(s),i)),cc=(t,o,r=!1)=>b3(t,o,!1,r,(s,i)=>i>0?i-1:i),im=(t,o)=>{const r=t;for(;t&&Ao(t)&&t.length===0;)t=o?t.nextSibling:t.previousSibling;return t||r},v1=(t,o)=>No(o,r=>{const s=t.dispatch("GetSelectionRange",{range:r});return s.range!==r?s.range:r}),y3={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Px=(t,o,r)=>{const s=r?"lastChild":"firstChild",i=r?"prev":"next";if(t[s])return t[s];if(t!==o){let c=t[i];if(c)return c;for(let d=t.parent;d&&d!==o;d=d.parent)if(c=d[i],c)return c}},v3=t=>{var o;const r=(o=t.value)!==null&&o!==void 0?o:"";if(!V(r))return!1;const s=t.parent;return!s||s.name==="span"&&!s.attr("style")||!/^[ ]+$/.test(r)},x3=t=>{const o=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||o};class dc{static create(o,r){const s=new dc(o,y3[o]||1);return r&&ft(r,(i,c)=>{s.attr(c,i)}),s}constructor(o,r){this.name=o,this.type=r,r===1&&(this.attributes=[],this.attributes.map={})}replace(o){const r=this;return o.parent&&o.remove(),r.insert(o,r),r.remove(),r}attr(o,r){const s=this;if(!Je(o))return Xe(o)&&ft(o,(c,d)=>{s.attr(d,c)}),s;const i=s.attributes;if(i){if(r!==void 0){if(r===null){if(o in i.map){delete i.map[o];let c=i.length;for(;c--;)if(i[c].name===o)return i.splice(c,1),s}return s}if(o in i.map){let c=i.length;for(;c--;)if(i[c].name===o){i[c].value=r;break}}else i.push({name:o,value:r});return i.map[o]=r,s}return i.map[o]}}clone(){const o=this,r=new dc(o.name,o.type),s=o.attributes;if(s){const i=[];i.map={};for(let c=0,d=s.length;c<d;c++){const m=s[c];m.name!=="id"&&(i[i.length]={name:m.name,value:m.value},i.map[m.name]=m.value)}r.attributes=i}return r.value=o.value,r}wrap(o){const r=this;return r.parent&&(r.parent.insert(o,r),o.append(r)),r}unwrap(){const o=this;for(let r=o.firstChild;r;){const s=r.next;o.insert(r,o,!0),r=s}o.remove()}remove(){const o=this,r=o.parent,s=o.next,i=o.prev;return r&&(r.firstChild===o?(r.firstChild=s,s&&(s.prev=null)):i&&(i.next=s),r.lastChild===o?(r.lastChild=i,i&&(i.next=null)):s&&(s.prev=i),o.parent=o.next=o.prev=null),o}append(o){const r=this;o.parent&&o.remove();const s=r.lastChild;return s?(s.next=o,o.prev=s,r.lastChild=o):r.lastChild=r.firstChild=o,o.parent=r,o}insert(o,r,s){o.parent&&o.remove();const i=r.parent||this;return s?(r===i.firstChild?i.firstChild=o:r.prev&&(r.prev.next=o),o.prev=r.prev,o.next=r,r.prev=o):(r===i.lastChild?i.lastChild=o:r.next&&(r.next.prev=o),o.next=r.next,o.prev=r,r.next=o),o.parent=i,o}getAll(o){const r=this,s=[];for(let i=r.firstChild;i;i=Px(i,r))i.name===o&&s.push(i);return s}children(){const o=[];for(let r=this.firstChild;r;r=r.next)o.push(r);return o}empty(){const o=this;if(o.firstChild){const r=[];for(let i=o.firstChild;i;i=Px(i,o))r.push(i);let s=r.length;for(;s--;){const i=r[s];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return o.firstChild=o.lastChild=null,o}isEmpty(o,r={},s){var i;const c=this;let d=c.firstChild;if(x3(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(o[d.name]||x3(d))return!1}if(d.type===8||d.type===3&&!v3(d)||d.type===3&&d.parent&&r[d.parent.name]&&V((i=d.value)!==null&&i!==void 0?i:"")||s&&s(d))return!1}while(d=Px(d,c));return!0}walk(o){return Px(this,null,o)}}const e5=ve.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),G_=t=>Je(t.nodeValue)&&t.nodeValue.includes(Pi),Hx=t=>(t.length===0?"":`${No(t,o=>`[${o}]`).join(",")},`)+'[data-mce-bogus="all"]',K_=t=>document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,o=>G_(o)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),Vx=t=>document.createTreeWalker(t,NodeFilter.SHOW_TEXT,o=>{if(G_(o)){const r=o.parentNode;return r&&on(e5,r.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP}),t5=t=>K_(t).nextNode()!==null,w3=t=>Vx(t).nextNode()!==null,o5=(t,o)=>o.querySelector(Hx(t))!==null,k3=(t,o)=>{ke(((r,s)=>s.querySelectorAll(Hx(r)))(t,o),r=>{const s=Se(r);gi(s,"data-mce-bogus")==="all"?Xr(s):ke(t,i=>{Bi(s,i)&&ja(s,i)})})},Y_=t=>{let o=t.nextNode();for(;o!==null;)o.nodeValue=null,o=t.nextNode()},n5=pn(Y_,K_),r5=pn(Y_,Vx),_3=(t,o)=>{const r=[{condition:Ot(o5,o),action:Ot(k3,o)},{condition:t5,action:n5},{condition:w3,action:r5}];let s=t,i=!1;return ke(r,({condition:c,action:d})=>{c(s)&&(i||(s=t.cloneNode(!0),i=!0),d(s))}),s},C3=t=>{const o=hi(t,"[data-mce-bogus]");ke(o,r=>{gi(r,"data-mce-bogus")==="all"?Xr(r):Fm(r)?(ua(r,ka(nn)),Xr(r)):El(r)})},S3=t=>{const o=hi(t,"input");ke(o,r=>{ja(r,"name")})},Fh=(t,o,r)=>{let s;return s=o.format==="raw"?ve.trim(Wl(_3(r,t.serializer.getTempAttrs()).innerHTML)):o.format==="text"?((i,c)=>{const d=i.getDoc(),m=mi(Se(i.getBody())),f=Wn("div",d);ra(f,"data-mce-bogus","all"),Ui(f,{position:"fixed",left:"-9999999px",top:"0"}),Qc(f,c.innerHTML),C3(f),S3(f);const y=(k=>ba(k)?k:Se(lt(k).dom.body))(m);Aa(y,f);const v=Wl(f.dom.innerText);return Xr(f),v})(t,r):o.format==="tree"?t.serializer.serialize(r,o):((i,c)=>{const d=As(i),m=new RegExp(`^(<${d}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${d}>[\r
]*|<br \\/>[\r
]*)$`);return c.replace(m,"")})(t,t.serializer.serialize(r,o)),o.format!=="text"&&!op(Se(r))&&Je(s)?ve.trim(s):s},E3=ve.makeMap,X_=t=>{const o=[],r=(t=t||{}).indent,s=E3(t.indent_before||""),i=E3(t.indent_after||""),c=G.getEncodeFunc(t.entity_encoding||"raw",t.entities),d=t.element_format!=="xhtml";return{start:(m,f,y)=>{if(r&&s[m]&&o.length>0){const v=o[o.length-1];v.length>0&&v!==`
`&&o.push(`
`)}if(o.push("<",m),f)for(let v=0,k=f.length;v<k;v++){const z=f[v];o.push(" ",z.name,'="',c(z.value,!0),'"')}if(o[o.length]=!y||d?">":" />",y&&r&&i[m]&&o.length>0){const v=o[o.length-1];v.length>0&&v!==`
`&&o.push(`
`)}},end:m=>{let f;o.push("</",m,">"),r&&i[m]&&o.length>0&&(f=o[o.length-1],f.length>0&&f!==`
`&&o.push(`
`))},text:(m,f)=>{m.length>0&&(o[o.length]=f?m:c(m))},cdata:m=>{o.push("<![CDATA[",m,"]]>")},comment:m=>{o.push("<!--",m,"-->")},pi:(m,f)=>{f?o.push("<?",m," ",c(f),"?>"):o.push("<?",m,"?>"),r&&o.push(`
`)},doctype:m=>{o.push("<!DOCTYPE",m,">",r?`
`:"")},reset:()=>{o.length=0},getContent:()=>o.join("").replace(/\n$/,"")}},bp=(t={},o=ac())=>{const r=X_(t);return t.validate=!("validate"in t)||t.validate,{serialize:s=>{const i=t.validate,c={3:m=>{var f;r.text((f=m.value)!==null&&f!==void 0?f:"",m.raw)},8:m=>{var f;r.comment((f=m.value)!==null&&f!==void 0?f:"")},7:m=>{r.pi(m.name,m.value)},10:m=>{var f;r.doctype((f=m.value)!==null&&f!==void 0?f:"")},4:m=>{var f;r.cdata((f=m.value)!==null&&f!==void 0?f:"")},11:m=>{let f=m;if(f=f.firstChild)do d(f);while(f=f.next)}};r.reset();const d=m=>{var f;const y=c[m.type];if(y)y(m);else{const v=m.name,k=v in o.getVoidElements();let z=m.attributes;if(i&&z&&z.length>1){const F=[];F.map={};const N=o.getElementRule(m.name);if(N){for(let P=0,M=N.attributesOrder.length;P<M;P++){const j=N.attributesOrder[P];if(j in z.map){const Y=z.map[j];F.map[j]=Y,F.push({name:j,value:Y})}}for(let P=0,M=z.length;P<M;P++){const j=z[P].name;if(!(j in F.map)){const Y=z.map[j];F.map[j]=Y,F.push({name:j,value:Y})}}z=F}}if(r.start(v,z,k),qi(v))Je(m.value)&&r.text(m.value,!0),r.end(v);else if(!k){let F=m.firstChild;if(F){v!=="pre"&&v!=="textarea"||F.type!==3||((f=F.value)===null||f===void 0?void 0:f[0])!==`
`||r.text(`
`,!0);do d(F);while(F=F.next)}r.end(v)}}};return s.type!==1||t.inner?s.type===3?c[3](s):c[11](s):d(s),r.getContent()}}},J_=new Set;ke(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{J_.add(t)});const Q_=new Set;ke(["background-color"],t=>{Q_.add(t)});const jx=["font","text-decoration","text-emphasis"],_y=(t,o)=>Dt(((r,s)=>r.parseStyle(r.getAttrib(s,"style")))(t,o)),z3=(t,o)=>xo(_y(t,o),r=>(s=>J_.has(s))(r)),A3=(t,o,r)=>R.from(r.container()).filter(Ao).exists(s=>{const i=t?0:-1;return o(s.data.charAt(r.offset()+i))}),x1=Ot(A3,!0,hf),$x=Ot(A3,!1,hf),a5=t=>{const o=t.container();return Ao(o)&&(o.data.length===0||Yp(o.data)&&g1.isBookmarkNode(o.parentNode))},kf=(t,o)=>r=>I(t?0:-1,r).filter(o).isSome(),e2=t=>Em(t)&&Qi(Se(t),"display")==="block",t2=t=>_a(t)&&!(o=>$t(o)&&o.getAttribute("data-mce-bogus")==="all")(t),s5=kf(!0,e2),T3=kf(!1,e2),w1=kf(!0,wc),k1=kf(!1,wc),O3=kf(!0,Rs),o2=kf(!1,Rs),Go=kf(!0,t2),$c=kf(!1,t2),N3=(t,o)=>((r,s,i)=>Na(s,r)?Nr(r,c=>i(c)||wr(c,s)).slice(0,-1):[])(t,o,Bo),Zm=(t,o)=>[t].concat(N3(t,o)),Ux=(t,o,r)=>Vi(t,o,r,a5),n2=(t,o,r)=>Ie(Zm(Se(o.container()),t),(s=>i=>s.isBlock(pr(i)))(r)),Zx=(t,o,r,s)=>Ux(t,o.dom,r).forall(i=>n2(o,r,s).fold(()=>!E(i,r,o.dom),c=>!E(i,r,o.dom)&&Na(c,Se(i.container())))),D3=(t,o,r,s)=>n2(o,r,s).fold(()=>Ux(t,o.dom,r).forall(i=>!E(i,r,o.dom)),i=>Ux(t,i.dom,r).isNone()),qx=Ot(D3,!1),M3=Ot(D3,!0),i5=Ot(Zx,!1),Wx=Ot(Zx,!0),l5=t=>He(t).exists(Fm),_1=(t,o,r,s)=>{const i=Ue(Zm(Se(r.container()),o),d=>s.isBlock(pr(d))),c=xt(i).getOr(o);return Ho(t,c.dom,r).filter(l5)},Cy=(t,o,r)=>He(o).exists(Fm)||_1(!0,t,o,r).isSome(),Gx=(t,o,r)=>(s=>R.from(s.getNode(!0)).map(Se))(o).exists(Fm)||_1(!1,t,o,r).isSome(),r2=Ot(_1,!1),c5=Ot(_1,!0),C1=t=>It.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),yp=(t,o,r)=>{const s=Ue(Zm(Se(o.container()),t),i=>r.isBlock(pr(i)));return xt(s).getOr(t)},S1=(t,o,r)=>C1(o)?$x(o):$x(o)||ws(yp(t,o,r).dom,o).exists($x),R3=(t,o,r)=>C1(o)?x1(o):x1(o)||ki(yp(t,o,r).dom,o).exists(x1),a2=t=>He(t).bind(o=>Jr(o,Gs)).exists(o=>(r=>co(["pre","pre-wrap"],r))(Qi(o,"white-space"))),s2=(t,o)=>r=>{return s=new Ms(r,t)[o](),Xe(s)&&_a(s)&&a1(s);var s},B3=(t,o,r)=>!a2(o)&&(((s,i,c)=>((d,m)=>ws(d.dom,m).isNone())(s,i)||((d,m)=>ki(d.dom,m).isNone())(s,i)||qx(s,i,c)||M3(s,i,c)||Gx(s,i,c)||Cy(s,i,c))(t,o,r)||S1(t,o,r)||R3(t,o,r)),E1=(t,o,r)=>!a2(o)&&(qx(t,o,r)||i5(t,o,r)||Gx(t,o,r)||S1(t,o,r)||((s,i)=>{const c=ws(s.dom,i).getOr(i),d=s2(s.dom,"prev");return i.isAtStart()&&(d(i.container())||d(c.container()))})(t,o)),Sy=(t,o,r)=>!a2(o)&&(M3(t,o,r)||Wx(t,o,r)||Cy(t,o,r)||R3(t,o,r)||((s,i)=>{const c=ki(s.dom,i).getOr(i),d=s2(s.dom,"next");return i.isAtEnd()&&(d(i.container())||d(c.container()))})(t,o)),Kx=(t,o,r)=>E1(t,o,r)||Sy(t,(s=>{const i=s.container(),c=s.offset();return Ao(i)&&c<i.data.length?It(i,c+1):s})(o),r),F3=(t,o)=>ly(t.charAt(o)),L3=(t,o)=>hf(t.charAt(o)),i2=(t,o,r,s)=>{const i=o.data,c=It(o,0);return r||!F3(i,0)||Kx(t,c,s)?!!(r&&L3(i,0)&&E1(t,c,s))&&(o.data=zn+i.slice(1),!0):(o.data=" "+i.slice(1),!0)},Yx=(t,o,r,s)=>{const i=o.data,c=It(o,i.length-1);return r||!F3(i,i.length-1)||Kx(t,c,s)?!!(r&&L3(i,i.length-1)&&Sy(t,c,s))&&(o.data=i.slice(0,-1)+zn,!0):(o.data=i.slice(0,-1)+" ",!0)},I3=(t,o,r)=>{const s=o.container();if(!Ao(s))return R.none();if((i=>{const c=i.container();return Ao(c)&&ko(c.data,zn)})(o)){const i=i2(t,s,!1,r)||(c=>{const d=c.data,m=(f=>{const y=f.split("");return No(y,(v,k)=>ly(v)&&k>0&&k<y.length-1&&D_(y[k-1])&&D_(y[k+1])?" ":v).join("")})(d);return m!==d&&(c.data=m,!0)})(s)||Yx(t,s,!1,r);return Dr(i,o)}if(Kx(t,o,r)){const i=i2(t,s,!0,r)||Yx(t,s,!0,r);return Dr(i,o)}return R.none()},P3=(t,o,r,s)=>{if(r===0)return;const i=Se(t),c=Ei(i,y=>s.isBlock(pr(y))).getOr(i),d=t.data.slice(o,o+r),m=o+r>=t.data.length&&Sy(c,It(t,t.data.length),s),f=o===0&&E1(c,It(t,0),s);t.replaceData(o,r,Ne(d,4,f,m))},Lh=(t,o,r)=>{const s=t.data.slice(o),i=s.length-ir(s).length;P3(t,o,i,r)},Xx=(t,o,r)=>{const s=t.data.slice(0,o),i=s.length-Le(s).length;P3(t,o-i,i,r)},z1=(t,o,r,s,i=!0)=>{const c=Le(t.data).length,d=i?t:o,m=i?o:t;return i?d.appendData(m.data):d.insertData(0,m.data),Xr(Se(m)),s&&Lh(d,c,r),d},H3=(t,o)=>((r,s)=>{const i=r.container(),c=r.offset();return!It.isTextPosition(r)&&i===s.parentNode&&c>It.before(s).offset()})(o,t)?It(o.container(),o.offset()-1):o,V3=t=>{return Sd(t.previousSibling)?R.some((o=t.previousSibling,Ao(o)?It(o,o.data.length):It.after(o))):t.previousSibling?Dl(t.previousSibling):R.none();var o},A1=t=>{return Sd(t.nextSibling)?R.some((o=t.nextSibling,Ao(o)?It(o,0):It.before(o))):t.nextSibling?$s(t.nextSibling):R.none();var o},j3=(t,o,r)=>((s,i,c)=>s?((d,m)=>A1(m).orThunk(()=>V3(m)).orThunk(()=>((f,y)=>ki(f,It.after(y)).orThunk(()=>ws(f,It.before(y))))(d,m)))(i,c):((d,m)=>V3(m).orThunk(()=>A1(m)).orThunk(()=>((f,y)=>R.from(y.previousSibling?y.previousSibling:y.parentNode).bind(v=>ws(f,It.before(v))).orThunk(()=>ki(f,It.after(y))))(d,m)))(i,c))(t,o,r).map(Ot(H3,r)),l2=(t,o,r)=>{r.fold(()=>{t.focus()},s=>{t.selection.setRng(s.toRange(),o)})},$3=(t,o)=>o&&on(t.schema.getBlockElements(),pr(o)),_f=(t,o,r,s=!0,i=!1)=>{const c=j3(o,t.getBody(),r.dom),d=Ei(r,Ot($3,t),(m=t.getBody(),y=>y.dom===m));var m;const f=((y,v,k,z)=>{const F=us(y).filter(la),N=Ns(y).filter(la);return Xr(y),(P=F,M=N,j=v,Y=(X,ie,ne)=>{const we=X.dom,Ye=ie.dom,Ve=we.data.length;return z1(we,Ye,k,z),ne.container()===Ye?It(we,Ve):ne},P.isSome()&&M.isSome()&&j.isSome()?R.some(Y(P.getOrDie(),M.getOrDie(),j.getOrDie())):R.none()).orThunk(()=>(z&&(F.each(X=>Xx(X.dom,X.dom.length,k)),N.each(X=>Lh(X.dom,0,k))),v));var P,M,j,Y})(r,c,t.schema,((y,v)=>on(y.schema.getTextInlineElements(),pr(v)))(t,r));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):d.bind(y=>((v,k,z)=>{if(zi(v,k)){const F=Kn('<br data-mce-bogus="1">');return z?ke(ha(k),N=>{Cx(N)||Xr(N)}):Fa(k),Aa(k,F),R.some(It.before(F.dom))}return R.none()})(t.schema,y,i)).fold(()=>{s&&l2(t,o,f)},y=>{s&&l2(t,o,R.some(y))})},U3=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Cf=(t,o)=>Ri(Se(o),Yb(t))&&!Lc(t.schema,o)&&t.dom.isEditable(o),c2=t=>{var o;return Za.DOM.getStyle(t,"direction",!0)==="rtl"||(r=>U3.test(r))((o=t.textContent)!==null&&o!==void 0?o:"")},vp=(t,o,r)=>{const s=((i,c,d)=>Ue(Za.DOM.getParents(d.container(),"*",c),i))(t,o,r);return R.from(s[s.length-1])},Kd=(t,o)=>{const r=o.container(),s=o.offset();return t?yu(r)?Ao(r.nextSibling)?It(r.nextSibling,0):It.after(r):Im(o)?It(r,s+1):o:yu(r)?Ao(r.previousSibling)?It(r.previousSibling,r.previousSibling.data.length):It.before(r):S0(o)?It(r,s-1):o},d2=Ot(Kd,!0),Z3=Ot(Kd,!1),q3=(t,o)=>{const r=s=>s.stopImmediatePropagation();t.on("beforeinput input",r,!0),t.getDoc().execCommand(o),t.off("beforeinput input",r)},Jx=t=>q3(t,"Delete"),W3=t=>q3(t,"ForwardDelete"),d5=t=>Ab(t)||ad(t),T1=(t,o)=>Na(t,o)?Jr(o,d5,(r=>s=>Er(rn(s),r,wr))(t)):R.none(),u2=(t,o=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!o})},Yl=(t,o,r)=>Rr($s(r),Dl(r),(s,i)=>{const c=Kd(!0,s),d=Kd(!1,i),m=Kd(!1,o);return t?ki(r,m).exists(f=>f.isEqual(d)&&o.isEqual(c)):ws(r,m).exists(f=>f.isEqual(c)&&o.isEqual(d))}).getOr(!0),G3=t=>{var o;return(Id(o=t)===8||pr(o)==="#comment"?us(t):yc(t)).bind(G3).orThunk(()=>R.some(t))},K3=(t,o,r,s=!0)=>{var i;o.deleteContents();const c=G3(r).getOr(r),d=Se((i=t.dom.getParent(c.dom,t.dom.isBlock))!==null&&i!==void 0?i:r.dom);if(d.dom===t.getBody()?u2(t,s):zi(t.schema,d,{checkRootAsContent:!1})&&(Yu(d),s&&t.selection.setCursorLocation(d.dom,0)),!wr(r,d)){const f=Er(rn(d),r)?[]:rn(m=d).map(ha).map(y=>Ue(y,v=>!wr(m,v))).getOr([]);ke(f.concat(ha(r)),y=>{wr(y,d)||Na(y,d)||!zi(t.schema,y)||Xr(y)})}var m},Uc=t=>hi(t,"td,th"),Y3=(t,o)=>cy(Se(t),o),m2=(t,o)=>({start:t,end:o}),O1=Ya([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Tc=(t,o)=>Pl(Se(t),"td,th",o),g2=t=>!wr(t.start,t.end),p2=(t,o)=>cy(t.start,o).bind(r=>cy(t.end,o).bind(s=>Dr(wr(r,s),r))),Qx=t=>o=>p2(o,t).map(r=>((s,i,c)=>({rng:s,table:i,cells:c}))(o,r,Uc(r))),f2=(t,o,r,s)=>{if(r.collapsed||!t.forall(g2))return R.none();if(o.isSameTable){const i=t.bind(Qx(s));return R.some({start:i,end:i})}{const i=Tc(r.startContainer,s),c=Tc(r.endContainer,s),d=i.bind((f=>y=>cy(y,f).bind(v=>oo(Uc(v)).map(k=>m2(y,k))))(s)).bind(Qx(s)),m=c.bind((f=>y=>cy(y,f).bind(v=>xt(Uc(v)).map(k=>m2(k,y))))(s)).bind(Qx(s));return R.some({start:d,end:m})}},h2=(t,o)=>ye(t,r=>wr(r,o)),ew=t=>Rr(h2(t.cells,t.rng.start),h2(t.cells,t.rng.end),(o,r)=>t.cells.slice(o,r+1)),X3=(t,o)=>{const{startTable:r,endTable:s}=o,i=t.cloneRange();return r.each(c=>i.setStartAfter(c.dom)),s.each(c=>i.setEndBefore(c.dom)),i},u5=(t,o)=>{const r=(c=>d=>wr(c,d))(t),s=((c,d)=>{const m=Tc(c.startContainer,d),f=Tc(c.endContainer,d);return Rr(m,f,m2)})(o,r),i=((c,d)=>{const m=Y3(c.startContainer,d),f=Y3(c.endContainer,d),y=m.isSome(),v=f.isSome(),k=Rr(m,f,wr).getOr(!1);return(z=>Rr(z.startTable,z.endTable,(F,N)=>{const P=tc(F,j=>wr(j,N)),M=tc(N,j=>wr(j,F));return P||M?{...z,startTable:P?R.none():z.startTable,endTable:M?R.none():z.endTable,isSameTable:!1,isMultiTable:!1}:z}).getOr(z))({startTable:m,endTable:f,isStartInTable:y,isEndInTable:v,isSameTable:k,isMultiTable:!k&&y&&v})})(o,r);return((c,d,m)=>c.exists(f=>((y,v)=>!g2(y)&&p2(y,v).exists(k=>{const z=k.dom.rows;return z.length===1&&z[0].cells.length===1}))(f,m)&&M_(f.start,d)))(s,o,r)?s.map(c=>O1.singleCellTable(o,c.start)):i.isMultiTable?((c,d,m,f)=>f2(c,d,m,f).bind(({start:y,end:v})=>{const k=y.bind(ew).getOr([]),z=v.bind(ew).getOr([]);if(k.length>0&&z.length>0){const F=X3(m,d);return R.some(O1.multiTable(k,z,F))}return R.none()}))(s,i,o,r):((c,d,m,f)=>f2(c,d,m,f).bind(({start:y,end:v})=>y.or(v)).bind(y=>{const{isSameTable:v}=d,k=ew(y).getOr([]);if(v&&y.cells.length===k.length)return R.some(O1.fullTable(y.table));if(k.length>0){if(v)return R.some(O1.partialTable(k,R.none()));{const z=X3(m,d);return R.some(O1.partialTable(k,R.some({...d,rng:z})))}}return R.none()}))(s,i,o,r)},J3=t=>ke(t,o=>{ja(o,"contenteditable"),Yu(o)}),b2=(t,o,r,s)=>{const i=r.cloneRange();s?(i.setStart(r.startContainer,r.startOffset),i.setEndAfter(o.dom.lastChild)):(i.setStartBefore(o.dom.firstChild),i.setEnd(r.endContainer,r.endOffset)),wp(t,i,o,!1).each(c=>c())},Wr=t=>{const o=hp(t),r=Se(t.selection.getNode());Zu(r.dom)&&zi(t.schema,r)?t.selection.setCursorLocation(r.dom,0):t.selection.collapse(!0),o.length>1&&xo(o,s=>wr(s,r))&&ra(r,"data-mce-selected","1")},Ey=(t,o,r)=>R.some(()=>{const s=t.selection.getRng(),i=r.bind(({rng:c,isStartInTable:d})=>{const m=((y,v)=>R.from(y.dom.getParent(v,y.dom.isBlock)).map(Se))(t,d?c.endContainer:c.startContainer);c.deleteContents(),((y,v,k)=>{k.each(z=>{v?Xr(z):(Yu(z),y.selection.setCursorLocation(z.dom,0))})})(t,d,m.filter(Ot(zi,t.schema)));const f=d?o[0]:o[o.length-1];return b2(t,f,s,d),zi(t.schema,f)?R.none():R.some(d?o.slice(1):o.slice(0,-1))}).getOr(o);J3(i),Wr(t)}),xp=(t,o,r,s)=>R.some(()=>{const i=t.selection.getRng(),c=o[0],d=r[r.length-1];b2(t,c,i,!0),b2(t,d,i,!1);const m=zi(t.schema,c)?o:o.slice(1),f=zi(t.schema,d)?r:r.slice(0,-1);J3(m.concat(f)),s.deleteContents(),Wr(t)}),wp=(t,o,r,s=!0)=>R.some(()=>{K3(t,o,r,s)}),tw=(t,o)=>R.some(()=>_f(t,!1,o)),ow=(t,o)=>Ie(Zm(o,t),Lm),N1=(t,o)=>Ie(Zm(o,t),de("caption")),D1=(t,o)=>R.some(()=>{Yu(o),t.selection.setCursorLocation(o.dom,0)}),Q3=(t,o)=>t?O3(o):o2(o),eE=(t,o,r)=>{const s=Se(t.getBody());return N1(s,r).fold(()=>((i,c,d,m)=>{const f=It.fromRangeStart(i.selection.getRng());return ow(d,m).bind(y=>zi(i.schema,y,{checkRootAsContent:!1})?D1(i,y):((v,k,z,F,N)=>ei(z,v.getBody(),N).bind(P=>ow(k,Se(P.getNode())).bind(M=>wr(M,F)?R.none():R.some(Ro))))(i,d,c,y,f))})(t,o,s,r).orThunk(()=>Dr(((i,c)=>{const d=It.fromRangeStart(i.selection.getRng());return Q3(c,d)||Ho(c,i.getBody(),d).exists(m=>Q3(c,m))})(t,o),Ro)),i=>((c,d,m,f)=>{const y=It.fromRangeStart(c.selection.getRng());return zi(c.schema,f)?D1(c,f):((v,k,z,F,N)=>ei(z,v.getBody(),N).fold(()=>R.some(Ro),P=>((M,j,Y,X)=>$s(M.dom).bind(ie=>Dl(M.dom).map(ne=>j?Y.isEqual(ie)&&X.isEqual(ne):Y.isEqual(ne)&&X.isEqual(ie))).getOr(!0))(F,z,N,P)?((M,j)=>D1(M,j))(v,F):((M,j,Y)=>N1(M,Se(Y.getNode())).fold(()=>R.some(Ro),X=>Dr(!wr(X,j),Ro)))(k,F,P)))(c,m,d,f,y)})(t,o,s,i))},nw=(t,o)=>{const r=Se(t.selection.getStart(!0)),s=hp(t);return t.selection.isCollapsed()&&s.length===0?eE(t,o,r):((i,c,d)=>{const m=Se(i.getBody()),f=i.selection.getRng();return d.length!==0?Ey(i,d,R.none()):((y,v,k,z)=>N1(v,z).fold(()=>((F,N,P)=>u5(N,P).bind(M=>M.fold(Ot(wp,F),Ot(tw,F),Ot(Ey,F),Ot(xp,F))))(y,v,k),F=>((N,P)=>D1(N,P))(y,F)))(i,m,f,c)})(t,r,s)},Sf=(t,o)=>{let r=o;for(;r&&r!==t;){if(Vl(r)||_a(r))return r;r=r.parentNode}return null},tE=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],m5=ve.each,y2=t=>{const o=t.dom,r=new Set(t.serializer.getTempAttrs()),s=i=>xo(tE,c=>Jo(i,c))||r.has(i);return{compare:(i,c)=>{if(i.nodeName!==c.nodeName||i.nodeType!==c.nodeType)return!1;const d=f=>{const y={};return m5(o.getAttribs(f),v=>{const k=v.nodeName.toLowerCase();k==="style"||s(k)||(y[k]=o.getAttrib(f,k))}),y},m=(f,y)=>{for(const v in f)if(on(f,v)){const k=y[v];if(wo(k)||f[v]!==k)return!1;delete y[v]}for(const v in y)if(on(y,v))return!1;return!0};return $t(i)&&$t(c)&&(!m(d(i),d(c))||!m(o.parseStyle(o.getAttrib(i,"style")),o.parseStyle(o.getAttrib(c,"style"))))?!1:!Wd(i)&&!Wd(c)},isAttributeInternal:s}},oE=t=>["h1","h2","h3","h4","h5","h6"].includes(t.name),Zc=(t,o,r,s)=>{const i=r.name;for(let c=0,d=t.length;c<d;c++){const m=t[c];if(m.name===i){const f=s.nodes[i];f?f.nodes.push(r):s.nodes[i]={filter:m,nodes:[r]}}}if(r.attributes)for(let c=0,d=o.length;c<d;c++){const m=o[c],f=m.name;if(f in r.attributes.map){const y=s.attributes[f];y?y.nodes.push(r):s.attributes[f]={filter:m,nodes:[r]}}}},nE=(t,o)=>{const r=(s,i)=>{ft(s,c=>{const d=qo(c.nodes);ke(c.filter.callbacks,m=>{for(let f=d.length-1;f>=0;f--){const y=d[f];(i?y.attr(c.filter.name)!==void 0:y.name===c.filter.name)&&!he(y.parent)||d.splice(f,1)}d.length>0&&m(d,c.filter.name,o)})})};r(t.nodes,!1),r(t.attributes,!0)},v2=(t,o,r,s={})=>{const i=((c,d,m)=>{const f={nodes:{},attributes:{}};return m.firstChild&&(y=>{let v=y;for(;v=v.walk();)Zc(c,d,v,f)})(m),f})(t,o,r);nE(i,s)},x2=(t,o,r,s)=>{if((t.pad_empty_with_br||o.insert)&&r(s)){const i=new dc("br",1);o.insert&&i.attr("data-mce-bogus","1"),s.empty().append(i)}else s.empty().append(new dc("#text",3)).value=zn},rE=(t,o)=>{const r=t==null?void 0:t.firstChild;return Xe(r)&&r===t.lastChild&&r.name===o},Ih=(t,o,r,s)=>s.isEmpty(o,r,i=>((c,d)=>{const m=c.getElementRule(d.name);return(m==null?void 0:m.paddEmpty)===!0})(t,i)),g5=t=>{let o;for(let r=t;r;r=r.parent){const s=r.attr("contenteditable");if(s==="false")break;s==="true"&&(o=r)}return R.from(o)},w2=(t,o,r=t.parent)=>{if(o.getSpecialElements()[t.name])t.empty().remove();else{const s=t.children();for(const i of s)r&&!o.isValidChild(r.name,i.name)&&w2(i,o,r);t.unwrap()}},Ma=(t,o,r,s=Ro)=>{const i=o.getTextBlockElements(),c=o.getNonEmptyElements(),d=o.getWhitespaceElements(),m=ve.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),f=new Set,y=v=>v!==r&&!m[v.name];for(let v=0;v<t.length;v++){const k=t[v];let z,F,N;if(!k.parent||f.has(k))continue;if(i[k.name]&&k.parent.name==="li"){let M=k.next;for(;M&&i[M.name];)M.name="li",f.add(M),k.parent.insert(M,k.parent),M=M.next;k.unwrap();continue}const P=[k];for(z=k.parent;z&&!o.isValidChild(z.name,k.name)&&y(z);z=z.parent)P.push(z);if(z&&P.length>1)if(Ph(o,k,z))w2(k,o);else{P.reverse(),F=P[0].clone(),s(F);let M=F;for(let j=0;j<P.length-1;j++){o.isValidChild(M.name,P[j].name)&&j>0?(N=P[j].clone(),s(N),M.append(N)):N=M;for(let Y=P[j].firstChild;Y&&Y!==P[j+1];){const X=Y.next;N.append(Y),Y=X}M=N}Ih(o,c,d,F)?z.insert(k,P[0],!0):(z.insert(F,P[0],!0),z.insert(k,F)),z=P[0],(Ih(o,c,d,z)||rE(z,"br"))&&z.empty().remove()}else if(k.parent){if(k.name==="li"){let M=k.prev;if(M&&(M.name==="ul"||M.name==="ol")){M.append(k);continue}if(M=k.next,M&&(M.name==="ul"||M.name==="ol")&&M.firstChild){M.insert(k,M.firstChild,!0);continue}const j=new dc("ul",1);s(j),k.wrap(j);continue}if(o.isValidChild(k.parent.name,"div")&&o.isValidChild("div",k.name)){const M=new dc("div",1);s(M),k.wrap(M)}else w2(k,o)}}},Ph=(t,o,r=o.parent)=>!(!r||(!t.children[o.name]||t.isValidChild(r.name,o.name))&&(o.name!=="a"||!(s=>{let i=s;for(;i;){if(i.name==="a")return!0;i=i.parent}return!1})(r))&&(!(s=>s.name==="summary")(r)||!oE(o)||(r==null?void 0:r.firstChild)===o&&(r==null?void 0:r.lastChild)===o)),rw=t=>t.collapsed?t:(o=>{const r=It.fromRangeStart(o),s=It.fromRangeEnd(o),i=o.commonAncestorContainer;return Ho(!1,i,s).map(c=>!E(r,s,i)&&E(r,c,i)?((d,m,f,y)=>{const v=document.createRange();return v.setStart(d,m),v.setEnd(f,y),v})(r.container(),r.offset(),c.container(),c.offset()):o).getOr(o)})(t),aE=(t,o)=>{let r=o.firstChild,s=o.lastChild;return r&&r.name==="meta"&&(r=r.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),((i,c)=>{const d=i.getNonEmptyElements();return Xe(c)&&(c.isEmpty(d)||((m,f)=>m.getBlockElements()[f.name]&&(y=>Xe(y.firstChild)&&y.firstChild===y.lastChild)(f)&&(y=>y.name==="br"||y.value===zn)(f.firstChild))(i,c))})(t,s)&&(s=s==null?void 0:s.prev),!(!r||r!==s||r.name!=="ul"&&r.name!=="ol")},p5=t=>{return t.length>0&&(!(r=t[t.length-1]).firstChild||Xe((o=r)==null?void 0:o.firstChild)&&o.firstChild===o.lastChild&&(s=>s.data===zn||ts(s))(o.firstChild))?t.slice(0,-1):t;var o,r},k2=(t,o)=>{const r=t.getParent(o,t.isBlock);return r&&r.nodeName==="LI"?r:null},_2=(t,o)=>{const r=It.after(t),s=Xn(o).prev(r);return s?s.toRange():null},f5=(t,o,r,s)=>{const i=((k,z,F)=>{const N=z.serialize(F);return(P=>{var M,j;const Y=P.firstChild,X=P.lastChild;return Y&&Y.nodeName==="META"&&((M=Y.parentNode)===null||M===void 0||M.removeChild(Y)),X&&X.id==="mce_marker"&&((j=X.parentNode)===null||j===void 0||j.removeChild(X)),P})(k.createFragment(N))})(o,t,s),c=k2(o,r.startContainer),d=p5((m=i.firstChild,Ue((f=m==null?void 0:m.childNodes)!==null&&f!==void 0?f:[],k=>k.nodeName==="LI")));var m,f;const y=o.getRoot(),v=k=>{const z=It.fromRangeStart(r),F=Xn(o.getRoot()),N=k===1?F.prev(z):F.next(z),P=N==null?void 0:N.getNode();return!P||k2(o,P)!==c};return c?v(1)?((k,z,F)=>{const N=k.parentNode;return N&&ve.each(z,P=>{N.insertBefore(P,k)}),((P,M)=>{const j=It.before(P),Y=Xn(M).next(j);return Y?Y.toRange():null})(k,F)})(c,d,y):v(2)?((k,z,F,N)=>(N.insertAfter(z.reverse(),k),_2(z[0],F)))(c,d,y,o):((k,z,F,N)=>{const P=((j,Y)=>{const X=Y.cloneRange(),ie=Y.cloneRange();return X.setStartBefore(j),ie.setEndAfter(j),[X.cloneContents(),ie.cloneContents()]})(k,N),M=k.parentNode;return M&&(M.insertBefore(P[0],k),ve.each(z,j=>{M.insertBefore(j,k)}),M.insertBefore(P[1],k),M.removeChild(k)),_2(z[z.length-1],F)})(c,d,y,r):null},vr=["pre"],M1=Zu,sE=t=>zy(t,Ao),R1=t=>zy(t,xb),zy=(t,o)=>t.startContainer===t.endContainer&&t.endOffset-t.startOffset==1&&o(t.startContainer.childNodes[t.startOffset]),B1=(t,o,r)=>{var s,i;const c=t.selection,d=t.dom,m=t.parser,f=r.merge,y=bp({validate:!0},t.schema),v='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';r.preserve_zwsp||(o=Wl(o)),o.indexOf("{$caret}")===-1&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,v);let k=c.getRng();const z=k.startContainer,F=t.getBody();z===F&&c.isCollapsed()&&d.isBlock(F.firstChild)&&((X,ie)=>Xe(ie)&&!X.schema.getVoidElements()[ie.nodeName])(t,F.firstChild)&&d.isEmpty(F.firstChild)&&(k=d.createRng(),k.setStart(F.firstChild,0),k.setEnd(F.firstChild,0),c.setRng(k)),c.isCollapsed()||(X=>{const ie=X.dom,ne=rw(X.selection.getRng());X.selection.setRng(ne);const we=ie.getParent(ne.startContainer,M1);((Ye,Ve,at)=>!!Xe(at)&&at===Ye.getParent(Ve.endContainer,M1)&&M_(Se(at),Ve))(ie,ne,we)?wp(X,ne,Se(we)):R1(ne)||sE(ne)?ne.deleteContents():X.getDoc().execCommand("Delete",!1)})(t);const N=c.getNode(),P={context:N.nodeName.toLowerCase(),data:r.data,insert:!0},M=m.parse(o,P);if(r.paste===!0&&aE(t.schema,M)&&((X,ie)=>!!k2(X,ie))(d,N))return k=f5(y,d,c.getRng(),M),k&&c.setRng(k),o;r.paste===!0&&((X,ie,ne,we)=>{var Ye;const Ve=ie.firstChild,at=ie.lastChild,Mt=Ve===(at.attr("data-mce-type")==="bookmark"?at.prev:at),Ae=co(vr,Ve.name);if(Mt&&Ae){const Ze=Ve.attr("contenteditable")!=="false",et=((Ye=X.getParent(ne,X.isBlock))===null||Ye===void 0?void 0:Ye.nodeName.toLowerCase())===Ve.name,jt=R.from(Sf(we,ne)).forall(Vl);return Ze&&et&&jt}return!1})(d,M,N,t.getBody())&&((s=M.firstChild)===null||s===void 0||s.unwrap()),(X=>{let ie=X;for(;ie=ie.walk();)ie.type===1&&ie.attr("data-mce-fragment","1")})(M);let j=M.lastChild;if(j&&j.attr("id")==="mce_marker"){const X=j;for(j=j.prev;j&&j.name!=="table";j=j.walk(!0))if(j.type===3||!d.isBlock(j.name)){j.parent&&t.schema.isValidChild(j.parent.name,"span")&&j.parent.insert(X,j,j.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(N),P.invalid||((X,ie,ne)=>{var we;return xo(ne.children(),oE)&&((we=X.getParent(ie,X.isBlock))===null||we===void 0?void 0:we.nodeName)==="SUMMARY"})(d,N,M)){t.selection.setContent(v);let X,ie=c.getNode();const ne=t.getBody();for(mu(ie)?ie=X=ne:X=ie;X&&X!==ne;)ie=X,X=X.parentNode;o=ie===ne?ne.innerHTML:d.getOuterHTML(ie);const we=m.parse(o),Ye=(Ze=>{for(let et=Ze;et;et=et.walk())if(et.attr("id")==="mce_marker")return R.some(et);return R.none()})(we),Ve=Ye.bind(g5).getOr(we);Ye.each(Ze=>Ze.replace(M));const at=M.children(),Mt=(i=M.parent)!==null&&i!==void 0?i:we;M.unwrap();const Ae=Ue(at,Ze=>Ph(t.schema,Ze,Mt));Ma(Ae,t.schema,Ve),v2(m.getNodeFilters(),m.getAttributeFilters(),we),o=y.serialize(we),ie===ne?d.setHTML(ne,o):d.setOuterHTML(ie,o)}else o=y.serialize(M),((X,ie,ne)=>{var we;ne.getAttribute("data-mce-bogus")==="all"?(we=ne.parentNode)===null||we===void 0||we.insertBefore(X.dom.createFragment(ie),ne):((Ye,Ve)=>{if(Ye.isBlock(Ve)&&Ye.isEditable(Ve)){const at=Ve.childNodes;return at.length===1&&ts(at[0])||at.length===0}return!1})(X.dom,ne)?X.dom.setHTML(ne,ie):X.selection.setContent(ie,{no_events:!0})})(t,o,N);var Y;return((X,ie)=>{const ne=X.schema.getTextInlineElements(),we=X.dom;if(ie){const Ye=X.getBody(),Ve=y2(X),at="*[data-mce-fragment]",Mt=we.select(at);ve.each(Mt,Ae=>{const Ze=Lo=>Xe(ne[Lo.nodeName.toLowerCase()]),et=Lo=>Lo.childNodes.length===1;if(!z3(we,jt=Ae)&&!((Lo,_o)=>z3(Lo,_o)&&xo(_y(Lo,_o),wn=>(Dn=>Q_.has(Dn))(wn)))(we,jt)&&Ze(Ae)&&et(Ae)){const Lo=_y(we,Ae),_o=(jn,Qo)=>_t(jn,Tn=>co(Qo,Tn)),wn=jn=>et(Ae)&&we.is(jn,at)&&Ze(jn)&&(jn.nodeName===Ae.nodeName&&_o(Lo,_y(we,jn))||wn(jn.children[0])),Dn=jn=>Xe(jn)&&jn!==Ye&&(Ve.compare(Ae,jn)||Dn(jn.parentElement)),Ln=jn=>Xe(jn)&&jn!==Ye&&we.is(jn,at)&&(((Qo,Tn,nt)=>{const ct=_y(Qo,Tn),Ut=_y(Qo,nt),Ht=Xo=>{var So,$n;const Jn=(So=Qo.getStyle(Tn,Xo))!==null&&So!==void 0?So:"",fr=($n=Qo.getStyle(nt,Xo))!==null&&$n!==void 0?$n:"";return Be(Jn)&&Be(fr)&&Jn!==fr};return xo(ct,Xo=>{const So=$n=>xo($n,Jn=>Jn===Xo);if(!So(Ut)&&So(jx)){const $n=Ue(Ut,Jn=>xo(jx,fr=>Jo(Jn,fr)));return xo($n,Ht)}return Ht(Xo)})})(we,Ae,jn)||Ln(jn.parentElement));(wn(Ae.children[0])||Dn(Ae.parentElement)&&!Ln(Ae.parentElement))&&we.remove(Ae,!0)}var jt})}})(t,f),((X,ie)=>{var ne,we,Ye;let Ve;const at=X.dom,Mt=X.selection;if(!ie)return;Mt.scrollIntoView(ie);const Ae=Sf(X.getBody(),ie);if(Ae&&at.getContentEditable(Ae)==="false")return at.remove(ie),void Mt.select(Ae);let Ze=at.createRng();const et=ie.previousSibling;if(Ao(et)){Ze.setStart(et,(we=(ne=et.nodeValue)===null||ne===void 0?void 0:ne.length)!==null&&we!==void 0?we:0);const Lo=ie.nextSibling;Ao(Lo)&&(et.appendData(Lo.data),(Ye=Lo.parentNode)===null||Ye===void 0||Ye.removeChild(Lo))}else Ze.setStartBefore(ie),Ze.setEndBefore(ie);const jt=at.getParent(ie,at.isBlock);if(at.remove(ie),jt&&at.isEmpty(jt)){const Lo=M1(jt);Fa(Se(jt)),Ze.setStart(jt,0),Ze.setEnd(jt,0),Lo||(_o=>!!_o.getAttribute("data-mce-fragment"))(jt)||!(Ve=(_o=>{let wn=It.fromRangeStart(_o);return wn=Xn(X.getBody()).next(wn),wn==null?void 0:wn.toRange()})(Ze))?at.add(jt,at.create("br",Lo?{}:{"data-mce-bogus":"1"})):(Ze=Ve,at.remove(jt))}Mt.setRng(Ze)})(t,d.get("mce_marker")),Y=t.getBody(),ve.each(Y.getElementsByTagName("*"),X=>{X.removeAttribute("data-mce-fragment")}),((X,ie,ne)=>{R.from(X.getParent(ie,"td,th")).map(Se).each(we=>((Ye,Ve)=>{yc(Ye).each(at=>{us(at).each(Mt=>{Ve.isBlock(pr(Ye))&&Fm(at)&&Ve.isBlock(pr(Mt))&&Xr(at)})})})(we,ne))})(d,c.getStart(),t.schema),((X,ie,ne)=>{const we=Nr(Se(ne),Ye=>wr(Ye,Se(ie)));rt(we,we.length-2).filter(Gs).fold(()=>Wu(X,ie),Ye=>Wu(X,Ye.dom))})(t.schema,t.getBody(),c.getStart()),o},Ef=t=>t instanceof dc,aw=(t,o,r)=>{t.dom.setHTML(t.getBody(),o),r!==!0&&(s=>{Rh(s)&&$s(s.getBody()).each(i=>{const c=i.getNode(),d=Rs(c)?$s(c).getOr(i):i;s.selection.setRng(d.toRange())})})(t)},C2=F_,iE=(t,o,r)=>{const s=t.formatter.get(r);if(s)for(let i=0;i<s.length;i++){const c=s[i];if(Eu(c)&&c.inherit===!1&&t.dom.is(o,c.selector))return!0}return!1},S2=(t,o,r,s,i)=>{const c=t.dom.getRoot();if(o===c)return!1;const d=t.dom.getParent(o,m=>!!iE(t,m,r)||m.parentNode===c||!!Yd(t,m,r,s,!0));return!!Yd(t,d,r,s,i)},sw=(t,o,r)=>!(!bl(r)||!C2(o,r.inline))||!(!$m(r)||!C2(o,r.block))||!!Eu(r)&&$t(o)&&t.is(o,r.selector),hs=(t,o,r,s,i,c)=>{const d=r[s],m=s==="attributes";if(ae(r.onmatch))return r.onmatch(o,r,s);if(d){if(fa(d)){for(let f=0;f<d.length;f++)if(m?t.getAttrib(o,d[f]):kx(t,o,d[f]))return!0}else for(const f in d)if(on(d,f)){const y=m?t.getAttrib(o,f):kx(t,o,f),v=bf(d[f],c),k=he(y)||Kt(y);if(k&&he(v))continue;if(i&&k&&!r.exact||(!i||r.exact)&&!C2(y,L_(v,f)))return!1}}return!0},Yd=(t,o,r,s,i)=>{const c=t.formatter.get(r),d=t.dom;if(c&&$t(o))for(let m=0;m<c.length;m++){const f=c[m];if(sw(t.dom,o,f)&&hs(d,o,f,"attributes",i,s)&&hs(d,o,f,"styles",i,s)){const y=f.classes;if(y){for(let v=0;v<y.length;v++)if(!t.dom.hasClass(o,bf(y[v],s)))return}return f}}},qm=(t,o,r,s,i)=>{if(s)return S2(t,s,o,r,i);if(s=t.selection.getNode(),S2(t,s,o,r,i))return!0;const c=t.selection.getStart();return!(c===s||!S2(t,c,o,r,i))},Gr=Pi,Gi=t=>{if(t){const o=new Ms(t,t);for(let r=o.current();r;r=o.next())if(Ao(r))return r}return null},lm=t=>{const o=Wn("span");return Mc(o,{id:fp,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Aa(o,ka(Gr)),o},Wm=(t,o,r)=>{const s=t.dom,i=t.selection;if(gs(o))_f(t,!1,Se(o),r,!0);else{const c=i.getRng(),d=s.getParent(o,s.isBlock),m=c.startContainer,f=c.startOffset,y=c.endContainer,v=c.endOffset,k=(z=>{const F=Gi(z);return F&&F.data.charAt(0)===Gr&&F.deleteData(0,1),F})(o);s.remove(o,!0),m===k&&f>0&&c.setStart(k,f-1),y===k&&v>0&&c.setEnd(k,v-1),d&&s.isEmpty(d)&&Yu(Se(d)),i.setRng(c)}},Mg=(t,o,r)=>{const s=t.dom,i=t.selection;if(o)Wm(t,o,r);else if(!(o=Cu(t.getBody(),i.getStart())))for(;o=s.get(fp);)Wm(t,o,r)},iw=(t,o)=>(t.appendChild(o),o),lE=(t,o)=>{var r;const s=me(t,(c,d)=>iw(c,d.cloneNode(!1)),o),i=(r=s.ownerDocument)!==null&&r!==void 0?r:document;return iw(s,i.createTextNode(Gr))},E2=t=>pi(t,ed(t).replace(new RegExp(`${zn}$`)," ")),Ay=(t,o)=>{const r=()=>{o===null||t.dom.isEmpty(o)||us(Se(o)).each(s=>{la(s)?E2(s):wm(s,i=>la(i)).each(i=>{la(i)&&E2(i)})})};t.once("input",s=>{s.data&&!hf(s.data)&&(s.isComposing?t.once("compositionend",()=>{r()}):r())})},cE=(t,o,r,s)=>{const i=t.dom,c=t.selection;let d=!1;const m=t.formatter.get(o);if(!m)return;const f=c.getRng(),y=f.startContainer,v=f.startOffset;let k=y;Ao(y)&&(v!==y.data.length&&(d=!0),k=k.parentNode);const z=[];let F;for(;k;){if(Yd(t,k,o,r,s)){F=k;break}k.nextSibling&&(d=!0),z.push(k),k=k.parentNode}if(F)if(d){const N=c.getBookmark();f.collapse(!0);let P=ps(i,f,m,{includeTrailingSpace:!0});P=vy(P),t.formatter.remove(o,r,P,s),c.moveToBookmark(N)}else{const N=Cu(t.getBody(),F),P=Xe(N)?i.getParents(F.parentNode,je,N):[],M=lm(!1).dom;((X,ie,ne)=>{var we,Ye;const Ve=X.dom,at=Ve.getParent(ne,Ot(gy,X.schema));at&&Ve.isEmpty(at)?(we=ne.parentNode)===null||we===void 0||we.replaceChild(ie,ne):((Mt=>{const Ae=hi(Mt,"br"),Ze=Ue((et=>{const jt=[];let Lo=et.dom;for(;Lo;)jt.push(Se(Lo)),Lo=Lo.lastChild;return jt})(Mt).slice(-1),Fm);Ae.length===Ze.length&&ke(Ze,Xr)})(Se(ne)),Ve.isEmpty(ne)?(Ye=ne.parentNode)===null||Ye===void 0||Ye.replaceChild(ie,ne):Ve.insertAfter(ie,ne))})(t,M,N??F);const j=((X,ie,ne,we,Ye,Ve)=>{const at=X.formatter,Mt=X.dom,Ae=Ue(Dt(at.get()),et=>et!==we&&!ko(et,"removeformat")),Ze=((et,jt,Lo)=>xe(Lo,(_o,wn)=>{const Dn=((Ln,jn)=>I_(Ln,jn,Qo=>{const Tn=nt=>ae(nt)||nt.length>1&&nt.charAt(0)==="%";return xo(["styles","attributes"],nt=>Cn(Qo,nt).exists(ct=>{const Ut=ao(ct)?ct:Ha(ct);return xo(Ut,Tn)}))}))(et,wn);return et.formatter.matchNode(jt,wn,{},Dn)?_o.concat([wn]):_o},[]))(X,ne,Ae);if(Ue(Ze,et=>!((jt,Lo,_o)=>{const wn=["inline","block","selector","attributes","styles","classes"],Dn=Ln=>gr(Ln,(jn,Qo)=>xo(wn,Tn=>Tn===Qo));return I_(jt,Lo,Ln=>{const jn=Dn(Ln);return I_(jt,_o,Qo=>{const Tn=Dn(Qo);return((nt,ct,Ut=gn)=>ro(Ut).eq(nt,ct))(jn,Tn)})})})(X,et,we)).length>0){const et=ne.cloneNode(!1);return Mt.add(ie,et),at.remove(we,Ye,et,Ve),Mt.remove(et),R.some(et)}return R.none()})(t,M,F,o,r,s),Y=lE([...z,...j.toArray(),...P],M);N&&Wm(t,N,Xe(N)),c.setCursorLocation(Y,1),Ay(t,M),i.isEmpty(F)&&i.remove(F)}},z2=t=>{const o=lm(!1),r=lE(t,o.dom);return{caretContainer:o,caretPosition:It(r,0)}},A2=(t,o)=>{const{caretContainer:r,caretPosition:s}=z2(o);return ua(Se(t),r),Xr(Se(t)),s},dE=(t,o)=>{if(lc(o.dom))return!1;const r=t.schema.getTextInlineElements();return on(r,pr(o))&&!lc(o.dom)&&!va(o.dom)},Hh={},T2=bn(["pre"]);(t=>{Hh[t]||(Hh[t]=[]),Hh[t].push(o=>{if(!o.selection.getRng().collapsed){const r=o.selection.getSelectedBlocks(),s=Ue(Ue(r,T2),(i=>c=>{const d=c.previousSibling;return T2(d)&&co(i,d)})(r));ke(s,i=>{((c,d)=>{const m=Se(d),f=lt(m).dom;Xr(m),Ds(Se(c),[Wn("br",f),Wn("br",f),...ha(m)])})(i.previousSibling,i)})}})})("pre");const F1=["fontWeight","fontStyle","color","fontSize","fontFamily"],vl=(t,o)=>{const r=t.get(o);return ao(r)?Ie(r,s=>bl(s)&&s.inline==="span"&&(i=>bt(i.styles)&&xo(Dt(i.styles),c=>co(F1,c)))(s)):R.none()},uE=(t,o)=>ws(o,It.fromRangeStart(t)).isNone(),mE=(t,o)=>ki(o,It.fromRangeEnd(t)).exists(r=>!ts(r.getNode())||ki(o,r).isSome())===!1,gE=t=>o=>ig(o)&&t.isEditable(o),O2=t=>Ue(t.getSelectedBlocks(),gE(t.dom)),Vh=ve.each,lw=t=>$t(t)&&!Wd(t)&&!lc(t)&&!va(t),zf=(t,o)=>{for(let r=t;r;r=r[o]){if(Ao(r)&&Be(r.data))return t;if($t(r)&&!Wd(r))return r}return t},N2=(t,o,r)=>{const s=y2(t),i=Zn(o)&&t.dom.isEditable(o),c=Zn(r)&&t.dom.isEditable(r);if(i&&c){const d=zf(o,"previousSibling"),m=zf(r,"nextSibling");if(s.compare(d,m)){for(let f=d.nextSibling;f&&f!==m;){const y=f;f=f.nextSibling,d.appendChild(y)}return t.dom.remove(m),ve.each(ve.grep(m.childNodes),f=>{d.appendChild(f)}),d}}return r},D2=(t,o,r,s)=>{var i;if(s&&o.merge_siblings!==!1){const c=(i=N2(t,KS(s),s))!==null&&i!==void 0?i:s;N2(t,c,KS(c,!0))}},cw=(t,o,r)=>{Vh(t.childNodes,s=>{lw(s)&&(o(s)&&r(s),s.hasChildNodes()&&cw(s,o,r))})},M2=(t,o)=>r=>!(!r||!kx(t,r,o)),R2=(t,o,r)=>s=>{t.setStyle(s,o,r),s.getAttribute("style")===""&&s.removeAttribute("style"),((i,c)=>{c.nodeName==="SPAN"&&i.getAttribs(c).length===0&&i.remove(c,!0)})(t,s)},Af=Ya([{keep:[]},{rename:["name"]},{removed:[]}]),h5=/^(src|href|style)$/,B2=ve.each,dw=F_,pE=(t,o,r)=>t.isChildOf(o,r)&&o!==r&&!t.isBlock(r),fE=(t,o,r)=>{let s=o[r?"startContainer":"endContainer"],i=o[r?"startOffset":"endOffset"];if($t(s)){const c=s.childNodes.length-1;!r&&i&&i--,s=s.childNodes[i>c?c:i]}return Ao(s)&&r&&i>=s.data.length&&(s=new Ms(s,t.getBody()).next()||s),Ao(s)&&!r&&i===0&&(s=new Ms(s,t.getBody()).prev()||s),s},uw=(t,o)=>{const r=o?"firstChild":"lastChild",s=t[r];return(i=>/^(TR|TH|TD)$/.test(i.nodeName))(t)&&s?t.nodeName==="TR"&&s[r]||s:t},L1=(t,o,r,s)=>{var i;const c=t.create(r,s);return(i=o.parentNode)===null||i===void 0||i.insertBefore(c,o),c.appendChild(o),c},hE=(t,o,r,s,i)=>{const c=Se(o),d=Se(t.create(s,i)),m=r?ks(c):Hs(c);return Ds(d,m),r?(ua(c,d),er(d,c)):(xc(c,d),Aa(d,c)),d.dom},bE=(t,o,r)=>{const s=o.parentNode;let i;const c=t.dom,d=As(t);$m(r)&&s===c.getRoot()&&(r.list_block&&dw(o,r.list_block)||ke(qo(o.childNodes),m=>{py(t,d,m.nodeName.toLowerCase())?i?i.appendChild(m):(i=L1(c,m,d),c.setAttribs(i,nl(t))):i=null})),(m=>Eu(m)&&bl(m)&&Er(Cn(m,"mixed"),!0))(r)&&!dw(r.inline,o)||c.remove(o,!0)},yE=(t,o,r)=>pt(t)?{name:o,value:null}:{name:t,value:bf(o,r)},vE=(t,o)=>{t.getAttrib(o,"style")===""&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style"))},F2=(t,o,r,s,i)=>{let c=!1;B2(r.styles,(d,m)=>{const{name:f,value:y}=yE(m,d,s),v=L_(y,f);(r.remove_similar||Te(y)||!$t(i)||dw(kx(t,i,f),v))&&t.setStyle(o,f,""),c=!0}),c&&vE(t,o)},Rg=(t,o,r,s,i)=>{const c=t.dom,d=y2(t),m=t.schema;if(bl(o)&&oc(m,o.inline)&&Lc(m,s)&&s.parentElement===t.getBody())return bE(t,s,o),Af.removed();if(!o.ceFalseOverride&&s&&c.getContentEditableParent(s)==="false"||s&&!sw(c,s,o)&&!((v,k)=>k.links&&v.nodeName==="A")(s,o))return Af.keep();const f=s,y=o.preserve_attributes;if(bl(o)&&o.remove==="all"&&ao(y)){const v=Ue(c.getAttribs(f),k=>co(y,k.name.toLowerCase()));if(c.removeAllAttribs(f),ke(v,k=>c.setAttrib(f,k.name,k.value)),v.length>0)return Af.rename("span")}if(o.remove!=="all"){F2(c,f,o,r,i),B2(o.attributes,(k,z)=>{const{name:F,value:N}=yE(z,k,r);if(o.remove_similar||Te(N)||!$t(i)||dw(c.getAttrib(i,F),N)){if(F==="class"){const P=c.getAttrib(f,F);if(P){let M="";if(ke(P.split(/\s+/),j=>{/mce\-\w+/.test(j)&&(M+=(M?" ":"")+j)}),M)return void c.setAttrib(f,F,M)}}if(h5.test(F)&&f.removeAttribute("data-mce-"+F),F==="style"&&bn(["li"])(f)&&c.getStyle(f,"list-style-type")==="none")return f.removeAttribute(F),void c.setStyle(f,"list-style-type","none");F==="class"&&f.removeAttribute("className"),f.removeAttribute(F)}}),B2(o.classes,k=>{k=bf(k,r),$t(i)&&!c.hasClass(i,k)||c.removeClass(f,k)});const v=c.getAttribs(f);for(let k=0;k<v.length;k++){const z=v[k].nodeName;if(!d.isAttributeInternal(z))return Af.keep()}}return o.remove!=="none"?(bE(t,f,o),Af.removed()):Af.keep()},xE=(t,o,r,s)=>Rg(t,o,r,s,s).fold(Nt(s),i=>(t.dom.createFragment().appendChild(s),t.dom.rename(s,i)),Nt(null)),L2=(t,o,r,s,i)=>{(s||t.selection.isEditable())&&((c,d,m,f,y)=>{const v=c.formatter.get(d),k=v[0],z=c.dom,F=c.selection,N=X=>{const ie=((ne,we,Ye,Ve,at)=>{let Mt;return we.parentNode&&ke(_x(ne.dom,we.parentNode).reverse(),Ae=>{if(!Mt&&$t(Ae)&&Ae.id!=="_start"&&Ae.id!=="_end"){const Ze=Yd(ne,Ae,Ye,Ve,at);Ze&&Ze.split!==!1&&(Mt=Ae)}}),Mt})(c,X,d,m,y);return((ne,we,Ye,Ve,at,Mt,Ae,Ze)=>{var et,jt;let Lo,_o;const wn=ne.dom;if(Ye){const Dn=Ye.parentNode;for(let Ln=Ve.parentNode;Ln&&Ln!==Dn;Ln=Ln.parentNode){let jn=wn.clone(Ln,!1);for(let Qo=0;Qo<we.length&&(jn=xE(ne,we[Qo],Ze,jn),jn!==null);Qo++);jn&&(Lo&&jn.appendChild(Lo),_o||(_o=jn),Lo=jn)}Ae.mixed&&wn.isBlock(Ye)||(Ve=(et=wn.split(Ye,Ve))!==null&&et!==void 0?et:Ve),Lo&&_o&&((jt=at.parentNode)===null||jt===void 0||jt.insertBefore(Lo,at),_o.appendChild(at),bl(Ae)&&D2(ne,Ae,0,Lo))}return Ve})(c,v,ie,X,X,0,k,m)},P=X=>xo(v,ie=>I1(c,ie,m,X,X)),M=X=>{const ie=qo(X.childNodes),ne=P(X)||xo(v,Ye=>sw(z,X,Ye)),we=X.parentNode;if(!ne&&Xe(we)&&P_(k)&&P(we),k.deep&&ie.length)for(let Ye=0;Ye<ie.length;Ye++)M(ie[Ye]);ke(["underline","line-through","overline"],Ye=>{$t(X)&&c.dom.getStyle(X,"text-decoration")===Ye&&X.parentNode&&yf(z,X.parentNode)===Ye&&I1(c,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Ye}},void 0,X)})},j=X=>{const ie=z.get(X?"_start":"_end");if(ie){let ne=ie[X?"firstChild":"lastChild"];return(we=>Wd(we)&&$t(we)&&(we.id==="_start"||we.id==="_end"))(ne)&&(ne=ne[X?"firstChild":"lastChild"]),Ao(ne)&&ne.data.length===0&&(ne=X?ie.previousSibling||ie.nextSibling:ie.nextSibling||ie.previousSibling),z.remove(ie,!0),ne}return null},Y=X=>{let ie,ne,we=ps(z,X,v,{includeTrailingSpace:X.collapsed});if(k.split){if(we=vy(we),ie=fE(c,we,!0),ne=fE(c,we),ie!==ne){if(ie=uw(ie,!0),ne=uw(ne,!1),pE(z,ie,ne)){const Ve=R.from(ie.firstChild).getOr(ie);return N(hE(z,Ve,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void j(!0)}if(pE(z,ne,ie)){const Ve=R.from(ne.lastChild).getOr(ne);return N(hE(z,Ve,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void j(!1)}ie=L1(z,ie,"span",{id:"_start","data-mce-type":"bookmark"}),ne=L1(z,ne,"span",{id:"_end","data-mce-type":"bookmark"});const Ye=z.createRng();Ye.setStartAfter(ie),Ye.setEndBefore(ne),m1(z,Ye,Ve=>{ke(Ve,at=>{Wd(at)||Wd(at.parentNode)||N(at)})}),N(ie),N(ne),ie=j(!0),ne=j()}else ie=ne=N(ie);we.startContainer=ie.parentNode?ie.parentNode:ie,we.startOffset=z.nodeIndex(ie),we.endContainer=ne.parentNode?ne.parentNode:ne,we.endOffset=z.nodeIndex(ne)+1}m1(z,we,Ye=>{ke(Ye,M)})};if(f){if(dy(f)){const X=z.createRng();X.setStartBefore(f),X.setEndAfter(f),Y(X)}else Y(f);of(c,d,f,m)}else F.isCollapsed()&&bl(k)&&!hp(c).length?cE(c,d,m,y):(uy(c,()=>B_(c,Y),X=>bl(k)&&qm(c,d,m,X)),c.nodeChanged()),((X,ie,ne)=>{ie==="removeformat"?ke(O2(X.selection),we=>{ke(F1,Ye=>X.dom.setStyle(we,Ye,"")),vE(X.dom,we)}):vl(X.formatter,ie).each(we=>{ke(O2(X.selection),Ye=>F2(X.dom,Ye,we,ne,null))})})(c,d,m),of(c,d,f,m)})(t,o,r,s,i)},I1=(t,o,r,s,i)=>Rg(t,o,r,s,i).fold(Bo,c=>(t.dom.rename(s,c),!0),je),wE=ve.each,P1=ve.each,I2=(t,o,r,s)=>{if(P1(r.styles,(i,c)=>{t.setStyle(o,c,bf(i,s))}),r.styles){const i=t.getAttrib(o,"style");i&&t.setAttrib(o,"data-mce-style",i)}},b5=(t,o,r,s)=>{const i=t.formatter.get(o),c=i[0],d=!s&&t.selection.isCollapsed(),m=t.dom,f=t.selection,y=(N,P=c)=>{ae(P.onformat)&&P.onformat(N,P,r,s),I2(m,N,P,r),P1(P.attributes,(M,j)=>{m.setAttrib(N,j,bf(M,r))}),P1(P.classes,M=>{const j=bf(M,r);m.hasClass(N,j)||m.addClass(N,j)})},v=(N,P)=>{let M=!1;return P1(N,j=>!(!Eu(j)||(m.getContentEditable(P)!=="false"||j.ceFalseOverride)&&(!Xe(j.collapsed)||j.collapsed===d)&&m.is(P,j.selector)&&!lc(P)&&(y(P,j),M=!0,1))),M},k=N=>{if(Je(N)){const P=m.create(N);return y(P),P}return null},z=(N,P,M)=>{const j=[];let Y=!0;const X=c.inline||c.block,ie=k(X);m1(N,P,ne=>{let we;const Ye=Ve=>{let at=!1,Mt=Y,Ae=!1;const Ze=Ve.parentNode,et=Ze.nodeName.toLowerCase(),jt=N.getContentEditable(Ve);Xe(jt)&&(Mt=Y,Y=jt==="true",at=!0,Ae=wx(t,Ve));const Lo=Y&&!at;if(ts(Ve)&&!((_o,wn,Dn,Ln)=>{if(cf(_o)&&bl(wn)&&Dn.parentNode){const jn=hu(_o.schema),Qo=Sm(Se(Dn),Tn=>lc(Tn.dom));return ea(jn,Ln)&&kc(_o.schema,Dn.parentNode,{skipBogus:!1,includeZwsp:!0})&&!Qo}return!1})(t,c,Ve,et))return we=null,void($m(c)&&N.remove(Ve));if((_o=>(wn=>$m(wn)&&wn.wrapper===!0)(c)&&Yd(t,_o,o,r))(Ve))we=null;else{if(((_o,wn,Dn)=>{const Ln=(jn=>$m(jn)&&jn.wrapper!==!0)(c)&&gy(t.schema,_o)&&py(t,wn,X);return Dn&&Ln})(Ve,et,Lo)){const _o=N.rename(Ve,X);return y(_o),j.push(_o),void(we=null)}if(Eu(c)){let _o=v(i,Ve);if(!_o&&Xe(Ze)&&P_(c)&&(_o=v(i,Ze)),!bl(c)||_o)return void(we=null)}Xe(ie)&&((_o,wn,Dn,Ln)=>{const jn=_o.nodeName.toLowerCase(),Qo=py(t,X,jn)&&py(t,wn,X),Tn=!M&&Ao(_o)&&Yp(_o.data),nt=lc(_o),ct=!bl(c)||!N.isBlock(_o);return(Dn||Ln)&&Qo&&!Tn&&!nt&&ct})(Ve,et,Lo,Ae)?(we||(we=N.clone(ie,!1),Ze.insertBefore(we,Ve),j.push(we)),Ae&&at&&(Y=Mt),we.appendChild(Ve)):(we=null,ke(qo(Ve.childNodes),Ye),at&&(Y=Mt),we=null)}};ke(ne,Ye)}),c.links===!0&&ke(j,ne=>{const we=Ye=>{Ye.nodeName==="A"&&y(Ye,c),ke(qo(Ye.childNodes),we)};we(ne)}),ke(j,ne=>{const we=(Ye=>{let Ve=0;return ke(Ye.childNodes,at=>{(Mt=>Xe(Mt)&&Ao(Mt)&&Mt.length===0)(at)||Wd(at)||Ve++}),Ve})(ne);!(j.length>1)&&N.isBlock(ne)||we!==0?(bl(c)||$m(c)&&c.wrapper)&&(c.exact||we!==1||(ne=(Ye=>Ie(Ye.childNodes,u1).filter(at=>N.getContentEditable(at)!=="false"&&sw(N,at,c)).map(at=>{const Mt=N.clone(at,!1);return y(Mt),N.replace(Mt,Ye,!0),N.remove(at,!0),Mt}).getOr(Ye))(ne)),((Ye,Ve,at,Mt)=>{wE(Ve,Ae=>{bl(Ae)&&wE(Ye.dom.select(Ae.inline,Mt),Ze=>{lw(Ze)&&I1(Ye,Ae,at,Ze,Ae.exact?Ze:null)}),((Ze,et,jt)=>{if(et.clear_child_styles){const Lo=et.links?"*:not(a)":"*";Vh(Ze.select(Lo,jt),_o=>{lw(_o)&&Ze.isEditable(_o)&&Vh(et.styles,(wn,Dn)=>{Ze.setStyle(_o,Dn,"")})})}})(Ye.dom,Ae,Mt)})})(t,i,r,ne),((Ye,Ve,at,Mt,Ae)=>{const Ze=Ae.parentNode;Yd(Ye,Ze,at,Mt)&&I1(Ye,Ve,Mt,Ae)||Ve.merge_with_parents&&Ze&&Ye.dom.getParent(Ze,et=>!!Yd(Ye,et,at,Mt)&&(I1(Ye,Ve,Mt,Ae),!0))})(t,c,o,r,ne),((Ye,Ve,at,Mt)=>{if(Ve.styles&&Ve.styles.backgroundColor){const Ae=M2(Ye,"fontSize");cw(Mt,Ze=>Ae(Ze)&&Ye.isEditable(Ze),R2(Ye,"backgroundColor",bf(Ve.styles.backgroundColor,at)))}})(N,c,r,ne),((Ye,Ve,at,Mt)=>{const Ae=Ze=>{if(Zn(Ze)&&$t(Ze.parentNode)&&Ye.isEditable(Ze)){const et=yf(Ye,Ze.parentNode);Ye.getStyle(Ze,"color")&&et?Ye.setStyle(Ze,"text-decoration",et):Ye.getStyle(Ze,"text-decoration")===et&&Ye.setStyle(Ze,"text-decoration",null)}};Ve.styles&&(Ve.styles.color||Ve.styles.textDecoration)&&(ve.walk(Mt,Ae,"childNodes"),Ae(Mt))})(N,c,0,ne),((Ye,Ve,at,Mt)=>{if(bl(Ve)&&(Ve.inline==="sub"||Ve.inline==="sup")){const Ae=M2(Ye,"fontSize");cw(Mt,et=>Ae(et)&&Ye.isEditable(et),R2(Ye,"fontSize",""));const Ze=Ue(Ye.select(Ve.inline==="sup"?"sub":"sup",Mt),Ye.isEditable);Ye.remove(Ze,!0)}})(N,c,0,ne),D2(t,c,0,ne)):N.remove(ne,!0)})},F=dy(s)?s:f.getNode();if(m.getContentEditable(F)==="false"&&!wx(t,F))return v(i,s=F),void rp(t,o,s,r);if(c){if(s)if(dy(s)){if(!v(i,s)){const N=m.createRng();N.setStartBefore(s),N.setEndAfter(s),z(m,ps(m,N,i),!0)}}else z(m,s,!0);else d&&bl(c)&&!hp(t).length?((N,P,M)=>{let j;const Y=N.selection,X=N.formatter.get(P);if(!X)return;const ie=Y.getRng();let ne=ie.startOffset;const we=ie.startContainer.nodeValue;j=Cu(N.getBody(),Y.getStart());const Ye=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(we&&ne>0&&ne<we.length&&Ye.test(we.charAt(ne))&&Ye.test(we.charAt(ne-1))){const Mt=Y.getBookmark();ie.collapse(!0);let Ae=ps(N.dom,ie,X);Ae=vy(Ae),N.formatter.apply(P,M,Ae),Y.moveToBookmark(Mt)}else{let Mt=j?Gi(j):null;j&&(Mt==null?void 0:Mt.data)===Gr||(Ve=N.getDoc(),at=lm(!0).dom,j=Ve.importNode(at,!0),Mt=j.firstChild,ie.insertNode(j),ne=1,Ay(N,j)),N.formatter.apply(P,M,j),Y.setCursorLocation(Mt,ne)}var Ve,at})(t,o,r):(f.setRng(rw(f.getRng())),uy(t,()=>{B_(t,(N,P)=>{const M=P?N:ps(m,N,i);z(m,M,!1)})},je),t.nodeChanged()),vl(t.formatter,o).each(N=>{ke((P=>Ue((M=>{const j=M.getSelectedBlocks(),Y=M.getRng();if(M.isCollapsed())return[];if(j.length===1)return uE(Y,j[0])&&mE(Y,j[0])?j:[];{const X=xt(j).filter(we=>uE(Y,we)).toArray(),ie=oo(j).filter(we=>mE(Y,we)).toArray(),ne=j.slice(1,-1);return X.concat(ne).concat(ie)}})(P),gE(P.dom)))(t.selection),P=>I2(m,P,N,r))});((N,P)=>{on(Hh,N)&&ke(Hh[N],M=>{M(P)})})(o,t)}rp(t,o,s,r)},Tf=(t,o,r,s)=>{(s||t.selection.isEditable())&&b5(t,o,r,s)},P2=t=>on(t,"vars"),H2=t=>t.selection.getStart(),kE=(t,o,r,s,i)=>Pe(o,c=>{const d=t.formatter.matchNode(c,r,i??{},s);return!wo(d)},c=>!!iE(t,c,r)||!s&&Xe(t.formatter.matchNode(c,r,i,!0))),mw=(t,o)=>{const r=o??H2(t);return Ue(_x(t.dom,r),s=>$t(s)&&!va(s))},_E=(t,o,r)=>{const s=mw(t,o);ft(r,(i,c)=>{const d=m=>{const f=kE(t,s,c,m.similar,P2(m)?m.vars:void 0),y=f.isSome();if(m.state.get()!==y){m.state.set(y);const v=f.getOr(o);P2(m)?m.callback(y,{node:v,format:c,parents:s}):ke(m.callbacks,k=>k(y,{node:v,format:c,parents:s}))}};ke([i.withSimilar,i.withoutSimilar],d),ke(i.withVars,d)})},gw=ve.explode,V2=()=>{const t={};return{addFilter:(o,r)=>{ke(gw(o),s=>{on(t,s)||(t[s]={name:s,callbacks:[]}),t[s].callbacks.push(r)})},getFilters:()=>Ha(t),removeFilter:(o,r)=>{ke(gw(o),s=>{if(on(t,s))if(Xe(r)){const i=t[s],c=Ue(i.callbacks,d=>d!==r);c.length>0?i.callbacks=c:delete t[s]}else delete t[s]})}}},pw=(t,o,r)=>{var s;const i=vi();o.convert_fonts_to_spans&&((c,d,m)=>{c.addNodeFilter("font",f=>{ke(f,y=>{const v=d.parse(y.attr("style")),k=y.attr("color"),z=y.attr("face"),F=y.attr("size");k&&(v.color=k),z&&(v["font-family"]=z),F&&Po(F).each(N=>{v["font-size"]=m[N-1]}),y.name="span",y.attr("style",d.serialize(v)),(N=>{ke(["color","face","size"],P=>{N.attr(P,null)})})(y)})})})(t,i,ve.explode((s=o.font_size_legacy_values)!==null&&s!==void 0?s:"")),((c,d,m)=>{c.addNodeFilter("strike",f=>{const y=d.type!=="html4";ke(f,v=>{if(y)v.name="s";else{const k=m.parse(v.attr("style"));k["text-decoration"]="line-through",v.name="span",v.attr("style",m.serialize(k))}})})})(t,r,i)},j2=t=>{const[o,...r]=t.split(","),s=r.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(o);if(i){const c=i[2]===";base64",d=(f=>{try{return decodeURIComponent(f)}catch{return f}})(s),m=c?(f=>{const y=/([a-z0-9+\/=\s]+)/i.exec(f);return y?y[1]:""})(d):d;return R.some({type:i[1],data:m,base64Encoded:c})}return R.none()},fw=(t,o,r=!0)=>{let s=o;if(r)try{s=atob(o)}catch{return R.none()}const i=new Uint8Array(s.length);for(let c=0;c<i.length;c++)i[c]=s.charCodeAt(c);return R.some(new Blob([i],{type:t}))},$2=t=>new Promise((o,r)=>{const s=new FileReader;s.onloadend=()=>{o(s.result)},s.onerror=()=>{var i;r((i=s.error)===null||i===void 0?void 0:i.message)},s.readAsDataURL(t)});let CE=0;const hw=(t,o,r)=>j2(t).bind(({data:s,type:i,base64Encoded:c})=>{if(o&&!c)return R.none();{const d=c?s:btoa(s);return r(d,i)}}),U2=(t,o,r)=>{const s=t.create("blobid"+CE++,o,r);return t.add(s),s},bw=(t,o,r=!1)=>hw(o,r,(s,i)=>R.from(t.getByData(s,i)).orThunk(()=>fw(i,s).map(c=>U2(t,c,s)))),y5=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,v5=t=>R.from(t.match(y5)).bind(o=>rt(o,1)).map(o=>Jo(o,"www.")?o.substring(4):o),Od=(t,o)=>{R.from(t.attr("src")).bind(v5).forall(r=>!co(o,r))&&t.attr("sandbox","")},yw=(t,o)=>Jo(t,`${o}/`),{entries:SE,setPrototypeOf:Z2,isFrozen:x5,getPrototypeOf:Ty,getOwnPropertyDescriptor:Oy}=Object;let{freeze:Nd,seal:xl,create:EE}=Object,{apply:q2,construct:Ny}=typeof Reflect<"u"&&Reflect;Nd||(Nd=function(t){return t}),xl||(xl=function(t){return t}),q2||(q2=function(t,o,r){return t.apply(o,r)}),Ny||(Ny=function(t,o){return new t(...o)});const Dy=Dd(Array.prototype.forEach),W2=Dd(Array.prototype.lastIndexOf),G2=Dd(Array.prototype.pop),cm=Dd(Array.prototype.push),w5=Dd(Array.prototype.splice),vw=Dd(String.prototype.toLowerCase),_r=Dd(String.prototype.toString),zE=Dd(String.prototype.match),My=Dd(String.prototype.replace),k5=Dd(String.prototype.indexOf),ui=Dd(String.prototype.trim),Gm=Dd(Object.prototype.hasOwnProperty),ia=Dd(RegExp.prototype.test),Ry=(K2=TypeError,function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return Ny(K2,o)});var K2;function Dd(t){return function(o){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return q2(t,o,s)}}function Wa(t,o){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vw;Z2&&Z2(t,null);let s=o.length;for(;s--;){let i=o[s];if(typeof i=="string"){const c=r(i);c!==i&&(x5(o)||(o[s]=c),i=c)}t[i]=!0}return t}function kp(t){for(let o=0;o<t.length;o++)Gm(t,o)||(t[o]=null);return t}function _p(t){const o=EE(null);for(const[r,s]of SE(t))Gm(t,r)&&(Array.isArray(s)?o[r]=kp(s):s&&typeof s=="object"&&s.constructor===Object?o[r]=_p(s):o[r]=s);return o}function H1(t,o){for(;t!==null;){const r=Oy(t,o);if(r){if(r.get)return Dd(r.get);if(typeof r.value=="function")return Dd(r.value)}t=Ty(t)}return function(){return null}}const xw=Nd(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Y2=Nd(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Oi=Nd(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_5=Nd(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bg=Nd(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),C5=Nd(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),AE=Nd(["#text"]),TE=Nd(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),X2=Nd(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),OE=Nd(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ww=Nd(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),S5=xl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),E5=xl(/<%[\w\W]*|[\w\W]*%>/gm),z5=xl(/\$\{[\w\W]*/gm),kw=xl(/^data-[\-\w.\u00B7-\uFFFF]+$/),A5=xl(/^aria-[\-\w]+$/),NE=xl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V1=xl(/^(?:\w+script|data):/i),J2=xl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Of=xl(/^html$/i),jh=xl(/^[a-z][.\w]*(-[.\w]+)+$/i);var j1=Object.freeze({__proto__:null,ARIA_ATTR:A5,ATTR_WHITESPACE:J2,CUSTOM_ELEMENT:jh,DATA_ATTR:kw,DOCTYPE_NAME:Of,ERB_EXPR:E5,IS_ALLOWED_URI:NE,IS_SCRIPT_OR_DATA:V1,MUSTACHE_EXPR:S5,TMPLIT_EXPR:z5});const _w=function(){return typeof window>"u"?null:window};var Cp=function t(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_w();const r=Ct=>t(Ct);if(r.version="3.2.4",r.removed=[],!o||!o.document||o.document.nodeType!==9||!o.Element)return r.isSupported=!1,r;let{document:s}=o;const i=s,c=i.currentScript,{DocumentFragment:d,HTMLTemplateElement:m,Node:f,Element:y,NodeFilter:v,NamedNodeMap:k=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:z,DOMParser:F,trustedTypes:N}=o,P=y.prototype,M=H1(P,"cloneNode"),j=H1(P,"remove"),Y=H1(P,"nextSibling"),X=H1(P,"childNodes"),ie=H1(P,"parentNode");if(typeof m=="function"){const Ct=s.createElement("template");Ct.content&&Ct.content.ownerDocument&&(s=Ct.content.ownerDocument)}let ne,we="";const{implementation:Ye,createNodeIterator:Ve,createDocumentFragment:at,getElementsByTagName:Mt}=s,{importNode:Ae}=i;let Ze={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported=typeof SE=="function"&&typeof ie=="function"&&Ye&&Ye.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:et,ERB_EXPR:jt,TMPLIT_EXPR:Lo,DATA_ATTR:_o,ARIA_ATTR:wn,IS_SCRIPT_OR_DATA:Dn,ATTR_WHITESPACE:Ln,CUSTOM_ELEMENT:jn}=j1;let{IS_ALLOWED_URI:Qo}=j1,Tn=null;const nt=Wa({},[...xw,...Y2,...Oi,...Bg,...AE]);let ct=null;const Ut=Wa({},[...TE,...X2,...OE,...ww]);let Ht=Object.seal(EE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xo=null,So=null,$n=!0,Jn=!0,fr=!1,ns=!0,_s=!1,tu=!0,mn=!1,xr=!1,jr=!1,dr=!1,pa=!1,bs=!1,ln=!0,tr=!1,as=!0,ss=!1,_i={},Ml=null;const bm=Wa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let gc=null;const ou=Wa({},["audio","video","img","source","image","track"]);let il=null;const Kf=Wa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ip="http://www.w3.org/1998/Math/MathML",qg="http://www.w3.org/2000/svg",Bu="http://www.w3.org/1999/xhtml";let Pp=Bu,Hp=!1,Wg=null;const Gv=Wa({},[Ip,qg,Bu],_r);let dd=Wa({},["mi","mo","mn","ms","mtext"]),Vp=Wa({},["annotation-xml"]);const Yf=Wa({},["title","style","font","a","script"]);let jp=null;const G6=["application/xhtml+xml","text/html"];let Nc=null,h0=null;const K6=s.createElement("form"),kT=function(Ct){return Ct instanceof RegExp||Ct instanceof Function},b0=function(){let Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!h0||h0!==Ct){if(Ct&&typeof Ct=="object"||(Ct={}),Ct=_p(Ct),jp=G6.indexOf(Ct.PARSER_MEDIA_TYPE)===-1?"text/html":Ct.PARSER_MEDIA_TYPE,Nc=jp==="application/xhtml+xml"?_r:vw,Tn=Gm(Ct,"ALLOWED_TAGS")?Wa({},Ct.ALLOWED_TAGS,Nc):nt,ct=Gm(Ct,"ALLOWED_ATTR")?Wa({},Ct.ALLOWED_ATTR,Nc):Ut,Wg=Gm(Ct,"ALLOWED_NAMESPACES")?Wa({},Ct.ALLOWED_NAMESPACES,_r):Gv,il=Gm(Ct,"ADD_URI_SAFE_ATTR")?Wa(_p(Kf),Ct.ADD_URI_SAFE_ATTR,Nc):Kf,gc=Gm(Ct,"ADD_DATA_URI_TAGS")?Wa(_p(ou),Ct.ADD_DATA_URI_TAGS,Nc):ou,Ml=Gm(Ct,"FORBID_CONTENTS")?Wa({},Ct.FORBID_CONTENTS,Nc):bm,Xo=Gm(Ct,"FORBID_TAGS")?Wa({},Ct.FORBID_TAGS,Nc):{},So=Gm(Ct,"FORBID_ATTR")?Wa({},Ct.FORBID_ATTR,Nc):{},_i=!!Gm(Ct,"USE_PROFILES")&&Ct.USE_PROFILES,$n=Ct.ALLOW_ARIA_ATTR!==!1,Jn=Ct.ALLOW_DATA_ATTR!==!1,fr=Ct.ALLOW_UNKNOWN_PROTOCOLS||!1,ns=Ct.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_s=Ct.SAFE_FOR_TEMPLATES||!1,tu=Ct.SAFE_FOR_XML!==!1,mn=Ct.WHOLE_DOCUMENT||!1,dr=Ct.RETURN_DOM||!1,pa=Ct.RETURN_DOM_FRAGMENT||!1,bs=Ct.RETURN_TRUSTED_TYPE||!1,jr=Ct.FORCE_BODY||!1,ln=Ct.SANITIZE_DOM!==!1,tr=Ct.SANITIZE_NAMED_PROPS||!1,as=Ct.KEEP_CONTENT!==!1,ss=Ct.IN_PLACE||!1,Qo=Ct.ALLOWED_URI_REGEXP||NE,Pp=Ct.NAMESPACE||Bu,dd=Ct.MATHML_TEXT_INTEGRATION_POINTS||dd,Vp=Ct.HTML_INTEGRATION_POINTS||Vp,Ht=Ct.CUSTOM_ELEMENT_HANDLING||{},Ct.CUSTOM_ELEMENT_HANDLING&&kT(Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ht.tagNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&kT(Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ht.attributeNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&typeof Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ht.allowCustomizedBuiltInElements=Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_s&&(Jn=!1),pa&&(dr=!0),_i&&(Tn=Wa({},AE),ct=[],_i.html===!0&&(Wa(Tn,xw),Wa(ct,TE)),_i.svg===!0&&(Wa(Tn,Y2),Wa(ct,X2),Wa(ct,ww)),_i.svgFilters===!0&&(Wa(Tn,Oi),Wa(ct,X2),Wa(ct,ww)),_i.mathMl===!0&&(Wa(Tn,Bg),Wa(ct,OE),Wa(ct,ww))),Ct.ADD_TAGS&&(Tn===nt&&(Tn=_p(Tn)),Wa(Tn,Ct.ADD_TAGS,Nc)),Ct.ADD_ATTR&&(ct===Ut&&(ct=_p(ct)),Wa(ct,Ct.ADD_ATTR,Nc)),Ct.ADD_URI_SAFE_ATTR&&Wa(il,Ct.ADD_URI_SAFE_ATTR,Nc),Ct.FORBID_CONTENTS&&(Ml===bm&&(Ml=_p(Ml)),Wa(Ml,Ct.FORBID_CONTENTS,Nc)),as&&(Tn["#text"]=!0),mn&&Wa(Tn,["html","head","body"]),Tn.table&&(Wa(Tn,["tbody"]),delete Xo.tbody),Ct.TRUSTED_TYPES_POLICY){if(typeof Ct.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ry('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ct.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ry('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=Ct.TRUSTED_TYPES_POLICY,we=ne.createHTML("")}else ne===void 0&&(ne=function(hr,In){if(typeof hr!="object"||typeof hr.createPolicy!="function")return null;let is=null;const Ts="data-tt-policy-suffix";In&&In.hasAttribute(Ts)&&(is=In.getAttribute(Ts));const Ta="dompurify"+(is?"#"+is:"");try{return hr.createPolicy(Ta,{createHTML:Rl=>Rl,createScriptURL:Rl=>Rl})}catch{return console.warn("TrustedTypes policy "+Ta+" could not be created."),null}}(N,c)),ne!==null&&typeof we=="string"&&(we=ne.createHTML(""));Nd&&Nd(Ct),h0=Ct}},TS=Wa({},[...Y2,...Oi,..._5]),OS=Wa({},[...Bg,...C5]),tg=function(Ct){cm(r.removed,{element:Ct});try{ie(Ct).removeChild(Ct)}catch{j(Ct)}},Kv=function(Ct,hr){try{cm(r.removed,{attribute:hr.getAttributeNode(Ct),from:hr})}catch{cm(r.removed,{attribute:null,from:hr})}if(hr.removeAttribute(Ct),Ct==="is")if(dr||pa)try{tg(hr)}catch{}else try{hr.setAttribute(Ct,"")}catch{}},_T=function(Ct){let hr=null,In=null;if(jr)Ct="<remove></remove>"+Ct;else{const Ta=zE(Ct,/^[\r\n\t ]+/);In=Ta&&Ta[0]}jp==="application/xhtml+xml"&&Pp===Bu&&(Ct='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ct+"</body></html>");const is=ne?ne.createHTML(Ct):Ct;if(Pp===Bu)try{hr=new F().parseFromString(is,jp)}catch{}if(!hr||!hr.documentElement){hr=Ye.createDocument(Pp,"template",null);try{hr.documentElement.innerHTML=Hp?we:is}catch{}}const Ts=hr.body||hr.documentElement;return Ct&&In&&Ts.insertBefore(s.createTextNode(In),Ts.childNodes[0]||null),Pp===Bu?Mt.call(hr,mn?"html":"body")[0]:mn?hr.documentElement:Ts},NS=function(Ct){return Ve.call(Ct.ownerDocument||Ct,Ct,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT|v.SHOW_PROCESSING_INSTRUCTION|v.SHOW_CDATA_SECTION,null)},DS=function(Ct){return Ct instanceof z&&(typeof Ct.nodeName!="string"||typeof Ct.textContent!="string"||typeof Ct.removeChild!="function"||!(Ct.attributes instanceof k)||typeof Ct.removeAttribute!="function"||typeof Ct.setAttribute!="function"||typeof Ct.namespaceURI!="string"||typeof Ct.insertBefore!="function"||typeof Ct.hasChildNodes!="function")},m_=function(Ct){return typeof f=="function"&&Ct instanceof f};function Gg(Ct,hr,In){Dy(Ct,is=>{is.call(r,hr,In,h0)})}const CT=function(Ct){let hr=null;if(Gg(Ze.beforeSanitizeElements,Ct,null),DS(Ct))return tg(Ct),!0;const In=Nc(Ct.nodeName);if(Gg(Ze.uponSanitizeElement,Ct,{tagName:In,allowedTags:Tn}),Ct.hasChildNodes()&&!m_(Ct.firstElementChild)&&ia(/<[/\w]/g,Ct.innerHTML)&&ia(/<[/\w]/g,Ct.textContent)||Ct.nodeType===7||tu&&Ct.nodeType===8&&ia(/<[/\w]/g,Ct.data))return tg(Ct),!0;if(!Tn[In]||Xo[In]){if(!Xo[In]&&ET(In)&&(Ht.tagNameCheck instanceof RegExp&&ia(Ht.tagNameCheck,In)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(In)))return!1;if(as&&!Ml[In]){const is=ie(Ct)||Ct.parentNode,Ts=X(Ct)||Ct.childNodes;if(Ts&&is)for(let Ta=Ts.length-1;Ta>=0;--Ta){const Rl=M(Ts[Ta],!0);Rl.__removalCount=(Ct.__removalCount||0)+1,is.insertBefore(Rl,Y(Ct))}}return tg(Ct),!0}return Ct instanceof y&&!function(is){let Ts=ie(is);Ts&&Ts.tagName||(Ts={namespaceURI:Pp,tagName:"template"});const Ta=vw(is.tagName),Rl=vw(Ts.tagName);return!!Wg[is.namespaceURI]&&(is.namespaceURI===qg?Ts.namespaceURI===Bu?Ta==="svg":Ts.namespaceURI===Ip?Ta==="svg"&&(Rl==="annotation-xml"||dd[Rl]):!!TS[Ta]:is.namespaceURI===Ip?Ts.namespaceURI===Bu?Ta==="math":Ts.namespaceURI===qg?Ta==="math"&&Vp[Rl]:!!OS[Ta]:is.namespaceURI===Bu?!(Ts.namespaceURI===qg&&!Vp[Rl])&&!(Ts.namespaceURI===Ip&&!dd[Rl])&&!OS[Ta]&&(Yf[Ta]||!TS[Ta]):!(jp!=="application/xhtml+xml"||!Wg[is.namespaceURI]))}(Ct)?(tg(Ct),!0):In!=="noscript"&&In!=="noembed"&&In!=="noframes"||!ia(/<\/no(script|embed|frames)/i,Ct.innerHTML)?(_s&&Ct.nodeType===3&&(hr=Ct.textContent,Dy([et,jt,Lo],is=>{hr=My(hr,is," ")}),Ct.textContent!==hr&&(cm(r.removed,{element:Ct.cloneNode()}),Ct.textContent=hr)),Gg(Ze.afterSanitizeElements,Ct,null),!1):(tg(Ct),!0)},ST=function(Ct,hr,In){if(ln&&(hr==="id"||hr==="name")&&(In in s||In in K6))return!1;if(!(Jn&&!So[hr]&&ia(_o,hr))){if(!($n&&ia(wn,hr))){if(!ct[hr]||So[hr]){if(!(ET(Ct)&&(Ht.tagNameCheck instanceof RegExp&&ia(Ht.tagNameCheck,Ct)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(Ct))&&(Ht.attributeNameCheck instanceof RegExp&&ia(Ht.attributeNameCheck,hr)||Ht.attributeNameCheck instanceof Function&&Ht.attributeNameCheck(hr))||hr==="is"&&Ht.allowCustomizedBuiltInElements&&(Ht.tagNameCheck instanceof RegExp&&ia(Ht.tagNameCheck,In)||Ht.tagNameCheck instanceof Function&&Ht.tagNameCheck(In))))return!1}else if(!il[hr]){if(!ia(Qo,My(In,Ln,""))){if((hr!=="src"&&hr!=="xlink:href"&&hr!=="href"||Ct==="script"||k5(In,"data:")!==0||!gc[Ct])&&!(fr&&!ia(Dn,My(In,Ln,"")))){if(In)return!1}}}}}return!0},ET=function(Ct){return Ct!=="annotation-xml"&&zE(Ct,jn)},MS=function(Ct){Gg(Ze.beforeSanitizeAttributes,Ct,null);const{attributes:hr}=Ct;if(!hr||DS(Ct))return;const In={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ct,forceKeepAttr:void 0};let is=hr.length;for(;is--;){const Ts=hr[is],{name:Ta,namespaceURI:Rl,value:Kg}=Ts,og=Nc(Ta);let Dc=Ta==="value"?Kg:ui(Kg);const Y6=Dc;if(In.attrName=og,In.attrValue=Dc,In.keepAttr=!0,In.forceKeepAttr=void 0,Gg(Ze.uponSanitizeAttribute,Ct,In),Dc=In.attrValue,!tr||og!=="id"&&og!=="name"||(Kv(Ta,Ct),Dc="user-content-"+Dc),tu&&ia(/((--!?|])>)|<\/(style|title)/i,Dc)){Kv(Ta,Ct);continue}if(In.forceKeepAttr)continue;if(!In.keepAttr){Kv(Ta,Ct);continue}if(!ns&&ia(/\/>/i,Dc)){Kv(Ta,Ct);continue}_s&&Dy([et,jt,Lo],AT=>{Dc=My(Dc,AT," ")});const g_=Nc(Ct.nodeName);if(ST(g_,og,Dc)){if(ne&&typeof N=="object"&&typeof N.getAttributeType=="function"&&!Rl)switch(N.getAttributeType(g_,og)){case"TrustedHTML":Dc=ne.createHTML(Dc);break;case"TrustedScriptURL":Dc=ne.createScriptURL(Dc)}if(Dc!==Y6)try{Rl?Ct.setAttributeNS(Rl,Ta,Dc):Ct.setAttribute(Ta,Dc),DS(Ct)?tg(Ct):G2(r.removed)}catch{}}else Kv(Ta,Ct)}Gg(Ze.afterSanitizeAttributes,Ct,null)},zT=function Ct(hr){let In=null;const is=NS(hr);for(Gg(Ze.beforeSanitizeShadowDOM,hr,null);In=is.nextNode();)Gg(Ze.uponSanitizeShadowNode,In,null),CT(In),MS(In),In.content instanceof d&&Ct(In.content);Gg(Ze.afterSanitizeShadowDOM,hr,null)};return r.sanitize=function(Ct){let hr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},In=null,is=null,Ts=null,Ta=null;if(Hp=!Ct,Hp&&(Ct="<!-->"),typeof Ct!="string"&&!m_(Ct)){if(typeof Ct.toString!="function")throw Ry("toString is not a function");if(typeof(Ct=Ct.toString())!="string")throw Ry("dirty is not a string, aborting")}if(!r.isSupported)return Ct;if(xr||b0(hr),r.removed=[],typeof Ct=="string"&&(ss=!1),ss){if(Ct.nodeName){const og=Nc(Ct.nodeName);if(!Tn[og]||Xo[og])throw Ry("root node is forbidden and cannot be sanitized in-place")}}else if(Ct instanceof f)In=_T("<!---->"),is=In.ownerDocument.importNode(Ct,!0),is.nodeType===1&&is.nodeName==="BODY"||is.nodeName==="HTML"?In=is:In.appendChild(is);else{if(!dr&&!_s&&!mn&&Ct.indexOf("<")===-1)return ne&&bs?ne.createHTML(Ct):Ct;if(In=_T(Ct),!In)return dr?null:bs?we:""}In&&jr&&tg(In.firstChild);const Rl=NS(ss?Ct:In);for(;Ts=Rl.nextNode();)CT(Ts),MS(Ts),Ts.content instanceof d&&zT(Ts.content);if(ss)return Ct;if(dr){if(pa)for(Ta=at.call(In.ownerDocument);In.firstChild;)Ta.appendChild(In.firstChild);else Ta=In;return(ct.shadowroot||ct.shadowrootmode)&&(Ta=Ae.call(i,Ta,!0)),Ta}let Kg=mn?In.outerHTML:In.innerHTML;return mn&&Tn["!doctype"]&&In.ownerDocument&&In.ownerDocument.doctype&&In.ownerDocument.doctype.name&&ia(Of,In.ownerDocument.doctype.name)&&(Kg="<!DOCTYPE "+In.ownerDocument.doctype.name+`>
`+Kg),_s&&Dy([et,jt,Lo],og=>{Kg=My(Kg,og," ")}),ne&&bs?ne.createHTML(Kg):Kg},r.setConfig=function(){b0(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),xr=!0},r.clearConfig=function(){h0=null,xr=!1},r.isValidAttribute=function(Ct,hr,In){h0||b0({});const is=Nc(Ct),Ts=Nc(hr);return ST(is,Ts,In)},r.addHook=function(Ct,hr){typeof hr=="function"&&cm(Ze[Ct],hr)},r.removeHook=function(Ct,hr){if(hr!==void 0){const In=W2(Ze[Ct],hr);return In===-1?void 0:w5(Ze[Ct],In,1)[0]}return G2(Ze[Ct])},r.removeHooks=function(Ct){Ze[Ct]=[]},r.removeAllHooks=function(){Ze={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();const Nf=ve.each,Cw=ve.trim,Sw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],DE={ftp:21,http:80,https:443,mailto:25},Q2=["img","video"],Ew=(t,o,r)=>{const s=(i=>{try{return decodeURIComponent(i)}catch{return unescape(i)}})(o).replace(/\s/g,"");return!t.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(s)||!t.allow_html_data_urls&&(/^data:image\//i.test(s)?((i,c)=>Xe(i)?!i:!Xe(c)||!co(Q2,c))(t.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)))};class Au{static parseDataUri(o){let r;const s=decodeURIComponent(o).split(","),i=/data:([^;]+)/.exec(s[0]);return i&&(r=i[1]),{type:r,data:s[1]}}static isDomSafe(o,r,s={}){if(s.allow_script_urls)return!0;{const i=G.decode(o).replace(/[\s\u0000-\u001F]+/g,"");return!Ew(s,i,r)}}static getDocumentBaseUrl(o){var r;let s;return s=o.protocol.indexOf("http")!==0&&o.protocol!=="file:"?(r=o.href)!==null&&r!==void 0?r:"":o.protocol+"//"+o.host+o.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(o,r={}){this.path="",this.directory="",o=Cw(o),this.settings=r;const s=r.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(o)||/^\s*#/.test(o))return void(i.source=o);const c=o.indexOf("//")===0;if(o.indexOf("/")!==0||c||(o=(s&&s.protocol||"http")+"://mce_host"+o),!/^[\w\-]*:?\/\//.test(o)){const m=s?s.path:new Au(document.location.href).directory;if((s==null?void 0:s.protocol)==="")o="//mce_host"+i.toAbsPath(m,o);else{const f=/([^#?]*)([#?]?.*)/.exec(o);f&&(o=(s&&s.protocol||"http")+"://mce_host"+i.toAbsPath(m,f[1])+f[2])}}o=o.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(o);d&&Nf(Sw,(m,f)=>{let y=d[f];y&&(y=y.replace(/\(mce_at\)/g,"@@")),i[m]=y}),s&&(i.protocol||(i.protocol=s.protocol),i.userInfo||(i.userInfo=s.userInfo),i.port||i.host!=="mce_host"||(i.port=s.port),i.host&&i.host!=="mce_host"||(i.host=s.host),i.source=""),c&&(i.protocol="")}setPath(o){const r=/^(.*?)\/?(\w+)?$/.exec(o);r&&(this.path=r[0],this.directory=r[1],this.file=r[2]),this.source="",this.getURI()}toRelative(o){if(o==="./")return o;const r=new Au(o,{base_uri:this});if(r.host!=="mce_host"&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&r.protocol!=="")return r.getURI();const s=this.getURI(),i=r.getURI();if(s===i||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===i)return s;let c=this.toRelPath(this.path,r.path);return r.query&&(c+="?"+r.query),r.anchor&&(c+="#"+r.anchor),c}toAbsolute(o,r){const s=new Au(o,{base_uri:this});return s.getURI(r&&this.isSameOrigin(s))}isSameOrigin(o){if(this.host==o.host&&this.protocol==o.protocol){if(this.port==o.port)return!0;const r=this.protocol?DE[this.protocol]:null;if(r&&(this.port||r)==(o.port||r))return!0}return!1}toRelPath(o,r){let s,i,c=0,d="";const m=o.substring(0,o.lastIndexOf("/")).split("/"),f=r.split("/");if(m.length>=f.length){for(s=0,i=m.length;s<i;s++)if(s>=f.length||m[s]!==f[s]){c=s+1;break}}if(m.length<f.length){for(s=0,i=f.length;s<i;s++)if(s>=m.length||m[s]!==f[s]){c=s+1;break}}if(c===1)return r;for(s=0,i=m.length-(c-1);s<i;s++)d+="../";for(s=c-1,i=f.length;s<i;s++)d+=s!==c-1?"/"+f[s]:f[s];return d}toAbsPath(o,r){let s=0;const i=/\/$/.test(r)?"/":"",c=o.split("/"),d=r.split("/"),m=[];Nf(c,k=>{k&&m.push(k)});const f=[];for(let k=d.length-1;k>=0;k--)d[k].length!==0&&d[k]!=="."&&(d[k]!==".."?s>0?s--:f.push(d[k]):s++);const y=m.length-s;let v;return v=y<=0?We(f).join("/"):m.slice(0,y).join("/")+"/"+We(f).join("/"),v.indexOf("/")!==0&&(v="/"+v),i&&v.lastIndexOf("/")!==v.length-1&&(v+=i),v}getURI(o=!1){let r;return this.source&&!o||(r="",o||(this.protocol?r+=this.protocol+"://":r+="//",this.userInfo&&(r+=this.userInfo+"@"),this.host&&(r+=this.host),this.port&&(r+=":"+this.port)),this.path&&(r+=this.path),this.query&&(r+="?"+this.query),this.anchor&&(r+="#"+this.anchor),this.source=r),this.source}}const ME=ve.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Df="data-mce-type";let eC=0;const tC=(t,o,r,s,i)=>{var c,d,m,f;const y=o.validate,v=r.getSpecialElements();t.nodeType===8&&!o.allow_conditional_comments&&/^\[if/i.test((c=t.nodeValue)!==null&&c!==void 0?c:"")&&(t.nodeValue=" "+t.nodeValue);const k=(d=i==null?void 0:i.tagName)!==null&&d!==void 0?d:t.nodeName.toLowerCase();if(s!=="html"&&r.isValid(s))return void(Xe(i)&&(i.allowedTags[k]=!0));if(t.nodeType!==1||k==="body")return;const z=Se(t),F=Bi(z,Df),N=gi(z,"data-mce-bogus");if(!F&&Je(N))return void(N==="all"?Xr(z):El(z));const P=r.getElementRule(k);if(!y||P){if(Xe(i)&&(i.allowedTags[k]=!0),y&&P&&!F){if(ke((m=P.attributesForced)!==null&&m!==void 0?m:[],M=>{ra(z,M.name,M.value==="{$uid}"?"mce_"+eC++:M.value)}),ke((f=P.attributesDefault)!==null&&f!==void 0?f:[],M=>{Bi(z,M.name)||ra(z,M.name,M.value==="{$uid}"?"mce_"+eC++:M.value)}),P.attributesRequired&&!xo(P.attributesRequired,M=>Bi(z,M))||P.removeEmptyAttrs&&(M=>{const j=M.dom.attributes;return j==null||j.length===0})(z))return void El(z);P.outputName&&P.outputName!==k&&((M,j)=>{const Y=((ie,ne)=>{const we=Wn(ne),Ye=ng(ie);return Mc(we,Ye),we})(M,j);xc(M,Y);const X=ha(M);Ds(Y,X),Xr(M)})(z,P.outputName)}}else on(v,k)?Xr(z):El(z)},oC=(t,o,r,s,i,c)=>r!=="html"&&!qi(s)||!(i in ME&&Ew(t,c,s))&&(!t.validate||o.isValid(s,i)||Jo(i,"data-")||Jo(i,"aria-")),$1=(t,o)=>t.hasAttribute(Df)&&(o==="id"||o==="class"||o==="style"),nC=(t,o)=>t in o.getBoolAttrs(),RE=(t,o,r,s)=>{const{attributes:i}=t;for(let c=i.length-1;c>=0;c--){const d=i[c],m=d.name,f=d.value;oC(o,r,s,t.tagName.toLowerCase(),m,f)||$1(t,m)?nC(m,r)&&t.setAttribute(m,m):t.removeAttribute(m)}},BE=(t,o,r)=>{const s=Cp();return s.addHook("uponSanitizeElement",(i,c)=>{tC(i,t,o,r.track(i),c)}),s.addHook("uponSanitizeAttribute",(i,c)=>{((d,m,f,y,v)=>{const k=d.tagName.toLowerCase(),{attrName:z,attrValue:F}=v;v.keepAttr=oC(m,f,y,k,z,F),v.keepAttr?(v.allowedAttributes[z]=!0,nC(z,f)&&(v.attrValue=z),m.allow_svg_data_urls&&Jo(F,"data:image/svg+xml")&&(v.forceKeepAttr=!0)):$1(d,z)&&(v.forceKeepAttr=!0)})(i,t,o,r.current(),c)}),s},FE=(t,o)=>{const r=Cp(),s=o.allow_mathml_annotation_encodings,i=ao(s)&&s.length>0;r.addHook("uponSanitizeElement",(c,d)=>{var m;const f=(m=d.tagName)!==null&&m!==void 0?m:c.nodeName.toLowerCase();((y,v)=>i&&v==="semantics"?R.some(!0):v==="annotation"?R.some($t(y)&&(k=>{const z=k.getAttribute("encoding");return i&&Je(z)&&co(s,z)})(y)):ao(o.extended_mathml_elements)&&o.extended_mathml_elements.includes(v)?R.from(!0):R.none())(c,f).each(y=>{d.allowedTags[f]=y,!y&&o.sanitize&&$t(c)&&c.remove()})}),r.addHook("uponSanitizeAttribute",(c,d)=>{ao(o.extended_mathml_attributes)&&o.extended_mathml_attributes.includes(d.attrName)&&(d.forceKeepAttr=!0)}),r.sanitize(t,{IN_PLACE:!0,USE_PROFILES:{mathMl:!0}})},Sp=t=>o=>{const r=gu(o);if(r==="svg")(s=>{const i=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(d=>`xlink:${d}`),c={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:i};Cp().sanitize(s,c)})(o);else{if(r!=="math")throw new Error("Not a namespace element");FE(o,t)}},Ep=ve.makeMap,Tu=ve.extend,zw=(t,o,r,s)=>{const i=t.name,c=i in r&&i!=="title"&&i!=="textarea"&&i!=="noscript",d=o.childNodes;for(let m=0,f=d.length;m<f;m++){const y=d[m],v=new dc(y.nodeName.toLowerCase(),y.nodeType);if($t(y)){const k=y.attributes;for(let z=0,F=k.length;z<F;z++){const N=k[z];v.attr(N.name,N.value)}qi(v.name)&&(s(y),v.value=y.innerHTML)}else Ao(y)?(v.value=y.data,c&&(v.raw=!0)):(Fc(y)||Es(y)||Uu(y))&&(v.value=y.data);qi(v.name)||zw(v,y,r,s),t.append(v)}},Mf=(t={},o=ac())=>{const r=V2(),s=V2(),i={validate:!0,root_name:"body",sanitize:!0,...t},c=new DOMParser,d=((P,M)=>{const j=(()=>{const Y=Fe(),X=()=>Y.get().map(gu).getOr("html");return{track:ie=>(el(ie)?Y.set(ie):Y.get().exists(ne=>!ne.contains(ie))&&Y.clear(),X()),current:X,reset:()=>{Y.clear()}}})();if(P.sanitize){const Y=BE(P,M,j);return{sanitizeHtmlElement:(ie,ne)=>{Y.sanitize(ie,((we,Ye)=>{const Ve={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1};return Ve.PARSER_MEDIA_TYPE=Ye,we.allow_script_urls?Ve.ALLOWED_URI_REGEXP=/.*/:we.allow_html_data_urls&&(Ve.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),Ve})(P,ne)),Y.removed=[],j.reset()},sanitizeNamespaceElement:Sp(P)}}return{sanitizeHtmlElement:(Y,X)=>{const ie=document.createNodeIterator(Y,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let ne;for(;ne=ie.nextNode();){const we=j.track(ne);tC(ne,P,M,we),$t(ne)&&RE(ne,P,M,we)}j.reset()},sanitizeNamespaceElement:Ro}})(i,o),m=r.addFilter,f=r.getFilters,y=r.removeFilter,v=s.addFilter,k=s.getFilters,z=s.removeFilter,F=(P,M)=>{const j=Je(M.attr(Df)),Y=M.type===1&&!on(P,M.name)&&!Hr(o,M)&&!qi(M.name);return M.type===3||Y&&!j},N={schema:o,addAttributeFilter:v,getAttributeFilters:k,removeAttributeFilter:z,addNodeFilter:m,getNodeFilters:f,removeNodeFilter:y,parse:(P,M={})=>{var j;const Y=i.validate,X=(j=M.context)!==null&&j!==void 0?j:i.root_name,ie=((et,jt,Lo="html")=>{const _o=Lo==="xhtml"?"application/xhtml+xml":"text/html",wn=on(o.getSpecialElements(),jt.toLowerCase()),Dn=wn?`<${jt}>${et}</${jt}>`:et,Ln=c.parseFromString(Lo==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Dn}</body></html>`:/^[\s]*<head/i.test(et)||/^[\s]*<html/i.test(et)||/^[\s]*<!DOCTYPE/i.test(et)?`<html>${Dn}</html>`:`<body>${Dn}</body>`,_o).body;return d.sanitizeHtmlElement(Ln,_o),wn?Ln.firstChild:Ln})(P,X,M.format);Wu(o,ie);const ne=new dc(X,11);zw(ne,ie,o.getSpecialElements(),d.sanitizeNamespaceElement),ie.innerHTML="";const[we,Ye]=((et,jt,Lo,_o)=>{const wn=Lo.validate,Dn=jt.getNonEmptyElements(),Ln=jt.getWhitespaceElements(),jn=Tu(Ep("script,style,head,html,body,title,meta,param"),jt.getBlockElements()),Qo=hu(jt),Tn=/[ \t\r\n]+/g,nt=/^[ \t\r\n]+/,ct=/[ \t\r\n]+$/,Ut=So=>{let $n=So.parent;for(;Xe($n);){if($n.name in Ln)return!0;$n=$n.parent}return!1},Ht=So=>So.name in jn||Hr(jt,So)||qi(So.name)&&So.parent===et,Xo=(So,$n)=>{const Jn=$n?So.prev:So.next;return!Xe(Jn)&&!he(So.parent)&&Ht(So.parent)&&(So.parent!==et||_o.isRootContent===!0)};return[So=>{var $n;if(So.type===3&&!Ut(So)){let Jn=($n=So.value)!==null&&$n!==void 0?$n:"";Jn=Jn.replace(Tn," "),(((fr,ns)=>Xe(fr)&&(ns(fr)||fr.name==="br"))(So.prev,Ht)||Xo(So,!0))&&(Jn=Jn.replace(nt,"")),Jn.length===0||Jn===" "&&So.prev&&So.prev.type===8&&So.next&&So.next.type===8?So.remove():So.value=Jn}},So=>{var $n;if(So.type===1){const Jn=jt.getElementRule(So.name);if(wn&&Jn){const fr=Ih(jt,Dn,Ln,So);Jn.paddInEmptyBlock&&fr&&(ns=>{let _s=ns;for(;Xe(_s);){if(_s.name in Qo)return Ih(jt,Dn,Ln,_s);_s=_s.parent}return!1})(So)?x2(Lo,_o,Ht,So):Jn.removeEmpty&&fr?Ht(So)?So.remove():So.unwrap():Jn.paddEmpty&&(fr||(ns=>{var _s;return rE(ns,"#text")&&((_s=ns==null?void 0:ns.firstChild)===null||_s===void 0?void 0:_s.value)===zn})(So))&&x2(Lo,_o,Ht,So)}}else if(So.type===3&&!Ut(So)){let Jn=($n=So.value)!==null&&$n!==void 0?$n:"";(So.next&&Ht(So.next)||Xo(So,!1))&&(Jn=Jn.replace(ct,"")),Jn.length===0?So.remove():So.value=Jn}}]})(ne,o,i,M),Ve=[],at=Y?et=>((jt,Lo)=>{Ph(o,jt)&&Lo.push(jt)})(et,Ve):Ro,Mt={nodes:{},attributes:{}},Ae=et=>Zc(f(),k(),et,Mt);if(((et,jt,Lo)=>{const _o=[];for(let wn=et,Dn=wn;wn;Dn=wn,wn=wn.walk()){const Ln=wn;ke(jt,jn=>jn(Ln)),he(Ln.parent)&&Ln!==et?wn=Dn:_o.push(Ln)}for(let wn=_o.length-1;wn>=0;wn--){const Dn=_o[wn];ke(Lo,Ln=>Ln(Dn))}})(ne,[we,Ae],[Ye,at]),Ve.reverse(),Y&&Ve.length>0)if(M.context){const{pass:et,fail:jt}=Uo(Ve,Lo=>Lo.parent===ne);Ma(jt,o,ne,Ae),M.invalid=et.length>0}else Ma(Ve,o,ne,Ae);const Ze=((et,jt)=>{var Lo;const _o=(Lo=jt.forced_root_block)!==null&&Lo!==void 0?Lo:et.forced_root_block;return _o===!1?"":_o===!0?"p":_o})(i,M);return Ze&&(ne.name==="body"||M.isRootContent)&&((et,jt)=>{const Lo=Tu(Ep("script,style,head,html,body,title,meta,param"),o.getBlockElements()),_o=/^[ \t\r\n]+/,wn=/[ \t\r\n]+$/;let Dn=et.firstChild,Ln=null;const jn=Qo=>{var Tn,nt;Qo&&(Dn=Qo.firstChild,Dn&&Dn.type===3&&(Dn.value=(Tn=Dn.value)===null||Tn===void 0?void 0:Tn.replace(_o,"")),Dn=Qo.lastChild,Dn&&Dn.type===3&&(Dn.value=(nt=Dn.value)===null||nt===void 0?void 0:nt.replace(wn,"")))};if(o.isValidChild(et.name,jt.toLowerCase())){for(;Dn;){const Qo=Dn.next;F(Lo,Dn)?(Ln||(Ln=new dc(jt,1),Ln.attr(i.forced_root_block_attrs),et.insert(Ln,Dn)),Ln.append(Dn)):(jn(Ln),Ln=null),Dn=Qo}jn(Ln)}})(ne,Ze),M.invalid||nE(Mt,M),ne}};return((P,M)=>{var j,Y;const X=P.schema;P.addAttributeFilter("href",Ye=>{let Ve=Ye.length;const at=Mt=>{const Ae=Mt?ve.trim(Mt):"";return/\b(noopener)\b/g.test(Ae)?Ae:(Ze=>Ze.split(" ").filter(et=>et.length>0).concat(["noopener"]).sort().join(" "))(Ae)};if(!M.allow_unsafe_link_target)for(;Ve--;){const Mt=Ye[Ve];Mt.name==="a"&&Mt.attr("target")==="_blank"&&Mt.attr("rel",at(Mt.attr("rel")))}}),M.allow_html_in_named_anchor||P.addAttributeFilter("id,name",Ye=>{let Ve,at,Mt,Ae,Ze=Ye.length;for(;Ze--;)if(Ae=Ye[Ze],Ae.name==="a"&&Ae.firstChild&&!Ae.attr("href"))for(Mt=Ae.parent,Ve=Ae.lastChild;Ve&&Mt;)at=Ve.prev,Mt.insert(Ve,Ae),Ve=at}),M.fix_list_elements&&P.addNodeFilter("ul,ol",Ye=>{let Ve,at,Mt=Ye.length;for(;Mt--;)if(Ve=Ye[Mt],at=Ve.parent,at&&(at.name==="ul"||at.name==="ol"))if(Ve.prev&&Ve.prev.name==="li")Ve.prev.append(Ve);else{const Ae=new dc("li",1);Ae.attr("style","list-style-type: none"),Ve.wrap(Ae)}});const ie=X.getValidClasses();M.validate&&ie&&P.addAttributeFilter("class",Ye=>{var Ve;let at=Ye.length;for(;at--;){const Mt=Ye[at],Ae=(Ve=Mt.attr("class"))!==null&&Ve!==void 0?Ve:"",Ze=ve.explode(Ae," ");let et="";for(let jt=0;jt<Ze.length;jt++){const Lo=Ze[jt];let _o=!1,wn=ie["*"];wn&&wn[Lo]&&(_o=!0),wn=ie[Mt.name],!_o&&wn&&wn[Lo]&&(_o=!0),_o&&(et&&(et+=" "),et+=Lo)}et.length||(et=null),Mt.attr("class",et)}}),((Ye,Ve)=>{const{blob_cache:at}=Ve;if(at){const Mt=Ae=>{const Ze=Ae.attr("src");(et=>et.attr("src")===lo.transparentSrc||Xe(et.attr("data-mce-placeholder")))(Ae)||(et=>Xe(et.attr("data-mce-bogus")))(Ae)||he(Ze)||bw(at,Ze,!0).each(et=>{Ae.attr("src",et.blobUri())})};Ye.addAttributeFilter("src",Ae=>ke(Ae,Mt))}})(P,M);const ne=(j=M.sandbox_iframes)!==null&&j!==void 0&&j,we=_n((Y=M.sandbox_iframes_exclusions)!==null&&Y!==void 0?Y:[]);M.convert_unsafe_embeds&&P.addNodeFilter("object,embed",Ye=>ke(Ye,Ve=>{Ve.replace((({type:at,src:Mt,width:Ae,height:Ze}={},et,jt)=>{const Lo=(wn=>wo(wn)?"iframe":yw(wn,"image")?"img":yw(wn,"video")?"video":yw(wn,"audio")?"audio":"iframe")(at),_o=new dc(Lo,1);return _o.attr(Lo==="audio"?{src:Mt}:{src:Mt,width:Ae,height:Ze}),Lo!=="audio"&&Lo!=="video"||_o.attr("controls",""),Lo==="iframe"&&et&&Od(_o,jt),_o})({type:Ve.attr("type"),src:Ve.name==="object"?Ve.attr("data"):Ve.attr("src"),width:Ve.attr("width"),height:Ve.attr("height")},ne,we))})),ne&&P.addNodeFilter("iframe",Ye=>ke(Ye,Ve=>Od(Ve,we)))})(N,i),((P,M,j)=>{M.inline_styles&&pw(P,M,j)})(N,i,o),N},rC=(t,o,r)=>{const s=(c=>Ef(c)?bp({validate:!1}).serialize(c):c)(t),i=o(s);if(i.isDefaultPrevented())return i;if(Ef(t)){if(i.content!==s){const c=Mf({validate:!1,forced_root_block:!1,...r}).parse(i.content,{context:t.name});return{...i,content:c}}return{...i,content:t}}return i},aC=t=>({sanitize:Eg(t),sandbox_iframes:Q0(t),sandbox_iframes_exclusions:Ah(t)}),sC=(t,o)=>{if(o.no_events)return ta.value(o);{const r=((s,i)=>s.dispatch("BeforeGetContent",i))(t,o);return r.isDefaultPrevented()?ta.error(kg(t,{content:"",...r}).content):ta.value(r)}},Aw=(t,o,r)=>r.no_events?o:rC(o,i=>kg(t,{...r,content:i}),aC(t)).content,Tw=(t,o)=>{if(o.no_events)return ta.value(o);{const r=rC(o.content,s=>((i,c)=>i.dispatch("BeforeSetContent",c))(t,{...o,content:s}),aC(t));return r.isDefaultPrevented()?(ap(t,r),ta.error(void 0)):ta.value(r)}},Ow=(t,o,r)=>{r.no_events||ap(t,{...r,content:o})},U1=(t,o,r)=>({element:t,width:o,rows:r}),Km=(t,o)=>({element:t,cells:o}),dm=(t,o)=>({x:t,y:o}),Z1=(t,o)=>br(t,o).bind(Po).getOr(1),LE=(t,o,r)=>{const s=t.rows;return!!(s[r]?s[r].cells:[])[o]},q1=t=>xe(t,(o,r)=>r.cells.length>o?r.cells.length:o,0),iC=(t,o)=>{const r=t.rows;for(let s=0;s<r.length;s++){const i=r[s].cells;for(let c=0;c<i.length;c++)if(wr(i[c],o))return R.some(dm(c,s))}return R.none()},lC=(t,o,r,s,i)=>{const c=[],d=t.rows;for(let m=r;m<=i;m++){const f=d[m].cells,y=o<s?f.slice(o,s+1):f.slice(s,o+1);c.push(Km(d[m].element,y))}return c},IE=t=>((o,r)=>{const s=Rc(o.element),i=Wn("tbody");return Ds(i,r),Aa(s,i),s})(t,(o=>No(o.rows,r=>{const s=No(r.cells,c=>{const d=Fi(c);return ja(d,"colspan"),ja(d,"rowspan"),d}),i=Rc(r.element);return Ds(i,s),i}))(t)),PE=(t,o,r)=>{const s=Se(o.commonAncestorContainer),i=Zm(s,t),c=Ue(i,f=>r.isWrapper(pr(f))),d=((f,y)=>Ie(f,v=>pr(v)==="li"&&M_(v,y)).fold(Nt([]),v=>(k=>Ie(k,z=>pr(z)==="ul"||pr(z)==="ol"))(f).map(k=>{const z=Wn(pr(k)),F=gr(Xg(k),(N,P)=>Jo(P,"list-style"));return Ui(z,F),[Wn("li"),z]}).getOr([])))(i,o),m=c.concat(d.length?d:(f=>ad(f)?rn(f).filter(sh).fold(Nt([]),y=>[f,y]):sh(f)?[f]:[])(s));return No(m,Rc)},cC=()=>Il([]),HE=(t,o)=>((r,s)=>ma(s,"table",Ot(wr,r)))(t,o[0]).bind(r=>{const s=o[0],i=o[o.length-1],c=(d=>{const m=U1(Rc(d),0,[]);return ke(hi(d,"tr"),(f,y)=>{ke(hi(f,"td,th"),(v,k)=>{((z,F,N,P,M)=>{const j=Z1(M,"rowspan"),Y=Z1(M,"colspan"),X=z.rows;for(let ie=N;ie<N+j;ie++){X[ie]||(X[ie]=Km(Fi(P),[]));for(let ne=F;ne<F+Y;ne++)X[ie].cells[ne]=ie===N&&ne===F?M:Rc(M)}})(m,((z,F,N)=>{for(;LE(z,F,N);)F++;return F})(m,k,y),y,f,v)})}),U1(m.element,q1(m.rows),m.rows)})(r);return((d,m,f)=>iC(d,m).bind(y=>iC(d,f).map(v=>((k,z,F)=>{const N=z.x,P=z.y,M=F.x,j=F.y,Y=P<j?lC(k,N,P,M,j):lC(k,N,j,M,P);return U1(k.element,q1(Y),Y)})(d,y,v))))(c,s,i).map(d=>Il([IE(d)]))}).getOrThunk(cC),Nw=(t,o,r)=>{const s=qS(o,t);return s.length>0?HE(t,s):((i,c,d)=>c.length>0&&c[0].collapsed?cC():((m,f,y)=>((v,k)=>{const z=xe(k,(F,N)=>(Aa(N,F),N),v);return k.length>0?Il([z]):z})(Se(f.cloneContents()),PE(m,f,y)))(i,c[0],d))(t,o,r)},By=(t,o)=>o>=0&&o<t.length&&hf(t.charAt(o)),dC=t=>Wl(t.innerText),Dw=t=>$t(t)?t.outerHTML:Ao(t)?G.encodeRaw(t.data,!1):Fc(t)?"<!--"+t.data+"-->":"",T5=(t,o)=>(((r,s)=>{let i=0;ke(r,c=>{c[0]===0?i++:c[0]===1?(((d,m,f)=>{const y=(v=>{let k;const z=document.createElement("div"),F=document.createDocumentFragment();for(v&&(z.innerHTML=v);k=z.firstChild;)F.appendChild(k);return F})(m);if(d.hasChildNodes()&&f<d.childNodes.length){const v=d.childNodes[f];d.insertBefore(y,v)}else d.appendChild(y)})(s,c[1],i),i++):c[0]===2&&((d,m)=>{if(d.hasChildNodes()&&m<d.childNodes.length){const f=d.childNodes[m];d.removeChild(f)}})(s,i)})})(((r,s)=>{const i=r.length+s.length+2,c=new Array(i),d=new Array(i),m=(k,z,F,N,P)=>{const M=y(k,z,F,N);if(M===null||M.start===z&&M.diag===z-N||M.end===k&&M.diag===k-F){let j=k,Y=F;for(;j<z||Y<N;)j<z&&Y<N&&r[j]===s[Y]?(P.push([0,r[j]]),++j,++Y):z-k>N-F?(P.push([2,r[j]]),++j):(P.push([1,s[Y]]),++Y)}else{m(k,M.start,F,M.start-M.diag,P);for(let j=M.start;j<M.end;++j)P.push([0,r[j]]);m(M.end,z,M.end-M.diag,N,P)}},f=(k,z,F,N)=>{let P=k;for(;P-z<N&&P<F&&r[P]===s[P-z];)++P;return((M,j,Y)=>({start:M,end:j,diag:Y}))(k,P,z)},y=(k,z,F,N)=>{const P=z-k,M=N-F;if(P===0||M===0)return null;const j=P-M,Y=M+P,X=(Y%2==0?Y:Y+1)/2;let ie,ne,we,Ye,Ve;for(c[1+X]=k,d[1+X]=z+1,ie=0;ie<=X;++ie){for(ne=-ie;ne<=ie;ne+=2){for(we=ne+X,ne===-ie||ne!==ie&&c[we-1]<c[we+1]?c[we]=c[we+1]:c[we]=c[we-1]+1,Ye=c[we],Ve=Ye-k+F-ne;Ye<z&&Ve<N&&r[Ye]===s[Ve];)c[we]=++Ye,++Ve;if(j%2!=0&&j-ie<=ne&&ne<=j+ie&&d[we-j]<=c[we])return f(d[we-j],ne+k-F,z,N)}for(ne=j-ie;ne<=j+ie;ne+=2){for(we=ne+X-j,ne===j-ie||ne!==j+ie&&d[we+1]<=d[we-1]?d[we]=d[we+1]-1:d[we]=d[we-1],Ye=d[we]-1,Ve=Ye-k+F-ne;Ye>=k&&Ve>=F&&r[Ye]===s[Ve];)d[we]=Ye--,Ve--;if(j%2==0&&-ie<=ne&&ne<=ie&&d[we]<=c[we+j])return f(d[we],ne+k-F,z,N)}}return null},v=[];return m(0,r.length,0,s.length,v),v})(No(qo(o.childNodes),Dw),t),o),o),O5=xn(()=>document.implementation.createHTMLDocument("undo")),Mw=t=>{const o=t.serializer.getTempAttrs(),r=_3(t.getBody(),o);return(s=>s.querySelector("iframe")!==null)(r)?{type:"fragmented",fragments:Ue(No(qo(r.childNodes),pn(Wl,Dw)),s=>s.length>0),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Wl(r.innerHTML),bookmark:null,beforeBookmark:null}},uC=(t,o,r)=>{const s=r?o.beforeBookmark:o.bookmark;o.type==="fragmented"?T5(o.fragments,t.getBody()):t.setContent(o.content,{format:"raw",no_selection:!Xe(s)||!O_(s)||!s.isFakeCaret}),s&&(t.selection.moveToBookmark(s),t.selection.scrollIntoView())},mC=t=>t.type==="fragmented"?t.fragments.join(""):t.content,VE=t=>{const o=Wn("body",O5());return Qc(o,mC(t)),ke(hi(o,"*[data-mce-bogus]"),El),Jc(o)},Fy=(t,o)=>!(!t||!o)&&(!!((r,s)=>mC(r)===mC(s))(t,o)||((r,s)=>VE(r)===VE(s))(t,o)),W1=t=>t.get()===0,G1=(t,o,r)=>{W1(r)&&(t.typing=o)},Rw=(t,o)=>{t.typing&&(G1(t,!1,o),t.add())},jE=t=>({init:{bindEvents:Ro},undoManager:{beforeChange:(o,r)=>((s,i,c)=>{W1(i)&&c.set(zc(s.selection))})(t,o,r),add:(o,r,s,i,c,d)=>((m,f,y,v,k,z,F)=>{const N=Mw(m),P=ve.extend(z||{},N);if(!W1(v)||m.removed)return null;const M=f.data[y.get()];if(m.dispatch("BeforeAddUndo",{level:P,lastLevel:M,originalEvent:F}).isDefaultPrevented()||M&&Fy(M,P))return null;f.data[y.get()]&&k.get().each(X=>{f.data[y.get()].beforeBookmark=X});const j=df(m);if(j&&f.data.length>j){for(let X=0;X<f.data.length-1;X++)f.data[X]=f.data[X+1];f.data.length--,y.set(f.data.length)}P.bookmark=zc(m.selection),y.get()<f.data.length-1&&(f.data.length=y.get()+1),f.data.push(P),y.set(f.data.length-1);const Y={level:P,lastLevel:M,originalEvent:F};return y.get()>0?(m.setDirty(!0),m.dispatch("AddUndo",Y),m.dispatch("change",Y)):m.dispatch("AddUndo",Y),P})(t,o,r,s,i,c,d),undo:(o,r,s)=>((i,c,d,m)=>{let f;return c.typing&&(c.add(),c.typing=!1,G1(c,!1,d)),m.get()>0&&(m.set(m.get()-1),f=c.data[m.get()],uC(i,f,!0),i.setDirty(!0),i.dispatch("Undo",{level:f})),f})(t,o,r,s),redo:(o,r)=>((s,i,c)=>{let d;return i.get()<c.length-1&&(i.set(i.get()+1),d=c[i.get()],uC(s,d,!1),s.setDirty(!0),s.dispatch("Redo",{level:d})),d})(t,o,r),clear:(o,r)=>((s,i,c)=>{i.data=[],c.set(0),i.typing=!1,s.dispatch("ClearUndos")})(t,o,r),reset:o=>(r=>{r.clear(),r.add()})(o),hasUndo:(o,r)=>((s,i,c)=>c.get()>0||i.typing&&i.data[0]&&!Fy(Mw(s),i.data[0]))(t,o,r),hasRedo:(o,r)=>((s,i)=>i.get()<s.data.length-1&&!s.typing)(o,r),transact:(o,r,s)=>((i,c,d)=>(Rw(i,c),i.beforeChange(),i.ignore(d),i.add()))(o,r,s),ignore:(o,r)=>((s,i)=>{try{s.set(s.get()+1),i()}finally{s.set(s.get()-1)}})(o,r),extra:(o,r,s,i)=>((c,d,m,f,y)=>{if(d.transact(f)){const v=d.data[m.get()].bookmark,k=d.data[m.get()-1];uC(c,k,!0),d.transact(y)&&(d.data[m.get()-1].beforeBookmark=v)}})(t,o,r,s,i)},formatter:{match:(o,r,s,i)=>qm(t,o,r,s,i),matchAll:(o,r)=>((s,i,c)=>{const d=[],m={},f=s.selection.getStart();return s.dom.getParent(f,y=>{for(let v=0;v<i.length;v++){const k=i[v];!m[k]&&Yd(s,y,k,c)&&(m[k]=!0,d.push(k))}},s.dom.getRoot()),d})(t,o,r),matchNode:(o,r,s,i)=>Yd(t,o,r,s,i),canApply:o=>((r,s)=>{const i=r.formatter.get(s),c=r.dom;if(i&&r.selection.isEditable()){const d=r.selection.getStart(),m=_x(c,d);for(let f=i.length-1;f>=0;f--){const y=i[f];if(!Eu(y))return!0;for(let v=m.length-1;v>=0;v--)if(c.is(m[v],y.selector))return!0}}return!1})(t,o),closest:o=>((r,s)=>{const i=c=>wr(c,Se(r.getBody()));return R.from(r.selection.getStart(!0)).bind(c=>sg(Se(c),d=>Mn(s,m=>((f,y)=>Yd(r,f.dom,y)?R.some(y):R.none())(d,m)),i)).getOrNull()})(t,o),apply:(o,r,s)=>Tf(t,o,r,s),remove:(o,r,s,i)=>L2(t,o,r,s,i),toggle:(o,r,s)=>((i,c,d,m)=>{const f=i.formatter.get(c);f&&(!qm(i,c,d,m)||"toggle"in f[0]&&!f[0].toggle?Tf(i,c,d,m):L2(i,c,d,m))})(t,o,r,s),formatChanged:(o,r,s,i,c)=>((d,m,f,y,v,k)=>(((z,F,N,P,M,j)=>{const Y=F.get();ke(N.split(","),X=>{const ie=Cn(Y,X).getOrThunk(()=>{const we={withSimilar:{state:Tr(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Tr(!1),similar:!1,callbacks:[]},withVars:[]};return Y[X]=we,we}),ne=()=>{const we=mw(z);return kE(z,we,X,M,j).isSome()};if(wo(j)){const we=M?ie.withSimilar:ie.withoutSimilar;we.callbacks.push(P),we.callbacks.length===1&&we.state.set(ne())}else ie.withVars.push({state:Tr(ne()),similar:M,vars:j,callback:P})}),F.set(Y)})(d,m,f,y,v,k),{unbind:()=>((z,F,N)=>{const P=z.get();ke(F.split(","),M=>Cn(P,M).each(j=>{P[M]={withSimilar:{...j.withSimilar,callbacks:Ue(j.withSimilar.callbacks,Y=>Y!==N)},withoutSimilar:{...j.withoutSimilar,callbacks:Ue(j.withoutSimilar.callbacks,Y=>Y!==N)},withVars:Ue(j.withVars,Y=>Y.callback!==N)}})),z.set(P)})(m,f,y)}))(t,o,r,s,i,c)},editor:{getContent:o=>((r,s)=>R.from(r.getBody()).fold(Nt(s.format==="tree"?new dc("body",11):""),i=>Fh(r,s,i)))(t,o),setContent:(o,r)=>((s,i,c)=>R.from(s.getBody()).map(d=>Ef(i)?((m,f,y,v)=>{v2(m.parser.getNodeFilters(),m.parser.getAttributeFilters(),y);const k=bp({validate:!1},m.schema).serialize(y),z=Wl(op(Se(f))?k:ve.trim(k));return aw(m,z,v.no_selection),{content:y,html:z}})(s,d,i,c):((m,f,y,v)=>{if((y=Wl(y)).length===0||/^\s+$/.test(y)){const k='<br data-mce-bogus="1">';f.nodeName==="TABLE"?y="<tr><td>"+k+"</td></tr>":/^(UL|OL)$/.test(f.nodeName)&&(y="<li>"+k+"</li>");const z=As(m);return m.schema.isValidChild(f.nodeName.toLowerCase(),z.toLowerCase())?(y=k,y=m.dom.createHTML(z,nl(m),y)):y||(y=k),aw(m,y,v.no_selection),{content:y,html:y}}{v.format!=="raw"&&(y=bp({validate:!1},m.schema).serialize(m.parser.parse(y,{isRootContent:!0,insert:!0})));const k=op(Se(f))?y:ve.trim(y);return aw(m,k,v.no_selection),{content:k,html:k}}})(s,d,i,c)).getOr({content:i,html:Ef(c.content)?"":c.content}))(t,o,r),insertContent:(o,r)=>B1(t,o,r),addVisual:o=>((r,s)=>{const i=r.dom,c=Xe(s)?s:r.getBody();ke(i.select("table,a",c),d=>{switch(d.nodeName){case"TABLE":const m=up(r),f=i.getAttrib(d,"border");f&&f!=="0"||!r.hasVisual?i.removeClass(d,m):i.addClass(d,m);break;case"A":if(!i.getAttrib(d,"href")){const y=i.getAttrib(d,"name")||d.id,v=ey(r);y&&r.hasVisual?i.addClass(d,v):i.removeClass(d,v)}}}),r.dispatch("VisualAid",{element:s,hasVisual:r.hasVisual})})(t,o)},selection:{getContent:(o,r)=>((s,i,c={})=>{const d=((m,f)=>({...m,format:f,get:!0,selection:!0,getInner:!0}))(c,i);return sC(s,d).fold(D,m=>{const f=((y,v)=>{if(v.format==="text")return(k=>R.from(k.selection.getRng()).map(z=>{var F;const N=R.from(k.dom.getParent(z.commonAncestorContainer,k.dom.isBlock)),P=k.getBody(),M=(ne=>ne.map(we=>we.nodeName).getOr("div").toLowerCase())(N),j=Se(z.cloneContents());C3(j),S3(j);const Y=k.dom.add(P,M,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},j.dom),X=dC(Y),ie=Wl((F=Y.textContent)!==null&&F!==void 0?F:"");if(k.dom.remove(Y),By(ie,0)||By(ie,ie.length-1)){const ne=N.getOr(P),we=dC(ne),Ye=we.indexOf(X);return Ye===-1?X:(By(we,Ye-1)?" ":"")+X+(By(we,Ye+X.length)?" ":"")}return X}).getOr(""))(y);{const k=((z,F)=>{const N=z.selection.getRng(),P=z.dom.create("body"),M=z.selection.getSel(),j=v1(z,d1(M)),Y=F.contextual?Nw(Se(z.getBody()),j,z.schema).dom:N.cloneContents();return Y&&P.appendChild(Y),z.selection.serializer.serialize(P,F)})(y,v);return v.format==="tree"?k:y.selection.isCollapsed()?"":k}})(s,m);return Aw(s,f,m)})})(t,o,r)},autocompleter:{addDecoration:Ro,removeDecoration:Ro},raw:{getModel:()=>R.none()}}),Fg=t=>on(t.plugins,"rtc"),gC=t=>t.rtcInstance?t.rtcInstance:jE(t),sl=t=>{const o=t.rtcInstance;if(o)return o;throw new Error("Failed to get RTC instance not yet initialized.")},$E=t=>sl(t).init.bindEvents(),UE=t=>t.dom.length===0?(Xr(t),R.none()):R.some(t),K1=(t,o,r,s,i)=>{t.bind(c=>((s?Xx:Lh)(c.dom,s?c.dom.length:0,i),o.filter(la).map(d=>((m,f,y,v,k)=>{const z=m.dom,F=f.dom,N=v?z.length:F.length;v?(z1(z,F,k,!1,!v),y.setStart(F,N)):(z1(F,z,k,!1,!v),y.setEnd(F,N))})(c,d,r,s,i)))).orThunk(()=>((d,m)=>d.filter(f=>g1.isBookmarkNode(f.dom)).bind(m?Ns:us))(o,s).or(o).filter(la).map(d=>((m,f,y)=>{rn(m).each(v=>{const k=m.dom;f&&E1(v,It(k,0),y)?Lh(k,0,y):!f&&Sy(v,It(k,k.length),y)&&Xx(k,k.length,y)})})(d,s,i)))},Y1=(t,o,r)=>{if(on(t,o)){const s=Ue(t[o],i=>i!==r);s.length===0?delete t[o]:t[o]=s}},X1=t=>!(!t||!t.ownerDocument)&&Na(Se(t.ownerDocument),Se(t)),ZE=(t,o,r,s)=>{let i,c;const{selectorChangedWithUnbind:d}=((M,j)=>{let Y,X;const ie=(we,Ye)=>Ie(Ye,Ve=>M.is(Ve,we)),ne=we=>M.getParents(we,void 0,M.getRoot());return{selectorChangedWithUnbind:(we,Ye)=>(Y||(Y={},X={},j.on("NodeChange",Ve=>{const at=Ve.element,Mt=ne(at),Ae={};ft(Y,(Ze,et)=>{ie(et,Mt).each(jt=>{X[et]||(ke(Ze,Lo=>{Lo(!0,{node:jt,selector:et,parents:Mt})}),X[et]=Ze),Ae[et]=Ze})}),ft(X,(Ze,et)=>{Ae[et]||(delete X[et],ke(Ze,jt=>{jt(!1,{node:at,selector:et,parents:Mt})}))})})),Y[we]||(Y[we]=[]),Y[we].push(Ye),ie(we,ne(j.selection.getStart())).each(()=>{X[we]=Y[we]}),{unbind:()=>{Y1(Y,we,Ye),Y1(X,we,Ye)}})}})(t,s),m=(M,j)=>((Y,X,ie={})=>{const ne=((we,Ye)=>({format:"html",...we,set:!0,selection:!0,content:Ye}))(ie,X);Tw(Y,ne).each(we=>{const Ye=((at,Mt)=>{if(Mt.format!=="raw"){const Ae=at.selection.getRng(),Ze=at.dom.getParent(Ae.commonAncestorContainer,at.dom.isBlock),et=Ze?{context:Ze.nodeName.toLowerCase()}:{},jt=at.parser.parse(Mt.content,{forced_root_block:!1,...et,...Mt});return bp({validate:!1},at.schema).serialize(jt)}return Mt.content})(Y,we),Ve=Y.selection.getRng();((at,Mt,Ae)=>{const Ze=R.from(Mt.firstChild).map(Se),et=R.from(Mt.lastChild).map(Se);at.deleteContents(),at.insertNode(Mt);const jt=Ze.bind(us).filter(la).bind(UE),Lo=et.bind(Ns).filter(la).bind(UE);K1(jt,Ze,at,!0,Ae),K1(Lo,et,at,!1,Ae),at.collapse(!1)})(Ve,Ve.createContextualFragment(Ye),Y.schema),Y.selection.setRng(Ve),ky(Y,Ve),Ow(Y,Ye,we)})})(s,M,j),f=M=>{const j=v();j.collapse(!!M),k(j)},y=()=>o.getSelection?o.getSelection():o.document.selection,v=()=>{let M;const j=(X,ie,ne)=>{try{return ie.compareBoundaryPoints(X,ne)}catch{return-1}},Y=o.document;if(Xe(s.bookmark)&&!Rh(s)){const X=Ox(s);if(X.isSome())return X.map(ie=>v1(s,[ie])[0]).getOr(Y.createRange())}try{const X=y();X&&!yo(X.anchorNode)&&(M=X.rangeCount>0?X.getRangeAt(0):Y.createRange(),M=v1(s,[M])[0])}catch{}if(M||(M=Y.createRange()),mu(M.startContainer)&&M.collapsed){const X=t.getRoot();M.setStart(X,0),M.setEnd(X,0)}return i&&c&&(j(M.START_TO_START,M,i)===0&&j(M.END_TO_END,M,i)===0?M=c:(i=null,c=null)),M},k=(M,j)=>{if(!(X=>!!X&&X1(X.startContainer)&&X1(X.endContainer))(M))return;const Y=y();if(M=s.dispatch("SetSelectionRange",{range:M,forward:j}).range,Y){c=M;try{Y.removeAllRanges(),Y.addRange(M)}catch{}j===!1&&Y.extend&&(Y.collapse(M.endContainer,M.endOffset),Y.extend(M.startContainer,M.startOffset)),i=Y.rangeCount>0?Y.getRangeAt(0):null}if(!M.collapsed&&M.startContainer===M.endContainer&&(Y!=null&&Y.setBaseAndExtent)&&M.endOffset-M.startOffset<2&&M.startContainer.hasChildNodes()){const X=M.startContainer.childNodes[M.startOffset];X&&X.nodeName==="IMG"&&(Y.setBaseAndExtent(M.startContainer,M.startOffset,M.endContainer,M.endOffset),Y.anchorNode===M.startContainer&&Y.focusNode===M.endContainer||Y.setBaseAndExtent(X,0,X,1))}s.dispatch("AfterSetSelectionRange",{range:M,forward:j})},z=()=>{const M=y(),j=M==null?void 0:M.anchorNode,Y=M==null?void 0:M.focusNode;if(!M||!j||!Y||yo(j)||yo(Y))return!0;const X=t.createRng(),ie=t.createRng();try{X.setStart(j,M.anchorOffset),X.collapse(!0),ie.setStart(Y,M.focusOffset),ie.collapse(!0)}catch{return!0}return X.compareBoundaryPoints(X.START_TO_START,ie)<=0},F={dom:t,win:o,serializer:r,editor:s,expand:(M={type:"word"})=>k(Ng(t).expand(v(),M)),collapse:f,setCursorLocation:(M,j)=>{const Y=t.createRng();Xe(M)&&Xe(j)?(Y.setStart(M,j),Y.setEnd(M,j),k(Y),f(!1)):(R_(t,Y,s.getBody(),!0),k(Y))},getContent:M=>((j,Y={})=>((X,ie,ne)=>sl(X).selection.getContent(ie,ne))(j,Y.format?Y.format:"html",Y))(s,M),setContent:m,getBookmark:(M,j)=>N.getBookmark(M,j),moveToBookmark:M=>N.moveToBookmark(M),select:(M,j)=>(((Y,X,ie)=>R.from(X).bind(ne=>R.from(ne.parentNode).map(we=>{const Ye=Y.nodeIndex(ne),Ve=Y.createRng();return Ve.setStart(we,Ye),Ve.setEnd(we,Ye+1),ie&&(R_(Y,Ve,ne,!0),R_(Y,Ve,ne,!1)),Ve})))(t,M,j).each(k),M),isCollapsed:()=>{const M=v(),j=y();return!(!M||M.item)&&(M.compareEndPoints?M.compareEndPoints("StartToEnd",M)===0:!j||M.collapsed)},isEditable:()=>{if(s.mode.isReadOnly())return!1;const M=v(),j=s.getBody().querySelectorAll('[data-mce-selected="1"]');return j.length>0?_t(j,Y=>t.isEditable(Y.parentElement)):h3(t,M)},isForward:z,setNode:M=>(m(t.getOuterHTML(M)),M),getNode:()=>((M,j)=>{if(!j)return M;let Y=j.startContainer,X=j.endContainer;const ie=j.startOffset,ne=j.endOffset;let we=j.commonAncestorContainer;j.collapsed||(Y===X&&ne-ie<2&&Y.hasChildNodes()&&(we=Y.childNodes[ie]),Ao(Y)&&Ao(X)&&(Y=Y.length===ie?im(Y.nextSibling,!0):Y.parentNode,X=ne===0?im(X.previousSibling,!1):X.parentNode,Y&&Y===X&&(we=Y)));const Ye=Ao(we)?we.parentNode:we;return Zn(Ye)?Ye:M})(s.getBody(),v()),getSel:y,setRng:k,getRng:v,getStart:M=>Td(s.getBody(),v(),M),getEnd:M=>cc(s.getBody(),v(),M),getSelectedBlocks:(M,j)=>((Y,X,ie,ne)=>{const we=[],Ye=Y.getRoot(),Ve=Y.getParent(ie||Td(Ye,X,X.collapsed),Y.isBlock),at=Y.getParent(ne||cc(Ye,X,X.collapsed),Y.isBlock);if(Ve&&Ve!==Ye&&we.push(Ve),Ve&&at&&Ve!==at){let Mt;const Ae=new Ms(Ve,Ye);for(;(Mt=Ae.next())&&Mt!==at;)Y.isBlock(Mt)&&we.push(Mt)}return at&&Ve!==at&&at!==Ye&&we.push(at),we})(t,v(),M,j),normalize:()=>{const M=v(),j=y();if(!(d1(j).length>1)&&vx(s)){const Y=b1(t,M);return Y.each(X=>{k(X,z())}),Y.getOr(M)}return M},selectorChanged:(M,j)=>(d(M,j),F),selectorChangedWithUnbind:d,getScrollContainer:()=>{let M,j=t.getRoot();for(;j&&j.nodeName!=="BODY";){if(j.scrollHeight>j.clientHeight){M=j;break}j=j.parentNode}return M},scrollIntoView:(M,j)=>{Xe(M)?((Y,X,ie)=>{(Y.inline?wy:W_)(Y,X,ie)})(s,M,j):ky(s,v(),j)},placeCaretAt:(M,j)=>k(u3(M,j,s.getDoc())),getBoundingClientRect:()=>{const M=v();return M.collapsed?It.fromRangeStart(M).getClientRects()[0]:M.getBoundingClientRect()},destroy:()=>{o=i=c=null,P.destroy()}},N=g1(F),P=d3(F,s);return F.bookmarkManager=N,F.controlSelection=P,F},N5=(t,o,r)=>{ve.inArray(o,r)===-1&&(t.addAttributeFilter(r,(s,i)=>{let c=s.length;for(;c--;)s[c].attr(i,null)}),o.push(r))},D5=(t,o)=>{const r=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...t},i=o&&o.dom?o.dom:Za.DOM,c=o&&o.schema?o.schema:ac(s),d=Mf(s,c);return((m,f,y)=>{m.addAttributeFilter("data-mce-tabindex",(v,k)=>{let z=v.length;for(;z--;){const F=v[z];F.attr("tabindex",F.attr("data-mce-tabindex")),F.attr(k,null)}}),m.addAttributeFilter("src,href,style",(v,k)=>{const z="data-mce-"+k,F=f.url_converter,N=f.url_converter_scope;let P=v.length;for(;P--;){const M=v[P];let j=M.attr(z);j!==void 0?(M.attr(k,j.length>0?j:null),M.attr(z,null)):(j=M.attr(k),k==="style"?j=y.serializeStyle(y.parseStyle(j),M.name):F&&(j=F.call(N,j,k,M.name)),M.attr(k,j.length>0?j:null))}}),m.addAttributeFilter("class",v=>{let k=v.length;for(;k--;){const z=v[k];let F=z.attr("class");F&&(F=F.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),z.attr("class",F.length>0?F:null))}}),m.addAttributeFilter("data-mce-type",(v,k,z)=>{let F=v.length;for(;F--;){const N=v[F];N.attr("data-mce-type")==="bookmark"&&!z.cleanup&&(R.from(N.firstChild).exists(M=>{var j;return!Yp((j=M.value)!==null&&j!==void 0?j:"")})?N.unwrap():N.remove())}}),m.addNodeFilter("script,style",(v,k)=>{var z;const F=P=>P.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let N=v.length;for(;N--;){const P=v[N],M=P.firstChild,j=(z=M==null?void 0:M.value)!==null&&z!==void 0?z:"";if(k==="script"){const Y=P.attr("type");Y&&P.attr("type",Y==="mce-no/type"?null:Y.replace(/^mce\-/,"")),f.element_format==="xhtml"&&M&&j.length>0&&(M.value=`// <![CDATA[
`+F(j)+`
// ]]>`)}else f.element_format==="xhtml"&&M&&j.length>0&&(M.value=`<!--
`+F(j)+`
-->`)}}),m.addNodeFilter("#comment",v=>{let k=v.length;for(;k--;){const z=v[k],F=z.value;f.preserve_cdata&&(F==null?void 0:F.indexOf("[CDATA["))===0?(z.name="#cdata",z.type=4,z.value=y.decode(F.replace(/^\[CDATA\[|\]\]$/g,""))):(F==null?void 0:F.indexOf("mce:protected "))===0&&(z.name="#text",z.type=3,z.raw=!0,z.value=unescape(F).substr(14))}}),m.addNodeFilter("xml:namespace,input",(v,k)=>{let z=v.length;for(;z--;){const F=v[z];F.type===7?F.remove():F.type===1&&(k!=="input"||F.attr("type")||F.attr("type","text"))}}),m.addAttributeFilter("data-mce-type",v=>{ke(v,k=>{k.attr("data-mce-type")==="format-caret"&&(k.isEmpty(m.schema.getNonEmptyElements())?k.remove():k.unwrap())})}),m.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(v,k)=>{let z=v.length;for(;z--;)v[z].attr(k,null)}),f.remove_trailing_brs&&((v,k,z)=>{k.addNodeFilter("br",(F,N,P)=>{const M=ve.extend({},z.getBlockElements()),j=z.getNonEmptyElements(),Y=z.getWhitespaceElements();M.body=1;const X=ie=>ie.name in M||Hr(z,ie);for(let ie=0,ne=F.length;ie<ne;ie++){let we=F[ie],Ye=we.parent;if(Ye&&X(Ye)&&we===Ye.lastChild){let Ve=we.prev;for(;Ve;){const at=Ve.name;if(at!=="span"||Ve.attr("data-mce-type")!=="bookmark"){at==="br"&&(we=null);break}Ve=Ve.prev}if(we&&(we.remove(),Ih(z,j,Y,Ye))){const at=z.getElementRule(Ye.name);at&&(at.removeEmpty?Ye.remove():at.paddEmpty&&x2(v,P,X,Ye))}}else{let Ve=we;for(;Ye&&Ye.firstChild===Ve&&Ye.lastChild===Ve&&(Ve=Ye,!M[Ye.name]);)Ye=Ye.parent;if(Ve===Ye){const at=new dc("#text",3);at.value=zn,we.replace(at)}}}})})(f,m,m.schema)})(d,s,i),{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:(m,f={})=>{const y={format:"html",...f},v=((F,N,P)=>((M,j)=>Xe(M)&&M.hasEventListeners("PreProcess")&&!j.no_events)(F,P)?((M,j,Y)=>{let X;const ie=M.dom;let ne=j.cloneNode(!0);const we=document.implementation;if(we.createHTMLDocument){const Ye=we.createHTMLDocument("");ve.each(ne.nodeName==="BODY"?ne.childNodes:[ne],Ve=>{Ye.body.appendChild(Ye.importNode(Ve,!0))}),ne=ne.nodeName!=="BODY"?Ye.body.firstChild:Ye.body,X=ie.doc,ie.doc=Ye}return((Ye,Ve)=>{Ye.dispatch("PreProcess",Ve)})(M,{...Y,node:ne}),X&&(ie.doc=X),ne})(F,N,P):N)(o,m,y),k=((F,N,P)=>{const M=Wl(P.getInner?N.innerHTML:F.getOuterHTML(N));return P.selection||op(Se(N))?M:ve.trim(M)})(i,v,y),z=((F,N,P)=>{const M=P.selection?{forced_root_block:!1,...P}:P,j=F.parse(N,M);return(Y=>{const X=ne=>(ne==null?void 0:ne.name)==="br",ie=Y.lastChild;if(X(ie)){const ne=ie.prev;X(ne)&&(ie.remove(),ne.remove())}})(j),j})(d,k,y);return y.format==="tree"?z:((F,N,P,M,j)=>{const Y=((X,ie,ne)=>bp(X,ie).serialize(ne))(N,P,M);return((X,ie,ne)=>!ie.no_events&&X?((Ye,Ve)=>Ye.dispatch("PostProcess",Ve))(X,{...ie,content:ne}).content:ne)(F,j,Y)})(o,s,c,z,y)},addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Ot(N5,d,r),getTempAttrs:Nt(r),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},qE=(t,o)=>{const r=D5(t,o);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters,removeNodeFilter:r.removeNodeFilter,removeAttributeFilter:r.removeAttributeFilter}},pC=(t,o,r={})=>{const s=((i,c)=>({format:"html",...i,set:!0,content:c}))(r,o);return Tw(t,s).map(i=>{const c=((d,m,f)=>gC(d).editor.setContent(m,f))(t,i.content,i);return Ow(t,c.html,i),c.content}).getOr(o)},M5="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),um=[],WE="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),GE=[{name:"export",replacedWith:"Export to PDF"}],fC=(t,o)=>{const r=Ue(o,s=>on(t,s));return Fo(r)},R5=t=>{const o=fC(t,M5),r=t.forced_root_block;return r!==!1&&r!==""||o.push("forced_root_block (false only)"),Fo(o)},B5=t=>fC(t,um),Xl=(t,o)=>{const r=ve.makeMap(t.plugins," "),s=Ue(o,i=>on(r,i));return Fo(s)},F5=t=>Xl(t,WE),L5=t=>Xl(t,GE.map(o=>o.name)),I5=t=>Ie(GE,o=>o.name===t).fold(()=>t,o=>o.replacedWith?`${t}, replaced by ${o.replacedWith}`:t),Bw=Za.DOM,$h=t=>R.from(t).each(o=>o.destroy()),Ly=(()=>{const t={};return{add:(o,r)=>{t[o]=r},get:o=>t[o]?t[o]:{icons:{}},has:o=>on(t,o)}})(),Uh=gl.ModelManager,J1=(t,o)=>o.dom[t],hC=(t,o)=>parseInt(Qi(o,t),10),KE=Ot(J1,"clientWidth"),YE=Ot(J1,"clientHeight"),P5=Ot(hC,"margin-top"),H5=Ot(hC,"margin-left"),XE=t=>{const o=[],r=()=>{const f=t.theme;return f&&f.getNotificationManagerImpl?f.getNotificationManagerImpl():(()=>{const y=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:y,close:y,getArgs:y}})()},s=()=>R.from(o[0]),i=()=>{s().each(f=>{f.reposition()})},c=f=>{ye(o,y=>y===f).each(y=>{o.splice(y,1)})},d=(f,y=!0)=>t.removed||!(v=>{return(k=v.inline?v.getBody():v.getContentAreaContainer(),R.from(k).map(Se)).map(zl).getOr(!1);var k})(t)?{}:(y&&t.dispatch("BeforeOpenNotification",{notification:f}),Ie(o,v=>{return k=r().getArgs(v),z=f,!(k.type!==z.type||k.text!==z.text||k.progressBar||k.timeout||z.progressBar||z.timeout);var k,z}).getOrThunk(()=>{t.editorManager.setActive(t);const v=r().open(f,()=>{c(v)},()=>Mx(t));return(k=>{o.push(k)})(v),i(),t.dispatch("OpenNotification",{notification:{...v}}),v})),m=Nt(o);return(f=>{f.on("SkinLoaded",()=>{const y=rl(f);y&&d({text:y,type:"warning",timeout:0},!1),i()}),f.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(i)}),f.on("remove",()=>{ke(o.slice(),y=>{r().close(y)})}),f.on("keydown",y=>{var v;const k=((v=y.key)===null||v===void 0?void 0:v.toLowerCase())==="f12"||y.keyCode===123;y.altKey&&k&&(y.preventDefault(),s().map(z=>Se(z.getEl())).each(z=>si(z)))})})(t),{open:d,close:()=>{s().each(f=>{r().close(f),c(f),i()})},getNotifications:m}},Iy=gl.PluginManager,Lg=gl.ThemeManager,bC=t=>{let o=[];const r=()=>{const d=t.theme;return d&&d.getWindowManagerImpl?d.getWindowManagerImpl():(()=>{const m=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:m,openUrl:m,alert:m,confirm:m,close:m}})()},s=(d,m)=>(...f)=>m?m.apply(d,f):void 0,i=d=>{(m=>{t.dispatch("CloseWindow",{dialog:m})})(d),o=Ue(o,m=>m!==d),o.length===0&&t.focus()},c=d=>{t.editorManager.setActive(t),Ad(t),t.ui.show();const m=d();return(f=>{o.push(f),(y=>{t.dispatch("OpenWindow",{dialog:y})})(f)})(m),m};return t.on("remove",()=>{ke(o,d=>{r().close(d)})}),{open:(d,m)=>c(()=>r().open(d,m,i)),openUrl:d=>c(()=>r().openUrl(d,i)),alert:(d,m,f)=>{const y=r();y.alert(d,s(f||y,m))},confirm:(d,m,f)=>{const y=r();y.confirm(d,s(f||y,m))},close:()=>{R.from(o[o.length-1]).each(d=>{r().close(d),i(d)})}}},yC=(t,o)=>{t.notificationManager.open({type:"error",text:o})},Q1=(t,o)=>{t._skinLoaded?yC(t,o):t.on("SkinLoaded",()=>{yC(t,o)})},ev=(t,o,r)=>{tf(t,o,{message:r}),console.error(r)},tv=(t,o,r)=>r?`Failed to load ${t}: ${r} from url ${o}`:`Failed to load ${t} url: ${o}`,Py=(t,...o)=>{const r=window.console;r&&(r.error?r.error(t,...o):r.log(t,...o))},ov=(t,o,r)=>{try{t.getDoc().execCommand(o,!1,String(r))}catch{}},Fw=(t,o,r)=>{cu(t,o)&&!r?hd(t,o):r&&fd(t,o)},JE=t=>{const o=Se(t.getBody());Fw(o,"mce-content-readonly",!0),t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),(r=>{R.from(r.selection.getNode()).each(s=>{s.removeAttribute("data-mce-selected")})})(t)},QE=t=>{const o=Se(t.getBody());Fw(o,"mce-content-readonly",!1),t.hasEditableRoot()&&od(o,!0),((r,s)=>{ov(r,"StyleWithCSS",s),ov(r,"enableInlineTableEditing",s),ov(r,"enableObjectResizing",s)})(t,!1),Mx(t)&&t.focus(),(r=>{r.selection.setRng(r.selection.getRng())})(t),t.nodeChanged()},zp=t=>wi(t),Zh="data-mce-contenteditable",vC=(t,o)=>{const r=Se(t.getBody());o?(JE(t),od(r,!1),ke(hi(r,'*[contenteditable="true"]'),s=>{ra(s,Zh,"true"),od(s,!1)})):(ke(hi(r,`*[${Zh}="true"]`),s=>{ja(s,Zh),od(s,!0)}),QE(t))},ez=t=>{t.parser.addAttributeFilter("contenteditable",o=>{zp(t)&&ke(o,r=>{r.attr(Zh,r.attr("contenteditable")),r.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(Zh,o=>{zp(t)&&ke(o,r=>{r.attr("contenteditable",r.attr(Zh))})}),t.serializer.addTempAttr(Zh)},V5=["copy"],xC=t=>"content/"+t+"/content.css",tz=(t,o)=>{const r=t.editorManager.baseURL+"/skins/content",s=`content${t.editorManager.suffix}.css`;return No(o,i=>(c=>tinymce.Resource.has(xC(c)))(i)?i:(c=>/^[a-z0-9\-]+$/i.test(c))(i)&&!t.inline?`${r}/${i}/${s}`:t.documentBaseURI.toAbsolute(i))},j5=(t,o)=>{const r={};return{findAll:(s,i=je)=>{const c=Ue((m=>m?qo(m.getElementsByTagName("img")):[])(s),m=>{const f=m.src;return!m.hasAttribute("data-mce-bogus")&&!m.hasAttribute("data-mce-placeholder")&&!(!f||f===lo.transparentSrc)&&(Jo(f,"blob:")?!t.isUploaded(f)&&i(m):!!Jo(f,"data:")&&i(m))}),d=No(c,m=>{const f=m.src;if(on(r,f))return r[f].then(y=>Je(y)?y:{image:m,blobInfo:y.blobInfo});{const y=((v,k)=>{const z=()=>Promise.reject("Invalid data URI");if(Jo(k,"blob:")){const P=v.getByUri(k);return Xe(P)?Promise.resolve(P):(F=k,Jo(F,"blob:")?(M=>fetch(M).then(j=>j.ok?j.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${M} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})))(F):Jo(F,"data:")?(N=F,new Promise((M,j)=>{j2(N).bind(({type:Y,data:X,base64Encoded:ie})=>fw(Y,X,ie)).fold(()=>j("Invalid data URI"),M)})):Promise.reject("Unknown URI format")).then(M=>$2(M).then(j=>hw(j,!1,Y=>R.some(U2(v,M,Y))).getOrThunk(z)))}var F,N;return Jo(k,"data:")?bw(v,k).fold(z,P=>Promise.resolve(P)):Promise.reject("Unknown image data format")})(o,f).then(v=>(delete r[f],{image:m,blobInfo:v})).catch(v=>(delete r[f],v));return r[f]=y,y}});return Promise.all(d)}}},qh=()=>{let t={};const o=(s,i)=>({status:s,resultUri:i}),r=s=>s in t;return{hasBlobUri:r,getResultUri:s=>{const i=t[s];return i?i.resultUri:null},isPending:s=>!!r(s)&&t[s].status===1,isUploaded:s=>!!r(s)&&t[s].status===2,markPending:s=>{t[s]=o(1,null)},markUploaded:(s,i)=>{t[s]=o(2,i)},removeFailed:s=>{delete t[s]},destroy:()=>{t={}}}};let Lw=0;const oz=(t,o)=>{const r={},s=(f,y)=>new Promise((v,k)=>{const z=new XMLHttpRequest;z.open("POST",o.url),z.withCredentials=o.credentials,z.upload.onprogress=N=>{y(N.loaded/N.total*100)},z.onerror=()=>{k("Image upload failed due to a XHR Transport error. Code: "+z.status)},z.onload=()=>{if(z.status<200||z.status>=300)return void k("HTTP Error: "+z.status);const N=JSON.parse(z.responseText);var P,M;N&&Je(N.location)?v((P=o.basePath,M=N.location,P?P.replace(/\/$/,"")+"/"+M.replace(/^\//,""):M)):k("Invalid JSON: "+z.responseText)};const F=new FormData;F.append("file",f.blob(),f.filename()),z.send(F)}),i=ae(o.handler)?o.handler:s,c=(f,y)=>({url:y,blobInfo:f,status:!0}),d=(f,y)=>({url:"",blobInfo:f,status:!1,error:y}),m=(f,y)=>{ve.each(r[f],v=>{v(y)}),delete r[f]};return{upload:(f,y)=>o.url||i!==s?((v,k)=>(v=ve.grep(v,z=>!t.isUploaded(z.blobUri())),Promise.all(ve.map(v,z=>t.isPending(z.blobUri())?(F=>{const N=F.blobUri();return new Promise(P=>{r[N]=r[N]||[],r[N].push(P)})})(z):((F,N,P)=>(t.markPending(F.blobUri()),new Promise(M=>{let j,Y;try{const X=()=>{j&&(j.close(),Y=Ro)},ie=we=>{X(),t.markUploaded(F.blobUri(),we),m(F.blobUri(),c(F,we)),M(c(F,we))},ne=we=>{X(),t.removeFailed(F.blobUri()),m(F.blobUri(),d(F,we)),M(d(F,we))};Y=we=>{we<0||we>100||R.from(j).orThunk(()=>R.from(P).map(vt)).each(Ye=>{j=Ye,Ye.progressBar.value(we)})},N(F,Y).then(ie,we=>{ne(Je(we)?{message:we}:we)})}catch(X){M(d(F,X))}})))(z,i,k)))))(f,y):new Promise(v=>{v([])})}},wC=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Iw=(t,o)=>oz(o,{url:Gb(t),basePath:Wt(t),credentials:Kb(t),handler:wh(t)}),$5=t=>{const o=(()=>{let P=[];const M=X=>{if(!X.blob||!X.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ie=X.id||"blobid"+Lw+++(()=>{const Ve=()=>Math.round(4294967295*Or()).toString(36);return"s"+new Date().getTime().toString(36)+Ve()+Ve()+Ve()})(),ne=X.name||ie,we=X.blob;var Ye;return{id:Nt(ie),name:Nt(ne),filename:Nt(X.filename||ne+"."+(Ye=we.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[Ye.toLowerCase()]||"dat")),blob:Nt(we),base64:Nt(X.base64),blobUri:Nt(X.blobUri||URL.createObjectURL(we)),uri:Nt(X.uri)}},j=X=>Ie(P,X).getOrUndefined(),Y=X=>j(ie=>ie.id()===X);return{create:(X,ie,ne,we,Ye)=>{if(Je(X))return M({id:X,name:we,filename:Ye,blob:ie,base64:ne});if(bt(X))return M(X);throw new Error("Unknown input type")},add:X=>{Y(X.id())||P.push(X)},get:Y,getByUri:X=>j(ie=>ie.blobUri()===X),getByData:(X,ie)=>j(ne=>ne.base64()===X&&ne.blob().type===ie),findFirst:j,removeByUri:X=>{P=Ue(P,ie=>ie.blobUri()!==X||(URL.revokeObjectURL(ie.blobUri()),!1))},destroy:()=>{ke(P,X=>{URL.revokeObjectURL(X.blobUri())}),P=[]}}})();let r,s;const i=qh(),c=[],d=P=>M=>t.selection?P(M):[],m=(P,M,j)=>{let Y=0;do Y=P.indexOf(M,Y),Y!==-1&&(P=P.substring(0,Y)+j+P.substr(Y+M.length),Y+=j.length-M.length+1);while(Y!==-1);return P},f=(P,M,j)=>{const Y=`src="${j}"${j===lo.transparentSrc?' data-mce-placeholder="1"':""}`;return P=m(P,`src="${M}"`,Y),m(P,'data-mce-src="'+M+'"','data-mce-src="'+j+'"')},y=(P,M)=>{ke(t.undoManager.data,j=>{j.type==="fragmented"?j.fragments=No(j.fragments,Y=>f(Y,P,M)):j.content=f(j.content,P,M)})},v=()=>(r||(r=Iw(t,i)),F().then(d(P=>{const M=No(P,j=>j.blobInfo);return r.upload(M,wC(t)).then(d(j=>{const Y=[];let X=!1;const ie=No(j,(ne,we)=>{const{blobInfo:Ye,image:Ve}=P[we];let at=!1;return ne.status&&xh(t)?(ne.url&&!ko(Ve.src,ne.url)&&(X=!0),o.removeByUri(Ve.src),Fg(t)||((Mt,Ae)=>{const Ze=t.convertURL(Ae,"src");var et;y(Mt.src,Ae),Mc(Se(Mt),{src:Wb(t)?(et=Ae,et+(et.indexOf("?")===-1?"?":"&")+new Date().getTime()):Ae,"data-mce-src":Ze})})(Ve,ne.url)):ne.error&&(ne.error.remove&&(y(Ve.src,lo.transparentSrc),Y.push(Ve),at=!0),((Mt,Ae)=>{Q1(Mt,kd.translate(["Failed to upload image: {0}",Ae]))})(t,ne.error.message)),{element:Ve,status:ne.status,uploadUri:ne.url,blobInfo:Ye,removed:at}});return Y.length>0&&!Fg(t)?t.undoManager.transact(()=>{ke(Ks(Y),ne=>{const we=rn(ne);Xr(ne),we.each((Ye=>Ve=>{((at,Mt)=>at.dom.isEmpty(Mt.dom)&&Xe(at.schema.getTextBlockElements()[pr(Mt)]))(Ye,Ve)&&Aa(Ve,Kn('<br data-mce-bogus="1" />'))})(t)),o.removeByUri(ne.dom.src)})}):X&&t.undoManager.dispatchChange(),ie}))}))),k=()=>qb(t)?v():Promise.resolve([]),z=P=>_t(c,M=>M(P)),F=()=>(s||(s=j5(i,o)),s.findAll(t.getBody(),z).then(d(P=>{const M=Ue(P,j=>Je(j)?(Q1(t,j),!1):j.uriType!=="blob");return Fg(t)||ke(M,j=>{y(j.image.src,j.blobInfo.blobUri()),j.image.src=j.blobInfo.blobUri(),j.image.removeAttribute("data-mce-src")}),M}))),N=P=>P.replace(/src="(blob:[^"]+)"/g,(M,j)=>{const Y=i.getResultUri(j);if(Y)return'src="'+Y+'"';let X=o.getByUri(j);return X||(X=xe(t.editorManager.get(),(ie,ne)=>ie||ne.editorUpload&&ne.editorUpload.blobCache.getByUri(j),void 0)),X?'src="data:'+X.blob().type+";base64,"+X.base64()+'"':M});return t.on("SetContent",()=>{qb(t)?k():F()}),t.on("RawSaveContent",P=>{P.content=N(P.content)}),t.on("GetContent",P=>{P.source_view||P.format==="raw"||P.format==="tree"||(P.content=N(P.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",P=>{ke(P,M=>{const j=M.attr("src");if(!j||o.getByUri(j))return;const Y=i.getResultUri(j);Y&&M.attr("src",Y)})})}),{blobCache:o,addFilter:P=>{c.push(P)},uploadImages:v,uploadImagesAuto:k,scanForImages:F,destroy:()=>{o.destroy(),i.destroy(),s=r=null}}},nz={remove_similar:!0,inherit:!1},Hy={selector:"td,th",...nz},Ou={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Hy},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Hy},tablecellbordercolor:{styles:{borderColor:"%value"},...Hy},tablecellclass:{classes:["%value"],...Hy},tableclass:{selector:"table",classes:["%value"],...nz},tablecellborderstyle:{styles:{borderStyle:"%value"},...Hy},tablecellborderwidth:{styles:{borderWidth:"%value"},...Hy}},nv=Nt(Ou),Pw=ve.each,sd=Za.DOM,Wh=t=>Xe(t)&&bt(t),rz=(t,o)=>{const r=o&&o.schema||ac({}),s=d=>{const m=Je(d)?{name:d,classes:[],attrs:{}}:d,f=sd.create(m.name);return((y,v)=>{v.classes.length>0&&sd.addClass(y,v.classes.join(" ")),sd.setAttribs(y,v.attrs)})(f,m),f},i=(d,m,f)=>{let y;const v=m[0],k=Wh(v)?v.name:void 0,z=((P,M)=>{const j=r.getElementRule(P.nodeName.toLowerCase()),Y=j==null?void 0:j.parentsRequired;return!(!Y||!Y.length)&&(M&&co(Y,M)?M:Y[0])})(d,k);if(z)k===z?(y=v,m=m.slice(1)):y=z;else if(v)y=v,m=m.slice(1);else if(!f)return d;const F=y?s(y):sd.create("div");F.appendChild(d),f&&ve.each(f,P=>{const M=s(P);F.insertBefore(M,d)});const N=Wh(y)?y.siblings:void 0;return i(F,m,N)},c=sd.create("div");if(t.length>0){const d=t[0],m=s(d),f=Wh(d)?d.siblings:void 0;c.appendChild(i(m,t.slice(1),f))}return c},Vy=t=>{let o="div";const r={name:o,classes:[],attrs:{},selector:t=ve.trim(t)};return t!=="*"&&(o=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,i,c,d,m)=>{switch(i){case"#":r.attrs.id=c;break;case".":r.classes.push(c);break;case":":ve.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(r.attrs[c]=c)}if(d==="["){const f=m.match(/([\w\-]+)(?:\=\"([^\"]+))?/);f&&(r.attrs[f[1]]=f[2])}return""})),r.name=o||"div",r},Ra=(t,o)=>{let r="",s=z_(t);if(s==="")return"";const i=F=>Je(F)?F.replace(/%(\w+)/g,""):"",c=(F,N)=>sd.getStyle(N??t.getBody(),F,!0);if(Je(o)){const F=t.formatter.get(o);if(!F)return"";o=F[0]}if("preview"in o){const F=o.preview;if(F===!1)return"";s=F||s}let d,m=o.block||o.inline||"span";const f=(y=o.selector,Je(y)?(y=(y=y.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ve.map(y.split(/(?:>|\s+(?![^\[\]]+\]))/),F=>{const N=ve.map(F.split(/(?:~\+|~|\+)/),Vy),P=N.pop();return N.length&&(P.siblings=N),P}).reverse()):[]);var y;f.length>0?(f[0].name||(f[0].name=m),m=o.selector,d=rz(f,t)):d=rz([m],t);const v=sd.select(m,d)[0]||d.firstChild;Pw(o.styles,(F,N)=>{const P=i(F);P&&sd.setStyle(v,N,P)}),Pw(o.attributes,(F,N)=>{const P=i(F);P&&sd.setAttrib(v,N,P)}),Pw(o.classes,F=>{const N=i(F);sd.hasClass(v,N)||sd.addClass(v,N)}),t.dispatch("PreviewFormats"),sd.setStyles(d,{position:"absolute",left:-65535}),t.getBody().appendChild(d);const k=c("fontSize"),z=/px$/.test(k)?parseInt(k,10):0;return Pw(s.split(" "),F=>{let N=c(F,v);if(!(F==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(N)&&(N=c(F),ga(N).toLowerCase()==="#ffffff")||F==="color"&&ga(N).toLowerCase()==="#000000")){if(F==="font-size"&&/em|%$/.test(N)){if(z===0)return;N=parseFloat(N)/(/%$/.test(N)?100:1)*z+"px"}F==="border"&&N&&(r+="padding:0 2px;"),r+=F+":"+N+";"}}),t.dispatch("AfterPreviewFormats"),sd.remove(d),r},jy=t=>{const o=(s=>{const i={},c=(d,m)=>{d&&(Je(d)?(ao(m)||(m=[m]),ke(m,f=>{wo(f.deep)&&(f.deep=!Eu(f)),wo(f.split)&&(f.split=!Eu(f)||bl(f)),wo(f.remove)&&Eu(f)&&!bl(f)&&(f.remove="none"),Eu(f)&&bl(f)&&(f.mixed=!0,f.block_expand=!0),Je(f.classes)&&(f.classes=f.classes.split(/\s+/))}),i[d]=m):ft(d,(f,y)=>{c(y,f)}))};return c((d=>{const m=d.dom,f=d.schema.type,y={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:v=>{m.setStyle(v,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:v=>{m.setStyle(v,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const v={inline:"span",styles:{textDecoration:"line-through"},exact:!0},k={inline:"strike",remove:"all",preserve_attributes:["class","style"]},z={inline:"s",remove:"all",preserve_attributes:["class","style"]};return f!=="html4"?[z,v,k]:[v,z,k]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(v,k,z)=>$t(v)&&v.hasAttribute("href"),onformat:(v,k,z)=>{ve.each(z,(F,N)=>{m.setAttrib(v,N,F)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":v=>{var k;return(k=v==null?void 0:v.customValue)!==null&&k!==void 0?k:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ve.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),v=>{y[v]={block:v,remove:"all"}}),y})(s)),c(nv()),c(Jb(s)),{get:d=>Xe(d)?i[d]:i,has:d=>on(i,d),register:c,unregister:d=>(d&&i[d]&&delete i[d],i)}})(t),r=Tr({});return(s=>{s.addShortcut("meta+b","","Bold"),s.addShortcut("meta+i","","Italic"),s.addShortcut("meta+u","","Underline");for(let i=1;i<=6;i++)s.addShortcut("access+"+i,"",["FormatBlock",!1,"h"+i]);s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"])})(t),(s=>{s.on("mouseup keydown",i=>{var c;((d,m,f)=>{const y=d.selection,v=d.getBody();Mg(d,null,f),m!==8&&m!==46||!y.isCollapsed()||y.getStart().innerHTML!==Gr||Mg(d,Cu(v,y.getStart()),!0),m!==37&&m!==39||Mg(d,Cu(v,y.getStart()),!0)})(s,i.keyCode,(c=s.selection.getRng().endContainer,Ao(c)&&hn(c.data,zn)))})})(t),Fg(t)||((s,i)=>{s.set({}),i.on("NodeChange",c=>{_E(i,c.element,s.get())}),i.on("FormatApply FormatRemove",c=>{const d=R.from(c.node).map(m=>dy(m)?m:m.startContainer).bind(m=>$t(m)?R.some(m):R.from(m.parentElement)).getOrThunk(()=>H2(i));_E(i,d,s.get())})})(r,t),{get:o.get,has:o.has,register:o.register,unregister:o.unregister,apply:(s,i,c)=>{((d,m,f,y)=>{sl(d).formatter.apply(m,f,y)})(t,s,i,c)},remove:(s,i,c,d)=>{((m,f,y,v,k)=>{sl(m).formatter.remove(f,y,v,k)})(t,s,i,c,d)},toggle:(s,i,c)=>{((d,m,f,y)=>{sl(d).formatter.toggle(m,f,y)})(t,s,i,c)},match:(s,i,c,d)=>((m,f,y,v,k)=>sl(m).formatter.match(f,y,v,k))(t,s,i,c,d),closest:s=>((i,c)=>sl(i).formatter.closest(c))(t,s),matchAll:(s,i)=>((c,d,m)=>sl(c).formatter.matchAll(d,m))(t,s,i),matchNode:(s,i,c,d)=>((m,f,y,v,k)=>sl(m).formatter.matchNode(f,y,v,k))(t,s,i,c,d),canApply:s=>((i,c)=>sl(i).formatter.canApply(c))(t,s),formatChanged:(s,i,c,d)=>((m,f,y,v,k,z)=>sl(m).formatter.formatChanged(f,y,v,k,z))(t,r,s,i,c,d),getCssText:Ot(Ra,t)}},kC=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},_C=t=>{const o=Fe(),r=Tr(0),s=Tr(0),i={data:[],typing:!1,beforeChange:()=>{((c,d,m)=>{sl(c).undoManager.beforeChange(d,m)})(t,r,o)},add:(c,d)=>((m,f,y,v,k,z,F)=>sl(m).undoManager.add(f,y,v,k,z,F))(t,i,s,r,o,c,d),dispatchChange:()=>{t.setDirty(!0);const c=Mw(t);c.bookmark=zc(t.selection),t.dispatch("change",{level:c,lastLevel:rt(i.data,s.get()).getOrUndefined()})},undo:()=>((c,d,m,f)=>sl(c).undoManager.undo(d,m,f))(t,i,r,s),redo:()=>((c,d,m)=>sl(c).undoManager.redo(d,m))(t,s,i.data),clear:()=>{((c,d,m)=>{sl(c).undoManager.clear(d,m)})(t,i,s)},reset:()=>{((c,d)=>{sl(c).undoManager.reset(d)})(t,i)},hasUndo:()=>((c,d,m)=>sl(c).undoManager.hasUndo(d,m))(t,i,s),hasRedo:()=>((c,d,m)=>sl(c).undoManager.hasRedo(d,m))(t,i,s),transact:c=>((d,m,f,y)=>sl(d).undoManager.transact(m,f,y))(t,i,r,c),ignore:c=>{((d,m,f)=>{sl(d).undoManager.ignore(m,f)})(t,r,c)},extra:(c,d)=>{((m,f,y,v,k)=>{sl(m).undoManager.extra(f,y,v,k)})(t,i,s,c,d)}};return Fg(t)||((c,d,m)=>{const f=Tr(!1),y=v=>{G1(d,!1,m),d.add({},v)};c.on("init",()=>{d.add()}),c.on("BeforeExecCommand",v=>{const k=v.command;kC(k)||(Rw(d,m),d.beforeChange())}),c.on("ExecCommand",v=>{const k=v.command;kC(k)||y(v)}),c.on("ObjectResizeStart cut",()=>{d.beforeChange()}),c.on("SaveContent ObjectResized blur",y),c.on("dragend",y),c.on("keyup",v=>{const k=v.keyCode;if(v.isDefaultPrevented())return;const z=lo.os.isMacOS()&&v.key==="Meta";(k>=33&&k<=36||k>=37&&k<=40||k===45||v.ctrlKey||z)&&(y(),c.nodeChanged()),k!==46&&k!==8||c.nodeChanged(),f.get()&&d.typing&&!Fy(Mw(c),d.data[0])&&(c.isDirty()||c.setDirty(!0),c.dispatch("TypingUndo"),f.set(!1),c.nodeChanged())}),c.on("keydown",v=>{const k=v.keyCode;if(v.isDefaultPrevented())return;if(k>=33&&k<=36||k>=37&&k<=40||k===45)return void(d.typing&&y(v));const z=v.ctrlKey&&!v.altKey||v.metaKey;if((k<16||k>20)&&k!==224&&k!==91&&!d.typing&&!z)return d.beforeChange(),G1(d,!0,m),d.add({},v),void f.set(!0);(lo.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&d.beforeChange()}),c.on("mousedown",v=>{d.typing&&y(v)}),c.on("input",v=>{var k;v.inputType&&(v.inputType==="insertReplacementText"||(k=v).inputType==="insertText"&&k.data===null||(z=>z.inputType==="insertFromPaste"||z.inputType==="insertFromDrop")(v))&&y(v)}),c.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||c.nodeChanged()})})(t,i,r),(c=>{c.addShortcut("meta+z","","Undo"),c.addShortcut("meta+y,meta+shift+z","","Redo")})(t),i},Hw=[9,27,un.HOME,un.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,un.DOWN,un.UP,un.LEFT,un.RIGHT].concat(lo.browser.isFirefox()?[224]:[]),Vw="data-mce-placeholder",jw=t=>t.type==="keydown"||t.type==="keyup",$w=t=>{const o=t.keyCode;return o===un.BACKSPACE||o===un.DELETE},CC=(t,o)=>({from:t,to:o}),$y=(t,o)=>{const r=Se(t),s=Se(o.container());return T1(r,s).map(i=>((c,d)=>({block:c,position:d}))(i,o))},Uw=(t,o)=>Jr(o,r=>Lm(r)||Vl(r.dom),r=>wr(r,t)).filter(Gs).getOr(t),SC=(t,o)=>{const r=((s,i)=>{const c=ha(s);return ye(c,d=>i.isBlock(pr(d))).fold(Nt(c),d=>c.slice(0,d))})(t,o);return ke(r,Xr),r},EC=(t,o,r)=>{const s=Zm(r,o);return Ie(s.reverse(),i=>zi(t,i)).each(Xr)},az=(t,o,r,s,i)=>{if(zi(s,r))return Yu(r),$s(r.dom);((d,m)=>Ue(Hs(m),f=>!zi(d,f)).length===0)(s,i)&&zi(s,o)&&ua(i,Wn("br"));const c=ws(r.dom,It.before(i.dom));return ke(SC(o,s),d=>{ua(i,d)}),EC(s,t,o),c},sz=(t,o,r,s)=>{if(zi(s,r)){if(zi(s,o)){const c=m=>{const f=(y,v)=>An(y).fold(()=>v,k=>((z,F)=>z.isInline(pr(F)))(s,k)?f(k,v.concat(Rc(k))):v);return f(m,[])},d=me(c(r),(m,f)=>(gd(m,f),f),yg());Fa(o),Aa(o,d)}return Xr(r),$s(o.dom)}const i=Dl(r.dom);return ke(SC(o,s),c=>{Aa(r,c)}),EC(s,t,o),i},zC=(t,o)=>{hl(t,o.dom).bind(r=>R.from(r.getNode())).map(Se).filter(Fm).each(Xr)},Gh=(t,o,r,s)=>(zC(!0,o),zC(!1,r),((i,c)=>Na(c,i)?((d,m)=>{const f=Zm(m,d);return R.from(f[f.length-1])})(c,i):R.none())(o,r).fold(Ot(sz,t,o,r,s),Ot(az,t,o,r,s))),AC=(t,o,r,s,i)=>o?Gh(t,s,r,i):Gh(t,r,s,i),rv=(t,o)=>{const r=Se(t.getBody());return((i,c,d,m)=>m.collapsed?((f,y,v,k)=>{const z=$y(y,It.fromRangeStart(k)),F=z.bind(N=>Ho(v,y,N.position).bind(P=>$y(y,P).map(M=>((j,Y,X,ie)=>ts(ie.position.getNode())&&!zi(j,ie.block)?hl(!1,ie.block.dom).bind(ne=>ne.isEqual(ie.position)?Ho(X,Y,ne).bind(we=>$y(Y,we)):R.some(ie)).getOr(ie):ie)(f,y,v,M))));return Rr(z,F,CC).filter(N=>(P=>!wr(P.from.block,P.to.block))(N)&&((P,M)=>{const j=Se(P);return wr(Uw(j,M.from.block),Uw(j,M.to.block))})(y,N)&&(P=>_a(P.from.block.dom)===!1&&_a(P.to.block.dom)===!1)(N)&&(P=>{const M=j=>Ab(j)||Cc(j.dom)||ad(j);return M(P.from.block)&&M(P.to.block)})(N)&&(P=>!(Na(P.to.block,P.from.block)||Na(P.from.block,P.to.block)))(N))})(i,c,d,m):R.none())(t.schema,r.dom,o,t.selection.getRng()).map(i=>()=>{AC(r,o,i.from.block,i.to.block,t.schema).each(c=>{t.selection.setRng(c.toRange())})})},iz=(t,o)=>{const r=Se(o),s=Ot(wr,t);return Ei(r,Lm,s).isSome()},U5=t=>{const o=Se(t.getBody());return((r,s)=>{const i=ws(r.dom,It.fromRangeStart(s)).isNone(),c=ki(r.dom,It.fromRangeEnd(s)).isNone();return!((d,m)=>iz(d,m.startContainer)||iz(d,m.endContainer))(r,s)&&i&&c})(o,t.selection.getRng())?(r=>R.some(()=>{r.setContent(""),r.selection.setCursorLocation()}))(t):((r,s,i)=>{const c=s.getRng();return Rr(T1(r,Se(c.startContainer)),T1(r,Se(c.endContainer)),(d,m)=>wr(d,m)?R.none():R.some(()=>{c.deleteContents(),AC(r,!0,d,m,i).each(f=>{s.setRng(f.toRange())})})).getOr(R.none())})(o,t.selection,t.schema)},Zw=(t,o)=>t.selection.isCollapsed()?R.none():U5(t),Ig=(t,o,r,s,i)=>R.from(o._selectionOverrides.showCaret(t,r,s,i)),Uy=(t,o)=>t.dispatch("BeforeObjectSelected",{target:o}).isDefaultPrevented()?R.none():R.some((r=>{const s=r.ownerDocument.createRange();return s.selectNode(r),s})(o)),Zy=(t,o,r)=>o.collapsed?((s,i,c)=>{const d=Qe(1,s.getBody(),i),m=It.fromRangeStart(d),f=m.getNode();if(ff(f))return Ig(1,s,f,!m.isAtEnd(),!1);const y=m.getNode(!0);if(ff(y))return Ig(1,s,y,!1,!1);const v=Sf(s.dom.getRoot(),m.getNode());return ff(v)?Ig(1,s,v,!1,c):R.none()})(t,o,r).getOr(o):o,lz=t=>Go(t)||w1(t),cz=t=>$c(t)||k1(t),TC=(t,o,r,s,i,c)=>{Ig(s,t,c.getNode(!i),i,!0).each(d=>{if(o.collapsed){const m=o.cloneRange();i?m.setEnd(d.startContainer,d.startOffset):m.setStart(d.endContainer,d.endOffset),m.deleteContents()}else o.deleteContents();t.selection.setRng(d)}),((d,m)=>{Ao(m)&&m.data.length===0&&d.remove(m)})(t.dom,r)},qw=(t,o)=>((r,s)=>{const i=r.selection.getRng();if(!Ao(i.commonAncestorContainer))return R.none();const c=s?1:-1,d=Xn(r.getBody()),m=Ot(yt,s?d.next:d.prev),f=s?lz:cz,y=$e(c,r.getBody(),i),v=m(y),k=v&&Kd(s,v);if(!k||!ht(y,k))return R.none();if(f(k))return R.some(()=>TC(r,i,y.getNode(),c,s,k));const z=m(k);return z&&f(z)&&ht(k,z)?R.some(()=>TC(r,i,y.getNode(),c,s,z)):R.none()})(t,o),Ww=(t,o)=>{const r=t.getBody();return o?$s(r).filter(Go):Dl(r).filter($c)},Gw=t=>{const o=t.selection.getRng();return!o.collapsed&&(Ww(t,!0).exists(r=>r.isEqual(It.fromRangeStart(o)))||Ww(t,!1).exists(r=>r.isEqual(It.fromRangeEnd(o))))},Xd=Ya([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),OC=(t,o,r,s)=>Ho(o,t,r).bind(i=>{return c=i.getNode(),Xe(c)&&(Lm(Se(c))||ad(Se(c)))||((d,m,f,y,v)=>{const k=z=>v.isInline(z.nodeName.toLowerCase())&&!E(f,y,d);return Me(!m,f).fold(()=>Me(m,y).fold(Bo,k),k)})(t,o,r,i,s)?R.none():o&&_a(i.getNode())||!o&&_a(i.getNode(!0))?((d,m,f,y,v)=>{const k=v.getNode(!f);return T1(Se(m),Se(y.getNode())).map(z=>zi(d,z)?Xd.remove(z.dom):Xd.moveToElement(k)).orThunk(()=>R.some(Xd.moveToElement(k)))})(s,t,o,r,i):o&&$c(r)||!o&&Go(r)?R.some(Xd.moveToPosition(i)):R.none();var c}),NC=(t,o)=>R.from(Sf(t.getBody(),o)),dz=(t,o)=>{const r=t.selection.getNode();return NC(t,r).filter(_a).fold(()=>((s,i,c,d)=>{const m=Qe(i?1:-1,s,c),f=It.fromRangeStart(m),y=Se(s);return!i&&$c(f)?R.some(Xd.remove(f.getNode(!0))):i&&Go(f)?R.some(Xd.remove(f.getNode())):!i&&Go(f)&&Gx(y,f,d)?r2(y,f,d).map(v=>Xd.remove(v.getNode())):i&&$c(f)&&Cy(y,f,d)?c5(y,f,d).map(v=>Xd.remove(v.getNode())):((v,k,z,F)=>((N,P)=>{const M=P.getNode(!N),j=N?"after":"before";return $t(M)&&M.getAttribute("data-mce-caret")===j})(k,z)?((N,P)=>he(P)?R.none():N&&_a(P.nextSibling)?R.some(Xd.moveToElement(P.nextSibling)):!N&&_a(P.previousSibling)?R.some(Xd.moveToElement(P.previousSibling)):R.none())(k,z.getNode(!k)).orThunk(()=>OC(v,k,z,F)):OC(v,k,z,F).bind(N=>((P,M,j)=>j.fold(Y=>R.some(Xd.remove(Y)),Y=>R.some(Xd.moveToElement(Y)),Y=>E(M,Y,P)?R.none():R.some(Xd.moveToPosition(Y))))(v,z,N)))(s,i,f,d)})(t.getBody(),o,t.selection.getRng(),t.schema).map(s=>()=>s.fold(((i,c)=>d=>(i._selectionOverrides.hideFakeCaret(),_f(i,c,Se(d)),!0))(t,o),((i,c)=>d=>{const m=c?It.before(d):It.after(d);return i.selection.setRng(m.toRange()),!0})(t,o),(i=>c=>(i.selection.setRng(c.toRange()),!0))(t))),()=>R.some(Ro))},Kw=t=>{const o=t.dom,r=t.selection,s=Sf(t.getBody(),r.getNode());if(Vl(s)&&o.isBlock(s)&&o.isEmpty(s)){const i=o.create("br",{"data-mce-bogus":"1"});o.setHTML(s,""),s.appendChild(i),r.setRng(It.before(i).toRange())}return!0},Yw=(t,o)=>t.selection.isCollapsed()?dz(t,o):((r,s)=>{const i=r.selection.getNode();return _a(i)&&!Zu(i)?NC(r,i.parentNode).filter(_a).fold(()=>R.some(()=>{var c;c=Se(r.getBody()),ke(hi(c,".mce-offscreen-selection"),Xr),_f(r,s,Se(r.selection.getNode())),u2(r)}),()=>R.some(Ro)):Gw(r)?R.some(()=>{K3(r,r.selection.getRng(),Se(r.getBody()))}):R.none()})(t,o),DC=t=>t.hasOwnProperty("text"),MC=t=>t.hasOwnProperty("marker"),RC=(t,o)=>{const r=(i,c)=>{if(Ao(i))return{text:i,offset:c};{const d=o(),m=i.childNodes;return c<m.length?(i.insertBefore(d,m[c]),{marker:d,before:!0}):(i.appendChild(d),{marker:d,before:!1})}},s=r(t.endContainer,t.endOffset);return{start:r(t.startContainer,t.startOffset),end:s}},BC=t=>{var o,r;const{start:s,end:i}=t,c=new window.Range;return DC(s)?c.setStart(s.text,s.offset):MC(s)&&(s.before?c.setStartBefore(s.marker):c.setStartAfter(s.marker),(o=s.marker.parentNode)===null||o===void 0||o.removeChild(s.marker)),DC(i)?c.setEnd(i.text,i.offset):MC(i)&&(i.before?c.setEndBefore(i.marker):c.setEndAfter(i.marker),(r=i.marker.parentNode)===null||r===void 0||r.removeChild(i.marker)),c},Xw=(t,o)=>{var r;const s=t.dom,i=s.getParent(t.selection.getStart(),s.isBlock),c=s.getParent(t.selection.getEnd(),s.isBlock),d=t.getBody();if(((r=i==null?void 0:i.nodeName)===null||r===void 0?void 0:r.toLowerCase())==="div"&&i&&c&&i===d.firstChild&&c===d.lastChild&&!s.isEmpty(d)){const m=i.cloneNode(!1),f=()=>{if(o?W3(t):Jx(t),d.firstChild!==i){const y=RC(t.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(v=>m.appendChild(v)),d.appendChild(m),t.selection.setRng(BC(y))}};return R.some(f)}return R.none()},Jw=(t,o)=>t.selection.isCollapsed()?((r,s)=>{const i=It.fromRangeStart(r.selection.getRng());return Ho(s,r.getBody(),i).filter(c=>s?s5(c):T3(c)).bind(c=>I(s?0:-1,c)).map(c=>()=>r.selection.select(c))})(t,o):R.none(),Rf=Ao,av=t=>Rf(t)&&t.data[0]===Pi,FC=t=>Rf(t)&&t.data[t.data.length-1]===Pi,LC=t=>{var o;return((o=t.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Pi)},Kh=(t,o)=>t?(r=>{var s;if(Rf(r.previousSibling))return FC(r.previousSibling)||r.previousSibling.appendData(Pi),r.previousSibling;if(Rf(r))return av(r)||r.insertData(0,Pi),r;{const i=LC(r);return(s=r.parentNode)===null||s===void 0||s.insertBefore(i,r),i}})(o):(r=>{var s,i;if(Rf(r.nextSibling))return av(r.nextSibling)||r.nextSibling.insertData(0,Pi),r.nextSibling;if(Rf(r))return FC(r)||r.appendData(Pi),r;{const c=LC(r);return r.nextSibling?(s=r.parentNode)===null||s===void 0||s.insertBefore(c,r.nextSibling):(i=r.parentNode)===null||i===void 0||i.appendChild(c),c}})(o),IC=Ot(Kh,!0),sv=Ot(Kh,!1),Qw=(t,o)=>Ao(t.container())?Kh(o,t.container()):Kh(o,t.getNode()),PC=(t,o)=>{const r=o.get();return r&&t.container()===r&&yu(r)},Bf=(t,o)=>o.fold(r=>{sm(t.get());const s=IC(r);return t.set(s),R.some(It(s,s.length-1))},r=>$s(r).map(s=>{if(PC(s,t)){const i=t.get();return It(i,1)}{sm(t.get());const i=Qw(s,!0);return t.set(i),It(i,1)}}),r=>Dl(r).map(s=>{if(PC(s,t)){const i=t.get();return It(i,i.length-1)}{sm(t.get());const i=Qw(s,!1);return t.set(i),It(i,i.length-1)}}),r=>{sm(t.get());const s=sv(r);return t.set(s),R.some(It(s,1))}),ek=(t,o)=>{for(let r=0;r<t.length;r++){const s=t[r].apply(null,o);if(s.isSome())return s}return R.none()},uc=Ya([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Yh=(t,o)=>_(o,t)||t,Ff=(t,o,r)=>{const s=d2(r),i=Yh(o,s.container());return vp(t,i,s).fold(()=>ki(i,s).bind(Ot(vp,t,i)).map(c=>uc.before(c)),R.none)},uz=(t,o)=>Cu(t,o)===null,mz=(t,o,r)=>vp(t,o,r).filter(Ot(uz,o)),Z5=(t,o,r)=>{const s=Z3(r);return mz(t,o,s).bind(i=>ws(i,s).isNone()?R.some(uc.start(i)):R.none())},gz=(t,o,r)=>{const s=d2(r);return mz(t,o,s).bind(i=>ki(i,s).isNone()?R.some(uc.end(i)):R.none())},pz=(t,o,r)=>{const s=Z3(r),i=Yh(o,s.container());return vp(t,i,s).fold(()=>ws(i,s).bind(Ot(vp,t,i)).map(c=>uc.after(c)),R.none)},HC=t=>!c2(Ap(t)),qc=(t,o,r)=>ek([Ff,Z5,gz,pz],[t,o,r]).filter(HC),Ap=t=>t.fold(D,D,D,D),VC=t=>t.fold(Nt("before"),Nt("start"),Nt("end"),Nt("after")),iv=t=>t.fold(uc.before,uc.before,uc.after,uc.after),jC=t=>t.fold(uc.start,uc.start,uc.end,uc.end),q5=(t,o,r,s,i,c)=>Rr(vp(o,r,s),vp(o,r,i),(d,m)=>d!==m&&((f,y,v)=>{const k=_(y,f),z=_(v,f);return Xe(k)&&k===z})(r,d,m)?uc.after(t?d:m):c).getOr(c),W5=(t,o)=>t.fold(je,r=>{return i=o,!(VC(s=r)===VC(i)&&Ap(s)===Ap(i));var s,i}),Md=(t,o)=>t?o.fold(pn(R.some,uc.start),R.none,pn(R.some,uc.after),R.none):o.fold(R.none,pn(R.some,uc.before),R.none,pn(R.some,uc.end)),Nu=(t,o,r)=>{const s=t?1:-1;return o.setRng(It(r.container(),r.offset()+s).toRange()),o.getSel().modify("move",t?"forward":"backward","word"),!0};var Ym;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(Ym||(Ym={}));const qy=(t,o)=>t===-1?We(o):o,$C=(t,o,r)=>t===1?o.next(r):o.prev(r),tk=(t,o,r,s)=>ts(s.getNode(o===1))?Ym.Br:E(r,s)===!1?Ym.Block:Ym.Wrap,fz=(t,o,r,s)=>{const i=Xn(r);let c=s;const d=[];for(;c;){const m=$C(o,i,c);if(!m)break;if(ts(m.getNode(!1)))return o===1?{positions:qy(o,d).concat([m]),breakType:Ym.Br,breakAt:R.some(m)}:{positions:qy(o,d),breakType:Ym.Br,breakAt:R.some(m)};if(m.isVisible()){if(t(c,m)){const f=tk(0,o,c,m);return{positions:qy(o,d),breakType:f,breakAt:R.some(m)}}d.push(m),c=m}else c=m}return{positions:qy(o,d),breakType:Ym.Eol,breakAt:R.none()}},UC=(t,o,r,s)=>o(r,s).breakAt.map(i=>{const c=o(r,i).positions;return t===-1?c.concat(i):[i].concat(c)}).getOr([]),Xh=(t,o)=>xe(t,(r,s)=>r.fold(()=>R.some(s),i=>Rr(xt(i.getClientRects()),xt(s.getClientRects()),(c,d)=>{const m=Math.abs(o-c.left);return Math.abs(o-d.left)<=m?s:i}).or(r)),R.none()),ok=(t,o)=>xt(o.getClientRects()).bind(r=>Xh(t,r.left)),Lf=Ot(fz,It.isAbove,-1),Jh=Ot(fz,It.isBelow,1),ZC=Ot(UC,-1,Lf),Wy=Ot(UC,1,Jh),hz=(t,o)=>Lf(t,o).breakAt.isNone(),bz=(t,o)=>Jh(t,o).breakAt.isNone(),Xm=(t,o)=>ok(ZC(t,o),o),Rd=(t,o)=>ok(Wy(t,o),o),lv=_a,qC=(t,o)=>Math.abs(t.left-o),id=(t,o)=>Math.abs(t.right-o),Ga=(t,o)=>Yr(t,(r,s)=>{const i=Math.min(qC(r,o),id(r,o)),c=Math.min(qC(s,o),id(s,o));return c===i&&ea(s,"node")&&lv(s.node)||c<i?s:r}),G5=t=>{const o=r=>No(r,s=>{const i=Ju(s);return i.node=t,i});if($t(t))return o(t.getClientRects());if(Ao(t)){const r=t.ownerDocument.createRange();return r.setStart(t,0),r.setEnd(t,t.data.length),o(r.getClientRects())}return[]},If=t=>ot(t,G5);var Jm;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(Jm||(Jm={}));const WC=(t,o,r,s,i,c)=>{let d=0;const m=[],f=k=>{let z=If([k]);t===Jm.Up&&(z=z.reverse());for(let F=0;F<z.length;F++){const N=z[F];if(!r(N,y)){if(m.length>0&&o(N,Ls(m))&&d++,N.line=d,i(N))return!0;m.push(N)}}return!1},y=Ls(c.getClientRects());if(!y)return m;const v=c.getNode();return v&&(f(v),((k,z,F,N)=>{let P=N;for(;P=b(P,k,dh,z);)if(F(P))return})(t,s,f,v)),m},GC=Ot(WC,Jm.Up,ic,vg),KC=Ot(WC,Jm.Down,vg,ic),yz=t=>Ls(t.getClientRects()),nk=t=>o=>((r,s)=>s.line>r)(t,o),YC=t=>o=>((r,s)=>s.line===r)(t,o),Pg=(t,o)=>{t.selection.setRng(o),ky(t,t.selection.getRng())},rk=(t,o,r)=>R.some(Zy(t,o,r)),ak=(t,o,r,s,i,c)=>{const d=o===1,m=Xn(t.getBody()),f=Ot(yt,d?m.next:m.prev),y=d?s:i;if(!r.collapsed){const N=Db(r);if(c(N))return Ig(o,t,N,o===-1,!1);if(Gw(t)){const P=r.cloneRange();return P.collapse(o===-1),R.from(P)}}const v=$e(o,t.getBody(),r);if(y(v))return Uy(t,v.getNode(!d));let k=f(v);const z=z0(r);if(!k)return z?R.some(r):R.none();if(k=Kd(d,k),y(k))return Ig(o,t,k.getNode(!d),d,!1);const F=f(k);return F&&y(F)&&ht(k,F)?Ig(o,t,F.getNode(!d),d,!1):z?rk(t,k.toRange(),!1):R.none()},XC=(t,o,r,s,i,c)=>{const d=$e(o,t.getBody(),r),m=Ls(d.getClientRects()),f=o===Jm.Down,y=t.getBody();if(!m)return R.none();if(Gw(t)){const P=f?It.fromRangeEnd(r):It.fromRangeStart(r);return(f?Rd:Xm)(y,P).orThunk(()=>R.from(P)).map(M=>M.toRange())}const v=(f?KC:GC)(y,nk(1),d),k=Ue(v,YC(1)),z=m.left,F=Ga(k,z);if(F&&c(F.node)){const P=Math.abs(z-F.left),M=Math.abs(z-F.right);return Ig(o,t,F.node,P<M,!1)}let N;if(N=s(d)?d.getNode():i(d)?d.getNode(!0):Db(r),N){const P=((j,Y,X,ie)=>{const ne=Xn(Y);let we,Ye,Ve,at;const Mt=[];let Ae=0;j===Jm.Down?(we=ne.next,Ye=vg,Ve=ic,at=It.after(ie)):(we=ne.prev,Ye=ic,Ve=vg,at=It.before(ie));const Ze=yz(at);do{if(!at.isVisible())continue;const et=yz(at);if(Ve(et,Ze))continue;Mt.length>0&&Ye(et,Ls(Mt))&&Ae++;const jt=Ju(et);if(jt.position=at,jt.line=Ae,X(jt))return Mt;Mt.push(jt)}while(at=we(at));return Mt})(o,y,nk(1),N);let M=Ga(Ue(P,YC(1)),z);if(M||(M=Ls(Ue(P,YC(0))),M))return rk(t,M.position.toRange(),!1)}return k.length===0?Gy(t,f).filter(f?i:s).map(P=>Zy(t,P.toRange(),!1)):R.none()},Gy=(t,o)=>{const r=t.selection.getRng(),s=o?It.fromRangeEnd(r):It.fromRangeStart(r),i=(c=s.container(),d=t.getBody(),Ei(Se(c),m=>fx(m.dom),m=>m.dom===d).map(m=>m.dom).getOr(d));var c,d;if(o){const m=Jh(i,s);return oo(m.positions)}{const m=Lf(i,s);return xt(m.positions)}},vz=(t,o,r)=>Gy(t,o).filter(r).exists(s=>(t.selection.setRng(s.toRange()),!0)),sk=(t,o)=>{const r=t.dom.createRng();r.setStart(o.container(),o.offset()),r.setEnd(o.container(),o.offset()),t.selection.setRng(r)},xz=(t,o)=>{t?o.setAttribute("data-mce-selected","inline-boundary"):o.removeAttribute("data-mce-selected")},wz=(t,o,r)=>Bf(o,r).map(s=>(sk(t,s),r)),K5=(t,o,r)=>{const s=t.getBody(),i=((c,d,m)=>{const f=It.fromRangeStart(c);if(c.collapsed)return f;{const y=It.fromRangeEnd(c);return m?ws(d,y).getOr(y):ki(d,f).getOr(f)}})(t.selection.getRng(),s,r);return((c,d,m,f)=>{const y=Kd(c,f),v=qc(d,m,y);return qc(d,m,y).bind(Ot(Md,c)).orThunk(()=>((k,z,F,N,P)=>{const M=Kd(k,P);return Ho(k,F,M).map(Ot(Kd,k)).fold(()=>N.map(iv),j=>qc(z,F,j).map(Ot(q5,k,z,F,M,j)).filter(Ot(W5,N))).filter(HC)})(c,d,m,v,f))})(r,Ot(Cf,t),s,i).bind(c=>wz(t,o,c))},JC=(t,o,r)=>!!lp(t)&&K5(t,o,r).isSome(),kz=(t,o,r)=>!!lp(o)&&((s,i)=>{const c=i.selection.getRng(),d=s?It.fromRangeEnd(c):It.fromRangeStart(c);return!!(m=>ae(m.selection.getSel().modify))(i)&&(s&&Im(d)?Nu(!0,i.selection,d):!(s||!S0(d))&&Nu(!1,i.selection,d))})(t,o),Y5=t=>{const o=Tr(null),r=Ot(Cf,t);return t.on("NodeChange",s=>{lp(t)&&(((i,c,d)=>{const m=No(hi(Se(c.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),f=Ue(m,i),y=Ue(d,i);ke(dt(f,y),Ot(xz,!1)),ke(dt(y,f),Ot(xz,!0))})(r,t.dom,s.parents),((i,c)=>{const d=c.get();if(i.selection.isCollapsed()&&!i.composing&&d){const m=It.fromRangeStart(i.selection.getRng());It.isTextPosition(m)&&!(f=>Im(f)||S0(f))(m)&&(sk(i,e1(d,m)),c.set(null))}})(t,o),((i,c,d,m)=>{if(c.selection.isCollapsed()){const f=Ue(m,i);ke(f,y=>{const v=It.fromRangeStart(c.selection.getRng());qc(i,c.getBody(),v).bind(k=>wz(c,d,k))})}})(r,t,o,s.parents))}),o},_z=Ot(kz,!0),X5=Ot(kz,!1),cv=(t,o,r)=>{if(lp(t)){const s=Gy(t,o).getOrThunk(()=>{const i=t.selection.getRng();return o?It.fromRangeEnd(i):It.fromRangeStart(i)});return qc(Ot(Cf,t),t.getBody(),s).exists(i=>{const c=iv(i);return Bf(r,c).exists(d=>(sk(t,d),!0))})}return!1},Cz=(t,o)=>r=>Bf(o,r).map(s=>()=>sk(t,s)),Sz=(t,o,r,s)=>{const i=t.getBody(),c=Ot(Cf,t);t.undoManager.ignore(()=>{t.selection.setRng(((d,m)=>{const f=document.createRange();return f.setStart(d.container(),d.offset()),f.setEnd(m.container(),m.offset()),f})(r,s)),Jx(t),qc(c,i,It.fromRangeStart(t.selection.getRng())).map(jC).bind(Cz(t,o)).each(so)}),t.nodeChanged()},ik=(t,o,r)=>{if(t.selection.isCollapsed()&&lp(t)){const s=It.fromRangeStart(t.selection.getRng());return((i,c,d,m)=>{const f=((k,z)=>_(z,k)||k)(i.getBody(),m.container()),y=Ot(Cf,i),v=qc(y,f,m);return v.bind(k=>d?k.fold(Nt(R.some(jC(k))),R.none,Nt(R.some(iv(k))),R.none):k.fold(R.none,Nt(R.some(iv(k))),R.none,Nt(R.some(jC(k))))).map(Cz(i,c)).getOrThunk(()=>{const k=ei(d,f,m),z=k.bind(F=>qc(y,f,F));return Rr(v,z,()=>vp(y,f,m).bind(F=>(N=>Rr($s(N),Dl(N),(P,M)=>{const j=Kd(!0,P),Y=Kd(!1,M);return ki(N,j).forall(X=>X.isEqual(Y))}).getOr(!0))(F)?R.some(()=>{_f(i,d,Se(F))}):R.none())).getOrThunk(()=>z.bind(()=>k.map(F=>()=>{d?Sz(i,c,m,F):Sz(i,c,F,m)})))})})(t,o,r,s)}return R.none()},Jd=(t,o)=>{const r=Se(t.getBody()),s=Se(t.selection.getStart()),i=Zm(s,r);return ye(i,o).fold(Nt(i),c=>i.slice(0,c))},J5=t=>Qa(t)===1,QC=(t,o)=>{const r=Ot(dE,t);return ot(o,s=>r(s)?[s.dom]:[])},lk=t=>{const o=(r=>Jd(r,s=>r.schema.isBlock(pr(s))))(t);return QC(t,o)},e4=(t,o)=>{const r=Ue((s=>Jd(s,i=>s.schema.isBlock(pr(i))||(c=>Qa(c)>1)(i)))(t),J5);return oo(r).bind(s=>{const i=It.fromRangeStart(t.selection.getRng());return Yl(o,i,s.dom)&&!Cx(s)?R.some(()=>((c,d,m,f)=>{const y=QC(d,f);if(y.length===0)_f(d,c,m);else{const v=A2(m.dom,y);d.selection.setRng(v.toRange())}})(o,t,s,r)):R.none()})},t4=(t,o)=>{const r=t.selection.getStart(),s=((i,c)=>{const d=c.parentElement;return ts(c)&&!Te(d)&&i.dom.isEmpty(d)})(t,r)||Cx(Se(r))?A2(r,o):((i,c)=>{const{caretContainer:d,caretPosition:m}=z2(c);return i.insertNode(d.dom),m})(t.selection.getRng(),o);t.selection.setRng(s.toRange())},o4=t=>Ao(t.startContainer),Ez=t=>{const o=t.selection.getRng();return(r=>r.startOffset===0&&o4(r))(o)&&((r,s)=>{const i=s.startContainer.parentElement;return!Te(i)&&dE(r,Se(i))})(t,o)&&(r=>(s=>(i=>{const c=i.startContainer.parentNode,d=i.endContainer.parentNode;return!Te(c)&&!Te(d)&&c.isEqualNode(d)})(s)&&(i=>{const c=i.endContainer;return i.endOffset===(Ao(c)?c.length:c.childNodes.length)})(s))(r)||(s=>!s.endContainer.isEqualNode(s.commonAncestorContainer))(r))(o)},ck=(t,o)=>t.selection.isCollapsed()?e4(t,o):(r=>{if(Ez(r)){const s=lk(r);return R.some(()=>{Jx(r),((i,c)=>{const d=dt(c,lk(i));d.length>0&&t4(i,d)})(r,s)})}return R.none()})(t),Oc=t=>((o=>{const r=o.selection.getRng();return r.collapsed&&(o4(r)||o.dom.isEmpty(r.startContainer))&&!(s=>{return i=Se(s.selection.getStart()),c=s.schema,Cm(i,d=>lc(d.dom),d=>c.isBlock(pr(d)));var i,c})(o)})(t)&&t4(t,[]),!0),n4=(t,o,r)=>Xe(r)?R.some(()=>{t._selectionOverrides.hideFakeCaret(),_f(t,o,Se(r))}):R.none(),dv=(t,o)=>t.selection.isCollapsed()?((r,s)=>{const i=s?w1:k1,c=$e(s?1:-1,r.getBody(),r.selection.getRng());return i(c)?n4(r,s,c.getNode(!s)):R.from(Kd(s,c)).filter(d=>i(d)&&ht(c,d)).bind(d=>n4(r,s,d.getNode(!s)))})(t,o):((r,s)=>{const i=r.selection.getNode();return wc(i)?n4(r,s,i):R.none()})(t,o),r4=t=>Po(t??"").getOr(0),dk=(t,o)=>(t||pr(o)==="table"?"margin":"padding")+(Qi(o,"direction")==="rtl"?"-right":"-left"),Du=t=>{const o=uv(t);return!t.mode.isReadOnly()&&(o.length>1||((r,s)=>_t(s,i=>{const c=dk(am(r),i),d=au(i,c).map(r4).getOr(0);return r.dom.getContentEditable(i.dom)!=="false"&&d>0}))(t,o))},uk=t=>sh(t)||ad(t),uv=t=>Ue(Ks(t.selection.getSelectedBlocks()),o=>!uk(o)&&!(r=>rn(r).exists(uk))(o)&&Jr(o,r=>Vl(r.dom)||_a(r.dom)).exists(r=>Vl(r.dom))),a4=(t,o)=>{var r,s;if(t.mode.isReadOnly())return;const{dom:i}=t,c=Ia(t),d=(s=(r=/[a-z%]+$/i.exec(c))===null||r===void 0?void 0:r[0])!==null&&s!==void 0?s:"px",m=r4(c),f=am(t);ke(uv(t),y=>{((v,k,z,F,N,P)=>{const M=dk(z,Se(P)),j=r4(v.getStyle(P,M));if(k==="outdent"){const Y=Math.max(0,j-F);v.setStyle(P,M,Y?Y+N:"")}else{const Y=j+F+N;v.setStyle(P,M,Y)}})(i,o,f,m,d,y.dom)})},zz=t=>a4(t,"outdent"),mk=t=>{if(t.selection.isCollapsed()&&Du(t)){const o=t.dom,r=t.selection.getRng(),s=It.fromRangeStart(r),i=o.getParent(r.startContainer,o.isBlock);if(i!==null&&qx(Se(i),s,t.schema))return R.some(()=>zz(t))}return R.none()},s4=(t,o,r)=>Mn([mk,Yw,qw,(s,i)=>ik(s,o,i),rv,nw,Jw,dv,Zw,ck,Xw],s=>s(t,r)).filter(s=>t.selection.isEditable()),gk=t=>t.touches===void 0||t.touches.length!==1?R.none():R.some(t.touches[0]),pk=(t,o)=>on(t,o.nodeName),Qh=(t,o)=>!!Ao(o)||!!$t(o)&&!(pk(t.getBlockElements(),o)||Wd(o)||Lc(t,o)||el(o)),Az=(t,o)=>{if(Ao(o)){if(o.data.length===0)return!0;if(/^\s+$/.test(o.data))return!o.nextSibling||pk(t,o.nextSibling)||el(o.nextSibling)}return!1},fk=t=>t.dom.create(As(t),nl(t)),i4=(t,o,r)=>{const s=Se(fk(t)),i=yg();Aa(s,i),r(o,s);const c=document.createRange();return c.setStartBefore(i.dom),c.setEndBefore(i.dom),c},Tz=t=>o=>(" "+o.attr("class")+" ").indexOf(t)!==-1,l4=(t,o,r)=>function(s){const i=arguments,c=i[i.length-2],d=c>0?o.charAt(c-1):"";if(d==='"')return s;if(d===">"){const m=o.lastIndexOf("<",c);if(m!==-1&&o.substring(m,c).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+r+'" data-mce-content="'+t.dom.encode(i[0])+'">'+t.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},Pf=(t,o)=>_t(t,r=>{const s=o.match(r);return s!==null&&s[0].length===o.length}),Oz=(t,o)=>{o.hasAttribute("data-mce-caret")&&(E0(o),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(o))},Q5=(t,o)=>{const r=(s=>fi(Se(s.getBody()),"*[data-mce-caret]").map(i=>i.dom).getOrNull())(t);if(r)return o.type==="compositionstart"?(o.preventDefault(),o.stopPropagation(),void Oz(t,r)):void(pl(r)&&(Oz(t,r),t.undoManager.add()))},mv=_a,c4=(t,o,r)=>{const s=Xn(t.getBody()),i=Ot(yt,o===1?s.next:s.prev);if(r.collapsed){const c=t.dom.getParent(r.startContainer,"PRE");if(!c)return;if(!i(It.fromRangeStart(r))){const d=Se((m=>{const f=m.dom.create(As(m));return f.innerHTML='<br data-mce-bogus="1">',f})(t));o===1?xc(Se(c),d):ua(Se(c),d),t.selection.select(d.dom,!0),t.selection.collapse()}}},d4=(t,o)=>((r,s)=>{const i=s?1:-1,c=r.selection.getRng();return((d,m,f)=>ak(m,d,f,Go,$c,mv))(i,r,c).orThunk(()=>(c4(r,i,c),R.none()))})(t,((r,s)=>{const i=s?r.getEnd(!0):r.getStart(!0);return c2(i)?!s:s})(t.selection,o)).exists(r=>(Pg(t,r),!0)),u4=(t,o)=>((r,s)=>{const i=s?1:-1,c=r.selection.getRng();return((d,m,f)=>XC(m,d,f,y=>Go(y)||O3(y),y=>$c(y)||o2(y),mv))(i,r,c).orThunk(()=>(c4(r,i,c),R.none()))})(t,o).exists(r=>(Pg(t,r),!0)),gv=(t,o)=>vz(t,o,o?$c:Go),pv=(t,o)=>Ww(t,!o).map(r=>{const s=r.toRange(),i=t.selection.getRng();return o?s.setStart(i.startContainer,i.startOffset):s.setEnd(i.endContainer,i.endOffset),s}).exists(r=>(Pg(t,r),!0)),Nz=t=>co(["figcaption"],pr(t)),Dz=(t,o)=>!!t.selection.isCollapsed()&&((r,s)=>{const i=Se(r.getBody()),c=It.fromRangeStart(r.selection.getRng());return((d,m,f)=>{const y=Ot(wr,m);return Jr(Se(d.container()),v=>f.isBlock(pr(v)),y).filter(Nz)})(c,i,r.schema).exists(()=>{if(((d,m,f)=>m?bz(d.dom,f):hz(d.dom,f))(i,s,c)){const d=i4(r,i,s?Aa:er);return r.selection.setRng(d),!0}return!1})})(t,o),fv=(t,o)=>((r,s)=>s?R.from(r.dom.getParent(r.selection.getNode(),"details")).map(i=>((c,d)=>{const m=c.selection.getRng(),f=It.fromRangeStart(m);return!(c.getBody().lastChild!==d||!bz(d,f)||(c.execCommand("InsertNewBlockAfter"),0))})(r,i)).getOr(!1):R.from(r.dom.getParent(r.selection.getNode(),"summary")).bind(i=>R.from(r.dom.getParent(i,"details")).map(c=>((d,m,f)=>{const y=d.selection.getRng(),v=It.fromRangeStart(y);return!(d.getBody().firstChild!==m||!hz(f,v)||(d.execCommand("InsertNewBlockBefore"),0))})(r,c,i))).getOr(!1))(t,o),m4={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},hv=(t,o)=>o.keyCode===t.keyCode&&o.shiftKey===t.shiftKey&&o.altKey===t.altKey&&o.ctrlKey===t.ctrlKey&&o.metaKey===t.metaKey,nr=(t,...o)=>()=>t.apply(null,o),eb=(t,o)=>Ie(((r,s)=>ot((i=>No(i,c=>({...m4,...c})))(r),i=>hv(i,s)?[i]:[]))(t,o),r=>r.action()),g4=(t,o)=>Mn(((r,s)=>ot((i=>No(i,c=>({...m4,...c})))(r),i=>hv(i,s)?[i]:[]))(t,o),r=>r.action()),Ky=(t,o)=>{const r=o?1:-1,s=t.selection.getRng();return ak(t,r,s,w1,k1,wc).exists(i=>(Pg(t,i),!0))},mm=(t,o)=>{const r=o?1:-1,s=t.selection.getRng();return XC(t,r,s,w1,k1,wc).exists(i=>(Pg(t,i),!0))},Mz=(t,o)=>vz(t,o,o?k1:w1),hk=(t,o,r)=>ot(ha(t),s=>Ri(s,o)?r(s)?[s]:[]:hk(s,o,r)),Us=(t,o)=>Pl(t,"table",o),bk=Ya([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Hf={...bk,none:t=>bk.none(t)},Qm=(t,o,r,s,i=je)=>{const c=s===1;if(!c&&r<=0)return Hf.first(t[0]);if(c&&r>=t.length-1)return Hf.last(t[t.length-1]);{const d=r+s,m=t[d];return i(m)?Hf.middle(o,m):Qm(t,o,d,s,i)}},p4=(t,o)=>Us(t,o).bind(r=>{const s=hk(r,"th,td",je);return ye(s,i=>wr(t,i)).map(i=>({index:i,all:s}))}),yk=gt("image"),f4=gt("event"),Tp=t=>o=>{o[f4]=t},Rz=Tp(0),e6=Tp(2),Yy=Tp(1),t6=t=>{const o=t;return R.from(o[f4]).exists(r=>r===0)},Op=gt("mode"),vk=t=>o=>{o[Op]=t},Np=(t,o)=>vk(o)(t),Bz=vk(0),Bd=vk(2),tb=vk(1),Xy=t=>o=>{const r=o;return R.from(r[Op]).exists(s=>s===t)},Vf=Xy(0),Fz=Xy(1),Jy=["none","copy","link","move"],o6=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],Qd=()=>{const t=new window.DataTransfer;let o="move",r="all";const s={get dropEffect(){return o},set dropEffect(i){co(Jy,i)&&(o=i)},get effectAllowed(){return r},set effectAllowed(i){t6(s)&&co(o6,i)&&(r=i)},get items(){return((i,c)=>({...c,get length(){return c.length},add:(d,m)=>{if(Vf(i)){if(!Je(d))return c.add(d);if(!wo(m))return c.add(d,m)}return null},remove:d=>{Vf(i)&&c.remove(d)},clear:()=>{Vf(i)&&c.clear()}}))(s,t.items)},get files(){return Fz(s)?Object.freeze({length:0,item:i=>null}):t.files},get types(){return t.types},setDragImage:(i,c,d)=>{var m;Vf(s)&&(m={image:i,x:c,y:d},s[yk]=m,t.setDragImage(i,c,d))},getData:i=>Fz(s)?"":t.getData(i),setData:(i,c)=>{Vf(s)&&t.setData(i,c)},clearData:i=>{Vf(s)&&t.clearData(i)}};return Bz(s),s},bv=(t,o)=>t.setData("text/html",o),h4=(t,o,r,s,i)=>{const c=hi(Se(r),"td,th,caption").map(m=>m.dom),d=Ue(((m,f)=>ot(f,y=>{const v=((k,z)=>({left:k.left-z,top:k.top-z,right:k.right+-2,bottom:k.bottom+-2,width:k.width+z,height:k.height+z}))(Ju(y.getBoundingClientRect()),-1);return[{x:v.left,y:m(v),cell:y},{x:v.right,y:m(v),cell:y}]}))(t,c),m=>o(m,i));return((m,f,y)=>xe(m,(v,k)=>v.fold(()=>R.some(k),z=>{const F=Math.sqrt(Math.abs(z.x-f)+Math.abs(z.y-y)),N=Math.sqrt(Math.abs(k.x-f)+Math.abs(k.y-y));return R.some(N<F?k:z)}),R.none()))(d,s,i).map(m=>m.cell)},b4=Ot(h4,t=>t.bottom,(t,o)=>t.y<o),y4=Ot(h4,t=>t.top,(t,o)=>t.y>o),jf=(t,o,r)=>{const s=t(o,r);return(i=>i.breakType===Ym.Wrap&&i.positions.length===0)(s)||!ts(r.getNode())&&(i=>i.breakType===Ym.Br&&i.positions.length===1)(s)?!((i,c,d)=>d.breakAt.exists(m=>i(c,m).breakAt.isSome()))(t,o,s):s.breakAt.isNone()},v4=Ot(jf,Lf),n6=Ot(jf,Jh),r6=(t,o,r,s)=>{const i=t.selection.getRng(),c=o?1:-1;return!(!sy()||!((d,m,f)=>{const y=It.fromRangeStart(m);return hl(!d,f).exists(v=>v.isEqual(y))})(o,i,r)||(Ig(c,t,r,!o,!1).each(d=>{Pg(t,d)}),0))},Lz=(t,o,r)=>{const s=((c,d)=>{const m=d.getNode(c);return Rs(m)?R.some(m):R.none()})(!!o,r),i=o===!1;s.fold(()=>Pg(t,r.toRange()),c=>hl(i,t.getBody()).filter(d=>d.isEqual(r)).fold(()=>Pg(t,r.toRange()),d=>((m,f,y)=>{f.undoManager.transact(()=>{const v=m?xc:ua,k=i4(f,Se(y),v);Pg(f,k)})})(o,t,c)))},a6=(t,o,r,s)=>{const i=t.selection.getRng(),c=It.fromRangeStart(i),d=t.getBody();if(!o&&v4(s,c)){const m=((f,y,v)=>((k,z)=>xt(z.getClientRects()).bind(F=>b4(k,F.left,F.top)).bind(F=>{return ok(Dl(N=F).map(P=>Lf(N,P).positions.concat(P)).getOr([]),z);var N}))(y,v).orThunk(()=>xt(v.getClientRects()).bind(k=>Xh(ZC(f,It.before(y)),k.left))).getOr(It.before(y)))(d,r,c);return Lz(t,o,m),!0}if(o&&n6(s,c)){const m=((f,y,v)=>((k,z)=>oo(z.getClientRects()).bind(F=>y4(k,F.left,F.top)).bind(F=>{return ok($s(N=F).map(P=>[P].concat(Jh(N,P).positions)).getOr([]),z);var N}))(y,v).orThunk(()=>xt(v.getClientRects()).bind(k=>Xh(Wy(f,It.after(y)),k.left))).getOr(It.after(y)))(d,r,c);return Lz(t,o,m),!0}return!1},ob=(t,o,r)=>R.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(s=>R.from(t.dom.getParent(s,"table")).map(i=>r(t,o,i,s))).getOr(!1),gm=(t,o)=>ob(t,o,r6),x4=(t,o)=>ob(t,o,a6),Iz=(t,o,r)=>r.fold(R.none,R.none,(s,i)=>{return(c=i,wm(c,Zi)).map(d=>(m=>{const f=bd.exact(m,0,m,0);return js(f)})(d));var c},s=>t.mode.isReadOnly()||!s6(s)?R.none():(t.execCommand("mceTableInsertRowAfter"),Pz(t,o,s))),s6=t=>Jr(t,de("table")).exists(td),Pz=(t,o,r)=>{return Iz(t,o,(i=Hz,p4(s=r,void 0).fold(()=>Hf.none(s),c=>Qm(c.all,s,c.index,1,i))));var s,i},i6=(t,o,r)=>{return Iz(t,o,(i=Hz,p4(s=r,void 0).fold(()=>Hf.none(),c=>Qm(c.all,s,c.index,-1,i))));var s,i},Hz=t=>td(t)||tc(t,l6),l6=t=>Xi(t)&&td(t),Vz=(t,o)=>{const r=["table","li","dl"],s=Se(t.getBody()),i=d=>{const m=pr(d);return wr(d,s)||co(r,m)},c=t.selection.getRng();return((d,m)=>((f,y,v=Bo)=>v(y)?R.none():co(f,pr(y))?R.some(y):ma(y,f.join(","),k=>Ri(k,"table")||v(k)))(["td","th"],d,m))(Se(o?c.endContainer:c.startContainer),i).map(d=>(Us(d,i).each(m=>{t.model.table.clearSelectedCells(m.dom)}),t.selection.collapse(!o),(o?Pz:i6)(t,i,d).each(m=>{t.selection.setRng(m)}),!0)).getOr(!1)},eg=(t,o)=>({container:t,offset:o}),xk=Za.DOM,wk=t=>o=>t===o?-1:0,w4=(t,o,r)=>{if(Ao(t)&&o>=0)return R.some(eg(t,o));{const s=bg(xk);return R.from(s.backwards(t,o,wk(t),r)).map(i=>eg(i.container,i.container.data.length))}},k4=(t,o,r)=>{if(!Ao(t))return R.none();const s=t.data;if(o>=0&&o<=s.length)return R.some(eg(t,o));{const i=bg(xk);return R.from(i.backwards(t,o,wk(t),r)).bind(c=>{const d=c.container.data;return k4(c.container,o+d.length,r)})}},jz=(t,o,r)=>{if(!Ao(t))return R.none();const s=t.data;if(o<=s.length)return R.some(eg(t,o));{const i=bg(xk);return R.from(i.forwards(t,o,wk(t),r)).bind(c=>jz(c.container,o-s.length,r))}},_4=(t,o,r,s,i)=>{const c=bg(t,(d=>m=>d.isBlock(m)||co(["BR","IMG","HR","INPUT"],m.nodeName)||d.getContentEditable(m)==="false")(t));return R.from(c.backwards(o,r,s,i))},Dp=t=>t!==""&&`  \uFEFF\f
\r	\v`.indexOf(t)!==-1,c6=(t,o)=>t.substring(o.length),C4=(t,o,r,s=!1)=>{if(!(i=o).collapsed||!Ao(i.startContainer))return R.none();var i;const c={text:"",offset:0},d=t.getParent(o.startContainer,t.isBlock)||t.getRoot();return _4(t,o.startContainer,o.startOffset,(m,f,y)=>(c.text=y+c.text,c.offset+=f,((v,k,z,F=!1)=>{let N;const P=z.charAt(0);for(N=k-1;N>=0;N--){const M=v.charAt(N);if(!F&&Dp(M))return R.none();if(P===M&&ko(v,z,N,k))break}return R.some(N)})(c.text,c.offset,r,s).getOr(f)),d).bind(m=>{const f=o.cloneRange();if(f.setStart(m.container,m.offset),f.setEnd(o.endContainer,o.endOffset),f.collapsed)return R.none();const y=(v=>Wl(v.toString().replace(/\u00A0/g," ")))(f);return y.lastIndexOf(r)!==0?R.none():R.some({text:c6(y,r),range:f,trigger:r})})},kk=t=>{if((o=>o.nodeType===3)(t))return eg(t,t.data.length);{const o=t.childNodes;return o.length>0?kk(o[o.length-1]):eg(t,o.length)}},S4=(t,o)=>{const r=t.childNodes;return r.length>0&&o<r.length?S4(r[o],0):r.length>0&&(s=>s.nodeType===1)(t)&&r.length===o?kk(r[r.length-1]):eg(t,o)},_k=(t,o,r,s={})=>{var i;const c=o(),d=(i=t.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",m=Ue(c.lookupByTrigger(r.trigger),y=>r.text.length>=y.minChars&&y.matches.getOrThunk(()=>(v=>k=>{const z=S4(k.startContainer,k.startOffset);return!((F,N)=>{var P;const M=(P=F.getParent(N.container,F.isBlock))!==null&&P!==void 0?P:F.getRoot();return _4(F,N.container,N.offset,(j,Y)=>Y===0?-1:Y,M).filter(j=>{const Y=j.container.data.charAt(j.offset-1);return!Dp(Y)}).isSome()})(v,z)})(t.dom))(r.range,d,r.text));if(m.length===0)return R.none();const f=Promise.all(No(m,y=>y.fetch(r.text,y.maxResults,s).then(v=>({matchText:r.text,items:v,columns:y.columns,onAction:y.onAction,highlightOn:y.highlightOn}))));return R.some({lookupData:f,context:r})};var Hg;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Hg||(Hg={}));const E4=(t,o,r)=>t.stype===Hg.Error?o(t.serror):r(t.svalue),yv=t=>({stype:Hg.Value,svalue:t}),Ck=t=>({stype:Hg.Error,serror:t}),d6=E4,$z=t=>bt(t)&&Dt(t).length>100?" removed due to size":JSON.stringify(t,null,2),Uz=(t,o)=>Ck([{path:t,getErrorInfo:o}]),Zz=t=>({extract:(o,r)=>{return s=t(r),i=c=>((d,m)=>Uz(d,Nt(m)))(o,c),s.stype===Hg.Error?i(s.serror):s;var s,i},toString:Nt("val")}),u6=Zz(yv),m6=Nt(u6),z4=(t,o)=>Zz(r=>{const s=typeof r;return t(r)?yv(r):Ck(`Expected type: ${o} but got: ${s}`)}),g6=z4(pt,"number"),qz=z4(Je,"string"),Wz=z4(ae,"function"),Gz=t=>({tag:"defaultedThunk",process:Nt(t)}),Kz=(t,o,r)=>{switch(t.tag){case"field":return o(t.key,t.newKey,t.presence,t.prop);case"custom":return r(t.newKey,t.instantiator)}},p6=t=>{const o=(s=>{const i=[],c=[];return ke(s,d=>{E4(d,m=>c.push(m),m=>i.push(m))}),{values:i,errors:c}})(t);return o.errors.length>0?(r=o.errors,pn(Ck,Ee)(r)):yv(o.values);var r},Yz=(t,o,r,s)=>s(Cn(t,o).getOrThunk(()=>r(t))),f6=(t,o,r,s,i)=>{const c=m=>i.extract(o.concat([s]),m),d=m=>m.fold(()=>yv(R.none()),f=>{return v=i.extract(o.concat([s]),f),k=R.some,v.stype===Hg.Value?{stype:Hg.Value,svalue:k(v.svalue)}:v;var v,k});switch(t.tag){case"required":return((m,f,y,v)=>Cn(f,y).fold(()=>((k,z,F)=>Uz(k,()=>'Could not find valid *required* value for "'+z+'" in '+$z(F)))(m,y,f),v))(o,r,s,c);case"defaultedThunk":return Yz(r,s,t.process,c);case"option":return((m,f,y)=>y(Cn(m,f)))(r,s,d);case"defaultedOptionThunk":return((m,f,y,v)=>v(Cn(m,f).map(k=>k===!0?y(m):k)))(r,s,t.process,d);case"mergeWithThunk":return Yz(r,s,Nt({}),m=>{const f=Io(t.process(r),m);return c(f)})}},h6=t=>({extract:(o,r)=>((s,i,c)=>{const d={},m=[];for(const f of c)Kz(f,(y,v,k,z)=>{const F=f6(k,s,i,y,z);d6(F,N=>{m.push(...N)},N=>{d[v]=N})},(y,v)=>{d[y]=v(i)});return m.length>0?Ck(m):yv(d)})(o,r,t),toString:()=>`obj{
`+No(t,r=>Kz(r,(s,i,c,d)=>s+" -> "+d.toString(),(s,i)=>"state("+s+")")).join(`
`)+"}"}),Xz=(t,o,r)=>{return s=((i,c,d)=>((m,f)=>m.stype===Hg.Error?{stype:Hg.Error,serror:f(m.serror)}:m)(c.extract([i],d),m=>({input:d,errors:m})))(t,o,r),E4(s,ta.error,ta.value);var s},Sk=(t,o,r,s)=>({tag:"field",key:t,newKey:o,presence:r,prop:s}),Jz=(t,o)=>Sk(t,t,{tag:"required",process:{}},o),Qz=t=>Jz(t,qz),eA=t=>Jz(t,Wz),b6=(t,o)=>Sk(t,t,{tag:"option",process:{}},o),y6=t=>b6(t,Wz),v6=(t,o)=>Sk(t,t,Gz(o),m6()),tA=(t,o,r)=>Sk(t,t,Gz(o),r),A4=(t,o)=>tA(t,o,g6),x6=Qz("type"),w6=eA("fetch"),k6=eA("onAction"),_6=h6([x6,Qz("trigger"),A4("minChars",1),v6("columns",1),A4("maxResults",10),y6("matches"),w6,k6,(oA=qz,tA("highlightOn",[],(T4=oA,{extract:(t,o)=>{const r=No(o,(s,i)=>T4.extract(t.concat(["["+i+"]"]),s));return p6(r)},toString:()=>"array("+T4.toString()+")"})))]);var oA,T4;const C6=t=>{const o=t.ui.registry.getAll().popups,r=bo(o,c=>{return(d=c,Xz("Autocompleter",_6,d)).fold(m=>{throw new Error(`Errors: 
`+(y=>{const v=y.length>10?y.slice(0,10).concat([{path:[],getErrorInfo:Nt("... (only showing first ten failures)")}]):y;return No(v,k=>"Failed path: ("+k.path.join(" > ")+`)
`+k.getErrorInfo())})((f=m).errors).join(`
`)+`

Input object: `+$z(f.input));var f},D);var d}),s=Pr(Ur(r,c=>c.trigger)),i=Ha(r);return{dataset:r,triggers:s,lookupByTrigger:c=>Ue(i,d=>d.trigger===c)}},S6=t=>{const o=Fe(),r=Tr(!1),s=o.isSet,i=()=>{s()&&((f=>{f.dispatch("AutocompleterEnd")})(t),r.set(!1),o.clear())},c=xn(()=>C6(t)),d=f=>{(y=>o.get().map(v=>C4(t.dom,t.selection.getRng(),v.trigger,!0).bind(k=>_k(t,c,k,y))).getOrThunk(()=>((v,k)=>{const z=k(),F=v.selection.getRng();return((N,P,M)=>Mn(M.triggers,j=>C4(N,P,j)))(v.dom,F,z).bind(N=>_k(v,k,N))})(t,c)))(f).fold(i,y=>{(v=>{s()||o.set({trigger:v.trigger,matchLength:v.text.length})})(y.context),y.lookupData.then(v=>{o.get().map(k=>{const z=y.context;k.trigger===z.trigger&&(o.set({...k,matchLength:z.text.length}),r.get()?(jc(t,{range:z.range}),((F,N)=>{F.dispatch("AutocompleterUpdate",N)})(t,{lookupData:v})):(r.set(!0),jc(t,{range:z.range}),((F,N)=>{F.dispatch("AutocompleterStart",N)})(t,{lookupData:v})))})})})},m=()=>o.get().bind(({trigger:f})=>{const y=t.selection.getRng();return C4(t.dom,y,f,r.get()).filter(({range:v})=>((k,z)=>{const F=k.compareBoundaryPoints(window.Range.START_TO_START,z),N=k.compareBoundaryPoints(window.Range.END_TO_END,z);return F>=0&&N<=0})(y,v)).map(({range:v})=>v)});t.addCommand("mceAutocompleterReload",(f,y)=>{const v=bt(y)?y.fetchOptions:{};d(v)}),t.addCommand("mceAutocompleterClose",i),t.addCommand("mceAutocompleterRefreshActiveRange",()=>{m().each(f=>{jc(t,{range:f})})}),t.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>m().isSome()),((f,y)=>{const v=vn(y.load,50);f.on("input",k=>{(k.inputType!=="insertCompositionText"||f.composing)&&v.throttle()}),f.on("keydown",k=>{const z=k.which;z===8?v.throttle():z===27?(v.cancel(),y.cancelIfNecessary()):z!==38&&z!==40||v.cancel()},!0),f.on("remove",v.cancel)})(t,{cancelIfNecessary:i,load:d})},E6=Ja().browser.isSafari(),O4=t=>Yu(Se(t)),N4=(t,o)=>{var r;return t.startOffset===0&&t.endOffset===((r=o.textContent)===null||r===void 0?void 0:r.length)},vv=(t,o)=>R.from(t.getParent(o.container(),"details")),D4=(t,o)=>vv(t,o).isSome(),nA=(t,o)=>{const r=o.getNode();wo(r)||t.selection.setCursorLocation(r,o.offset())},M4=(t,o,r)=>{const s=t.dom.getParent(o.container(),"details");if(s&&!s.open){const i=t.dom.select("summary",s)[0];i&&(r?$s(i):Dl(i)).each(c=>nA(t,c))}else nA(t,o)},rA=(t,o,r)=>{const{dom:s,selection:i}=t,c=t.getBody();if(r==="character"){const d=It.fromRangeStart(i.getRng()),m=s.getParent(d.container(),s.isBlock),f=vv(s,d),y=m&&s.isEmpty(m),v=Te(m==null?void 0:m.previousSibling),k=Te(m==null?void 0:m.nextSibling);return!!(y&&(o?k:v)&&ei(!o,c,d).exists(z=>D4(s,z)&&!kr(f,vv(s,z))))||ei(o,c,d).fold(Bo,z=>{const F=vv(s,z);if(D4(s,z)&&!kr(f,F)){if(o||M4(t,z,!1),m&&y){if(o&&v||!o&&k)return!0;M4(t,z,o),t.dom.remove(m)}return!0}return!1})}return!1},z6=(t,o,r,s)=>{const i=t.selection.getRng(),c=It.fromRangeStart(i),d=t.getBody();return s==="selection"?((m,f)=>{const y=f.startSummary.exists(z=>z.contains(m.startContainer)),v=f.startSummary.exists(z=>z.contains(m.endContainer)),k=f.startDetails.forall(z=>f.endDetails.forall(F=>z!==F));return(y||v)&&!(y&&v)||k})(i,o):r?((m,f)=>f.startSummary.exists(y=>((v,k)=>Dl(k).exists(z=>ts(z.getNode())&&ws(k,z).exists(F=>F.isEqual(v))||z.isEqual(v)))(m,y)))(c,o)||((m,f,y)=>y.startDetails.exists(v=>ki(m,f).forall(k=>!v.contains(k.container()))))(d,c,o):((m,f)=>f.startSummary.exists(y=>((v,k)=>$s(k).exists(z=>z.isEqual(v)))(m,y)))(c,o)||((m,f)=>f.startDetails.exists(y=>ws(y,m).forall(v=>f.startSummary.exists(k=>!k.contains(m.container())&&k.contains(v.container())))))(c,o)},nb=(t,o,r)=>((s,i,c)=>((d,m)=>{const f=R.from(d.getParent(m.startContainer,"details")),y=R.from(d.getParent(m.endContainer,"details"));if(f.isSome()||y.isSome()){const v=f.bind(k=>R.from(d.select("summary",k)[0]));return R.some({startSummary:v,startDetails:f,endDetails:y})}return R.none()})(s.dom,s.selection.getRng()).fold(()=>rA(s,i,c),d=>z6(s,d,i,c)||rA(s,i,c)))(t,o,r)||E6&&((s,i,c)=>{const d=s.selection,m=d.getNode(),f=d.getRng(),y=It.fromRangeStart(f);return!!Pn(m)&&(c==="selection"&&N4(f,m)||Yl(i,y,m)?O4(m):s.undoManager.transact(()=>{const v=d.getSel();let{anchorNode:k,anchorOffset:z,focusNode:F,focusOffset:N}=v??{};const P=()=>{Xe(k)&&Xe(z)&&Xe(F)&&Xe(N)&&(v==null||v.setBaseAndExtent(k,z,F,N))},M=(Y,X)=>{ke(Y.childNodes,ie=>{dy(ie)&&X.appendChild(ie)})},j=s.dom.create("span",{"data-mce-bogus":"1"});M(m,j),m.appendChild(j),P(),c!=="word"&&c!=="line"||v==null||v.modify("extend",i?"right":"left",c),!d.isCollapsed()&&N4(d.getRng(),j)?O4(m):(s.execCommand(i?"ForwardDelete":"Delete"),k=v==null?void 0:v.anchorNode,z=v==null?void 0:v.anchorOffset,F=v==null?void 0:v.focusNode,N=v==null?void 0:v.focusOffset,M(j,m),P()),s.dom.remove(j)}),!0)})(t,o,r)?R.some(Ro):R.none(),aA=t=>(o,r,s={})=>{const i=o.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:Ro,inputType:r},d=dg(new InputEvent(t));return o.dispatch(t,{...d,...c,...s})},xv=aA("input"),Ek=aA("beforeinput"),zk=Ja(),Ak=zk.os,sA=Ak.isMacOS()||Ak.isiOS(),iA=zk.browser.isFirefox(),Qy=(t,o)=>{const r=t.dom,s=t.schema.getMoveCaretBeforeOnEnterElements();if(!o)return;if(/^(LI|DT|DD)$/.test(o.nodeName)){const c=(d=>{for(;d;){if($t(d)||Ao(d)&&d.data&&/[\r\n\s]/.test(d.data))return d;d=d.nextSibling}return null})(o.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&o.insertBefore(r.doc.createTextNode(zn),o.firstChild)}const i=r.createRng();if(o.normalize(),o.hasChildNodes()){const c=new Ms(o,o);let d,m=o;for(;d=c.current();){if(Ao(d)){i.setStart(d,0),i.setEnd(d,0);break}if(s[d.nodeName.toLowerCase()]){i.setStartBefore(d),i.setEndBefore(d);break}m=d,d=c.next()}d||(i.setStart(m,0),i.setEnd(m,0))}else ts(o)?o.nextSibling&&r.isBlock(o.nextSibling)?(i.setStartBefore(o),i.setEndBefore(o)):(i.setStartAfter(o),i.setEndAfter(o)):(i.setStart(o,0),i.setEnd(o,0));t.selection.setRng(i),ky(t,i)},wv=(t,o)=>{const r=t.getRoot();let s,i=o;for(;i!==r&&i&&t.getContentEditable(i)!=="false";){if(t.getContentEditable(i)==="true"){s=i;break}i=i.parentNode}return i!==r?s:r},R4=t=>R.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),B4=t=>{t.innerHTML='<br data-mce-bogus="1">'},kv=(t,o)=>{As(t).toLowerCase()===o.tagName.toLowerCase()&&((r,s,i)=>{const c=r.dom;R.from(i.style).map(c.parseStyle).each(v=>{const k={...Xg(Se(s)),...v};c.setStyles(s,k)});const d=R.from(i.class).map(v=>v.split(/\s+/)),m=R.from(s.className).map(v=>Ue(v.split(/\s+/),k=>k!==""));Rr(d,m,(v,k)=>{const z=Ue(k,N=>!co(v,N)),F=[...v,...z];c.setAttrib(s,"class",F.join(" "))});const f=["style","class"],y=gr(i,(v,k)=>!co(f,k));c.setAttribs(s,y)})(t,o,nl(t))},lA=(t,o,r,s,i=!0,c,d)=>{const m=t.dom,f=t.schema,y=As(t),v=r?r.nodeName.toUpperCase():"";let k=o;const z=f.getTextInlineElements();let F;F=c||v==="TABLE"||v==="HR"?m.create(c||y,d||{}):r.cloneNode(!1);let N=F;if(i)do if(z[k.nodeName]){if(lc(k)||Wd(k))continue;const P=k.cloneNode(!1);m.setAttrib(P,"id",""),F.hasChildNodes()?(P.appendChild(F.firstChild),F.appendChild(P)):(N=P,F.appendChild(P))}while((k=k.parentNode)&&k!==s);else m.setAttrib(F,"style",null),m.setAttrib(F,"class",null);return kv(t,F),B4(N),F},cA=(t,o)=>{const r=t==null?void 0:t.parentNode;return Xe(r)&&r.nodeName===o},dA=t=>Xe(t)&&/^(OL|UL|LI)$/.test(t.nodeName),_v=t=>Xe(t)&&/^(LI|DT|DD)$/.test(t.nodeName),Tk=t=>{const o=t.parentNode;return _v(o)?o:t},Ok=(t,o,r)=>{let s=t[r?"firstChild":"lastChild"];for(;s&&!$t(s);)s=s[r?"nextSibling":"previousSibling"];return s===o},uA=t=>xe(Ur(Xg(Se(t)),(o,r)=>`${r}: ${o};`),(o,r)=>o+r,""),mA=(t,o)=>o&&o.nodeName==="A"&&t.isEmpty(o),Mp=(t,o)=>t.nodeName===o||t.previousSibling&&t.previousSibling.nodeName===o,Nk=(t,o)=>Xe(o)&&t.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&t.isEditable(o.parentNode)&&t.getContentEditable(o)!=="false",F4=(t,o,r)=>Ao(o)?t?r===1&&o.data.charAt(r-1)===Pi?0:r:r===o.data.length-1&&o.data.charAt(r)===Pi?o.data.length:r:r,rb={insert:(t,o)=>{let r,s,i,c,d=!1;const m=t.dom,f=t.schema.getNonEmptyElements(),y=t.selection.getRng(),v=As(t),k=Se(y.startContainer),z=Sl(k,y.startOffset),F=z.exists(at=>Xi(at)&&!td(at)),N=y.collapsed&&F,P=(at,Mt)=>lA(t,r,ne,ie,Nn(t),at,Mt),M=at=>{const Mt=F4(at,r,s);if(Ao(r)&&(at?Mt>0:Mt<r.data.length))return!1;if((r.parentNode===ne||r===ne)&&d&&!at||at&&$t(r)&&r===ne.firstChild)return!0;if(Mp(r,"TABLE")||Mp(r,"HR"))return(et=>et.nodeName==="BR"||et.nextSibling&&et.nextSibling.nodeName==="BR")(r)?!at:d&&!at||!d&&at;const Ae=new Ms(r,ne);let Ze;for(Ao(r)&&(at&&Mt===0?Ae.prev():at||Mt!==r.data.length||Ae.next());Ze=Ae.current();){if($t(Ze)){if(!Ze.getAttribute("data-mce-bogus")){const et=Ze.nodeName.toLowerCase();if(f[et]&&et!=="br")return!1}}else if(Ao(Ze)&&!V(Ze.data))return!1;at?Ae.prev():Ae.next()}return!0},j=()=>{let at;return at=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&we!=="HGROUP"?P(v):P(),((Mt,Ae)=>{const Ze=ip(Mt);return!he(Ae)&&(Je(Ze)?co(ve.explode(Ze),Ae.nodeName.toLowerCase()):Ze)})(t,c)&&Nk(m,c)&&m.isEmpty(ne,void 0,{includeZwsp:!0})?at=m.split(c,ne):m.insertAfter(at,ne),Qy(t,at),at};b1(m,y).each(at=>{y.setStart(at.startContainer,at.startOffset),y.setEnd(at.endContainer,at.endOffset)}),r=y.startContainer,s=y.startOffset;const Y=!(!o||!o.shiftKey),X=!(!o||!o.ctrlKey);$t(r)&&r.hasChildNodes()&&!N&&(d=s>r.childNodes.length-1,r=r.childNodes[Math.min(s,r.childNodes.length-1)]||r,s=d&&Ao(r)?r.data.length:0);const ie=wv(m,r);if(!ie||((at,Mt)=>{const Ae=at.dom.getParent(Mt,"ol,ul,dl");return Ae!==null&&at.dom.getContentEditableParent(Ae)==="false"})(t,r))return;Y||(r=((at,Mt,Ae,Ze,et)=>{var jt,Lo;const _o=at.dom,wn=(jt=wv(_o,Ze))!==null&&jt!==void 0?jt:_o.getRoot();let Dn=_o.getParent(Ze,_o.isBlock);if(!Dn||!Nk(_o,Dn)){if(Dn=Dn||wn,!Dn.hasChildNodes()){const Tn=_o.create(Mt);return kv(at,Tn),Dn.appendChild(Tn),Ae.setStart(Tn,0),Ae.setEnd(Tn,0),Tn}let Ln,jn=Ze;for(;jn&&jn.parentNode!==Dn;)jn=jn.parentNode;for(;jn&&!_o.isBlock(jn);)Ln=jn,jn=jn.previousSibling;const Qo=(Lo=Ln==null?void 0:Ln.parentElement)===null||Lo===void 0?void 0:Lo.nodeName;if(Ln&&Qo&&at.schema.isValidChild(Qo,Mt.toLowerCase())){const Tn=Ln.parentNode,nt=_o.create(Mt);for(kv(at,nt),Tn.insertBefore(nt,Ln),jn=Ln;jn&&!_o.isBlock(jn);){const ct=jn.nextSibling;nt.appendChild(jn),jn=ct}Ae.setStart(Ze,et),Ae.setEnd(Ze,et)}}return Ze})(t,v,y,r,s));let ne=m.getParent(r,m.isBlock)||m.getRoot();c=Xe(ne==null?void 0:ne.parentNode)?m.getParent(ne.parentNode,m.isBlock):null,i=ne?ne.nodeName.toUpperCase():"";const we=c?c.nodeName.toUpperCase():"";if(we!=="LI"||X||(ne=c,c=c.parentNode,i=we),$t(c)&&((at,Mt,Ae)=>!Mt&&Ae.nodeName.toLowerCase()===As(at)&&at.dom.isEmpty(Ae)&&((Ze,et)=>{let jt=et;for(;jt&&jt!==Ze&&Te(jt.nextSibling);){const _o=jt.parentElement;if(!_o||(Lo=_o,!on(at.schema.getTextBlockElements(),Lo.nodeName.toLowerCase())))return jl(_o);jt=_o}var Lo;return!1})(at.getBody(),Ae))(t,Y,ne))return((at,Mt,Ae)=>{var Ze,et,jt;const Lo=Mt(As(at)),_o=((wn,Dn)=>wn.dom.getParent(Dn,jl))(at,Ae);_o&&(at.dom.insertAfter(Lo,_o),Qy(at,Lo),((jt=(et=(Ze=Ae.parentElement)===null||Ze===void 0?void 0:Ze.childNodes)===null||et===void 0?void 0:et.length)!==null&&jt!==void 0?jt:0)>1&&at.dom.remove(Ae))})(t,P,ne);if(/^(LI|DT|DD)$/.test(i)&&$t(c)&&m.isEmpty(ne))return void((at,Mt,Ae,Ze,et)=>{const jt=at.dom,Lo=at.selection.getRng(),_o=Ae.parentNode;if(Ae===at.getBody()||!_o)return;var wn;dA(wn=Ae)&&dA(wn.parentNode)&&(et="LI");const Dn=_v(Ze)?uA(Ze):void 0;let Ln=_v(Ze)&&Dn?Mt(et,{style:uA(Ze)}):Mt(et);if(Ok(Ae,Ze,!0)&&Ok(Ae,Ze,!1))if(cA(Ae,"LI")){const jn=Tk(Ae);jt.insertAfter(Ln,jn),(Qo=>{var Tn;return((Tn=Qo.parentNode)===null||Tn===void 0?void 0:Tn.firstChild)===Qo})(Ae)?jt.remove(jn):jt.remove(Ae)}else jt.replace(Ln,Ae);else if(Ok(Ae,Ze,!0))cA(Ae,"LI")?(jt.insertAfter(Ln,Tk(Ae)),Ln.appendChild(jt.doc.createTextNode(" ")),Ln.appendChild(Ae)):_o.insertBefore(Ln,Ae),jt.remove(Ze);else if(Ok(Ae,Ze,!1))jt.insertAfter(Ln,Tk(Ae)),jt.remove(Ze);else{Ae=Tk(Ae);const jn=Lo.cloneRange();jn.setStartAfter(Ze),jn.setEndAfter(Ae);const Qo=jn.extractContents();if(et==="LI"&&(Tn=>Tn.firstChild&&Tn.firstChild.nodeName==="LI")(Qo)){const Tn=Ue(No(Ln.children,Se),Lt(de("br")));Ln=Qo.firstChild,jt.insertAfter(Qo,Ae),ke(Tn,nt=>er(Se(Ln),nt)),Dn&&Ln.setAttribute("style",Dn)}else jt.insertAfter(Qo,Ae),jt.insertAfter(Ln,Ae);jt.remove(Ze)}Qy(at,Ln)})(t,P,c,ne,v);if(!(N||ne!==t.getBody()&&Nk(m,ne)))return;const Ye=ne.parentNode;let Ve;if(N)Ve=P(v),z.fold(()=>{Aa(k,Se(Ve))},at=>{ua(at,Se(Ve))}),t.selection.setCursorLocation(Ve,0);else if(Xu(ne))Ve=E0(ne),m.isEmpty(ne)&&B4(ne),kv(t,Ve),Qy(t,Ve);else if(M(!1))Ve=j();else if(M(!0)&&Ye){const at=It.fromRangeStart(y),Mt=o2(at),Ae=Se(ne),Ze=Gx(Ae,at,t.schema)?r2(Ae,at,t.schema).bind(jt=>R.from(jt.getNode())):R.none();Ve=Ye.insertBefore(P(),ne);const et=Mp(ne,"HR")||Mt?Ve:Ze.getOr(ne);Qy(t,et)}else{const at=(Ae=>{const Ze=Ae.cloneRange();return Ze.setStart(Ae.startContainer,F4(!0,Ae.startContainer,Ae.startOffset)),Ze.setEnd(Ae.endContainer,F4(!1,Ae.endContainer,Ae.endOffset)),Ze})(y).cloneRange();at.setEndAfter(ne);const Mt=at.extractContents();(Ae=>{ke(_m(Se(Ae),la),Ze=>{const et=Ze.dom;et.nodeValue=Wl(et.data)})})(Mt),(Ae=>{let Ze=Ae;do Ao(Ze)&&(Ze.data=Ze.data.replace(/^[\r\n]+/,"")),Ze=Ze.firstChild;while(Ze)})(Mt),Ve=Mt.firstChild,m.insertAfter(Mt,ne),((Ae,Ze,et)=>{var jt;const Lo=[];if(!et)return;let _o=et;for(;_o=_o.firstChild;){if(Ae.isBlock(_o))return;$t(_o)&&!Ze[_o.nodeName.toLowerCase()]&&Lo.push(_o)}let wn=Lo.length;for(;wn--;)_o=Lo[wn],(!_o.hasChildNodes()||_o.firstChild===_o.lastChild&&((jt=_o.firstChild)===null||jt===void 0?void 0:jt.nodeValue)===""||mA(Ae,_o))&&Ae.remove(_o)})(m,f,Ve),((Ae,Ze)=>{Ze.normalize();const et=Ze.lastChild;(!et||$t(et)&&/^(left|right)$/gi.test(Ae.getStyle(et,"float",!0)))&&Ae.add(Ze,"br")})(m,ne),m.isEmpty(ne)&&B4(ne),Ve.normalize(),m.isEmpty(Ve)?(m.remove(Ve),j()):(kv(t,Ve),Qy(t,Ve))}m.setAttrib(Ve,"id",""),t.dispatch("NewBlock",{newBlock:Ve})},fakeEventName:"insertParagraph"},gA=(t,o,r)=>{const s=t.dom.createRng();r?(s.setStartBefore(o),s.setEndBefore(o)):(s.setStartAfter(o),s.setEndAfter(o)),t.selection.setRng(s),ky(t,s)},L4=(t,o)=>{const r=Wn("br");ua(Se(o),r),t.undoManager.add()},I4=(t,o)=>{A6(t.getBody(),o)||xc(Se(o),Wn("br"));const r=Wn("br");xc(Se(o),r),gA(t,r.dom,!1),t.undoManager.add()},A6=(t,o)=>{return r=It.after(o),!!ts(r.getNode())||ki(t,It.after(o)).map(s=>ts(s.getNode())).getOr(!1);var r},P4=t=>t&&t.nodeName==="A"&&"href"in t,Dk=t=>t.fold(Bo,P4,P4,Bo),T6=(t,o)=>{o.fold(Ro,Ot(L4,t),Ot(I4,t),Ro)},pA={insert:(t,o)=>{const r=(s=>{const i=Ot(Cf,s),c=It.fromRangeStart(s.selection.getRng());return qc(i,s.getBody(),c).filter(Dk)})(t);r.isSome()?r.each(Ot(T6,t)):((s,i)=>{const c=s.selection,d=s.dom,m=c.getRng();let f,y=!1;b1(d,m).each(M=>{m.setStart(M.startContainer,M.startOffset),m.setEnd(M.endContainer,M.endOffset)});let v=m.startOffset,k=m.startContainer;if($t(k)&&k.hasChildNodes()){const M=v>k.childNodes.length-1;k=k.childNodes[Math.min(v,k.childNodes.length-1)]||k,v=M&&Ao(k)?k.data.length:0}let z=d.getParent(k,d.isBlock);const F=z&&z.parentNode?d.getParent(z.parentNode,d.isBlock):null,N=F?F.nodeName.toUpperCase():"",P=!(!i||!i.ctrlKey);N!=="LI"||P||(z=F),Ao(k)&&v>=k.data.length&&(((M,j,Y)=>{const X=new Ms(j,Y);let ie;const ne=M.getNonEmptyElements();for(;ie=X.next();)if(ne[ie.nodeName.toLowerCase()]||Ao(ie)&&ie.length>0)return!0;return!1})(s.schema,k,z||d.getRoot())||(f=d.create("br"),m.insertNode(f),m.setStartAfter(f),m.setEndAfter(f),y=!0)),f=d.create("br"),Ib(d,m,f),gA(s,f,y),s.undoManager.add()})(t,o)},fakeEventName:"insertLineBreak"},fA=(t,o)=>R4(t).filter(r=>o.length>0&&Ri(Se(r),o)).isSome(),eu=Ya([{br:[]},{block:[]},{none:[]}]),H4=(t,o)=>(r=>fA(r,Mr(r)))(t),hA=t=>(o,r)=>(s=>R4(s).filter(i=>ad(Se(i))).isSome())(o)===t,bA=(t,o)=>(r,s)=>(c=>R4(c).fold(Nt(""),d=>d.nodeName.toUpperCase()))(r)===t.toUpperCase()===o,O6=t=>{const o=wv(t.dom,t.selection.getStart());return he(o)},Cv=t=>bA("pre",t),Mk=t=>(o,r)=>Gl(o)===t,N6=(t,o)=>(r=>fA(r,nm(r)))(t),Rk=(t,o)=>o,D6=t=>{const o=As(t),r=wv(t.dom,t.selection.getStart());return Xe(r)&&t.schema.isValidChild(r.nodeName,o)},M6=t=>{const o=t.selection.getRng(),r=Se(o.startContainer),s=Sl(r,o.startOffset).map(i=>Xi(i)&&!td(i));return o.collapsed&&s.getOr(!0)},Mu=(t,o)=>(r,s)=>xe(t,(i,c)=>i&&c(r,s),!0)?R.some(o):R.none(),Bk=(t,o,r)=>{if(!o.mode.isReadOnly()){if(o.selection.isCollapsed()||(s=>{s.execCommand("delete")})(o),Xe(r)&&Ek(o,t.fakeEventName).isDefaultPrevented())return;t.insert(o,r),Xe(r)&&xv(o,t.fakeEventName)}},V4=(t,o)=>{if(t.mode.isReadOnly())return;const r=()=>Bk(pA,t,o),s=()=>Bk(rb,t,o),i=((c,d)=>ek([Mu([H4],eu.none()),Mu([Cv(!0),O6],eu.none()),Mu([bA("summary",!0)],eu.br()),Mu([Cv(!0),Mk(!1),Rk],eu.br()),Mu([Cv(!0),Mk(!1)],eu.block()),Mu([Cv(!0),Mk(!0),Rk],eu.block()),Mu([Cv(!0),Mk(!0)],eu.br()),Mu([hA(!0),Rk],eu.br()),Mu([hA(!0)],eu.block()),Mu([N6],eu.br()),Mu([Rk],eu.br()),Mu([D6],eu.block()),Mu([M6],eu.block())],[c,!(!d||!d.shiftKey)]).getOr(eu.none()))(t,o);switch(af(t)){case"linebreak":i.fold(r,r,Ro);break;case"block":i.fold(s,s,Ro);break;case"invert":i.fold(s,r,Ro);break;default:i.fold(r,s,Ro)}},yA=Ja(),R6=yA.os.isiOS()&&yA.browser.isSafari(),vA=(t,o)=>{var r;o.isDefaultPrevented()||(o.preventDefault(),(r=t.undoManager).typing&&(r.typing=!1,r.add()),t.undoManager.transact(()=>{V4(t,o)}))},j4=Ja(),xA=t=>t.stopImmediatePropagation(),wA=t=>t.keyCode===un.PAGE_UP||t.keyCode===un.PAGE_DOWN,kA=(t,o,r)=>{r&&!t.get()?o.on("NodeChange",xA,!0):!r&&t.get()&&o.off("NodeChange",xA),t.set(r)},_A=(t,o)=>t===o||t.contains(o),CA=(t,o)=>{const r=o.container(),s=o.offset();return Ao(r)?(r.insertData(s,t),R.some(It(r,s+t.length))):He(o).map(i=>{const c=ka(t);return o.isAtEnd()?xc(i,c):ua(i,c),It(c.dom,t.length)})},SA=Ot(CA,zn),EA=Ot(CA," "),zA=t=>o=>{t.selection.setRng(o.toRange()),t.nodeChanged()},B6=t=>{const o=It.fromRangeStart(t.selection.getRng()),r=Se(t.getBody());if(t.selection.isCollapsed()){const s=Ot(Cf,t),i=It.fromRangeStart(t.selection.getRng());return qc(s,t.getBody(),i).bind((c=>d=>d.fold(m=>ws(c.dom,It.before(m)),m=>$s(m),m=>Dl(m),m=>ki(c.dom,It.after(m))))(r)).map(c=>()=>((d,m,f)=>y=>B3(d,y,f)?SA(m):EA(m))(r,o,t.schema)(c).each(zA(t)))}return R.none()},F6=t=>{return Dr(lo.browser.isFirefox()&&t.selection.isEditable()&&(o=t.dom,r=t.selection.getRng().startContainer,o.isEditable(o.getParent(r,"summary"))),()=>{const s=Se(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete"),((i,c,d)=>B3(i,c,d)?SA(c):EA(c))(s,It.fromRangeStart(t.selection.getRng()),t.schema).each(zA(t))});var o,r},L6=t=>J0(t)?[{keyCode:un.TAB,action:nr(Vz,t,!0)},{keyCode:un.TAB,shiftKey:!0,action:nr(Vz,t,!1)}]:[],I6=t=>{if(t.addShortcut("Meta+P","","mcePrint"),S6(t),Fg(t))return Tr(null);{const o=Y5(t);return(r=>{r.on("beforeinput",s=>{r.selection.isEditable()&&!xo(s.getTargetRanges(),i=>!((c,d)=>!_A(c.getBody(),d.startContainer)||!_A(c.getBody(),d.endContainer)||h3(c.dom,d))(r,i))||s.preventDefault()})})(t),(r=>{r.on("keyup compositionstart",Ot(Q5,r))})(t),((r,s)=>{r.on("keydown",i=>{i.isDefaultPrevented()||((c,d,m)=>{const f=lo.os.isMacOS()||lo.os.isiOS();eb([{keyCode:un.RIGHT,action:nr(d4,c,!0)},{keyCode:un.LEFT,action:nr(d4,c,!1)},{keyCode:un.UP,action:nr(u4,c,!1)},{keyCode:un.DOWN,action:nr(u4,c,!0)},...f?[{keyCode:un.UP,action:nr(pv,c,!1),metaKey:!0,shiftKey:!0},{keyCode:un.DOWN,action:nr(pv,c,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:un.RIGHT,action:nr(gm,c,!0)},{keyCode:un.LEFT,action:nr(gm,c,!1)},{keyCode:un.UP,action:nr(x4,c,!1)},{keyCode:un.DOWN,action:nr(x4,c,!0)},{keyCode:un.UP,action:nr(x4,c,!1)},{keyCode:un.UP,action:nr(fv,c,!1)},{keyCode:un.DOWN,action:nr(fv,c,!0)},{keyCode:un.RIGHT,action:nr(Ky,c,!0)},{keyCode:un.LEFT,action:nr(Ky,c,!1)},{keyCode:un.UP,action:nr(mm,c,!1)},{keyCode:un.DOWN,action:nr(mm,c,!0)},{keyCode:un.RIGHT,action:nr(JC,c,d,!0)},{keyCode:un.LEFT,action:nr(JC,c,d,!1)},{keyCode:un.RIGHT,ctrlKey:!f,altKey:f,action:nr(_z,c,d)},{keyCode:un.LEFT,ctrlKey:!f,altKey:f,action:nr(X5,c,d)},{keyCode:un.UP,action:nr(Dz,c,!1)},{keyCode:un.DOWN,action:nr(Dz,c,!0)}],m).each(y=>{m.preventDefault()})})(r,s,i)})})(t,o),((r,s)=>{let i=!1;r.on("keydown",c=>{i=c.keyCode===un.BACKSPACE,c.isDefaultPrevented()||((d,m,f)=>{const y=f.keyCode===un.BACKSPACE?"deleteContentBackward":"deleteContentForward",v=d.selection.isCollapsed(),k=v?"character":"selection",z=F=>v?F?"word":"line":"selection";g4([{keyCode:un.BACKSPACE,action:nr(mk,d)},{keyCode:un.BACKSPACE,action:nr(Yw,d,!1)},{keyCode:un.DELETE,action:nr(Yw,d,!0)},{keyCode:un.BACKSPACE,action:nr(qw,d,!1)},{keyCode:un.DELETE,action:nr(qw,d,!0)},{keyCode:un.BACKSPACE,action:nr(ik,d,m,!1)},{keyCode:un.DELETE,action:nr(ik,d,m,!0)},{keyCode:un.BACKSPACE,action:nr(nw,d,!1)},{keyCode:un.DELETE,action:nr(nw,d,!0)},{keyCode:un.BACKSPACE,action:nr(nb,d,!1,k)},{keyCode:un.DELETE,action:nr(nb,d,!0,k)},...sA?[{keyCode:un.BACKSPACE,altKey:!0,action:nr(nb,d,!1,z(!0))},{keyCode:un.DELETE,altKey:!0,action:nr(nb,d,!0,z(!0))},{keyCode:un.BACKSPACE,metaKey:!0,action:nr(nb,d,!1,z(!1))}]:[{keyCode:un.BACKSPACE,ctrlKey:!0,action:nr(nb,d,!1,z(!0))},{keyCode:un.DELETE,ctrlKey:!0,action:nr(nb,d,!0,z(!0))}],{keyCode:un.BACKSPACE,action:nr(Jw,d,!1)},{keyCode:un.DELETE,action:nr(Jw,d,!0)},{keyCode:un.BACKSPACE,action:nr(dv,d,!1)},{keyCode:un.DELETE,action:nr(dv,d,!0)},{keyCode:un.BACKSPACE,action:nr(Zw,d,!1)},{keyCode:un.DELETE,action:nr(Zw,d,!0)},{keyCode:un.BACKSPACE,action:nr(rv,d,!1)},{keyCode:un.DELETE,action:nr(rv,d,!0)},{keyCode:un.BACKSPACE,action:nr(ck,d,!1)},{keyCode:un.DELETE,action:nr(ck,d,!0)},{keyCode:un.BACKSPACE,action:nr(Xw,d,!1)},{keyCode:un.DELETE,action:nr(Xw,d,!0)}],f).filter(F=>d.selection.isEditable()).each(F=>{f.preventDefault(),Ek(d,y).isDefaultPrevented()||(F(),xv(d,y))})})(r,s,c)}),r.on("keyup",c=>{c.isDefaultPrevented()||((d,m,f)=>{eb([{keyCode:un.BACKSPACE,action:nr(Kw,d)},{keyCode:un.DELETE,action:nr(Kw,d)},...sA?[{keyCode:un.BACKSPACE,altKey:!0,action:nr(Oc,d)},{keyCode:un.DELETE,altKey:!0,action:nr(Oc,d)},...f?[{keyCode:iA?224:91,action:nr(Oc,d)}]:[]]:[{keyCode:un.BACKSPACE,ctrlKey:!0,action:nr(Oc,d)},{keyCode:un.DELETE,ctrlKey:!0,action:nr(Oc,d)}]],m)})(r,c,i),i=!1})})(t,o),(r=>{let s=R.none();r.on("keydown",i=>{i.keyCode===un.ENTER&&(R6&&(c=>{if(!c.collapsed)return!1;const d=c.startContainer;if(Ao(d)){const m=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,f=d.data.charAt(c.startOffset-1);return m.test(f)}return!1})(r.selection.getRng())?(c=>{s=R.some(c.selection.getBookmark()),c.undoManager.add()})(r):vA(r,i))}),r.on("keyup",i=>{i.keyCode===un.ENTER&&s.each(()=>((c,d)=>{c.undoManager.undo(),s.fold(Ro,m=>c.selection.moveToBookmark(m)),vA(c,d),s=R.none()})(r,i))})})(t),(r=>{r.on("keydown",s=>{s.isDefaultPrevented()||((i,c)=>{g4([{keyCode:un.SPACEBAR,action:nr(B6,i)},{keyCode:un.SPACEBAR,action:nr(F6,i)}],c).each(d=>{c.preventDefault(),Ek(i,"insertText",{data:" "}).isDefaultPrevented()||(d(),xv(i,"insertText",{data:" "}))})})(r,s)})})(t),(r=>{r.on("input",s=>{s.isComposing||(i=>{const c=Se(i.getBody());i.selection.isCollapsed()&&I3(c,It.fromRangeStart(i.selection.getRng()),i.schema).each(d=>{i.selection.setRng(d.toRange())})})(r)})})(t),(r=>{r.on("keydown",s=>{s.isDefaultPrevented()||((i,c)=>{eb([...L6(i)],c).each(d=>{c.preventDefault()})})(r,s)})})(t),((r,s)=>{r.on("keydown",i=>{i.isDefaultPrevented()||((c,d,m)=>{const f=lo.os.isMacOS()||lo.os.isiOS();eb([{keyCode:un.END,action:nr(gv,c,!0)},{keyCode:un.HOME,action:nr(gv,c,!1)},...f?[]:[{keyCode:un.HOME,action:nr(pv,c,!1),ctrlKey:!0,shiftKey:!0},{keyCode:un.END,action:nr(pv,c,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:un.END,action:nr(Mz,c,!0)},{keyCode:un.HOME,action:nr(Mz,c,!1)},{keyCode:un.END,action:nr(cv,c,!0,d)},{keyCode:un.HOME,action:nr(cv,c,!1,d)}],m).each(y=>{m.preventDefault()})})(r,s,i)})})(t,o),((r,s)=>{if(j4.os.isMacOS())return;const i=Tr(!1);r.on("keydown",c=>{wA(c)&&kA(i,r,!0)}),r.on("keyup",c=>{c.isDefaultPrevented()||((d,m,f)=>{eb([{keyCode:un.PAGE_UP,action:nr(cv,d,!1,m)},{keyCode:un.PAGE_DOWN,action:nr(cv,d,!0,m)}],f)})(r,s,c),wA(c)&&i.get()&&(kA(i,r,!1),r.nodeChanged())})})(t,o),o}};class AA{constructor(o){let r;this.lastPath=[],this.editor=o;const s=this;"onselectionchange"in o.getDoc()||o.on("NodeChange click mouseup keyup focus",i=>{const c=o.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};i.type!=="nodechange"&&fs(d,r)||o.dispatch("SelectionChange"),r=d}),o.on("contextmenu",()=>{Ad(o),o.dispatch("SelectionChange")}),o.on("SelectionChange",()=>{const i=o.selection.getStart(!0);i&&vx(o)&&!s.isSameElementPath(i)&&o.dom.isChildOf(i,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("mouseup",i=>{!i.isDefaultPrevented()&&vx(o)&&(o.selection.getNode().nodeName==="IMG"?zu.setEditorTimeout(o,()=>{o.nodeChanged()}):o.nodeChanged())})}nodeChanged(o={}){const r=this.editor,s=r.selection;let i;if(r.initialized&&s&&!_h(r)&&!wi(r)){const c=r.getBody();i=s.getStart(!0)||c,i.ownerDocument===r.getDoc()&&r.dom.isChildOf(i,c)||(i=c);const d=[];r.dom.getParent(i,m=>m===c||(d.push(m),!1)),r.dispatch("NodeChange",{...o,element:i,parents:d})}}isSameElementPath(o){let r;const s=this.editor,i=We(s.dom.getParents(o,je,s.getBody()));if(i.length===this.lastPath.length){for(r=i.length;r>=0&&i[r]===this.lastPath[r];r--);if(r===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const $4="x-tinymce/html",Fk=Nt($4),U4="<!-- "+$4+" -->",P6=t=>U4+t,Lk=t=>t.indexOf(U4)!==-1,e0="%MCEPASTEBIN%",Ik=t=>t.dom.get("mcepastebin"),Sv=t=>Xe(t)&&t.id==="mcepastebin",Z4=t=>t===e0,Ev=(t,o)=>(ve.each(o,r=>{t=Gt(r,RegExp)?t.replace(r,""):t.replace(r[0],r[1])}),t),t0=t=>Ev(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,s)=>r||s?zn:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),pm=(t,o)=>({content:t,cancelled:o}),Vg=(t,o)=>(t.insertContent(o,{merge:oy(t),paste:!0}),!0),zv=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),TA=(t,o,r)=>!(t.selection.isCollapsed()||!zv(o))&&((s,i,c)=>(s.undoManager.extra(()=>{c(s,i)},()=>{s.execCommand("mceInsertLink",!1,i)}),!0))(t,o,r),Av=(t,o,r)=>!!((s,i)=>zv(i)&&xo(Eh(s),c=>hn(i.toLowerCase(),`.${c.toLowerCase()}`)))(t,o)&&((s,i,c)=>(s.undoManager.extra(()=>{c(s,i)},()=>{s.insertContent('<img src="'+i+'">')}),!0))(t,o,r),OA=(()=>{let t=0;return()=>"mceclip"+t++})(),H6=t=>{const o=Qd();return bv(o,t),Bd(o),o},o0=(t,o,r,s,i)=>{const c=((d,m,f)=>((y,v,k)=>{const z=((N,P,M)=>N.dispatch("PastePreProcess",{content:P,internal:M}))(y,v,k),F=((N,P)=>{const M=Mf({sanitize:Eg(N),sandbox_iframes:Q0(N),sandbox_iframes_exclusions:Ah(N),convert_unsafe_embeds:Th(N)},N.schema);M.addNodeFilter("meta",Y=>{ve.each(Y,X=>{X.remove()})});const j=M.parse(P,{forced_root_block:!1,isRootContent:!0});return bp({validate:!0},N.schema).serialize(j)})(y,z.content);return y.hasEventListeners("PastePostProcess")&&!z.isDefaultPrevented()?((N,P,M)=>{const j=N.dom.create("div",{style:"display:none"},P),Y=((X,ie,ne)=>X.dispatch("PastePostProcess",{node:ie,internal:ne}))(N,j,M);return pm(Y.node.innerHTML,Y.isDefaultPrevented())})(y,F,k):pm(F,z.isDefaultPrevented())})(d,m,f))(t,o,r);if(!c.cancelled){const d=c.content,m=()=>((f,y,v)=>{v||!qd(f)?Vg(f,y):((k,z)=>{ve.each([TA,Av,Vg],F=>!F(k,z,Vg))})(f,y)})(t,d,s);i?Ek(t,"insertFromPaste",{dataTransfer:H6(d)}).isDefaultPrevented()||(m(),xv(t,"insertFromPaste")):m()}},Tv=(t,o,r,s)=>{const i=r||Lk(o);o0(t,(c=>c.replace(U4,""))(o),i,!1,s)},Zs=(t,o,r)=>{const s=t.dom.encode(o).replace(/\r\n/g,`
`),i=((c,d,m)=>{const f=c.split(/\n\n/),y=((z,F)=>{let N="<"+z;const P=Ur(F,(M,j)=>j+'="'+G.encodeAllRaw(M)+'"');return P.length&&(N+=" "+P.join(" ")),N+">"})(d,m),v="</"+d+">",k=No(f,z=>z.split(/\n/).join("<br />"));return k.length===1?k[0]:No(k,z=>y+z+v).join("")})(Ne(s,T_(t)),As(t),nl(t));o0(t,i,!1,!0,r)},NA=t=>{const o={};if(t&&t.types)for(let r=0;r<t.types.length;r++){const s=t.types[r];try{o[s]=t.getData(s)}catch{o[s]=""}}return o},$f=(t,o)=>o in t&&t[o].length>0,ab=t=>$f(t,"text/html")||$f(t,"text/plain"),Uf=(t,o,r)=>{const s=o.type==="paste"?o.clipboardData:o.dataTransfer;var i;if(mf(t)&&s){const c=((d,m)=>{const f=m.items?ot(qo(m.items),v=>v.kind==="file"?[v.getAsFile()]:[]):[],y=m.files?qo(m.files):[];return Ue(f.length>0?f:y,(v=>{const k=Eh(v);return z=>Jo(z.type,"image/")&&xo(k,F=>(N=>{const P=N.toLowerCase(),M={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ve.hasOwn(M,P)?"image/"+M[P]:"image/"+P})(F)===z.type)})(d))})(t,s);if(c.length>0)return o.preventDefault(),(i=c,Promise.all(No(i,d=>$2(d).then(m=>({file:d,uri:m}))))).then(d=>{r&&t.selection.setRng(r),ke(d,m=>{((f,y)=>{j2(y.uri).each(({data:v,type:k,base64Encoded:z})=>{const F=z?v:btoa(v),N=y.file,P=f.editorUpload.blobCache,M=P.getByData(F,k),j=M??((Y,X,ie,ne)=>{const we=OA(),Ye=Wb(Y)&&Xe(ie.name),Ve=Ye?((Ae,Ze)=>{const et=Ze.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Xe(et)?Ae.dom.encode(et[1]):void 0})(Y,ie.name):we,at=Ye?ie.name:void 0,Mt=X.create(we,ie,ne,Ve,at);return X.add(Mt),Mt})(f,P,N,F);Tv(f,`<img src="${j.blobUri()}">`,!1,!0)})})(t,m)})}),!0}return!1},Rp=(t,o,r,s,i)=>{let c=t0(r);const d=$f(o,Fk())||Lk(r),m=!d&&(y=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(y))(c),f=zv(c);(Z4(c)||!c.length||m&&!f)&&(s=!0),(s||f)&&(c=$f(o,"text/plain")&&m?o["text/plain"]:(y=>{const v=ac(),k=Mf({},v);let z="";const F=v.getVoidElements(),N=ve.makeMap("script noscript style textarea video audio iframe object"," "),P=v.getBlockElements(),M=j=>{const Y=j.name,X=j;if(Y!=="br"){if(Y!=="wbr")if(F[Y]&&(z+=" "),N[Y])z+=" ";else{if(j.type===3&&(z+=j.value),!(j.name in v.getVoidElements())){let ie=j.firstChild;if(ie)do M(ie);while(ie=ie.next)}P[Y]&&X.next&&(z+=`
`,Y==="p"&&(z+=`
`))}}else z+=`
`};return y=Ev(y,[/<!\[[^\]]+\]>/g]),M(k.parse(y)),z})(c)),Z4(c)||(s?Zs(t,c,i):Tv(t,c,d,i))},V6=(t,o,r)=>{((s,i,c)=>{let d;s.on("keydown",m=>{(f=>un.metaKeyPressed(f)&&f.keyCode===86||f.shiftKey&&f.keyCode===45)(m)&&!m.isDefaultPrevented()&&(d=m.shiftKey&&m.keyCode===86)}),s.on("paste",m=>{if(m.isDefaultPrevented()||(v=>{var k,z;return lo.os.isAndroid()&&((z=(k=v.clipboardData)===null||k===void 0?void 0:k.items)===null||z===void 0?void 0:z.length)===0})(m))return;const f=c.get()==="text"||d;d=!1;const y=NA(m.clipboardData);!ab(y)&&Uf(s,m,i.getLastRng()||s.selection.getRng())||($f(y,"text/html")?(m.preventDefault(),Rp(s,y,y["text/html"],f,!0)):$f(y,"text/plain")&&$f(y,"text/uri-list")?(m.preventDefault(),Rp(s,y,y["text/plain"],f,!0)):(i.create(),zu.setEditorTimeout(s,()=>{const v=i.getHtml();i.remove(),Rp(s,y,v,f,!1)},0)))})})(t,o,r),(s=>{const i=d=>Jo(d,"webkit-fake-url"),c=d=>Jo(d,"data:");s.parser.addNodeFilter("img",(d,m,f)=>{if(!mf(s)&&(y=>{var v;return((v=y.data)===null||v===void 0?void 0:v.paste)===!0})(f))for(const y of d){const v=y.attr("src");Je(v)&&!y.attr("data-mce-object")&&v!==lo.transparentSrc&&(i(v)||!Y0(s)&&c(v))&&y.remove()}})})(t)},Pk=(t,o,r,s)=>{((i,c,d)=>{if(!i)return!1;try{return i.clearData(),i.setData("text/html",c),i.setData("text/plain",d),i.setData(Fk(),c),!0}catch{return!1}})(t.clipboardData,o.html,o.text)?(t.preventDefault(),s()):r(o.html,s)},Hk=t=>(o,r)=>{const{dom:s,selection:i}=t,c=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=s.create("div",{contenteditable:"true"},o);s.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),s.add(t.getBody(),c);const m=i.getRng();d.focus();const f=s.createRng();f.selectNodeContents(d),i.setRng(f),zu.setEditorTimeout(t,()=>{i.setRng(m),s.remove(c),r()},0)},q4=t=>({html:P6(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),W4=t=>!t.selection.isCollapsed()||(o=>!!o.dom.getParent(o.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",o.getBody()))(t),DA=(t,o)=>{var r,s;return Ng.getCaretRangeFromPoint((r=o.clientX)!==null&&r!==void 0?r:0,(s=o.clientY)!==null&&s!==void 0?s:0,t.getDoc())},MA=(t,o)=>{t.focus(),o&&t.selection.setRng(o)},G4=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Vk=t=>ve.trim(t).replace(G4,ga).toLowerCase(),RA=(t,o,r)=>{const s=gp(t);if(r||s==="all"||!Ch(t))return o;const i=s?s.split(/[, ]/):[];if(i&&s!=="none"){const c=t.dom,d=t.selection.getNode();o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(m,f,y,v)=>{const k=c.parseStyle(c.decode(y)),z={};for(let N=0;N<i.length;N++){const P=k[i[N]];let M=P,j=c.getStyle(d,i[N],!0);/color/.test(i[N])&&(M=Vk(M),j=Vk(j)),j!==M&&(z[i[N]]=P)}const F=c.serializeStyle(z,"span");return F?f+' style="'+F+'"'+v:f+v})}else o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return o=o.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,m,f)=>d+' style="'+m+'"'+f),o},n0=t=>{const o=Tr(!1),r=Tr(lx(t)?"text":"html"),s=(i=>{const c=Tr(null);return{create:()=>((d,m)=>{const{dom:f,selection:y}=d,v=d.getBody();m.set(y.getRng());const k=f.add(d.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},e0);lo.browser.isFirefox()&&f.setStyle(k,"left",f.getStyle(v,"direction",!0)==="rtl"?65535:-65535),f.bind(k,"beforedeactivate focusin focusout",z=>{z.stopPropagation()}),k.focus(),y.select(k,!0)})(i,c),remove:()=>((d,m)=>{const f=d.dom;if(Ik(d)){let y;const v=m.get();for(;y=Ik(d);)f.remove(y),f.unbind(y);v&&d.selection.setRng(v)}m.set(null)})(i,c),getEl:()=>Ik(i),getHtml:()=>(d=>{const m=d.dom,f=(z,F)=>{z.appendChild(F),m.remove(F,!0)},[y,...v]=Ue(d.getBody().childNodes,Sv);ke(v,z=>{f(y,z)});const k=m.select("div[id=mcepastebin]",y);for(let z=k.length-1;z>=0;z--){const F=m.create("div");y.insertBefore(F,k[z]),f(F,k[z])}return y?y.innerHTML:""})(i),getLastRng:c.get}})(t);(i=>{(lo.browser.isChromium()||lo.browser.isSafari())&&((c,d)=>{c.on("PastePreProcess",m=>{m.content=d(c,m.content,m.internal)})})(i,RA)})(t),((i,c)=>{i.addCommand("mceTogglePlainTextPaste",()=>{((d,m)=>{m.get()==="text"?(m.set("html"),nf(d,!1)):(m.set("text"),nf(d,!0)),d.focus()})(i,c)}),i.addCommand("mceInsertClipboardContent",(d,m)=>{m.html&&Tv(i,m.html,m.internal,!1),m.text&&Zs(i,m.text,!1)})})(t,r),(i=>{const c=f=>y=>{f(i,y)},d=A_(i);ae(d)&&i.on("PastePreProcess",c(d));const m=ix(i);ae(m)&&i.on("PastePostProcess",c(m))})(t),t.addQueryStateHandler("mceTogglePlainTextPaste",()=>r.get()==="text"),t.on("PreInit",()=>{(i=>{i.on("cut",(c=>d=>{!d.isDefaultPrevented()&&W4(c)&&c.selection.isEditable()&&Pk(d,q4(c),Hk(c),()=>{if(lo.browser.isChromium()||lo.browser.isFirefox()){const m=c.selection.getRng();zu.setEditorTimeout(c,()=>{c.selection.setRng(m),c.execCommand("Delete")},0)}else c.execCommand("Delete")})})(i)),i.on("copy",(c=>d=>{!d.isDefaultPrevented()&&W4(c)&&Pk(d,q4(c),Hk(c),Ro)})(i))})(t),((i,c)=>{K0(i)&&i.on("dragend dragover draggesture dragdrop drop drag",d=>{d.preventDefault(),d.stopPropagation()}),mf(i)||i.on("drop",d=>{const m=d.dataTransfer;m&&(f=>xo(f.files,y=>/^image\//.test(y.type)))(m)&&d.preventDefault()}),i.on("drop",d=>{if(d.isDefaultPrevented())return;const m=DA(i,d);if(he(m))return;const f=NA(d.dataTransfer),y=$f(f,Fk());if((!ab(f)||(N=>{const P=N["text/plain"];return!!P&&P.indexOf("file://")===0})(f))&&Uf(i,d,m))return;const v=f[Fk()],k=v||f["text/html"]||f["text/plain"],z=((N,P,M,j)=>{const Y=N.getParent(M,X=>Lc(P,X));if(!Te(N.getParent(M,"summary")))return!0;if(Y&&on(j,"text/html")){const X=new DOMParser().parseFromString(j["text/html"],"text/html").body;return!Te(X.querySelector(Y.nodeName.toLowerCase()))}return!1})(i.dom,i.schema,m.startContainer,f),F=c.get();F&&!z||k&&(d.preventDefault(),zu.setEditorTimeout(i,()=>{i.undoManager.transact(()=>{(v||F&&z)&&i.execCommand("Delete"),MA(i,m);const N=t0(k);f["text/html"]?Tv(i,N,y,!0):Zs(i,N,!0)})}))}),i.on("dragstart",d=>{c.set(!0)}),i.on("dragover dragend",d=>{mf(i)&&!c.get()&&(d.preventDefault(),MA(i,DA(i,d))),d.type==="dragend"&&c.set(!1)}),(d=>{d.on("input",m=>{const f=y=>Te(y.querySelector("summary"));if(m.inputType==="deleteByDrag"){const y=Ue(d.dom.select("details"),f);ke(y,v=>{ts(v.firstChild)&&v.firstChild.remove();const k=d.dom.create("summary");k.appendChild(yg().dom),v.prepend(k)})}})})(i)})(t,o),V6(t,s,r)})},BA=ts,K4=Ao,FA=t=>_a(t.dom),Y4=t=>o=>wr(Se(t),o),X4=(t,o)=>Jr(Se(t),FA,Y4(o)),J4=(t,o,r)=>{const s=new Ms(t,o),i=r?s.next.bind(s):s.prev.bind(s);let c=t;for(let d=r?t:i();d&&!BA(d);d=i())Sd(d)&&(c=d);return c},LA=t=>{const o=((r,s,i)=>{const c=It.fromRangeStart(r).getNode(),d=((v,k,z)=>Jr(Se(v),F=>(N=>Vl(N.dom))(F)||z.isBlock(pr(F)),Y4(k)).getOr(Se(k)).dom)(c,s,i),m=J4(c,d,!1),f=J4(c,d,!0),y=document.createRange();return X4(m,d).fold(()=>{K4(m)?y.setStart(m,0):y.setStartBefore(m)},v=>y.setStartBefore(v.dom)),X4(f,d).fold(()=>{K4(f)?y.setEnd(f,f.data.length):y.setEndAfter(f)},v=>y.setEndAfter(v.dom)),y})(t.selection.getRng(),t.getBody(),t.schema);t.selection.setRng(rw(o))};var sb;(function(t){t.Before="before",t.After="after"})(sb||(sb={}));const IA=(t,o)=>Math.abs(t.left-o),Q4=(t,o)=>Math.abs(t.right-o),Ov=(t,o)=>(r=>xe(r,(s,i)=>s.fold(()=>R.some(i),c=>{const d=Math.min(i.left,c.left),m=Math.min(i.top,c.top),f=Math.max(i.right,c.right),y=Math.max(i.bottom,c.bottom);return R.some({top:m,right:f,bottom:y,left:d,width:f-d,height:y-m})}),R.none()))(Ue(t,r=>{return(s=o)>=(i=r).top&&s<=i.bottom;var s,i})).fold(()=>[[],t],r=>{const{pass:s,fail:i}=Uo(t,c=>((d,m)=>{const f=((y,v)=>Math.max(0,Math.min(y.bottom,v.bottom)-Math.max(y.top,v.top)))(d,m)/Math.min(d.height,m.height);return((y,v)=>y.top<v.bottom&&y.bottom>v.top)(d,m)&&f>.5})(c,r));return[s,i]}),Nv=(t,o,r)=>o>t.left&&o<t.right?0:Math.min(Math.abs(t.left-o),Math.abs(t.right-o)),Dv=(t,o,r,s)=>{const i=v=>Sd(v.node)?R.some(v):$t(v.node)?Dv(qo(v.node.childNodes),o,r,!1):R.none(),c=(v,k)=>{const z=Fo(v,(F,N)=>k(F,o,r)-k(N,o,r));return Mn(z,i).map(F=>s&&!Ao(F.node)&&z.length>1?((N,P,M)=>i(P).filter(j=>Math.abs(M(N,o,r)-M(j,o,r))<2&&Ao(j.node)))(F,z[1],k).getOr(F):F)},[d,m]=Ov(If(t),r),{pass:f,fail:y}=Uo(m,v=>v.top<r);return c(d,Nv).orThunk(()=>c(y,Nb)).orThunk(()=>c(f,Nb))},eS=(t,o,r)=>((s,i,c)=>{const d=Se(s),m=lt(d),f=Oa(m,i,c).filter(y=>Na(d,y)).getOr(d);return((y,v,k,z)=>{const F=(N,P)=>{const M=Ue(N.dom.childNodes,Lt(j=>$t(j)&&j.classList.contains("mce-drag-container")));return P.fold(()=>Dv(M,k,z,!0),j=>{const Y=Ue(M,X=>X!==j.dom);return Dv(Y,k,z,!0)}).orThunk(()=>(wr(N,y)?R.none():lr(N)).bind(j=>F(j,R.some(N))))};return F(v,R.none())})(d,f,i,c)})(t,o,r).filter(s=>jm(s.node)).map(s=>((i,c)=>({node:i.node,position:IA(i,c)<Q4(i,c)?sb.Before:sb.After}))(s,o)),tS=t=>{var o,r;const s=t.getBoundingClientRect(),i=t.ownerDocument,c=i.documentElement,d=i.defaultView;return{top:s.top+((o=d==null?void 0:d.scrollY)!==null&&o!==void 0?o:0)-c.clientTop,left:s.left+((r=d==null?void 0:d.scrollX)!==null&&r!==void 0?r:0)-c.clientLeft}},Mv=t=>({target:t,srcElement:t}),j6=(t,o,r,s)=>{const i=((c,d)=>{const m=(f=>{const y=Qd(),v=(k=>{const z=k;return R.from(z[Op])})(f);return Bd(f),Rz(y),y.dropEffect=f.dropEffect,y.effectAllowed=f.effectAllowed,(k=>{const z=k;return R.from(z[yk])})(f).each(k=>y.setDragImage(k.image,k.x,k.y)),ke(f.types,k=>{k!=="Files"&&y.setData(k,f.getData(k))}),ke(f.files,k=>y.items.add(k)),(k=>{const z=k;return R.from(z[f4])})(f).each(k=>{((z,F)=>{Tp(F)(z)})(y,k)}),v.each(k=>{Np(f,k),Np(y,k)}),y})(c);return d==="dragstart"?(Rz(m),Bz(m)):d==="drop"?(e6(m),Bd(m)):(Yy(m),tb(m)),m})(r,t);return wo(s)?((c,d,m)=>{const f=po("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:c,composedPath:f,initEvent:f,preventDefault:Ro,stopImmediatePropagation:Ro,stopPropagation:Ro,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:f,initMouseEvent:f,getModifierState:f,dataTransfer:m,...Mv(d)}})(t,o,i):((c,d,m,f)=>({...d,dataTransfer:f,type:c,...Mv(m)}))(t,s,o,i)},PA=_a,ib=((...t)=>o=>{for(let r=0;r<t.length;r++)if(t[r](o))return!0;return!1})(PA,Vl),oS=(t,o,r,s)=>{const i=t.dom,c=o.cloneNode(!0);i.setStyles(c,{width:r,height:s}),i.setAttrib(c,"data-mce-selected",null);const d=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:s}),i.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},Rv=(t,o)=>r=>()=>{const s=t==="left"?r.scrollX:r.scrollY;r.scroll({[t]:s+o,behavior:"smooth"})},r0=Rv("left",-32),nS=Rv("left",32),jk=Rv("top",-32),rS=Rv("top",32),aS=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},a0=(t,o,r,s,i)=>{o==="dragstart"&&bv(s,t.dom.getOuterHTML(r));const c=j6(o,r,s,i);return t.dispatch(o,c)},sS=(t,o)=>{const r=Do((i,c)=>((d,m,f)=>{d._selectionOverrides.hideFakeCaret(),eS(d.getBody(),m,f).fold(()=>d.selection.placeCaretAt(m,f),y=>{const v=d._selectionOverrides.showCaret(1,y.node,y.position===sb.Before,!1);v?d.selection.setRng(v):d.selection.placeCaretAt(m,f)})})(o,i,c),0);o.on("remove",r.cancel);const s=t;return i=>t.on(c=>{const d=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&d>10){const y=a0(o,"dragstart",c.element,c.dataTransfer,i);if(Xe(y.dataTransfer)&&(c.dataTransfer=y.dataTransfer),y.isDefaultPrevented())return;c.dragging=!0,o.focus()}if(c.dragging){const y=i.currentTarget===o.getDoc().documentElement,v=((k,z)=>({pageX:z.pageX-k.relX,pageY:z.pageY+5}))(c,((k,z)=>{return F=(M=>M.inline?tS(M.getBody()):{left:0,top:0})(k),N=(M=>{const j=M.getBody();return M.inline?{left:j.scrollLeft,top:j.scrollTop}:{left:0,top:0}})(k),P=((M,j)=>{if(j.target.ownerDocument!==M.getDoc()){const Y=tS(M.getContentAreaContainer()),X=(ie=>{const ne=ie.getBody(),we=ie.getDoc().documentElement,Ye={left:ne.scrollLeft,top:ne.scrollTop},Ve={left:ne.scrollLeft||we.scrollLeft,top:ne.scrollTop||we.scrollTop};return ie.inline?Ye:Ve})(M);return{left:j.pageX-Y.left+X.left,top:j.pageY-Y.top+X.top}}return{left:j.pageX,top:j.pageY}})(k,z),{pageX:P.left-F.left+N.left,pageY:P.top-F.top+N.top};var F,N,P})(o,i));m=c.ghost,f=o.getBody(),m.parentNode!==f&&f.appendChild(m),((k,z,F,N,P,M,j,Y,X,ie,ne,we)=>{let Ye=0,Ve=0;k.style.left=z.pageX+"px",k.style.top=z.pageY+"px",z.pageX+F>P&&(Ye=z.pageX+F-P),z.pageY+N>M&&(Ve=z.pageY+N-M),k.style.width=F-Ye+"px",k.style.height=N-Ve+"px";const at=X.clientHeight,Mt=X.clientWidth,Ae=j+X.getBoundingClientRect().top,Ze=Y+X.getBoundingClientRect().left;ne.on(et=>{et.intervalId.clear(),et.dragging&&we&&(j+8>=at?et.intervalId.set(rS(ie)):j-8<=0?et.intervalId.set(jk(ie)):Y+8>=Mt?et.intervalId.set(nS(ie)):Y-8<=0?et.intervalId.set(r0(ie)):Ae+16>=window.innerHeight?et.intervalId.set(rS(window)):Ae-16<=0?et.intervalId.set(jk(window)):Ze+16>=window.innerWidth?et.intervalId.set(nS(window)):Ze-16<=0&&et.intervalId.set(r0(window)))})})(c.ghost,v,c.width,c.height,c.maxX,c.maxY,i.clientY,i.clientX,o.getContentAreaContainer(),o.getWin(),s,y),r.throttle(i.clientX,i.clientY)}var m,f})},iS=(t,o,r)=>{t.on(s=>{s.intervalId.clear(),s.dragging&&r.fold(()=>a0(o,"dragend",s.element,s.dataTransfer),i=>a0(o,"dragend",s.element,s.dataTransfer,i))}),HA(t)},HA=t=>{t.on(o=>{o.intervalId.clear(),aS(o.ghost)}),t.clear()},VA=t=>{const o=Fe(),r=Za.DOM,s=document,i=((f,y)=>v=>{if((k=>k.button===0)(v)){const k=Ie(y.dom.getParents(v.target),ib).getOr(null);if(Xe(k)&&((z,F,N)=>PA(N)&&N!==F&&z.isEditable(N.parentElement))(y.dom,y.getBody(),k)){const z=y.dom.getPos(k),F=y.getBody(),N=y.getDoc().documentElement;f.set({element:k,dataTransfer:Qd(),dragging:!1,screenX:v.screenX,screenY:v.screenY,maxX:(y.inline?F.scrollWidth:N.offsetWidth)-2,maxY:(y.inline?F.scrollHeight:N.offsetHeight)-2,relX:v.pageX-z.x,relY:v.pageY-z.y,width:k.offsetWidth,height:k.offsetHeight,ghost:oS(y,k,k.offsetWidth,k.offsetHeight),intervalId:De(100)})}}})(o,t),c=sS(o,t),d=((f,y)=>v=>{f.on(k=>{var z;if(k.intervalId.clear(),k.dragging){if(((F,N,P)=>!he(N)&&N!==P&&!F.dom.isChildOf(N,P)&&F.dom.isEditable(N))(y,(F=>{const N=F.getSel();if(Xe(N)){const P=N.getRangeAt(0).startContainer;return Ao(P)?P.parentNode:P}return null})(y.selection),k.element)){const F=(z=y.getDoc().elementFromPoint(v.clientX,v.clientY))!==null&&z!==void 0?z:y.getBody();a0(y,"drop",F,k.dataTransfer,v).isDefaultPrevented()||y.undoManager.transact(()=>{((N,P)=>{const M=N.getParent(P.parentNode,N.isBlock);aS(P),M&&M!==N.getRoot()&&N.isEmpty(M)&&Yu(Se(M))})(y.dom,k.element),(N=>{const P=N.getData("text/html");return P===""?R.none():R.some(P)})(k.dataTransfer).each(N=>y.insertContent(N)),y._selectionOverrides.hideFakeCaret()})}a0(y,"dragend",y.getBody(),k.dataTransfer,v)}}),HA(f)})(o,t),m=((f,y)=>v=>iS(f,y,R.some(v)))(o,t);t.on("mousedown",i),t.on("mousemove",c),t.on("mouseup",d),r.bind(s,"mousemove",c),r.bind(s,"mouseup",m),t.on("remove",()=>{r.unbind(s,"mousemove",c),r.unbind(s,"mouseup",m)}),t.on("keydown",f=>{f.keyCode===un.ESC&&iS(o,t,R.none())})},Zf=_a,mc=(t,o)=>Sf(t.getBody(),o),$k=t=>{const o=t.selection,r=t.dom,s=t.getBody(),i=px(t,s,r.isBlock,()=>Rh(t)),c="sel-"+r.uniqueId(),d="data-mce-selected";let m;const f=M=>M!==s&&(Zf(M)||wc(M))&&r.isChildOf(M,s)&&r.isEditable(M.parentNode),y=(M,j,Y,X=!0)=>t.dispatch("ShowCaret",{target:j,direction:M,before:Y}).isDefaultPrevented()?null:(X&&o.scrollIntoView(j,M===-1),i.show(Y,j)),v=M=>Ec(M)||Tb(M)||Ob(M),k=M=>v(M.startContainer)||v(M.endContainer),z=M=>{const j=t.schema.getVoidElements(),Y=r.createRng(),X=M.startContainer,ie=M.startOffset,ne=M.endContainer,we=M.endOffset;return on(j,X.nodeName.toLowerCase())?ie===0?Y.setStartBefore(X):Y.setStartAfter(X):Y.setStart(X,ie),on(j,ne.nodeName.toLowerCase())?we===0?Y.setEndBefore(ne):Y.setEndAfter(ne):Y.setEnd(ne,we),Y},F=(M,j)=>{if(!M)return null;if(M.collapsed){if(!k(M)){const ne=j?1:-1,we=$e(ne,s,M),Ye=we.getNode(!j);if(Xe(Ye)){if(jm(Ye))return y(ne,Ye,!!j&&!we.isAtEnd(),!1);if(yu(Ye)&&_a(Ye.nextSibling)){const at=r.createRng();return at.setStart(Ye,0),at.setEnd(Ye,0),at}}const Ve=we.getNode(j);if(Xe(Ve)){if(jm(Ve))return y(ne,Ve,!j&&!we.isAtEnd(),!1);if(yu(Ve)&&_a(Ve.previousSibling)){const at=r.createRng();return at.setStart(Ve,1),at.setEnd(Ve,1),at}}}return null}let Y=M.startContainer,X=M.startOffset;const ie=M.endOffset;if(Ao(Y)&&X===0&&Zf(Y.parentNode)&&(Y=Y.parentNode,X=r.nodeIndex(Y),Y=Y.parentNode),!$t(Y))return null;if(ie===X+1&&Y===M.endContainer){const ne=Y.childNodes[X];if(f(ne))return(we=>{const Ye=we.cloneNode(!0),Ve=t.dispatch("ObjectSelected",{target:we,targetClone:Ye});if(Ve.isDefaultPrevented())return null;const at=((Ae,Ze)=>{const et=Se(t.getBody()),jt=t.getDoc(),Lo=fi(et,"#"+c).getOrThunk(()=>{const Dn=Kn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',jt);return ra(Dn,"id",c),Aa(et,Dn),Dn}),_o=r.createRng();Fa(Lo),Ds(Lo,[ka(zn,jt),Se(Ze),ka(zn,jt)]),_o.setStart(Lo.dom.firstChild,1),_o.setEnd(Lo.dom.lastChild,0),Ui(Lo,{top:r.getPos(Ae,t.getBody()).y+"px"}),si(Lo);const wn=o.getSel();return wn&&(wn.removeAllRanges(),wn.addRange(_o)),_o})(we,Ve.targetClone),Mt=Se(we);return ke(hi(Se(t.getBody()),`*[${d}]`),Ae=>{wr(Mt,Ae)||ja(Ae,d)}),r.getAttrib(we,d)||we.setAttribute(d,"1"),m=we,P(),at})(ne)}return null},N=()=>{m&&m.removeAttribute(d),fi(Se(t.getBody()),"#"+c).each(Xr),m=null},P=()=>{i.hide()};return Fg(t)||(t.on("click",M=>{r.isEditable(M.target)||(M.preventDefault(),t.focus())}),t.on("blur NewBlock",N),t.on("ResizeWindow FullscreenStateChanged",i.reposition),t.on("tap",M=>{const j=M.target,Y=mc(t,j);Zf(Y)?(M.preventDefault(),Uy(t,Y).each(F)):f(j)&&Uy(t,j).each(F)},!0),t.on("mousedown",M=>{const j=M.target;if(j!==s&&j.nodeName!=="HTML"&&!r.isChildOf(j,s)||!((X,ie,ne)=>{const we=Se(X.getBody()),Ye=X.inline?we:Se(lt(we).dom.documentElement),Ve=((at,Mt,Ae,Ze)=>{const et=(jt=>jt.dom.getBoundingClientRect())(Mt);return{x:Ae-(at?et.left+Mt.dom.clientLeft+H5(Mt):0),y:Ze-(at?et.top+Mt.dom.clientTop+P5(Mt):0)}})(X.inline,Ye,ie,ne);return((at,Mt,Ae)=>{const Ze=KE(at),et=YE(at);return Mt>=0&&Ae>=0&&Mt<=Ze&&Ae<=et})(Ye,Ve.x,Ve.y)})(t,M.clientX,M.clientY))return;N(),P();const Y=mc(t,j);Zf(Y)?(M.preventDefault(),Uy(t,Y).each(F)):eS(s,M.clientX,M.clientY).each(X=>{var ie;M.preventDefault(),(ie=y(1,X.node,X.position===sb.Before,!1))&&o.setRng(ie),Zn(Y)?Y.focus():t.getBody().focus()})}),t.on("keypress",M=>{un.modifierPressed(M)||Zf(o.getNode())&&M.preventDefault()}),t.on("GetSelectionRange",M=>{let j=M.range;if(m){if(!m.parentNode)return void(m=null);j=j.cloneRange(),j.selectNode(m),M.range=j}}),t.on("focusin",M=>{if(i.isShowing()&&t.getBody().contains(M.target)&&M.target!==t.getBody()&&!t.dom.isEditable(M.target.parentNode)){i.hide(),M.target.contains(t.selection.getNode())||(t.selection.select(M.target,!0),t.selection.collapse(!0));const j=F(t.selection.getRng(),!0);j&&t.selection.setRng(j)}}),t.on("SetSelectionRange",M=>{M.range=z(M.range);const j=F(M.range,M.forward);j&&(M.range=j)}),t.on("AfterSetSelectionRange",M=>{const j=M.range,Y=j.startContainer.parentElement;var X;k(j)||$t(X=Y)&&X.id==="mcepastebin"||P(),(ie=>Xe(ie)&&r.hasClass(ie,"mce-offscreen-selection"))(Y)||N()}),(M=>{VA(M),Vr(M)&&(j=>{const Y=ne=>{if(!ne.isDefaultPrevented()){const we=ne.dataTransfer;we&&(co(we.types,"Files")||we.files.length>0)&&(ne.preventDefault(),ne.type==="drop"&&Q1(j,"Dropped file type is not supported"))}},X=ne=>{h1(j,ne.target)&&Y(ne)},ie=()=>{const ne=Za.DOM,we=j.dom,Ye=document,Ve=j.inline?j.getBody():j.getDoc(),at=["drop","dragover"];ke(at,Mt=>{ne.bind(Ye,Mt,X),we.bind(Ve,Mt,Y)}),j.on("remove",()=>{ke(at,Mt=>{ne.unbind(Ye,Mt,X),we.unbind(Ve,Mt,Y)})})};j.on("init",()=>{zu.setEditorTimeout(j,ie,0)})})(M)})(t),(M=>{const j=Do(()=>{if(!M.removed&&M.getBody().contains(document.activeElement)){const Y=M.selection.getRng();if(Y.collapsed){const X=Zy(M,Y,!1);M.selection.setRng(X)}}},0);M.on("focus",()=>{j.throttle()}),M.on("blur",()=>{j.cancel()})})(t),(M=>{M.on("init",()=>{M.on("focusin",j=>{const Y=j.target;if(wc(Y)){const X=Sf(M.getBody(),Y),ie=_a(X)?X:Y;M.selection.getNode()!==ie&&Uy(M,ie).each(ne=>M.selection.setRng(ne))}})})})(t)),{showCaret:y,showBlockCaretContainer:M=>{M.hasAttribute("data-mce-caret")&&(E0(M),o.scrollIntoView(M))},hideFakeCaret:P,destroy:()=>{i.destroy(),m=null}}},lb=(t,o)=>{let r=o;for(let s=t.previousSibling;Ao(s);s=s.previousSibling)r+=s.data.length;return r},lS=(t,o,r,s,i)=>{if(Ao(r)&&(s<0||s>r.data.length))return[];const c=i&&Ao(r)?[lb(r,s)]:[s];let d=r;for(;d!==o&&d.parentNode;)c.push(t.nodeIndex(d,i)),d=d.parentNode;return d===o?c.reverse():[]},Wc=(t,o,r,s,i,c,d=!1)=>({start:lS(t,o,r,s,d),end:lS(t,o,i,c,d)}),qf=(t,o)=>{const r=o.slice(),s=r.pop();return pt(s)?xe(r,(i,c)=>i.bind(d=>R.from(d.childNodes[c])),R.some(t)).bind(i=>Ao(i)&&(s<0||s>i.data.length)?R.none():R.some({node:i,offset:s})):R.none()},cS=(t,o)=>qf(t,o.start).bind(({node:r,offset:s})=>qf(t,o.end).map(({node:i,offset:c})=>{const d=document.createRange();return d.setStart(r,s),d.setEnd(i,c),d})),cb=(t,o,r)=>{if(o&&t.isEmpty(o)&&!r(o)){const s=o.parentNode;t.remove(o,Ao(o.firstChild)&&V(o.firstChild.data)),cb(t,s,r)}},Bv=(t,o,r,s=!0)=>{const i=o.startContainer.parentNode,c=o.endContainer.parentNode;o.deleteContents(),s&&!r(o.startContainer)&&(Ao(o.startContainer)&&o.startContainer.data.length===0&&t.remove(o.startContainer),Ao(o.endContainer)&&o.endContainer.data.length===0&&t.remove(o.endContainer),cb(t,i,r),i!==c&&cb(t,c,r))},s0=(t,o)=>R.from(t.dom.getParent(o.startContainer,t.dom.isBlock)),Fv=(t,o,r)=>{const s=t.dynamicPatternsLookup({text:r,block:o});return{...t,blockPatterns:P0(s).concat(t.blockPatterns),inlinePatterns:$b(s).concat(t.inlinePatterns)}},Uk=(t,o,r,s)=>{const i=t.createRng();return i.setStart(o,0),i.setEnd(r,s),i.toString()},fm=(t,o)=>t.create("span",{"data-mce-type":"bookmark",id:o}),i0=(t,o)=>{const r=t.createRng();return r.setStartAfter(o.start),r.setEndBefore(o.end),r},Lv=(t,o,r)=>{const s=cS(t.getRoot(),r).getOrDie("Unable to resolve path range"),i=s.startContainer,c=s.endContainer,d=s.endOffset===0?c:c.splitText(s.endOffset),m=s.startOffset===0?i:i.splitText(s.startOffset),f=m.parentNode;return{prefix:o,end:d.parentNode.insertBefore(fm(t,o+"-end"),d),start:f.insertBefore(fm(t,o+"-start"),m)}},Zk=(t,o,r)=>{cb(t,t.get(o.prefix+"-end"),r),cb(t,t.get(o.prefix+"-start"),r)},qk=t=>t.start.length===0,dS=(t,o,r,s)=>{const i=o.start;var c;return _4(t,s.container,s.offset,(c=i,(d,m)=>{const f=d.data.substring(0,m),y=f.lastIndexOf(c.charAt(c.length-1)),v=f.lastIndexOf(c);return v!==-1?v+c.length:y!==-1?y+1:-1}),r).bind(d=>{var m,f;const y=(f=(m=r.textContent)===null||m===void 0?void 0:m.indexOf(i))!==null&&f!==void 0?f:-1;if(y!==-1&&d.offset>=y+i.length){const v=t.createRng();return v.setStart(d.container,d.offset-i.length),v.setEnd(d.container,d.offset),R.some(v)}{const v=d.offset-i.length;return k4(d.container,v,r).map(k=>{const z=t.createRng();return z.setStart(k.container,k.offset),z.setEnd(d.container,d.offset),z}).filter(k=>k.toString()===i).orThunk(()=>dS(t,o,r,eg(d.container,0)))}})},jA=(t,o,r,s)=>{const i=t.dom,c=i.getRoot(),d=r.pattern,m=r.position.container,f=r.position.offset;return k4(m,f-r.pattern.end.length,o).bind(y=>{const v=Wc(i,c,y.container,y.offset,m,f,s);if(qk(d))return R.some({matches:[{pattern:d,startRng:v,endRng:v}],position:y});{const k=Wk(t,r.remainingPatterns,y.container,y.offset,o,s),z=k.getOr({matches:[],position:y}),F=z.position;return((P,M,j,Y,X,ie=!1)=>{if(M.start.length===0&&!ie){const ne=P.createRng();return ne.setStart(j,Y),ne.setEnd(j,Y),R.some(ne)}return w4(j,Y,X).bind(ne=>dS(P,M,X,ne).bind(we=>{var Ye;return ie&&(we.endContainer===ne.container&&we.endOffset===ne.offset||ne.offset===0&&((Ye=we.endContainer.textContent)===null||Ye===void 0?void 0:Ye.length)===we.endOffset)?R.none():R.some(we)}))})(i,d,F.container,F.offset,o,k.isNone()).map(P=>{const M=((j,Y,X,ie=!1)=>Wc(j,Y,X.startContainer,X.startOffset,X.endContainer,X.endOffset,ie))(i,c,P,s);return{matches:z.matches.concat([{pattern:d,startRng:M,endRng:v}]),position:eg(P.startContainer,P.startOffset)}})}})},Wk=(t,o,r,s,i,c)=>{const d=t.dom;return w4(r,s,d.getRoot()).bind(m=>{const f=Uk(d,i,r,s);for(let y=0;y<o.length;y++){const v=o[y];if(!hn(f,v.end))continue;const k=o.slice();k.splice(y,1);const z=jA(t,i,{pattern:v,remainingPatterns:k,position:m},c);if(z.isNone()&&s>0)return Wk(t,o,r,s-1,i,c);if(z.isSome())return z}return R.none()})},$A=(t,o,r)=>{t.selection.setRng(r),o.type==="inline-format"?ke(o.format,s=>{t.formatter.apply(s)}):t.execCommand(o.cmd,!1,o.value)},uS=(t,o,r,s,i,c)=>{var d;return((m,f)=>{const y=_t(m,v=>xo(f,k=>v.pattern.start===k.pattern.start&&v.pattern.end===k.pattern.end));return m.length===f.length?y?m:f:m.length>f.length?m:f})(Wk(t,i.inlinePatterns,r,s,o,c).fold(()=>[],m=>m.matches),Wk(t,(d=i.inlinePatterns,Fo(d,(m,f)=>f.end.length-m.end.length)),r,s,o,c).fold(()=>[],m=>m.matches))},mS=(t,o)=>{if(o.length===0)return;const r=t.dom,s=t.selection.getBookmark(),i=((c,d)=>{const m=gt("mce_textpattern"),f=me(d,(y,v)=>{const k=Lv(c,m+`_end${y.length}`,v.endRng);return y.concat([{...v,endMarker:k}])},[]);return me(f,(y,v)=>{const k=f.length-y.length-1,z=qk(v.pattern)?v.endMarker:Lv(c,m+`_start${k}`,v.startRng);return y.concat([{...v,startMarker:z}])},[])})(r,o);ke(i,c=>{const d=r.getParent(c.startMarker.start,r.isBlock),m=f=>f===d;qk(c.pattern)?((f,y,v,k)=>{const z=i0(f.dom,v);Bv(f.dom,z,k),$A(f,y,z)})(t,c.pattern,c.endMarker,m):((f,y,v,k,z)=>{const F=f.dom,N=i0(F,k),P=i0(F,v);Bv(F,P,z),Bv(F,N,z);const M={prefix:v.prefix,start:v.end,end:k.start},j=i0(F,M);$A(f,y,j)})(t,c.pattern,c.startMarker,c.endMarker,m),Zk(r,c.endMarker,m),Zk(r,c.startMarker,m)}),t.selection.moveToBookmark(s)},Gk=(t,o,r)=>((s,i,c)=>{if(Ao(s)&&0>=s.length)return R.some(eg(s,0));{const d=bg(xk);return R.from(d.forwards(s,0,wk(s),c)).map(m=>eg(m.container,0))}})(o,0,o).map(s=>{const i=s.container;return jz(i,r.start.length,o).each(c=>{const d=t.createRng();d.setStart(i,0),d.setEnd(c.container,c.offset),Bv(t,d,m=>m===o)}),i}),Kk=t=>(o,r)=>{const s=o.dom,i=r.pattern,c=cS(s.getRoot(),r.range).getOrDie("Unable to resolve path range");return s0(o,c).each(d=>{i.type==="block-format"?((m,f)=>{const y=f.get(m);return ao(y)&&xt(y).exists(v=>on(v,"block"))})(i.format,o.formatter)&&o.undoManager.transact(()=>{t(o.dom,d,i),o.formatter.apply(i.format)}):i.type==="block-command"&&o.undoManager.transact(()=>{t(o.dom,d,i),o.execCommand(i.cmd,!1,i.value)})}),!0},gS=t=>(o,r)=>{const s=(c=>Fo(c,(d,m)=>m.start.length-d.start.length))(o),i=r.replace(zn," ");return Ie(s,c=>t(c,r,i))},Yk=(t,o)=>(r,s,i,c,d)=>{var m;d===void 0&&(d=(m=s.textContent)!==null&&m!==void 0?m:"");const f=r.dom,y=As(r);return f.is(s,y)?t(i.blockPatterns,d).map(v=>o&&ve.trim(d).length===v.start.length?[]:[{pattern:v,range:Wc(f,f.getRoot(),s,0,s,0,c)}]).getOr([]):[]},UA=Kk((t,o,r)=>{Gk(t,o,r).each(s=>{const i=Se(s),c=ed(i);/^\s[^\s]/.test(c)&&pi(i,c.slice(1))})}),ZA=gS((t,o,r)=>o.indexOf(t.start)===0||r.indexOf(t.start)===0),pS=Yk(ZA,!0),qA=Kk(Gk),WA=gS((t,o,r)=>o===t.start||r===t.start),GA=Yk(WA,!1),Iv=(t,o,r)=>{for(let s=0;s<t.length;s++)if(r(t[s],o))return!0;return!1},$6=t=>{const o=[",",".",";",":","!","?"],r=[32],s=()=>{return d=ku(t).filter(f=>f.type!=="inline-command"&&f.type!=="block-command"||t.queryCommandSupported(f.cmd)),m=gf(t),{inlinePatterns:$b(d),blockPatterns:P0(d),dynamicPatternsLookup:m};var d,m},i=()=>(d=>d.options.isSet("text_patterns_lookup"))(t);t.on("keydown",d=>{if(d.keyCode===13&&!un.modifierPressed(d)&&t.selection.isCollapsed()&&t.selection.isEditable()){const m=ef(s(),"enter");(m.inlinePatterns.length>0||m.blockPatterns.length>0||i())&&((f,y)=>((v,k)=>{const z=v.selection.getRng();return s0(v,z).map(F=>{var N;const P=Math.max(0,z.startOffset),M=Fv(k,F,(N=F.textContent)!==null&&N!==void 0?N:"");return{inlineMatches:uS(v,F,z.startContainer,P,M,!0),blockMatches:pS(v,F,M,!0)}}).filter(({inlineMatches:F,blockMatches:N})=>N.length>0||F.length>0)})(f,y).fold(Bo,({inlineMatches:v,blockMatches:k})=>(f.undoManager.add(),f.undoManager.extra(()=>{f.execCommand("mceInsertNewLine")},()=>{(N=>{N.insertContent(Pi,{preserve_zwsp:!0})})(f),mS(f,v),((N,P)=>{if(P.length===0)return;const M=N.selection.getBookmark();ke(P,j=>UA(N,j)),N.selection.moveToBookmark(M)})(f,k);const z=f.selection.getRng(),F=w4(z.startContainer,z.startOffset,f.dom.getRoot());f.execCommand("mceInsertNewLine"),F.each(N=>{const P=N.container;P.data.charAt(N.offset-1)===nn&&(P.deleteData(N.offset-1,1),cb(f.dom,P.parentNode,M=>M===f.dom.getRoot()))})}),!0)))(t,m)&&d.preventDefault()}},!0),t.on("keydown",d=>{if(d.keyCode===32&&t.selection.isCollapsed()&&t.selection.isEditable()){const m=ef(s(),"space");(m.blockPatterns.length>0||i())&&((f,y)=>((v,k)=>{const z=v.selection.getRng();return s0(v,z).map(F=>{const N=Math.max(0,z.startOffset),P=Uk(v.dom,F,z.startContainer,N),M=Fv(k,F,P);return GA(v,F,M,!1,P)}).filter(F=>F.length>0)})(f,y).fold(Bo,v=>(f.undoManager.transact(()=>{((k,z)=>{ke(z,F=>qA(k,F))})(f,v)}),!0)))(t,m)&&d.preventDefault()}},!0);const c=()=>{if(t.selection.isCollapsed()&&t.selection.isEditable()){const d=ef(s(),"space");(d.inlinePatterns.length>0||i())&&((m,f)=>{const y=m.selection.getRng();s0(m,y).map(v=>{const k=Math.max(0,y.startOffset-1),z=Uk(m.dom,v,y.startContainer,k),F=Fv(f,v,z),N=uS(m,v,y.startContainer,k,F,!1);N.length>0&&m.undoManager.transact(()=>{mS(m,N)})})})(t,d)}};t.on("keyup",d=>{Iv(r,d,(m,f)=>m===f.keyCode&&!un.modifierPressed(f))&&c()}),t.on("keypress",d=>{Iv(o,d,(m,f)=>m.charCodeAt(0)===f.charCode)&&zu.setEditorTimeout(t,c)})},Pv=t=>{const o=ve.each,r=un.BACKSPACE,s=un.DELETE,i=t.dom,c=t.selection,d=t.parser,m=lo.browser,f=m.isFirefox(),y=m.isChromium()||m.isSafari(),v=lo.deviceType.isiPhone()||lo.deviceType.isiPad(),k=lo.os.isMacOS()||lo.os.isiOS(),z=(Ae,Ze)=>{try{t.getDoc().execCommand(Ae,!1,String(Ze))}catch{}},F=Ae=>Ae.isDefaultPrevented(),N=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},P=()=>{t.inline||i.bind(t.getDoc(),"mousedown mouseup",Ae=>{let Ze;if(Ae.target===t.getDoc().documentElement)if(Ze=c.getRng(),t.getBody().focus(),Ae.type==="mousedown"){if(Ec(Ze.startContainer))return;c.placeCaretAt(Ae.clientX,Ae.clientY)}else c.setRng(Ze)})},M=()=>{Range.prototype.getClientRects||t.on("mousedown",Ae=>{if(!F(Ae)&&Ae.target.nodeName==="HTML"){const Ze=t.getBody();Ze.blur(),zu.setEditorTimeout(t,()=>{Ze.focus()})}})},j=()=>{const Ae=ey(t);t.on("click",Ze=>{const et=Ze.target;/^(IMG|HR)$/.test(et.nodeName)&&i.isEditable(et)&&(Ze.preventDefault(),t.selection.select(et),t.nodeChanged()),et.nodeName==="A"&&i.hasClass(et,Ae)&&et.childNodes.length===0&&i.isEditable(et.parentNode)&&(Ze.preventDefault(),c.select(et))})},Y=()=>{t.on("keydown",Ae=>{if(!F(Ae)&&Ae.keyCode===r&&c.isCollapsed()&&c.getRng().startOffset===0){const Ze=c.getNode().previousSibling;if(Ze&&Ze.nodeName&&Ze.nodeName.toLowerCase()==="table")return Ae.preventDefault(),!1}return!0})},X=()=>{Cg(t)||t.on("BeforeExecCommand mousedown",()=>{z("StyleWithCSS",!1),z("enableInlineTableEditing",!1),tx(t)||z("enableObjectResizing",!1)})},ie=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ne=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},we=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",Ae=>{let Ze;Ae.target.nodeName==="HTML"&&(Ze=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(Ze),t.selection.normalize(),t.nodeChanged())}))},Ye=()=>{k&&t.on("keydown",Ae=>{!un.metaKeyPressed(Ae)||Ae.shiftKey||Ae.keyCode!==37&&Ae.keyCode!==39||(Ae.preventDefault(),t.selection.getSel().modify("move",Ae.keyCode===37?"backward":"forward","lineboundary"))})},Ve=()=>{t.on("click",Ae=>{let Ze=Ae.target;do if(Ze.tagName==="A")return void Ae.preventDefault();while(Ze=Ze.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},at=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",Ae=>{Ae.preventDefault()})})},Mt=Ro;return Fg(t)?(y&&(P(),j(),at(),N(),v&&(ne(),we(),Ve())),f&&(M(),X(),ie(),Ye())):(t.on("keydown",Ae=>{if(F(Ae)||Ae.keyCode!==un.BACKSPACE)return;let Ze=c.getRng();const et=Ze.startContainer,jt=Ze.startOffset,Lo=i.getRoot();let _o=et;if(Ze.collapsed&&jt===0){for(;_o.parentNode&&_o.parentNode.firstChild===_o&&_o.parentNode!==Lo;)_o=_o.parentNode;_o.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,_o),Ze=i.createRng(),Ze.setStart(et,0),Ze.setEnd(et,0),c.setRng(Ze))}}),(()=>{const Ae=Ze=>{const et=i.create("body"),jt=Ze.cloneContents();return et.appendChild(jt),c.serializer.serialize(et,{format:"html"})};t.on("keydown",Ze=>{const et=Ze.keyCode;if(!F(Ze)&&(et===s||et===r)&&t.selection.isEditable()){const jt=t.selection.isCollapsed(),Lo=t.getBody();if(jt&&!kc(t.schema,Lo)||!jt&&!(_o=>{const wn=Ae(_o),Dn=i.createRng();return Dn.selectNode(t.getBody()),wn===Ae(Dn)})(t.selection.getRng()))return;Ze.preventDefault(),t.setContent(""),Lo.firstChild&&i.isBlock(Lo.firstChild)?t.selection.setCursorLocation(Lo.firstChild,0):t.selection.setCursorLocation(Lo,0),t.nodeChanged()}})})(),lo.windowsPhone||t.on("keyup focusin mouseup",Ae=>{un.modifierPressed(Ae)||(Ze=>{const et=Ze.getBody(),jt=Ze.selection.getRng();return jt.startContainer===jt.endContainer&&jt.startContainer===et&&jt.startOffset===0&&jt.endOffset===et.childNodes.length})(t)||c.normalize()},!0),y&&(P(),j(),t.on("init",()=>{z("DefaultParagraphSeparator",As(t))}),at(),Y(),d.addNodeFilter("br",Ae=>{let Ze=Ae.length;for(;Ze--;)Ae[Ze].attr("class")==="Apple-interchange-newline"&&Ae[Ze].remove()}),v?(ne(),we(),Ve()):N()),f&&(t.on("mousedown",Ae=>{Rr(R.from(Ae.clientX),R.from(Ae.clientY),(Ze,et)=>{const jt=t.getDoc().caretPositionFromPoint(Ze,et);if(jt&&(Lo=jt.offsetNode).nodeName==="IMG"&&t.dom.isEditable(Lo)){const _o=jt.offsetNode.getBoundingClientRect();Ae.preventDefault(),t.hasFocus()||t.focus(),t.selection.select(jt.offsetNode),Ae.clientX<_o.left||Ae.clientY<_o.top?t.selection.collapse(!0):(Ae.clientX>_o.right||Ae.clientY>_o.bottom)&&t.selection.collapse(!1)}var Lo})}),t.on("keydown",Ae=>{if(!F(Ae)&&Ae.keyCode===r){if(!t.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const Ze=c.getNode(),et=Ze.previousSibling;if(Ze.nodeName==="HR")return i.remove(Ze),void Ae.preventDefault();et&&et.nodeName&&et.nodeName.toLowerCase()==="hr"&&(i.remove(et),Ae.preventDefault())}}}),M(),(()=>{const Ae=()=>{const et=i.getAttribs(c.getStart().cloneNode(!1));return()=>{const jt=c.getStart();jt!==t.getBody()&&(i.setAttrib(jt,"style",null),o(et,Lo=>{jt.setAttributeNode(Lo.cloneNode(!0))}))}},Ze=()=>!c.isCollapsed()&&i.getParent(c.getStart(),i.isBlock)!==i.getParent(c.getEnd(),i.isBlock);t.on("keypress",et=>{let jt;return!(!(F(et)||et.keyCode!==8&&et.keyCode!==46)&&Ze()&&(jt=Ae(),t.getDoc().execCommand("delete",!1),jt(),et.preventDefault(),1))}),i.bind(t.getDoc(),"cut",et=>{if(!F(et)&&Ze()){const jt=Ae();zu.setEditorTimeout(t,()=>{jt()})}})})(),X(),t.on("SetContent ExecCommand",Ae=>{Ae.type!=="setcontent"&&Ae.command!=="mceInsertLink"||o(i.select("a:not([data-mce-block])"),Ze=>{var et;let jt=Ze.parentNode;const Lo=i.getRoot();if((jt==null?void 0:jt.lastChild)===Ze){for(;jt&&!i.isBlock(jt);){if(((et=jt.parentNode)===null||et===void 0?void 0:et.lastChild)!==jt||jt===Lo)return;jt=jt.parentNode}i.add(jt,"br",{"data-mce-bogus":1})}})}),ie(),Ye(),Y())),{refreshContentEditable:Mt,isHidden:()=>{if(!f||t.removed)return!1;const Ae=t.selection.getSel();return!Ae||!Ae.rangeCount||Ae.rangeCount===0}}},Xk=Za.DOM,KA=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,fS=t=>gr(t,o=>wo(o)===!1),YA=t=>{const o=t.options.get,r=t.editorUpload.blobCache;return fS({allow_conditional_comments:o("allow_conditional_comments"),allow_html_data_urls:o("allow_html_data_urls"),allow_svg_data_urls:o("allow_svg_data_urls"),allow_html_in_named_anchor:o("allow_html_in_named_anchor"),allow_script_urls:o("allow_script_urls"),allow_mathml_annotation_encodings:o("allow_mathml_annotation_encodings"),allow_unsafe_link_target:o("allow_unsafe_link_target"),convert_unsafe_embeds:o("convert_unsafe_embeds"),convert_fonts_to_spans:o("convert_fonts_to_spans"),extended_mathml_attributes:o("extended_mathml_attributes"),extended_mathml_elements:o("extended_mathml_elements"),fix_list_elements:o("fix_list_elements"),font_size_legacy_values:o("font_size_legacy_values"),forced_root_block:o("forced_root_block"),forced_root_block_attrs:o("forced_root_block_attrs"),preserve_cdata:o("preserve_cdata"),inline_styles:o("inline_styles"),root_name:KA(t),sandbox_iframes:o("sandbox_iframes"),sandbox_iframes_exclusions:Ah(t),sanitize:o("xss_sanitization"),validate:!0,blob_cache:r,document:t.getDoc()})},hS=t=>{const o=t.options.get;return fS({custom_elements:o("custom_elements"),extended_valid_elements:o("extended_valid_elements"),invalid_elements:o("invalid_elements"),invalid_styles:o("invalid_styles"),schema:o("schema"),valid_children:o("valid_children"),valid_classes:o("valid_classes"),valid_elements:o("valid_elements"),valid_styles:o("valid_styles"),verify_html:o("verify_html"),padd_empty_block_inline_children:o("format_empty_lines")})},bS=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,yS=t=>{const o=bS(t),r=vu(t),s=t.contentCSS,i=()=>{o.unloadAll(s),t.inline||t.ui.styleSheetLoader.unloadAll(r)},c=()=>{t.removed?i():t.on("remove",i)};if(t.contentStyles.length>0){let f="";ve.each(t.contentStyles,y=>{f+=y+`\r
`}),t.dom.addStyle(f)}const d=Promise.all(((f,y,v)=>{const{pass:k,fail:z}=Uo(y,P=>tinymce.Resource.has(xC(P))),F=k.map(P=>{const M=tinymce.Resource.get(xC(P));return Je(M)?Promise.resolve(bS(f).loadRawCss(P,M)):Promise.resolve()}),N=[...F,bS(f).loadAll(z)];return f.inline?N:N.concat([f.ui.styleSheetLoader.loadAll(v)])})(t,s,r)).then(c).catch(c),m=ex(t);return m&&((f,y)=>{const v=Se(f.getBody()),k=ya(mi(v)),z=Wn("style");ra(z,"type","text/css"),Aa(z,ka(y)),Aa(k,z),f.on("remove",()=>{Xr(z)})})(t,m),d},Jk=t=>{t.removed!==!0&&((o=>{Fg(o)||o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"})})(t),(o=>{o.bindPendingEventDelegates(),o.initialized=!0,(s=>{s.dispatch("Init")})(o),o.focus(!0),(s=>{const i=s.dom.getRoot();s.inline||vx(s)&&s.selection.getStart(!0)!==i||$s(i).each(c=>{const d=c.getNode(),m=Rs(d)?$s(d).getOr(c):c;s.selection.setRng(m.toRange())})})(o),o.nodeChanged({initial:!0});const r=rx(o);ae(r)&&r.call(o,o),(s=>{const i=ty(s);i&&zu.setEditorTimeout(s,()=>{let c;c=i===!0?s:s.editorManager.get(i),c&&!c.destroyed&&(c.focus(),c.selection.scrollIntoView())},100)})(o),zp(o)&&vC(o,!0)})(t))},XA=t=>{const o=t.getElement();let r=t.getDoc();t.inline&&(Xk.addClass(o,"mce-content-body"),t.contentDocument=r=document,t.contentWindow=window,t.bodyElement=o,t.contentAreaContainer=o);const s=t.getBody();s.disabled=!0,t.readonly=Cg(t),t._editableRoot=Sg(t),!wi(t)&&t.hasEditableRoot()&&(t.inline&&Xk.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,t.editorUpload=$5(t),t.schema=ac(hS(t)),t.dom=Za(r,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:sf(t),referrerPolicy:kh(t),onSetAttrib:d=>{t.dispatch("SetAttrib",d)}}),t.parser=(d=>{const m=Mf(YA(d),d.schema);return m.addAttributeFilter("src,href,style,tabindex",(f,y)=>{const v=d.dom,k="data-mce-"+y;let z=f.length;for(;z--;){const F=f[z];let N=F.attr(y);if(N&&!F.attr(k)){if(N.indexOf("data:")===0||N.indexOf("blob:")===0)continue;y==="style"?(N=v.serializeStyle(v.parseStyle(N),F.name),N.length||(N=null),F.attr(k,N),F.attr(y,N)):y==="tabindex"?(F.attr(k,N),F.attr(y,null)):F.attr(k,d.convertURL(N,y,F.name))}}}),m.addNodeFilter("script",f=>{let y=f.length;for(;y--;){const v=f[y],k=v.attr("type")||"no/type";k.indexOf("mce-")!==0&&v.attr("type","mce-"+k)}}),X0(d)&&m.addNodeFilter("#cdata",f=>{var y;let v=f.length;for(;v--;){const k=f[v];k.type=8,k.name="#comment",k.value="[CDATA["+d.dom.encode((y=k.value)!==null&&y!==void 0?y:"")+"]]"}}),m.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",f=>{let y=f.length;const v=d.schema.getNonEmptyElements();for(;y--;){const k=f[y];k.isEmpty(v)&&k.getAll("br").length===0&&k.append(new dc("br",1))}}),m})(t),t.serializer=qE((d=>{const m=d.options.get;return{...YA(d),...hS(d),...fS({remove_trailing_brs:m("remove_trailing_brs"),pad_empty_with_br:m("pad_empty_with_br"),url_converter:m("url_converter"),url_converter_scope:m("url_converter_scope"),element_format:m("element_format"),entities:m("entities"),entity_encoding:m("entity_encoding"),indent:m("indent"),indent_after:m("indent_after"),indent_before:m("indent_before")})}})(t),t),t.selection=ZE(t.dom,t.getWin(),t.serializer,t),t.annotator=n3(t),t.formatter=jy(t),t.undoManager=_C(t),t._nodeChangeDispatcher=new AA(t),t._selectionOverrides=$k(t),(d=>{const m=Fe(),f=Tr(!1),y=vn(v=>{d.dispatch("longpress",{...v,type:"longpress"}),f.set(!0)},400);d.on("touchstart",v=>{gk(v).each(k=>{y.cancel();const z={x:k.clientX,y:k.clientY,target:v.target};y.throttle(v),f.set(!1),m.set(z)})},!0),d.on("touchmove",v=>{y.cancel(),gk(v).each(k=>{m.on(z=>{((F,N)=>{const P=Math.abs(F.clientX-N.x),M=Math.abs(F.clientY-N.y);return P>5||M>5})(k,z)&&(m.clear(),f.set(!1),d.dispatch("longpresscancel"))})})},!0),d.on("touchend touchcancel",v=>{y.cancel(),v.type!=="touchcancel"&&m.get().filter(k=>k.target.isEqualNode(v.target)).each(()=>{f.get()?v.preventDefault():d.dispatch("tap",{...v,type:"tap"})})},!0)})(t),(d=>{(m=>{m.on("click",f=>{m.dom.getParent(f.target,"details")&&f.preventDefault()})})(d),(m=>{m.parser.addNodeFilter("details",f=>{const y=zh(m);ke(f,v=>{y==="expanded"?v.attr("open","open"):y==="collapsed"&&v.attr("open",null)})}),m.serializer.addNodeFilter("details",f=>{const y=_u(m);ke(f,v=>{y==="expanded"?v.attr("open","open"):y==="collapsed"&&v.attr("open",null)})})})(d)})(t),(d=>{const m="contenteditable",f=" "+ve.trim(ny(d))+" ",y=" "+ve.trim(Vm(d))+" ",v=Tz(f),k=Tz(y),z=ry(d);z.length>0&&d.on("BeforeSetContent",F=>{((N,P,M)=>{let j=P.length,Y=M.content;if(M.format!=="raw"){for(;j--;)Y=Y.replace(P[j],l4(N,Y,Vm(N)));M.content=Y}})(d,z,F)}),d.parser.addAttributeFilter("class",F=>{let N=F.length;for(;N--;){const P=F[N];v(P)?P.attr(m,"true"):k(P)&&P.attr(m,"false")}}),d.serializer.addAttributeFilter(m,F=>{let N=F.length;for(;N--;){const P=F[N];if(!v(P)&&!k(P))continue;const M=P.attr("data-mce-content");z.length>0&&M?Pf(z,M)?(P.name="#text",P.type=3,P.raw=!0,P.value=M):P.remove():P.attr(m,null)}})})(t),Fg(t)||((d=>{d.on("mousedown",m=>{m.detail>=3&&(m.preventDefault(),LA(d))})})(t),(d=>{$6(d)})(t));const i=I6(t);((d,m)=>{d.addCommand("delete",()=>{((f,y)=>{s4(f,y,!1).fold(()=>{f.selection.isEditable()&&(Jx(f),u2(f))},so)})(d,m)}),d.addCommand("forwardDelete",()=>{((f,y)=>{s4(f,y,!0).fold(()=>{f.selection.isEditable()&&W3(f)},so)})(d,m)})})(t,i),(d=>{d.on("NodeChange",()=>(m=>{const f=m.dom,y=m.selection,v=m.schema,k=v.getBlockElements(),z=y.getStart(),F=m.getBody();let N,P,M=null;const j=As(m);if(!z||!$t(z))return;const Y=F.nodeName.toLowerCase();if(!v.isValidChild(Y,j.toLowerCase())||((ie,ne,we)=>xo(N3(Se(we),Se(ne)),Ye=>pk(ie,Ye.dom)))(k,F,z))return;if(F.firstChild===F.lastChild&&ts(F.firstChild))return N=fk(m),N.appendChild(yg().dom),F.replaceChild(N,F.firstChild),m.selection.setCursorLocation(N,0),void m.nodeChanged();let X=F.firstChild;for(;X;)if($t(X)&&li(v,X),Qh(v,X)){if(Az(k,X)){P=X,X=X.nextSibling,f.remove(P);continue}if(!N){if(!M&&m.hasFocus()&&(M=RC(m.selection.getRng(),()=>document.createElement("span"))),!X.parentNode){X=null;break}N=fk(m),F.insertBefore(N,X)}P=X,X=X.nextSibling,N.appendChild(P)}else N=null,X=X.nextSibling;M&&(m.selection.setRng(BC(M)),m.nodeChanged())})(d))})(t),(d=>{var m;const f=d.dom,y=As(d),v=(m=Co(d))!==null&&m!==void 0?m:"",k=(z,F)=>{if((M=>{if(jw(M)){const j=M.keyCode;return!$w(M)&&(un.metaKeyPressed(M)||M.altKey||j>=112&&j<=123||co(Hw,j))}return!1})(z))return;const N=d.getBody(),P=!(M=>jw(M)&&!($w(M)||M.type==="keyup"&&M.keyCode===229))(z)&&((M,j,Y)=>{if(M.isEmpty(j,void 0,{skipBogus:!1,includeZwsp:!0})){const X=j.firstElementChild;return!X||!M.getStyle(j.firstElementChild,"padding-left")&&!M.getStyle(j.firstElementChild,"padding-right")&&Y===X.nodeName.toLowerCase()}return!1})(f,N,y);(f.getAttrib(N,Vw)!==""!==P||F)&&(f.setAttrib(N,Vw,P?v:null),((M,j)=>{M.dispatch("PlaceholderToggle",{state:j})})(d,P),d.on(P?"keydown":"keyup",k),d.off(P?"keyup":"keydown",k))};Be(v)&&d.on("init",z=>{k(z,!0),d.on("change SetContent ExecCommand",k),d.on("paste",F=>zu.setEditorTimeout(d,()=>k(F)))})})(t),n0(t);const c=(d=>{const m=d;return(f=>Cn(f.plugins,"rtc").bind(y=>R.from(y.setup)))(d).fold(()=>(m.rtcInstance=jE(d),R.none()),f=>(m.rtcInstance=(()=>{const y=Nt(null),v=Nt("");return{init:{bindEvents:Ro},undoManager:{beforeChange:Ro,add:y,undo:y,redo:y,clear:Ro,reset:Ro,hasUndo:Bo,hasRedo:Bo,transact:y,ignore:Ro,extra:Ro},formatter:{match:Bo,matchAll:Nt([]),matchNode:Nt(void 0),canApply:Bo,closest:v,apply:Ro,remove:Ro,toggle:Ro,formatChanged:Nt({unbind:Ro})},editor:{getContent:v,setContent:Nt({content:"",html:""}),insertContent:Nt(""),addVisual:Ro},selection:{getContent:v},autocompleter:{addDecoration:Ro,removeDecoration:Ro},raw:{getModel:Nt(R.none())}}})(),R.some(()=>f().then(y=>(m.rtcInstance=(v=>{const k=X=>bt(X)?X:{},{init:z,undoManager:F,formatter:N,editor:P,selection:M,autocompleter:j,raw:Y}=v;return{init:{bindEvents:z.bindEvents},undoManager:{beforeChange:F.beforeChange,add:F.add,undo:F.undo,redo:F.redo,clear:F.clear,reset:F.reset,hasUndo:F.hasUndo,hasRedo:F.hasRedo,transact:(X,ie,ne)=>F.transact(ne),ignore:(X,ie)=>F.ignore(ie),extra:(X,ie,ne,we)=>F.extra(ne,we)},formatter:{match:(X,ie,ne,we)=>N.match(X,k(ie),we),matchAll:N.matchAll,matchNode:N.matchNode,canApply:X=>N.canApply(X),closest:X=>N.closest(X),apply:(X,ie,ne)=>N.apply(X,k(ie)),remove:(X,ie,ne,we)=>N.remove(X,k(ie)),toggle:(X,ie,ne)=>N.toggle(X,k(ie)),formatChanged:(X,ie,ne,we,Ye)=>N.formatChanged(ie,ne,we,Ye)},editor:{getContent:X=>P.getContent(X),setContent:(X,ie)=>({content:P.setContent(X,ie),html:""}),insertContent:(X,ie)=>(P.insertContent(X),""),addVisual:P.addVisual},selection:{getContent:(X,ie)=>M.getContent(ie)},autocompleter:{addDecoration:j.addDecoration,removeDecoration:j.removeDecoration},raw:{getModel:()=>R.some(Y.getRawModel())}}})(y),y.rtc.isRemote)))))})(t);(d=>{const m=d.getDoc(),f=d.getBody();(k=>{k.dispatch("PreInit")})(d),ax(d)||(m.body.spellcheck=!1,Xk.setAttrib(f,"spellcheck","false")),d.quirks=Pv(d),(k=>{k.dispatch("PostRender")})(d);const y=xu(d);y!==void 0&&(f.dir=y);const v=sx(d);v&&d.on("BeforeSetContent",k=>{ve.each(v,z=>{k.content=k.content.replace(z,F=>"<!--mce:protected "+escape(F)+"-->")})}),d.on("SetContent",()=>{d.addVisual(d.getBody())}),d.on("compositionstart compositionend",k=>{d.composing=k.type==="compositionstart"})})(t),(d=>{const m=zg(d);var f;Je(Oh(d))||!wo(m)&&((y=>y.toLowerCase()==="gpl")(f=m)||(y=>y.length>=64&&y.length<=255)(f)?"VALID":"INVALID")!="INVALID"||console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")})(t),c.fold(()=>{const d=(m=>{let f=!1;const y=setTimeout(()=>{f||m.setProgressState(!0)},500);return()=>{clearTimeout(y),f=!0,m.setProgressState(!1)}})(t);yS(t).then(()=>{Jk(t),d()})},d=>{t.setProgressState(!0),yS(t).then(()=>{d().then(m=>{t.setProgressState(!1),Jk(t),$E(t)},m=>{t.notificationManager.open({type:"error",text:String(m)}),Jk(t),$E(t)})})})},vS=Za.DOM,Hv=Za.DOM,JA=(t,o)=>({editorContainer:t,iframeContainer:o,api:{}}),QA=t=>{const o=t.getElement();return t.inline?JA(null):(r=>{const s=Hv.create("div");return Hv.insertAfter(s,r),JA(s,s)})(o)},eT=async t=>{t.dispatch("ScriptsLoaded"),(r=>{const s=ve.trim(Ea(r)),i=r.ui.registry.getAll().icons,c={...Ly.get("default").icons,...Ly.get(s).icons};ft(c,(d,m)=>{on(i,m)||r.ui.registry.addIcon(m,d)})})(t),(r=>{const s=lf(r);if(Je(s)){const i=Lg.get(s);r.theme=i(r,Lg.urls[s])||{},ae(r.theme.init)&&r.theme.init(r,Lg.urls[s]||r.documentBaseUrl.replace(/\/$/,""))}else r.theme={}})(t),(r=>{const s=Xb(r),i=Uh.get(s);r.model=i(r,Uh.urls[s])})(t),(r=>{const s=[];ke(Qb(r),i=>{((c,d,m)=>{const f=Iy.get(m),y=Iy.urls[m]||c.documentBaseUrl.replace(/\/$/,"");if(m=ve.trim(m),f&&ve.inArray(d,m)===-1){if(c.plugins[m])return;try{const v=f(c,y)||{};c.plugins[m]=v,ae(v.init)&&(v.init(c,y),d.push(m))}catch(v){((k,z,F)=>{const N=kd.translate(["Failed to initialize plugin: {0}",z]);tf(k,"PluginLoadError",{message:N}),Py(N,F),Q1(k,N)})(c,m,v)}}})(r,s,(c=>c.replace(/^\-/,""))(i))})})(t);const o=await(r=>{const s=r.getElement();return r.orgDisplay=s.style.display,Je(lf(r))?(i=>{const c=i.theme.renderUI;return c?c():QA(i)})(r):ae(lf(r))?(i=>{const c=i.getElement(),d=lf(i)(i,c);return d.editorContainer.nodeType&&(d.editorContainer.id=d.editorContainer.id||i.id+"_parent"),d.iframeContainer&&d.iframeContainer.nodeType&&(d.iframeContainer.id=d.iframeContainer.id||i.id+"_iframecontainer"),d.height=d.iframeHeight?d.iframeHeight:c.offsetHeight,d})(r):QA(r)})(t);((r,s)=>{const i={show:R.from(s.show).getOr(Ro),hide:R.from(s.hide).getOr(Ro),isEnabled:R.from(s.isEnabled).getOr(je),setEnabled:c=>{c&&(r.mode.get()==="readonly"||zp(r))||R.from(s.setEnabled).each(d=>d(c))}};r.ui={...r.ui,...i}})(t,R.from(o.api).getOr({})),t.editorContainer=o.editorContainer,(r=>{r.contentCSS=r.contentCSS.concat((s=>tz(s,Zd(s)))(r),(s=>tz(s,vu(s)))(r))})(t),t.inline?XA(t):((r,s)=>{((i,c)=>{const d=lo.browser.isFirefox()?mp(i):"Rich Text Area",m=i.translate(d),f=br(Se(i.getElement()),"tabindex").bind(Po),y=((v,k,z,F)=>{const N=Wn("iframe");return F.each(P=>ra(N,"tabindex",P)),Mc(N,z),Mc(N,{id:v+"_ifr",frameBorder:"0",allowTransparency:"true",title:k}),fd(N,"tox-edit-area__iframe"),N})(i.id,m,j0(i),f).dom;y.onload=()=>{y.onload=null,i.dispatch("load")},i.contentAreaContainer=c.iframeContainer,i.iframeElement=y,i.iframeHTML=(v=>{let k=sp(v)+"<html><head>";yh(v)!==v.documentBaseUrl&&(k+='<base href="'+v.documentBaseURI.getURI()+'" />'),k+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const z=om(v),F=vh(v),N=v.translate(mp(v));return $0(v)&&(k+='<meta http-equiv="Content-Security-Policy" content="'+$0(v)+'" />'),k+=`</head><body id="${z}" class="mce-content-body ${F}" data-id="${v.id}" aria-label="${N}"><br></body></html>`,k})(i),vS.add(c.iframeContainer,y)})(r,s),s.editorContainer&&(s.editorContainer.style.display=r.orgDisplay,r.hidden=vS.isHidden(s.editorContainer)),r.getElement().style.display="none",vS.setAttrib(r.id,"aria-hidden","true"),r.getElement().style.visibility=r.orgVisibility,(i=>{const c=i.iframeElement,d=()=>{i.contentDocument=c.contentDocument,XA(i)};if(Sh(i)||lo.browser.isFirefox()){const f=i.getDoc();f.open(),f.write(i.iframeHTML),f.close(),d()}else{const f=(m=Se(c),Zp(m,"load",ym,()=>{f.unbind(),d()}));c.srcdoc=i.iframeHTML}var m})(r)})(t,{editorContainer:o.editorContainer,iframeContainer:o.iframeContainer})},Bp=Za.DOM,tT=t=>t.charAt(0)==="-",oT=(t,o,r)=>R.from(o).filter(s=>Be(s)&&!Ly.has(s)).map(s=>({url:`${t.editorManager.baseURL}/icons/${s}/icons${r}.js`,name:R.some(s)})),U6=(t,o)=>{const r=ql.ScriptLoader,s=()=>{!t.removed&&(i=>{const c=lf(i);return!Je(c)||Xe(Lg.get(c))})(t)&&(i=>{const c=Xb(i);return Xe(Uh.get(c))})(t)&&eT(t)};((i,c)=>{const d=lf(i);if(Je(d)&&!tT(d)&&!on(Lg.urls,d)){const m=Z0(i),f=m?i.documentBaseURI.toAbsolute(m):`themes/${d}/theme${c}.js`;Lg.load(d,f).catch(()=>{((y,v,k)=>{ev(y,"ThemeLoadError",tv("theme",v,k))})(i,f,d)})}})(t,o),((i,c)=>{const d=Xb(i);if(d!=="plugin"&&!on(Uh.urls,d)){const m=Yn(i),f=Je(m)?i.documentBaseURI.toAbsolute(m):`models/${d}/model${c}.js`;Uh.load(d,f).catch(()=>{((y,v,k)=>{ev(y,"ModelLoadError",tv("model",v,k))})(i,f,d)})}})(t,o),((i,c)=>{const d=rm(c),m=U0(c);if(!kd.hasCode(d)&&d!=="en"){const f=Be(m)?m:`${c.editorManager.baseURL}/langs/${d}.js`;i.add(f).catch(()=>{((y,v,k)=>{ev(y,"LanguageLoadError",tv("language",v,k))})(c,f,d)})}})(r,t),((i,c,d)=>{const m=oT(c,"default",d),f=(y=>R.from(_g(y)).filter(Be).map(v=>({url:v,name:R.none()})))(c).orThunk(()=>oT(c,Ea(c),""));ke((y=>{const v=[],k=z=>{v.push(z)};for(let z=0;z<y.length;z++)y[z].each(k);return v})([m,f]),y=>{i.add(y.url).catch(()=>{((v,k,z)=>{ev(v,"IconsLoadError",tv("icons",k,z))})(c,y.url,y.name.getOrUndefined())})})})(r,t,o),((i,c)=>{const d=(m,f)=>{Iy.load(m,f).catch(()=>{((y,v,k)=>{ev(y,"PluginLoadError",tv("plugin",v,k))})(i,f,m)})};ft(G0(i),(m,f)=>{d(f,m),i.options.set("plugins",Qb(i).concat(f))}),ke(Qb(i),m=>{!(m=ve.trim(m))||Iy.urls[m]||tT(m)||d(m,`plugins/${m}/plugin${c}.js`)})})(t,o),r.loadQueue().then(s,s)},l0=Ja().deviceType,nT=l0.isPhone(),rT=l0.isTablet(),hm=t=>{if(he(t))return[];{const o=ao(t)?t:t.split(/[ ,]/),r=No(o,ur);return Ue(r,Be)}},ld=(t,o)=>{const r=(c=>{const d={},m={};return fo(c,(f,y)=>co(t,y),On(d),On(m)),{t:d,f:m}})(o);return s=r.t,i=r.f,{sections:Nt(s),options:Nt(i)};var s,i},Qk=(t,o)=>on(t.sections(),o),Vv=(t,o)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Cn(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...o?{menubar:!1}:{}}),Wf=(t,o)=>{var r;const s=(r=o.external_plugins)!==null&&r!==void 0?r:{};return t&&t.external_plugins?ve.extend({},t.external_plugins,s):s},jg=(t,o,r,s,i)=>{var c;const d=t?{mobile:Vv((c=i.mobile)!==null&&c!==void 0?c:{},o)}:{},m=ld(["mobile"],Io(d,i)),f=ve.extend(r,s,m.options(),((y,v)=>y&&Qk(v,"mobile"))(t,m)?((y,v,k={})=>{const z=y.sections(),F=Cn(z,v).getOr({});return ve.extend({},k,F)})(m,"mobile"):{},{external_plugins:Wf(s,m.options())});return((y,v,k,z)=>{const F=hm(k.forced_plugins),N=hm(z.plugins),P=((Y,X)=>Qk(Y,X)?Y.sections()[X]:{})(v,"mobile"),M=((Y,X,ie,ne)=>Y&&Qk(X,"mobile")?ne:ie)(y,v,N,P.plugins?hm(P.plugins):N),j=((Y,X)=>[...hm(Y),...hm(X)])(F,M);return ve.extend(z,{forced_plugins:F,plugins:j})})(t,m,s,f)},jv=t=>{(o=>{const r=s=>()=>{ke("left,center,right,justify".split(","),i=>{s!==i&&o.formatter.remove("align"+i)}),s!=="none"&&(i=>{o.formatter.toggle(i,void 0),o.nodeChanged()})("align"+s)};o.editorCommands.addCommands({JustifyLeft:r("left"),JustifyCenter:r("center"),JustifyRight:r("right"),JustifyFull:r("justify"),JustifyNone:r("none")})})(t),(o=>{const r=s=>()=>{const i=o.selection,c=i.isCollapsed()?[o.dom.getParent(i.getNode(),o.dom.isBlock)]:i.getSelectedBlocks();return xo(c,d=>Xe(o.formatter.matchNode(d,s)))};o.editorCommands.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify")},"state")})(t)},xS=(t,o)=>{const r=t.selection,s=t.dom;return/^ | $/.test(o)?((i,c,d,m)=>{const f=Se(i.getRoot());return d=E1(f,It.fromRangeStart(c),m)?d.replace(/^ /,"&nbsp;"):d.replace(/^&nbsp;/," "),Sy(f,It.fromRangeEnd(c),m)?d.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):d.replace(/&nbsp;(<br( \/)?>)?$/," ")})(s,r.getRng(),o,t.schema):o},c0=(t,o)=>{if(t.selection.isEditable()){const{content:r,details:s}=(i=>{if(typeof i!="string"){const c=ve.extend({paste:i.paste,data:{paste:i.paste}},i);return{content:i.content,details:c}}return{content:i,details:{}}})(o);Tw(t,{...s,content:xS(t,r),format:"html",set:!1,selection:!0}).each(i=>{const c=((d,m,f)=>gC(d).editor.insertContent(m,f))(t,i.content,s);Ow(t,c,i),t.addVisual()})}},aT={"font-size":"size","font-family":"face"},sT=de("font"),iT=t=>(o,r)=>R.from(r).map(Se).filter(Gs).bind(s=>((i,c,d)=>sg(Se(d),m=>(f=>au(f,i).orThunk(()=>sT(f)?Cn(aT,i).bind(y=>br(f,y)):R.none()))(m),m=>wr(Se(c),m)))(t,o,s.dom).or(((i,c)=>R.from(Za.DOM.getStyle(c,i,!0)))(t,s.dom))).getOr(""),lT=iT("font-size"),cT=pn(t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),iT("font-family")),dT=t=>$s(t.getBody()).bind(o=>{const r=o.container();return R.from(Ao(r)?r.parentNode:r)}),$g=(t,o)=>((r,s)=>(i=>R.from(i.selection.getRng()).bind(c=>{const d=i.getBody();return c.startContainer===d&&c.startOffset===0?R.none():R.from(i.selection.getStart(!0))}))(r).orThunk(Ot(dT,r)).map(Se).filter(Gs).bind(s))(t,Vo(R.some,o)),e_=(t,o)=>{if(/^[0-9.]+$/.test(o)){const r=parseInt(o,10);if(r>=1&&r<=7){const s=(c=>ve.explode(c.options.get("font_size_style_values")))(t),i=(c=>ve.explode(c.options.get("font_size_classes")))(t);return i.length>0?i[r-1]||o:s[r-1]||o}return o}return o},Z6=t=>{const o=t.split(/\s*,\s*/);return No(o,r=>r.indexOf(" ")===-1||Jo(r,'"')||Jo(r,"'")?r:`'${r}'`).join(",")},uT=(t,o)=>{if(t.mode.isReadOnly())return;const r=t.dom,s=t.selection.getRng(),i=o?t.selection.getStart():t.selection.getEnd(),c=o?s.startContainer:s.endContainer,d=wv(r,c);if(!d||!d.isContentEditable)return;const m=o?ua:xc,f=As(t);((y,v,k,z)=>{const F=y.dom,N=M=>F.isBlock(M)&&M.parentElement===k,P=N(v)?v:F.getParent(z,N,k);return R.from(P).map(Se)})(t,i,d,c).each(y=>{const v=lA(t,c,y.dom,d,!1,f);m(y,Se(v)),t.selection.setCursorLocation(v,0),t.dispatch("NewBlock",{newBlock:v}),xv(t,"insertParagraph")})},db=t=>{jv(t),(o=>{o.editorCommands.addCommands({"Cut,Copy,Paste":r=>{const s=o.getDoc();let i;try{s.execCommand(r)}catch{i=!0}if(r!=="paste"||s.queryCommandEnabled(r)||(i=!0),i||!s.queryCommandSupported(r)){let c=o.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(lo.os.isMacOS()||lo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),o.notificationManager.open({text:c,type:"error"})}}})})(t),(o=>{o.editorCommands.addCommands({mceAddUndoLevel:()=>{o.undoManager.add()},mceEndUndoLevel:()=>{o.undoManager.add()},Undo:()=>{o.undoManager.undo()},Redo:()=>{o.undoManager.redo()}})})(t),(o=>{o.editorCommands.addCommands({mceSelectNodeDepth:(r,s,i)=>{let c=0;o.dom.getParent(o.selection.getNode(),d=>!$t(d)||c++!==i||(o.selection.select(d),!1),o.getBody())},mceSelectNode:(r,s,i)=>{o.selection.select(i)},selectAll:()=>{const r=o.dom.getParent(o.selection.getStart(),Vl);if(r){const s=o.dom.createRng();s.selectNodeContents(r),o.selection.setRng(s)}}})})(t),(o=>{o.editorCommands.addCommands({mceCleanup:()=>{const r=o.selection.getBookmark();o.setContent(o.getContent()),o.selection.moveToBookmark(r)},insertImage:(r,s,i)=>{c0(o,o.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{o.execCommand("mceInsertContent",!1,"<hr>")},insertText:(r,s,i)=>{c0(o,o.dom.encode(i))},insertHTML:(r,s,i)=>{c0(o,i)},mceInsertContent:(r,s,i)=>{c0(o,i)},mceSetContent:(r,s,i)=>{o.setContent(i)},mceReplaceContent:(r,s,i)=>{o.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,o.selection.getContent({format:"text"})))},mceNewDocument:()=>{o.setContent(oa(o))}})})(t),(o=>{const r=(s,i,c)=>{if(o.mode.isReadOnly())return;const d=Je(c)?{href:c}:c,m=o.dom.getParent(o.selection.getNode(),"a");bt(d)&&Je(d.href)&&(d.href=d.href.replace(/ /g,"%20"),m&&d.href||o.formatter.remove("link"),d.href&&o.formatter.apply("link",d,m))};o.editorCommands.addCommands({unlink:()=>{if(o.selection.isEditable()){if(o.selection.isCollapsed()){const s=o.dom.getParent(o.selection.getStart(),"a");return void(s&&o.dom.remove(s,!0))}o.formatter.remove("link")}},mceInsertLink:r,createLink:r})})(t),(o=>{o.editorCommands.addCommands({Indent:()=>{(r=>{a4(r,"indent")})(o)},Outdent:()=>{zz(o)}}),o.editorCommands.addCommands({Outdent:()=>Du(o)},"state")})(t),(o=>{o.editorCommands.addCommands({InsertNewBlockBefore:()=>{(r=>{uT(r,!0)})(o)},InsertNewBlockAfter:()=>{(r=>{uT(r,!1)})(o)}})})(t),(o=>{o.editorCommands.addCommands({insertParagraph:()=>{Bk(rb,o)},mceInsertNewLine:(r,s,i)=>{V4(o,i)},InsertLineBreak:(r,s,i)=>{Bk(pA,o)}})})(t),(o=>{(r=>{const s=(i,c)=>{r.formatter.toggle(i,c),r.nodeChanged()};r.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>{s(i)},"ForeColor,HiliteColor":(i,c,d)=>{s(i,{value:d})},BackColor:(i,c,d)=>{s("hilitecolor",{value:d})},FontName:(i,c,d)=>{((m,f)=>{const y=e_(m,f);m.formatter.toggle("fontname",{value:Z6(y)}),m.nodeChanged()})(r,d)},FontSize:(i,c,d)=>{((m,f)=>{m.formatter.toggle("fontsize",{value:e_(m,f)}),m.nodeChanged()})(r,d)},LineHeight:(i,c,d)=>{((m,f)=>{m.formatter.toggle("lineheight",{value:String(f)}),m.nodeChanged()})(r,d)},Lang:(i,c,d)=>{var m;s(i,{value:d.code,customValue:(m=d.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:i=>{r.formatter.remove(i)},mceBlockQuote:()=>{s("blockquote")},FormatBlock:(i,c,d)=>{s(Je(d)?d:"p")},mceToggleFormat:(i,c,d)=>{s(d)}})})(o),(r=>{const s=i=>r.formatter.match(i);r.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>s(i),mceBlockQuote:()=>s("blockquote")},"state"),r.editorCommands.addQueryValueHandler("FontName",()=>(i=>$g(i,c=>cT(i.getBody(),c.dom)).getOr(""))(r)),r.editorCommands.addQueryValueHandler("FontSize",()=>(i=>$g(i,c=>lT(i.getBody(),c.dom)).getOr(""))(r)),r.editorCommands.addQueryValueHandler("LineHeight",()=>(i=>$g(i,c=>{const d=Se(i.getBody());return sg(c,f=>au(f,"line-height"),Ot(wr,d)).getOrThunk(()=>{const f=parseFloat(Qi(c,"line-height")),y=parseFloat(Qi(c,"font-size"));return String(f/y)})}).getOr(""))(r))})(o)})(t),(o=>{o.editorCommands.addCommands({mceRemoveNode:(r,s,i)=>{const c=i??o.selection.getNode();if(c!==o.getBody()){const d=o.selection.getBookmark();o.dom.remove(c,!0),o.selection.moveToBookmark(d)}},mcePrint:()=>{o.getWin().print()},mceFocus:(r,s,i)=>{((c,d)=>{c.removed||(d?by(c):(m=>{const f=m.selection,y=m.getBody();let v=f.getRng();m.quirks.refreshContentEditable();const k=F=>{Ox(F).each(N=>{F.selection.setRng(N),v=N})};!Rh(m)&&m.hasEditableRoot()&&k(m);const z=((F,N)=>F.dom.getParent(N,P=>F.dom.getContentEditable(P)==="true"))(m,f.getNode());if(z&&m.dom.isChildOf(z,y))return((F,N)=>F.dom.getParent(N,P=>F.dom.getContentEditable(P)==="false")!==null)(m,z)||hy(y),hy(z),m.hasEditableRoot()||k(m),$_(m,v),void by(m);m.inline||(lo.browser.isOpera()||hy(y),m.getWin().focus()),(lo.browser.isFirefox()||m.inline)&&(hy(y),$_(m,v)),by(m)})(c))})(o,i===!0)},mceToggleVisualAid:()=>{o.hasVisual=!o.hasVisual,o.addVisual()}})})(t)},mT=["toggleview"],$v=t=>co(mT,t.toLowerCase());class t_{constructor(o){this.commands={state:{},exec:{},value:{}},this.editor=o}execCommand(o,r=!1,s,i){const c=this.editor,d=o.toLowerCase(),m=i==null?void 0:i.skip_focus;if(c.removed||(d!=="mcefocus"&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)||m?(y=>{Ox(y).each(v=>y.selection.setRng(v))})(c):c.focus()),c.dispatch("BeforeExecCommand",{command:o,ui:r,value:s}).isDefaultPrevented()))return!1;const f=this.commands.exec[d];return!!ae(f)&&(f(d,r,s),c.dispatch("ExecCommand",{command:o,ui:r,value:s}),!0)}queryCommandState(o){if(!$v(o)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const r=o.toLowerCase(),s=this.commands.state[r];return!!ae(s)&&s(r)}queryCommandValue(o){if(!$v(o)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const r=o.toLowerCase(),s=this.commands.value[r];return ae(s)?s(r):""}addCommands(o,r="exec"){const s=this.commands;ft(o,(i,c)=>{ke(c.toLowerCase().split(","),d=>{s[r][d]=i})})}addCommand(o,r,s){const i=o.toLowerCase();this.commands.exec[i]=(c,d,m)=>r.call(s??this.editor,d,m)}queryCommandSupported(o){const r=o.toLowerCase();return!!this.commands.exec[r]}addQueryStateHandler(o,r,s){this.commands.state[o.toLowerCase()]=()=>r.call(s??this.editor)}addQueryValueHandler(o,r,s){this.commands.value[o.toLowerCase()]=()=>r.call(s??this.editor)}}const gT=ve.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class o_{static isNative(o){return!!gT[o.toLowerCase()]}constructor(o){this.bindings={},this.settings=o||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Bo}fire(o,r){return this.dispatch(o,r)}dispatch(o,r){const s=o.toLowerCase(),i=ep(s,r??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const c=this.bindings[s];if(c)for(let d=0,m=c.length;d<m;d++){const f=c[d];if(!f.removed){if(f.once&&this.off(s,f.func),i.isImmediatePropagationStopped())return i;if(f.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(o,r,s,i){if(r===!1&&(r=Bo),r){const c={func:r,removed:!1};i&&ve.extend(c,i);const d=o.toLowerCase().split(" ");let m=d.length;for(;m--;){const f=d[m];let y=this.bindings[f];y||(y=[],this.toggleEvent(f,!0)),y=s?[c,...y]:[...y,c],this.bindings[f]=y}}return this}off(o,r){if(o){const s=o.toLowerCase().split(" ");let i=s.length;for(;i--;){const c=s[i];let d=this.bindings[c];if(!c)return ft(this.bindings,(m,f)=>{this.toggleEvent(f,!1),delete this.bindings[f]}),this;if(d){if(r){const m=Uo(d,f=>f.func===r);d=m.fail,this.bindings[c]=d,ke(m.pass,f=>{f.removed=!0})}else d.length=0;d.length||(this.toggleEvent(o,!1),delete this.bindings[c])}}}else ft(this.bindings,(s,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(o,r,s){return this.on(o,r,s,{once:!0})}has(o){o=o.toLowerCase();const r=this.bindings[o];return!(!r||r.length===0)}}const d0=t=>(t._eventDispatcher||(t._eventDispatcher=new o_({scope:t,toggleEvent:(o,r)=>{o_.isNative(o)&&t.toggleNativeEvent&&t.toggleNativeEvent(o,r)}})),t._eventDispatcher),n_={fire(t,o,r){return console.warn('The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',new Error().stack),this.dispatch(t,o,r)},dispatch(t,o,r){const s=this;if(s.removed&&t!=="remove"&&t!=="detach")return ep(t.toLowerCase(),o??{},s);const i=d0(s).dispatch(t,o);if(r!==!1&&s.parent){let c=s.parent();for(;c&&!i.isPropagationStopped();)c.dispatch(t,i,!1),c=c.parent?c.parent():void 0}return i},on(t,o,r){return d0(this).on(t,o,r)},off(t,o){return d0(this).off(t,o)},once(t,o){return d0(this).once(t,o)},hasEventListeners(t){return d0(this).has(t)}},Uv=Za.DOM;let Fp;const r_=(t,o)=>{if(o==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(o))return t.getDoc().documentElement;const r=nx(t);return r?(t.eventRoot||(t.eventRoot=Uv.select(r)[0]),t.eventRoot):t.getBody()},pT=(t,o,r)=>{(s=>!s.hidden&&!zp(s))(t)?t.dispatch(o,r):zp(t)&&((s,i)=>{if((c=>c.type==="click")(i)&&!un.metaKeyPressed(i)){const c=Se(i.target);((d,m)=>Pl(m,"a",f=>wr(f,Se(d.getBody()))).bind(f=>br(f,"href")))(s,c).each(d=>{if(i.preventDefault(),/^#/.test(d)){const m=s.dom.select(`${d},[name="${Tt(d,"#")}"]`);m.length&&s.selection.scrollIntoView(m[0],!0)}else window.open(d,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else(c=>co(V5,c.type))(i)&&s.dispatch(i.type,i)})(t,r)},fT=(t,o)=>{if(t.delegates||(t.delegates={}),t.delegates[o]||t.removed)return;const r=r_(t,o);if(nx(t)){if(Fp||(Fp={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||Fp&&(ft(Fp,(i,c)=>{t.dom.unbind(r_(t,c))}),Fp=null)})),Fp[o])return;const s=i=>{const c=i.target,d=t.editorManager.get();let m=d.length;for(;m--;){const f=d[m].getBody();(f===c||Uv.isChildOf(c,f))&&pT(d[m],o,i)}};Fp[o]=s,Uv.bind(r,o,s)}else{const s=i=>{pT(t,o,i)};Uv.bind(r,o,s),t.delegates[o]=s}},hT={...n_,bindPendingEventDelegates(){const t=this;ve.each(t._pendingNativeEvents,o=>{fT(t,o)})},toggleNativeEvent(t,o){const r=this;t!=="focus"&&t!=="blur"&&(r.removed||(o?r.initialized?fT(r,t):r._pendingNativeEvents?r._pendingNativeEvents.push(t):r._pendingNativeEvents=[t]:r.initialized&&r.delegates&&(r.dom.unbind(r_(r,t),t,r.delegates[t]),delete r.delegates[t])))},unbindAllNativeEvents(){const t=this,o=t.getBody(),r=t.dom;t.delegates&&(ft(t.delegates,(s,i)=>{t.dom.unbind(r_(t,i),i,s)}),delete t.delegates),!t.inline&&o&&r&&(o.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(o),r.unbind(t.getContainer()))}},q6=t=>Je(t)?{value:t.split(/[ ,]/),valid:!0}:sn(t,Je)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},wS=(t,o)=>t+(Kt(o.message)?"":`. ${o.message}`),Ug=t=>t.valid,Zv=(t,o,r="")=>{const s=o(t);return St(s)?s?{value:t,valid:!0}:{valid:!1,message:r}:s},u0=t=>t.readonly,kS=["design","readonly"],a_=(t,o,r,s)=>{const i=r[o.get()],c=r[s];try{c.activate()}catch(d){return void console.error(`problem while activating editor mode ${s}:`,d)}i.deactivate(),i.editorReadOnly!==c.editorReadOnly&&((d,m)=>{const f=Se(d.getBody());m?(d.readonly=!0,d.hasEditableRoot()&&(f.dom.contentEditable="true"),JE(d)):(d.readonly=!1,QE(d))})(t,c.editorReadOnly),o.set(s),((d,m)=>{d.dispatch("SwitchMode",{mode:m})})(t,s)},bT=t=>{const o=Tr("design"),r=Tr({design:{activate:Ro,deactivate:Ro,editorReadOnly:!1},readonly:{activate:Ro,deactivate:Ro,editorReadOnly:!0}});return(s=>{const i=d=>{u0(s)&&(m=>xo(m,f=>f.type==="characterData"||f.type==="childList"))(d)&&(m=>{const f=m.undoManager.add();Xe(f)&&(m.undoManager.undo(),m.undoManager.reset())})(s)},c=new MutationObserver(i);s.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",d=>{u0(s)&&d.preventDefault()}),s.on("BeforeExecCommand",d=>{d.command!=="Undo"&&d.command!=="Redo"||!u0(s)||d.preventDefault()}),s.on("compositionstart",()=>{u0(s)&&c.observe(s.getBody(),{characterData:!0,childList:!0,subtree:!0})}),s.on("compositionend",()=>{if(u0(s)){const d=c.takeRecords();i(d)}c.disconnect()})})(t),(s=>{(i=>{i.serializer?ez(i):i.on("PreInit",()=>{ez(i)})})(s),(i=>{i.on("ShowCaret ObjectSelected",c=>{zp(i)&&c.preventDefault()}),i.on("DisabledStateChange",c=>{c.isDefaultPrevented()||vC(i,c.state)})})(s)})(t),{isReadOnly:()=>u0(t),set:s=>((i,c,d,m)=>{if(!(m===d.get()||i.initialized&&zp(i))){if(!on(c,m))throw new Error(`Editor mode '${m}' is invalid`);i.initialized?a_(i,d,c,m):i.on("init",()=>a_(i,d,c,m))}})(t,r.get(),o,s),get:()=>o.get(),register:(s,i)=>{r.set(((c,d,m)=>{if(co(kS,d))throw new Error(`Cannot override default mode ${d}`);return{...c,[d]:{...m,deactivate:()=>{try{m.deactivate()}catch(f){console.error(`problem while deactivating editor mode ${d}:`,f)}}}}})(r.get(),s,i))}}},s_=ve.each,i_=ve.explode,W6={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},m0=ve.makeMap("alt,ctrl,shift,meta,access"),l_=t=>{const o={},r=lo.os.isMacOS()||lo.os.isiOS();s_(i_(t.toLowerCase(),"+"),c=>{(d=>d in m0)(c)?o[c]=!0:/^[0-9]{2,}$/.test(c)?o.keyCode=parseInt(c,10):(o.charCode=c.charCodeAt(0),o.keyCode=W6[c]||c.toUpperCase().charCodeAt(0))});const s=[o.keyCode];let i;for(i in m0)o[i]?s.push(i):o[i]=!1;return o.id=s.join(","),o.access&&(o.alt=!0,r?o.ctrl=!0:o.shift=!0),o.meta&&(r?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o};class _S{constructor(o){this.shortcuts={},this.pendingPatterns=[],this.editor=o;const r=this;o.on("keyup keypress keydown",s=>{!r.hasModifier(s)&&!r.isFunctionKey(s)||s.isDefaultPrevented()||(s_(r.shortcuts,i=>{r.matchShortcut(s,i)&&(r.pendingPatterns=i.subpatterns.slice(0),s.type==="keydown"&&r.executeShortcutAction(i))}),r.matchShortcut(s,r.pendingPatterns[0])&&(r.pendingPatterns.length===1&&s.type==="keydown"&&r.executeShortcutAction(r.pendingPatterns[0]),r.pendingPatterns.shift()))})}add(o,r,s,i){const c=this,d=c.normalizeCommandFunc(s);return s_(i_(ve.trim(o)),m=>{const f=c.createShortcut(m,r,d,i);c.shortcuts[f.id]=f}),!0}remove(o){const r=this.createShortcut(o);return!!this.shortcuts[r.id]&&(delete this.shortcuts[r.id],!0)}normalizeCommandFunc(o){const r=this,s=o;return typeof s=="string"?()=>{r.editor.execCommand(s,!1,null)}:ve.isArray(s)?()=>{r.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(o,r,s,i){const c=ve.map(i_(o,">"),l_);return c[c.length-1]=ve.extend(c[c.length-1],{func:s,scope:i||this.editor}),ve.extend(c[0],{desc:this.editor.translate(r),subpatterns:c.slice(1)})}hasModifier(o){return o.altKey||o.ctrlKey||o.metaKey}isFunctionKey(o){return o.type==="keydown"&&o.keyCode>=112&&o.keyCode<=123}matchShortcut(o,r){return!!r&&r.ctrl===o.ctrlKey&&r.meta===o.metaKey&&r.alt===o.altKey&&r.shift===o.shiftKey&&!!(o.keyCode===r.keyCode||o.charCode&&o.charCode===r.charCode)&&(o.preventDefault(),!0)}executeShortcutAction(o){return o.func?o.func.call(o.scope):null}}const yT=()=>{const t=(()=>{const o={},r={},s={},i={},c={},d={},m={},f={},y={},v=(z,F)=>(N,P)=>{z[N.toLowerCase()]={...P,type:F}};return{addButton:v(o,"button"),addGroupToolbarButton:v(o,"grouptoolbarbutton"),addToggleButton:v(o,"togglebutton"),addMenuButton:v(o,"menubutton"),addSplitButton:v(o,"splitbutton"),addMenuItem:v(r,"menuitem"),addNestedMenuItem:v(r,"nestedmenuitem"),addToggleMenuItem:v(r,"togglemenuitem"),addAutocompleter:v(s,"autocompleter"),addContextMenu:v(c,"contextmenu"),addContextToolbar:v(d,"contexttoolbar"),addContextForm:(k=d,(z,F)=>{k[z.toLowerCase()]={type:"contextform",...F}}),addSidebar:v(f,"sidebar"),addView:v(y,"views"),addIcon:(z,F)=>i[z.toLowerCase()]=F,addContext:(z,F)=>m[z.toLowerCase()]=F,getAll:()=>({buttons:o,menuItems:r,icons:i,popups:s,contextMenus:c,contextToolbars:d,sidebars:f,views:y,contexts:m})};var k})();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,addContext:t.addContext,getAll:t.getAll}},Gf=Za.DOM,CS=ve.extend,c_=ve.each;class g0{constructor(o,r,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,CS(this,hT);const i=this;this.id=o,this.hidden=!1;const c=((F,N)=>{const P=Yo(N);return jg(nT||rT,nT,P,F,P)})(s.defaultOptions,r);this.options=((F,N,P=N)=>{const M={},j={},Y=(ie,ne,we)=>{const Ye=Zv(ne,we);return Ug(Ye)?(j[ie]=Ye.value,!0):(console.warn(wS(`Invalid value passed for the ${ie} option`,Ye)),!1)},X=ie=>on(M,ie);return{register:(ie,ne)=>{const we=(Ve=>Je(Ve.processor))(ne)?(Ve=>{const at=(()=>{switch(Ve){case"array":return ao;case"boolean":return St;case"function":return ae;case"number":return pt;case"object":return bt;case"string":return Je;case"string[]":return q6;case"object[]":return Mt=>sn(Mt,bt);case"regexp":return Mt=>Gt(Mt,RegExp);default:return je}})();return Mt=>Zv(Mt,at,`The value must be a ${Ve}.`)})(ne.processor):ne.processor,Ye=((Ve,at,Mt)=>{if(!wo(at)){const Ae=Zv(at,Mt);if(Ug(Ae))return Ae.value;console.error(wS(`Invalid default value passed for the "${Ve}" option`,Ae))}})(ie,ne.default,we);M[ie]={...ne,default:Ye,processor:we},Cn(j,ie).orThunk(()=>Cn(N,ie)).each(Ve=>Y(ie,Ve,we))},isRegistered:X,get:ie=>Cn(j,ie).orThunk(()=>Cn(M,ie).map(ne=>ne.default)).getOrUndefined(),set:(ie,ne)=>{if(X(ie)){const we=M[ie];return we.immutable?(console.error(`"${ie}" is an immutable option and cannot be updated`),!1):Y(ie,ne,we.processor)}return console.warn(`"${ie}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ie=>{const ne=X(ie);return ne&&delete j[ie],ne},isSet:ie=>on(j,ie),debug:()=>{try{JSON.parse(JSON.stringify(P,(ie,ne)=>St(ne)||pt(ne)||Je(ne)||Te(ne)||ao(ne)||no(ne)?ne:Object.prototype.toString.call(ne)))}catch(ie){console.error(ie)}}}})(0,c,r),(F=>{const N=F.options.register;N("id",{processor:"string",default:F.id}),N("selector",{processor:"string"}),N("target",{processor:"object"}),N("suffix",{processor:"string"}),N("cache_suffix",{processor:"string"}),N("base_url",{processor:"string"}),N("referrer_policy",{processor:"string",default:""}),N("language_load",{processor:"boolean",default:!0}),N("inline",{processor:"boolean",default:!1}),N("iframe_attrs",{processor:"object",default:{}}),N("doctype",{processor:"string",default:"<!DOCTYPE html>"}),N("document_base_url",{processor:"string",default:F.documentBaseUrl}),N("body_id",{processor:Hm(F,"tinymce"),default:"tinymce"}),N("body_class",{processor:Hm(F),default:""}),N("content_security_policy",{processor:"string",default:""}),N("br_in_pre",{processor:"boolean",default:!0}),N("forced_root_block",{processor:P=>{const M=Je(P)&&Be(P);return M?{value:P,valid:M}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),N("forced_root_block_attrs",{processor:"object",default:{}}),N("newline_behavior",{processor:P=>{const M=co(["block","linebreak","invert","default"],P);return M?{value:P,valid:M}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),N("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),N("no_newline_selector",{processor:"string",default:""}),N("keep_styles",{processor:"boolean",default:!0}),N("end_container_on_empty_block",{processor:P=>St(P)||Je(P)?{valid:!0,value:P}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),N("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),N("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),N("font_size_classes",{processor:"string",default:""}),N("automatic_uploads",{processor:"boolean",default:!0}),N("images_reuse_filename",{processor:"boolean",default:!1}),N("images_replace_blob_uris",{processor:"boolean",default:!0}),N("icons",{processor:"string",default:""}),N("icons_url",{processor:"string",default:""}),N("images_upload_url",{processor:"string",default:""}),N("images_upload_base_path",{processor:"string",default:""}),N("images_upload_credentials",{processor:"boolean",default:!1}),N("images_upload_handler",{processor:"function"}),N("language",{processor:"string",default:"en"}),N("language_url",{processor:"string",default:""}),N("entity_encoding",{processor:"string",default:"named"}),N("indent",{processor:"boolean",default:!0}),N("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),N("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),N("indent_use_margin",{processor:"boolean",default:!1}),N("indentation",{processor:"string",default:"40px"}),N("content_css",{processor:P=>{const M=P===!1||Je(P)||sn(P,Je);return M?Je(P)?{value:No(P.split(","),ur),valid:M}:ao(P)?{value:P,valid:M}:P===!1?{value:[],valid:M}:{value:P,valid:M}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:wu(F)?[]:["default"]}),N("content_style",{processor:"string"}),N("content_css_cors",{processor:"boolean",default:!1}),N("font_css",{processor:P=>{const M=Je(P)||sn(P,Je);return M?{value:ao(P)?P:No(P.split(","),ur),valid:M}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),N("extended_mathml_attributes",{processor:"string[]"}),N("extended_mathml_elements",{processor:"string[]"}),N("inline_boundaries",{processor:"boolean",default:!0}),N("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),N("object_resizing",{processor:P=>{const M=St(P)||Je(P);return M?P===!1||rf.isiPhone()||rf.isiPad()?{value:"",valid:M}:{value:P===!0?"table,img,figure.image,div,video,iframe":P,valid:M}:{valid:!1,message:"Must be boolean or a string"}},default:!H0}),N("resize_img_proportional",{processor:"boolean",default:!0}),N("event_root",{processor:"string"}),N("service_message",{processor:"string"}),N("onboarding",{processor:"boolean",default:!0}),N("tiny_cloud_entry_url",{processor:"string"}),N("theme",{processor:P=>P===!1||Je(P)||ae(P),default:"silver"}),N("theme_url",{processor:"string"}),N("formats",{processor:"object"}),N("format_empty_lines",{processor:"boolean",default:!1}),N("format_noneditable_selector",{processor:"string",default:""}),N("preview_styles",{processor:P=>{const M=P===!1||Je(P);return M?{value:P===!1?"":P,valid:M}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),N("custom_ui_selector",{processor:"string",default:""}),N("hidden_input",{processor:"boolean",default:!0}),N("submit_patch",{processor:"boolean",default:!0}),N("encoding",{processor:"string"}),N("add_form_submit_trigger",{processor:"boolean",default:!0}),N("add_unload_trigger",{processor:"boolean",default:!0}),N("custom_undo_redo_levels",{processor:"number",default:0}),N("disable_nodechange",{processor:"boolean",default:!1}),N("disabled",{processor:P=>St(P)?(F.initialized&&wi(F)!==P&&Promise.resolve().then(()=>{((M,j)=>{M.dispatch("DisabledStateChange",{state:j})})(F,P)}),{valid:!0,value:P}):{valid:!1,message:"The value must be a boolean."},default:!1}),N("readonly",{processor:"boolean",default:!1}),N("editable_root",{processor:"boolean",default:!0}),N("plugins",{processor:"string[]",default:[]}),N("external_plugins",{processor:"object"}),N("forced_plugins",{processor:"string[]"}),N("model",{processor:"string",default:F.hasPlugin("rtc")?"plugin":"dom"}),N("model_url",{processor:"string"}),N("block_unsupported_drop",{processor:"boolean",default:!0}),N("visual",{processor:"boolean",default:!0}),N("visual_table_class",{processor:"string",default:"mce-item-table"}),N("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),N("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(F.hasPlugin("help")?". Press ALT-0 for help.":"")}),N("setup",{processor:"function"}),N("init_instance_callback",{processor:"function"}),N("url_converter",{processor:"function",default:F.convertURL}),N("url_converter_scope",{processor:"object",default:F}),N("urlconverter_callback",{processor:"function"}),N("allow_conditional_comments",{processor:"boolean",default:!1}),N("allow_html_data_urls",{processor:"boolean",default:!1}),N("allow_svg_data_urls",{processor:"boolean"}),N("allow_html_in_named_anchor",{processor:"boolean",default:!1}),N("allow_script_urls",{processor:"boolean",default:!1}),N("allow_unsafe_link_target",{processor:"boolean",default:!1}),N("allow_mathml_annotation_encodings",{processor:P=>{const M=sn(P,Je);return M?{value:P,valid:M}:{valid:!1,message:"Must be an array of strings."}},default:[]}),N("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),N("fix_list_elements",{processor:"boolean",default:!1}),N("preserve_cdata",{processor:"boolean",default:!1}),N("remove_trailing_brs",{processor:"boolean",default:!0}),N("pad_empty_with_br",{processor:"boolean",default:!1}),N("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),N("element_format",{processor:"string",default:"html"}),N("entities",{processor:"string"}),N("schema",{processor:"string",default:"html5"}),N("convert_urls",{processor:"boolean",default:!0}),N("relative_urls",{processor:"boolean",default:!0}),N("remove_script_host",{processor:"boolean",default:!0}),N("custom_elements",{processor:Zb}),N("extended_valid_elements",{processor:"string"}),N("invalid_elements",{processor:"string"}),N("invalid_styles",{processor:Zb}),N("valid_children",{processor:"string"}),N("valid_classes",{processor:Zb}),N("valid_elements",{processor:"string"}),N("valid_styles",{processor:Zb}),N("verify_html",{processor:"boolean",default:!0}),N("auto_focus",{processor:P=>Je(P)||P===!0}),N("browser_spellcheck",{processor:"boolean",default:!1}),N("protect",{processor:"array"}),N("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),N("deprecation_warnings",{processor:"boolean",default:!0}),N("a11y_advanced_options",{processor:"boolean",default:!1}),N("api_key",{processor:"string"}),N("license_key",{processor:"string"}),N("paste_block_drop",{processor:"boolean",default:!1}),N("paste_data_images",{processor:"boolean",default:!0}),N("paste_preprocess",{processor:"function"}),N("paste_postprocess",{processor:"function"}),N("paste_webkit_styles",{processor:"string",default:"none"}),N("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),N("paste_merge_formats",{processor:"boolean",default:!0}),N("smart_paste",{processor:"boolean",default:!0}),N("paste_as_text",{processor:"boolean",default:!1}),N("paste_tab_spaces",{processor:"number",default:4}),N("text_patterns",{processor:P=>sn(P,bt)||P===!1?{value:Ub(P===!1?[]:P),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),N("text_patterns_lookup",{processor:P=>{return ae(P)?{value:(M=P,j=>{const Y=M(j);return Ub(Y)}),valid:!0}:{valid:!1,message:"Must be a single function"};var M},default:P=>[]}),N("noneditable_class",{processor:"string",default:"mceNonEditable"}),N("editable_class",{processor:"string",default:"mceEditable"}),N("noneditable_regexp",{processor:P=>sn(P,V0)?{value:P,valid:!0}:V0(P)?{value:[P],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),N("table_tab_navigation",{processor:"boolean",default:!0}),N("highlight_on_focus",{processor:"boolean",default:!0}),N("xss_sanitization",{processor:"boolean",default:!0}),N("details_initial_state",{processor:P=>{const M=co(["inherited","collapsed","expanded"],P);return M?{value:P,valid:M}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),N("details_serialized_state",{processor:P=>{const M=co(["inherited","collapsed","expanded"],P);return M?{value:P,valid:M}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),N("init_content_sync",{processor:"boolean",default:!1}),N("newdocument_content",{processor:"string",default:""}),N("sandbox_iframes",{processor:"boolean",default:!0}),N("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),N("convert_unsafe_embeds",{processor:"boolean",default:!0}),F.on("ScriptsLoaded",()=>{N("directionality",{processor:"string",default:kd.isRtl()?"rtl":void 0}),N("placeholder",{processor:"string",default:E_.getAttrib(F.getElement(),"placeholder")})})})(i);const d=this.options.get;d("deprecation_warnings")&&((F,N)=>{((P,M)=>{const j=R5(P),Y=F5(M),X=Y.length>0,ie=j.length>0,ne=M.theme==="mobile";if(X||ie||ne){const we=`
- `,Ye=ne?`

Themes:${we}mobile`:"",Ve=X?`

Plugins:${we}${Y.join(we)}`:"",at=ie?`

Options:${we}${j.join(we)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+Ye+Ve+at)}})(F,N),((P,M)=>{const j=B5(P),Y=L5(M),X=Y.length>0,ie=j.length>0;if(X||ie){const ne=`
- `,we=X?`

Plugins:${ne}${Y.map(I5).join(ne)}`:"",Ye=ie?`

Options:${ne}${j.join(ne)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+we+Ye)}})(F,N)})(r,c);const m=d("suffix");m&&(s.suffix=m),this.suffix=s.suffix;const f=d("base_url");f&&s._setBaseUrl(f),this.baseUri=s.baseURI;const y=kh(i);y&&(ql.ScriptLoader._setReferrerPolicy(y),Za.DOM.styleSheetLoader._setReferrerPolicy(y));const v=W0(i);Xe(v)&&Za.DOM.styleSheetLoader._setContentCssCors(v),gl.languageLoad=d("language_load"),gl.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Au(yh(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=wu(i),this.hasVisual=zd(i),this.shortcuts=new _S(this),this.editorCommands=new t_(this),db(this);const k=d("cache_suffix");k&&(lo.cacheSuffix=k.replace(/^[\?\&]+/,"")),this.ui={registry:yT(),styleSheetLoader:void 0,show:Ro,hide:Ro,setEnabled:Ro,isEnabled:je},this.mode=bT(i),s.dispatch("SetupEditor",{editor:this});const z=Zr(i);ae(z)&&z.call(i,i)}render(){(o=>{const r=o.id;kd.setCode(rm(o));const s=()=>{Bp.unbind(window,"ready",s),o.render()};if(!Zl.Event.domLoaded)return void Bp.bind(window,"ready",s);if(!o.getElement())return;const i=Se(o.getElement()),c=ng(i);o.on("remove",()=>{Ft(i.dom.attributes,m=>ja(i,m.name)),Mc(i,c)}),o.ui.styleSheetLoader=((m,f)=>Li.forElement(m,{contentCssCors:W0(f),referrerPolicy:kh(f)}))(i,o),wu(o)?o.inline=!0:(o.orgVisibility=o.getElement().style.visibility,o.getElement().style.visibility="hidden");const d=o.getElement().form||Bp.getParent(r,"form");d&&(o.formElement=d,Ed(o)&&!Hd(o.getElement())&&(Bp.insertAfter(Bp.create("input",{type:"hidden",name:r}),r),o.hasHiddenInput=!0),o.formEventDelegate=m=>{o.dispatch(m.type,m)},Bp.bind(d,"submit reset",o.formEventDelegate),o.on("reset",()=>{o.resetContent()}),!cp(o)||d.submit.nodeType||d.submit.length||d._mceOldSubmit||(d._mceOldSubmit=d.submit,d.submit=()=>(o.editorManager.triggerSave(),o.setDirty(!1),d._mceOldSubmit(d)))),o.windowManager=bC(o),o.notificationManager=XE(o),(m=>m.options.get("encoding")==="xml")(o)&&o.on("GetContent",m=>{m.save&&(m.content=Bp.encode(m.content))}),Ac(o)&&o.on("submit",()=>{o.initialized&&o.save()}),dp(o)&&(o._beforeUnload=()=>{!o.initialized||o.destroyed||o.isHidden()||o.save({format:"raw",no_events:!0,set_dirty:!1})},o.editorManager.on("BeforeUnload",o._beforeUnload)),o.editorManager.add(o),U6(o,o.suffix)})(this)}focus(o){this.execCommand("mceFocus",!1,o)}hasFocus(){return Rh(this)}translate(o){return kd.translate(o)}getParam(o,r,s){const i=this.options;return i.isRegistered(o)||(Xe(s)?i.register(o,{processor:s,default:r}):i.register(o,{processor:je,default:r})),i.isSet(o)||wo(r)?i.get(o):r}hasPlugin(o,r){return!(!co(Qb(this),o)||r&&Iy.get(o)===void 0)}nodeChanged(o){this._nodeChangeDispatcher.nodeChanged(o)}addCommand(o,r,s){this.editorCommands.addCommand(o,r,s)}addQueryStateHandler(o,r,s){this.editorCommands.addQueryStateHandler(o,r,s)}addQueryValueHandler(o,r,s){this.editorCommands.addQueryValueHandler(o,r,s)}addShortcut(o,r,s,i){this.shortcuts.add(o,r,s,i)}execCommand(o,r,s,i){return this.editorCommands.execCommand(o,r,s,i)}queryCommandState(o){return this.editorCommands.queryCommandState(o)}queryCommandValue(o){return this.editorCommands.queryCommandValue(o)}queryCommandSupported(o){return this.editorCommands.queryCommandSupported(o)}show(){const o=this;o.hidden&&(o.hidden=!1,o.inline?o.getBody().contentEditable="true":(Gf.show(o.getContainer()),Gf.hide(o.id)),o.load(),o.dispatch("show"))}hide(){const o=this;o.hidden||(o.save(),o.inline?(o.getBody().contentEditable="false",o===o.editorManager.focusedEditor&&(o.editorManager.focusedEditor=null)):(Gf.hide(o.getContainer()),Gf.setStyle(o.id,"display",o.orgDisplay)),o.hidden=!0,o.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(o,r){this.dispatch("ProgressState",{state:o,time:r})}load(o={}){const r=this,s=r.getElement();if(r.removed)return"";if(s){const i={...o,load:!0},c=Hd(s)?s.value:s.innerHTML,d=r.setContent(c,i);return i.no_events||r.dispatch("LoadContent",{...i,element:s}),d}return""}save(o={}){const r=this;let s=r.getElement();if(!s||!r.initialized||r.removed)return"";const i={...o,save:!0,element:s};let c=r.getContent(i);const d={...i,content:c};if(d.no_events||r.dispatch("SaveContent",d),d.format==="raw"&&r.dispatch("RawSaveContent",d),c=d.content,Hd(s))s.value=c;else{!o.is_removing&&r.inline||(s.innerHTML=c);const m=Gf.getParent(r.id,"form");m&&c_(m.elements,f=>f.name!==r.id||(f.value=c,!1))}return d.element=i.element=s=null,d.set_dirty!==!1&&r.setDirty(!1),c}setContent(o,r){return pC(this,o,r)}getContent(o){return((r,s={})=>{const i=((c,d)=>({...c,format:d,get:!0,getInner:!0}))(s,s.format?s.format:"html");return sC(r,i).fold(D,c=>{const d=((m,f)=>gC(m).editor.getContent(f))(r,c);return Aw(r,d,c)})})(this,o)}insertContent(o,r){r&&(o=CS({content:o},r)),this.execCommand("mceInsertContent",!1,o)}resetContent(o){o===void 0?pC(this,this.startContent,{format:"raw"}):pC(this,o),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(o){const r=!this.isNotDirty;this.isNotDirty=!o,o&&o!==r&&this.dispatch("dirty")}getContainer(){const o=this;return o.container||(o.container=o.editorContainer||Gf.get(o.id+"_parent")),o.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Gf.get(this.id)),this.targetElm}getWin(){const o=this;if(!o.contentWindow){const r=o.iframeElement;r&&(o.contentWindow=r.contentWindow)}return o.contentWindow}getDoc(){const o=this;if(!o.contentDocument){const r=o.getWin();r&&(o.contentDocument=r.document)}return o.contentDocument}getBody(){var o,r;const s=this.getDoc();return(r=(o=this.bodyElement)!==null&&o!==void 0?o:s==null?void 0:s.body)!==null&&r!==void 0?r:null}convertURL(o,r,s){const i=this,c=i.options.get,d=uf(i);if(ae(d))return d.call(i,o,s,!0,r);if(!c("convert_urls")||s==="link"||bt(s)&&s.nodeName==="LINK"||o.indexOf("file:")===0||o.length===0)return o;const m=new Au(o);return m.protocol!=="http"&&m.protocol!=="https"&&m.protocol!==""?o:c("relative_urls")?i.documentBaseURI.toRelative(o):o=i.documentBaseURI.toAbsolute(o,c("remove_script_host"))}addVisual(o){((r,s)=>{((i,c)=>{sl(i).editor.addVisual(c)})(r,s)})(this,o)}setEditableRoot(o){((r,s)=>{r._editableRoot!==s&&(r._editableRoot=s,zp(r)||(r.getBody().contentEditable=String(r.hasEditableRoot()),r.nodeChanged()),((i,c)=>{i.dispatch("EditableRootStateChange",{state:c})})(r,s))})(this,o)}hasEditableRoot(){return this._editableRoot}remove(){(o=>{if(!o.removed){const{_selectionOverrides:r,editorUpload:s}=o,i=o.getBody(),c=o.getElement();i&&o.save({is_removing:!0}),o.removed=!0,o.unbindAllNativeEvents(),o.hasHiddenInput&&Xe(c==null?void 0:c.nextSibling)&&Bw.remove(c.nextSibling),(d=>{d.dispatch("remove")})(o),o.editorManager.remove(o),!o.inline&&i&&(d=>{Bw.setStyle(d.id,"display",d.orgDisplay)})(o),(d=>{d.dispatch("detach")})(o),Bw.remove(o.getContainer()),$h(r),$h(s),o.destroy()}})(this)}destroy(o){((r,s)=>{const{selection:i,dom:c}=r;r.destroyed||(s||r.removed?(s||(r.editorManager.off("beforeunload",r._beforeUnload),r.theme&&r.theme.destroy&&r.theme.destroy(),$h(i),$h(c)),(d=>{const m=d.formElement;m&&(m._mceOldSubmit&&(m.submit=m._mceOldSubmit,delete m._mceOldSubmit),Bw.unbind(m,"submit reset",d.formEventDelegate))})(r),(d=>{const m=d;m.contentAreaContainer=m.formElement=m.container=m.editorContainer=null,m.bodyElement=m.contentDocument=m.contentWindow=null,m.iframeElement=m.targetElm=null;const f=d.selection;if(f){const y=f.dom;m.selection=f.win=f.dom=y.doc=null}})(r),r.destroyed=!0):r.remove())})(this,o)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Zg=Za.DOM,d_=ve.each;let qv,vT=!1,cd=[];const Wv=t=>{const o=t.type;d_(Fd.get(),r=>{switch(o){case"scroll":r.dispatch("ScrollWindow",t);break;case"resize":r.dispatch("ResizeWindow",t)}})},SS=t=>{if(t!==vT){const o=Za.DOM;t?(o.bind(window,"resize",Wv),o.bind(window,"scroll",Wv)):(o.unbind(window,"resize",Wv),o.unbind(window,"scroll",Wv)),vT=t}},xT=t=>{const o=cd;return cd=Ue(cd,r=>t!==r),Fd.activeEditor===t&&(Fd.activeEditor=cd.length>0?cd[0]:null),Fd.focusedEditor===t&&(Fd.focusedEditor=null),o.length!==cd.length},ES=document.compatMode!=="CSS1Compat",Fd={...n_,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"9.0",releaseDate:"2025-05-15",i18n:kd,activeEditor:null,focusedEditor:null,setup(){const t=this;let o="",r="",s=Au.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)o=i.base||i.baseURL,r=i.suffix;else{const d=document.getElementsByTagName("script");for(let m=0;m<d.length;m++){const f=d[m].src||"";if(f==="")continue;const y=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){y.indexOf(".min")!==-1&&(r=".min"),o=f.substring(0,f.lastIndexOf("/"));break}}if(!o&&document.currentScript){const m=document.currentScript.src;m.indexOf(".min")!==-1&&(r=".min"),o=m.substring(0,m.lastIndexOf("/"))}}var c;t.baseURL=new Au(s).toAbsolute(o),t.documentBaseURL=s,t.baseURI=new Au(t.baseURL),t.suffix=r,(c=t).on("AddEditor",Ot(j_,c)),c.on("RemoveEditor",Ot(JT,c))},overrideDefaults(t){const o=t.base_url;o&&this._setBaseUrl(o);const r=t.suffix;r&&(this.suffix=r),this.defaultOptions=t;const s=t.plugin_base_urls;s!==void 0&&ft(s,(i,c)=>{gl.PluginManager.urls[c]=i})},init(t){const o=this;let r;const s=ve.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let i=d=>{r=d};const c=()=>{let d=0;const m=[];let f;Zg.unbind(window,"ready",c),(()=>{const y=t.onpageload;y&&y.apply(o,[])})(),f=_n((y=>lo.browser.isIE()||lo.browser.isEdge()?(Py("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):ES?(Py("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Je(y.selector)?Zg.select(y.selector):Xe(y.target)?[y.target]:[])(t)),ve.each(f,y=>{var v;(v=o.get(y.id))&&v.initialized&&!(v.getContainer()||v.getBody()).parentNode&&(xT(v),v.unbindAllNativeEvents(),v.destroy(!0),v.removed=!0)}),f=ve.grep(f,y=>!o.get(y.id)),f.length===0?i([]):d_(f,y=>{((v,k)=>v.inline&&k.tagName.toLowerCase()in s)(t,y)?Py("Could not initialize inline editor on invalid inline target element",y):((v,k,z)=>{const F=new g0(v,k,o);m.push(F),F.on("init",()=>{++d===f.length&&i(m)}),F.targetElm=F.targetElm||z,F.render()})((v=>{let k=v.id;return k||(k=Cn(v,"name").filter(z=>!Zg.get(z)).getOrThunk(Zg.uniqueId),v.setAttribute("id",k)),k})(y),t,y)})};return Zg.bind(window,"ready",c),new Promise(d=>{r?d(r):i=m=>{d(m)}})},get(t){return arguments.length===0?cd.slice(0):Je(t)?Ie(cd,o=>o.id===t).getOr(null):pt(t)&&cd[t]?cd[t]:null},add(t){const o=this,r=o.get(t.id);return r===t||(r===null&&cd.push(t),SS(!0),o.activeEditor=t,o.dispatch("AddEditor",{editor:t}),qv||(qv=s=>{const i=o.dispatch("BeforeUnload");if(i.returnValue)return s.preventDefault(),s.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",qv))),t},createEditor(t,o){return this.add(new g0(t,o,this))},remove(t){const o=this;let r;if(t){if(!Je(t))return r=t,Te(o.get(r.id))?null:(xT(r)&&o.dispatch("RemoveEditor",{editor:r}),cd.length===0&&window.removeEventListener("beforeunload",qv),r.remove(),SS(cd.length>0),r);d_(Zg.select(t),s=>{r=o.get(s.id),r&&o.remove(r)})}else for(let s=cd.length-1;s>=0;s--)o.remove(cd[s])},execCommand(t,o,r){var s;const i=this,c=bt(r)?(s=r.id)!==null&&s!==void 0?s:r.index:r;switch(t){case"mceAddEditor":if(!i.get(c)){const d=r.options;new g0(c,d,i).render()}return!0;case"mceRemoveEditor":{const d=i.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=i.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(i.execCommand("mceAddEditor",!1,r),!0)}}return!!i.activeEditor&&i.activeEditor.execCommand(t,o,r)},triggerSave:()=>{d_(cd,t=>{t.save()})},addI18n:(t,o)=>{kd.add(t,o)},translate:t=>kd.translate(t),setActive(t){const o=this.activeEditor;this.activeEditor!==t&&(o&&o.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:o})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new Au(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Au(this.baseURL)}};Fd.setup();const wT=(()=>{const t=Fe();return{FakeClipboardItem:o=>({items:o,types:Dt(o),getType:r=>Cn(o,r).getOrUndefined()}),write:o=>{t.set(o)},read:()=>t.get().getOrUndefined(),clear:t.clear}})(),u_=Math.min,ub=Math.max,p0=Math.round,Lp=(t,o,r)=>{let s=o.x,i=o.y;const c=t.w,d=t.h,m=o.w,f=o.h,y=(r||"").split("");return y[0]==="b"&&(i+=f),y[1]==="r"&&(s+=m),y[0]==="c"&&(i+=p0(f/2)),y[1]==="c"&&(s+=p0(m/2)),y[3]==="b"&&(i-=d),y[4]==="r"&&(s-=c),y[3]==="c"&&(i-=p0(d/2)),y[4]==="c"&&(s-=p0(c/2)),mb(s,i,c,d)},mb=(t,o,r,s)=>({x:t,y:o,w:r,h:s}),Ru={inflate:(t,o,r)=>mb(t.x-o,t.y-r,t.w+2*o,t.h+2*r),relativePosition:Lp,findBestRelativePosition:(t,o,r,s)=>{for(let i=0;i<s.length;i++){const c=Lp(t,o,s[i]);if(c.x>=r.x&&c.x+c.w<=r.w+r.x&&c.y>=r.y&&c.y+c.h<=r.h+r.y)return s[i]}return null},intersect:(t,o)=>{const r=ub(t.x,o.x),s=ub(t.y,o.y),i=u_(t.x+t.w,o.x+o.w),c=u_(t.y+t.h,o.y+o.h);return i-r<0||c-s<0?null:mb(r,s,i-r,c-s)},clamp:(t,o,r)=>{let s=t.x,i=t.y,c=t.x+t.w,d=t.y+t.h;const m=o.x+o.w,f=o.y+o.h,y=ub(0,o.x-s),v=ub(0,o.y-i),k=ub(0,c-m),z=ub(0,d-f);return s+=y,i+=v,r&&(c+=y,d+=v,s-=k,i-=z),c-=k,d-=z,mb(s,i,c-s,d-i)},create:mb,fromClientRect:t=>mb(t.left,t.top,t.width,t.height)},gb=(()=>{const t={},o={},r={};return{load:(s,i)=>{const c=`Script at URL "${i}" failed to load`,d=`Script at URL "${i}" did not call \`tinymce.Resource.add('${s}', data)\` within 1 second`;if(t[s]!==void 0)return t[s];{const m=new Promise((f,y)=>{const v=((k,z,F=1e3)=>{let N=!1,P=null;const M=X=>(...ie)=>{N||(N=!0,P!==null&&(window.clearTimeout(P),P=null),X.apply(null,ie))},j=M(k),Y=M(z);return{start:(...X)=>{N||P!==null||(P=window.setTimeout(()=>Y.apply(null,X),F))},resolve:j,reject:Y}})(f,y);o[s]=v.resolve,ql.ScriptLoader.loadScript(i).then(()=>v.start(d),()=>v.reject(c))});return t[s]=m,m}},add:(s,i)=>{o[s]!==void 0&&(o[s](i),delete o[s]),t[s]=Promise.resolve(i),r[s]=i},has:s=>s in r,get:s=>r[s],unload:s=>{delete t[s],delete r[s]}}})();let f0;try{const t="__storage_test__";f0=window.localStorage,f0.setItem(t,t),f0.removeItem(t)}catch{f0=(()=>{let o={},r=[];const s={getItem:i=>o[i]||null,setItem:(i,c)=>{r.push(i),o[i]=String(c)},key:i=>r[i],removeItem:i=>{r=r.filter(c=>c===i),delete o[i]},clear:()=>{r=[],o={}},length:0};return Object.defineProperty(s,"length",{get:()=>r.length,configurable:!1,enumerable:!1}),s})()}const zS={geom:{Rect:Ru},util:{Delay:zu,Tools:ve,VK:un,URI:Au,EventDispatcher:o_,Observable:n_,I18n:kd,LocalStorage:f0,ImageUploader:t=>{const o=qh(),r=Iw(t,o);return{upload:(s,i=!0)=>r.upload(s,i?wC(t):void 0)}}},dom:{EventUtils:Zl,TreeWalker:Ms,TextSeeker:bg,DOMUtils:Za,ScriptLoader:ql,RangeUtils:Ng,Serializer:qE,StyleSheetLoader:Qg,ControlSelection:d3,BookmarkManager:g1,Selection:ZE,Event:Zl.Event},html:{Styles:vi,Entities:G,Node:dc,Schema:ac,DomParser:Mf,Writer:X_,Serializer:bp},Env:lo,AddOnManager:gl,Annotator:n3,Formatter:jy,UndoManager:_C,EditorCommands:t_,WindowManager:bC,NotificationManager:XE,EditorObservable:hT,Shortcuts:_S,Editor:g0,FocusManager:i3,EditorManager:Fd,DOM:Za.DOM,ScriptLoader:ql.ScriptLoader,PluginManager:Iy,ThemeManager:Lg,ModelManager:Uh,IconManager:Ly,Resource:gb,FakeClipboard:wT,trim:ve.trim,isArray:ve.isArray,is:ve.is,toArray:ve.toArray,makeMap:ve.makeMap,each:ve.each,map:ve.map,grep:ve.grep,inArray:ve.inArray,extend:ve.extend,walk:ve.walk,resolve:ve.resolve,explode:ve.explode,_addCacheSuffix:ve._addCacheSuffix},AS=ve.extend(Fd,zS);(t=>{window.tinymce=t,window.tinyMCE=t})(AS),(t=>{try{Oo.exports=t}catch{}})(AS)})()}(NO)),NO.exports}aB();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const Oo=Object.getPrototypeOf,an=(e,n,a)=>{var l;return!!a(e,n.prototype)||((l=e.constructor)===null||l===void 0?void 0:l.name)===n.name},Ko=e=>n=>(a=>{const l=typeof a;return a===null?"null":l==="object"&&Array.isArray(a)?"array":l==="object"&&an(a,String,(u,g)=>g.isPrototypeOf(u))?"string":l})(n)===e,cn=e=>n=>typeof n===e,en=e=>n=>e===n,ro=Ko("string"),gn=Ko("object"),$o=e=>((n,a)=>gn(n)&&an(n,a,(l,u)=>Oo(l)===u))(e,Object),go=Ko("array"),At=en(null),kn=cn("boolean"),tn=en(void 0),Gt=e=>e==null,Je=e=>!Gt(e),bt=cn("function"),no=cn("number"),ao=(e,n)=>{if(go(e)){for(let a=0,l=e.length;a<l;++a)if(!n(e[a]))return!1;return!0}return!1},Te=()=>{},St=e=>()=>e(),wo=(e,n)=>(...a)=>e(n.apply(null,a)),he=e=>()=>e,Xe=e=>e,ae=(e,n)=>e===n;function pt(e,...n){return(...a)=>{const l=n.concat(a);return e.apply(null,l)}}const sn=e=>n=>!e(n),Ro=e=>()=>{throw new Error(e)},pn=e=>e(),Vo=he(!1),Nt=he(!0);class D{constructor(n,a){this.tag=n,this.value=a}static some(n){return new D(!0,n)}static none(){return D.singletonNone}fold(n,a){return this.tag?a(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?D.some(n(this.value)):D.none()}bind(n){return this.tag?n(this.value):D.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:D.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Je(n)?D.some(n):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const zt=Array.prototype.slice,Ot=Array.prototype.indexOf,Lt=Array.prototype.push,po=(e,n)=>Ot.call(e,n),vt=(e,n)=>po(e,n)>-1,so=(e,n)=>{for(let a=0,l=e.length;a<l;a++)if(n(e[a],a))return!0;return!1},Bo=(e,n)=>{const a=[];for(let l=0;l<e;l++)a.push(n(l));return a},je=(e,n)=>{const a=[];for(let l=0;l<e.length;l+=n){const u=zt.call(e,l,l+n);a.push(u)}return a},R=(e,n)=>{const a=e.length,l=new Array(a);for(let u=0;u<a;u++){const g=e[u];l[u]=n(g,u)}return l},ut=(e,n)=>{for(let a=0,l=e.length;a<l;a++)n(e[a],a)},tt=(e,n)=>{const a=[],l=[];for(let u=0,g=e.length;u<g;u++){const h=e[u];(n(h,u)?a:l).push(h)}return{pass:a,fail:l}},Bt=(e,n)=>{const a=[];for(let l=0,u=e.length;l<u;l++){const g=e[l];n(g,l)&&a.push(g)}return a},Vt=(e,n,a)=>(((l,u)=>{for(let g=l.length-1;g>=0;g--)u(l[g],g)})(e,(l,u)=>{a=n(a,l,u)}),a),co=(e,n,a)=>(ut(e,(l,u)=>{a=n(a,l,u)}),a),xo=(e,n)=>((a,l,u)=>{for(let g=0,h=a.length;g<h;g++){const x=a[g];if(l(x,g))return D.some(x);if(u(x,g))break}return D.none()})(e,n,Vo),No=(e,n)=>{for(let a=0,l=e.length;a<l;a++)if(n(e[a],a))return D.some(a);return D.none()},ke=e=>{const n=[];for(let a=0,l=e.length;a<l;++a){if(!go(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Lt.apply(n,e[a])}return n},Ft=(e,n)=>ke(R(e,n)),Uo=(e,n)=>{for(let a=0,l=e.length;a<l;++a)if(n(e[a],a)!==!0)return!1;return!0},Ue=e=>{const n=zt.call(e,0);return n.reverse(),n},me=(e,n)=>Bt(e,a=>!vt(n,a)),xe=(e,n)=>{const a={};for(let l=0,u=e.length;l<u;l++){const g=e[l];a[String(g)]=n(g,l)}return a},Pe=e=>[e],Ie=(e,n)=>{const a=zt.call(e,0);return a.sort(n),a},ye=(e,n)=>n>=0&&n<e.length?D.some(e[n]):D.none(),Ee=e=>ye(e,0),ot=e=>ye(e,e.length-1),_t=bt(Array.from)?Array.from:e=>zt.call(e),We=(e,n)=>{for(let a=0;a<e.length;a++){const l=n(e[a],a);if(l.isSome())return l}return D.none()},dt=Object.keys,io=Object.hasOwnProperty,Fo=(e,n)=>{const a=dt(e);for(let l=0,u=a.length;l<u;l++){const g=a[l];n(e[g],g)}},rt=(e,n)=>xt(e,(a,l)=>({k:l,v:n(a,l)})),xt=(e,n)=>{const a={};return Fo(e,(l,u)=>{const g=n(l,u);a[g.k]=g.v}),a},oo=e=>(n,a)=>{e[a]=n},qo=(e,n,a,l)=>{Fo(e,(u,g)=>{(n(u,g)?a:l)(u,g)})},Mn=(e,n)=>{const a={};return qo(e,n,oo(a),Te),a},_n=(e,n)=>{const a=[];return Fo(e,(l,u)=>{a.push(n(l,u))}),a},Dt=(e,n)=>{const a=dt(e);for(let l=0,u=a.length;l<u;l++){const g=a[l],h=e[g];if(n(h,g,e))return D.some(h)}return D.none()},Pt=e=>_n(e,Xe),ft=(e,n)=>bo(e,n)?D.from(e[n]):D.none(),bo=(e,n)=>io.call(e,n),Rn=(e,n)=>bo(e,n)&&e[n]!==void 0&&e[n]!==null,On=e=>{if(!go(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],a={};return ut(e,(l,u)=>{const g=dt(l);if(g.length!==1)throw new Error("one and only one name per case");const h=g[0],x=l[h];if(a[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!go(x))throw new Error("case arguments must be an array");n.push(h),a[h]=(...w)=>{const C=w.length;if(C!==x.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+x.length+" ("+x+"), got "+C);return{fold:(...T)=>{if(T.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+T.length);return T[u].apply(null,w)},match:T=>{const A=dt(T);if(n.length!==A.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+A.join(","));if(!Uo(n,L=>vt(A,L)))throw new Error("Not all branches were specified when using match. Specified: "+A.join(", ")+`
Required: `+n.join(", "));return T[h].apply(null,w)},log:T=>{}}}}),a},fo=e=>{let n=e;return{get:()=>n,set:a=>{n=a}}},gr=e=>{let n=D.none(),a=[];const l=h=>{u()?g(h):a.push(h)},u=()=>n.isSome(),g=h=>{n.each(x=>{setTimeout(()=>{h(x)},0)})};return e(h=>{u()||(n=D.some(h),ut(a,g),a=[])}),{get:l,map:h=>gr(x=>{l(w=>{x(h(w))})}),isReady:u}},Ur={nu:gr,pure:e=>gr(n=>{n(e)})},Ha=e=>{setTimeout(()=>{throw e},0)},Cn=e=>{const n=a=>{e().then(a,Ha)};return{map:a=>Cn(()=>e().then(a)),bind:a=>Cn(()=>e().then(l=>a(l).toPromise())),anonBind:a=>Cn(()=>e().then(()=>a.toPromise())),toLazy:()=>Ur.nu(n),toCached:()=>{let a=null;return Cn(()=>(a===null&&(a=e()),a))},toPromise:e,get:n}},on=e=>Cn(()=>new Promise(e)),ea=e=>Cn(()=>Promise.resolve(e)),Ya=e=>{const n=g=>g(e),a=he(e),l=()=>u,u={tag:!0,inner:e,fold:(g,h)=>h(e),isValue:Nt,isError:Vo,map:g=>Gn.value(g(e)),mapError:l,bind:n,exists:n,forall:n,getOr:a,or:l,getOrThunk:a,orThunk:l,getOrDie:a,each:g=>{g(e)},toOptional:()=>D.some(e)};return u},Tr=e=>{const n=()=>a,a={tag:!1,inner:e,fold:(l,u)=>l(e),isValue:Vo,isError:Nt,map:n,mapError:l=>Gn.error(l(e)),bind:n,exists:Vo,forall:Nt,getOr:Xe,or:Xe,getOrThunk:pn,orThunk:pn,getOrDie:Ro(String(e)),each:Te,toOptional:D.none};return a},Gn={value:Ya,error:Tr,fromOption:(e,n)=>e.fold(()=>Tr(n),Ya)},Qn=e=>({...e,toCached:()=>Qn(e.toCached()),bindFuture:n=>Qn(e.bind(a=>a.fold(l=>ea(Gn.error(l)),l=>n(l)))),bindResult:n=>Qn(e.map(a=>a.bind(n))),mapResult:n=>Qn(e.map(a=>a.map(n))),mapError:n=>Qn(e.map(a=>a.mapError(n))),foldResult:(n,a)=>e.map(l=>l.fold(n,a)),withTimeout:(n,a)=>Qn(on(l=>{let u=!1;const g=setTimeout(()=>{u=!0,l(Gn.error(a()))},n);e.get(h=>{u||(clearTimeout(g),l(h))})}))}),ta=e=>Qn(on(e)),Ba=typeof window<"u"?window:Function("return this;")(),Or=(e,n,a,l)=>{const u=e+n;return u>l?a:u<a?l:u},Va=(e,n,a)=>Math.min(Math.max(e,n),a);let gt=0;const se=e=>{const n=new Date().getTime(),a=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return gt++,e+"_"+a+gt+String(n)},Io=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const a={};for(let l=0;l<n.length;l++){const u=n[l];for(const g in u)bo(u,g)&&(a[g]=e(a[g],u[g]))}return a},Yo=Io((e,n)=>$o(e)&&$o(n)?Yo(e,n):n),Er=Io((e,n)=>n),kr=(e,n,a=ae)=>e.exists(l=>a(l,n)),Rr=e=>{const n=[],a=l=>{n.push(l)};for(let l=0;l<e.length;l++)e[l].each(a);return n},Dr=(e,n,a)=>e.isSome()&&n.isSome()?D.some(a(e.getOrDie(),n.getOrDie())):D.none(),Fs=(e,n)=>e!=null?D.some(n(e)):D.none(),De=(e,n)=>e?D.some(n):D.none(),Fe=(e,n)=>((a,l)=>{let u=l??Ba;for(let g=0;g<a.length&&u!=null;++g)u=u[a[g]];return u})(e.split("."),n);On([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const wt=e=>{const n=fo(D.none()),a=()=>n.get().each(e);return{clear:()=>{a(),n.set(D.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:l=>{a(),n.set(D.some(l))}}},Tt=()=>wt(e=>e.unbind()),ko=()=>{const e=wt(Te);return{...e,on:n=>e.get().each(n)}},Jo=(e,n,a)=>n===""||e.length>=n.length&&e.substr(a,a+n.length)===n,hn=(e,n)=>ur(e,n)?((a,l)=>a.substring(l))(e,n.length):e,cr=(e,n,a=0,l)=>{const u=e.indexOf(n,a);return u!==-1&&(!!tn(l)||u+n.length<=l)},ur=(e,n)=>Jo(e,n,0),ir=(e,n)=>Jo(e,n,e.length-n.length),Le=(Yr=/^\s+|\s+$/g,e=>e.replace(Yr,"")),Be=e=>e.length>0,Kt=e=>!Be(e),Po=(e,n)=>{let a=null;const l=()=>{At(a)||(clearTimeout(a),a=null)};return{cancel:l,throttle:(...u)=>{l(),a=setTimeout(()=>{a=null,e.apply(null,u)},n)}}},Do=e=>{let n,a=!1;return(...l)=>(a||(a=!0,n=e.apply(null,l)),n)},vn=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},xn=(e,n)=>{const a=document.createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return vn(a.childNodes[0])},nn=(e,n)=>{const a=document.createElement(e);return vn(a)},zn=(e,n)=>{const a=document.createTextNode(e);return vn(a)},eo=vn,Pr=(e,n,a)=>{const l=e.document.createRange();var u;return u=l,n.fold(g=>{u.setStartBefore(g.dom)},(g,h)=>{u.setStart(g.dom,h)},g=>{u.setStartAfter(g.dom)}),((g,h)=>{h.fold(x=>{g.setEndBefore(x.dom)},(x,w)=>{g.setEnd(x.dom,w)},x=>{g.setEndAfter(x.dom)})})(l,a),l},fa=(e,n,a,l,u)=>{const g=e.document.createRange();return g.setStart(n.dom,a),g.setEnd(l.dom,u),g},qs=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),cs=On([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ci=(e,n,a)=>n(eo(a.startContainer),a.startOffset,eo(a.endContainer),a.endOffset),Kr=(e,n)=>((a,l)=>{const u=((g,h)=>h.match({domRange:x=>({ltr:he(x),rtl:D.none}),relative:(x,w)=>({ltr:Do(()=>Pr(g,x,w)),rtl:Do(()=>D.some(Pr(g,w,x)))}),exact:(x,w,C,T)=>({ltr:Do(()=>fa(g,x,w,C,T)),rtl:Do(()=>D.some(fa(g,C,T,x,w)))})}))(a,l);return((g,h)=>{const x=h.ltr();return x.collapsed?h.rtl().filter(w=>w.collapsed===!1).map(w=>cs.rtl(eo(w.endContainer),w.endOffset,eo(w.startContainer),w.startOffset)).getOrThunk(()=>Ci(0,cs.ltr,x)):Ci(0,cs.ltr,x)})(0,u)})(e,n).match({ltr:(a,l,u,g)=>{const h=e.document.createRange();return h.setStart(a.dom,l),h.setEnd(u.dom,g),h},rtl:(a,l,u,g)=>{const h=e.document.createRange();return h.setStart(u.dom,g),h.setEnd(a.dom,l),h}});var Yr;cs.ltr,cs.rtl;const Br=(e,n)=>{const a=e.dom;if(a.nodeType!==1)return!1;{const l=a;if(l.matches!==void 0)return l.matches(n);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(n);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(n);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Ls=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,cl=(e,n)=>{const a=n===void 0?document:n.dom;return Ls(a)?D.none():D.from(a.querySelector(e)).map(eo)},zr=(e,n)=>e.dom===n.dom,oi=(e,n)=>{const a=e.dom,l=n.dom;return a!==l&&a.contains(l)},Jl=()=>Ni(0,0),Ni=(e,n)=>({major:e,minor:n}),Ws={nu:Ni,detect:(e,n)=>{const a=String(n).toLowerCase();return e.length===0?Jl():((l,u)=>{const g=((x,w)=>{for(let C=0;C<x.length;C++){const T=x[C];if(T.test(w))return T}})(l,u);if(!g)return{major:0,minor:0};const h=x=>Number(u.replace(g,"$"+x));return Ni(h(1),h(2))})(e,a)},unknown:Jl},Di=(e,n)=>{const a=String(n).toLowerCase();return xo(e,l=>l.search(a))},Bl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Os=e=>n=>cr(n,e),ni=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>cr(e,"edge/")&&cr(e,"chrome")&&cr(e,"safari")&&cr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Bl],search:e=>cr(e,"chrome")&&!cr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>cr(e,"msie")||cr(e,"trident")},{name:"Opera",versionRegexes:[Bl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Os("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Os("firefox")},{name:"Safari",versionRegexes:[Bl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(cr(e,"safari")||cr(e,"mobile/"))&&cr(e,"applewebkit")}],Fl=[{name:"Windows",search:Os("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>cr(e,"iphone")||cr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Os("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Os("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Os("linux"),versionRegexes:[]},{name:"Solaris",search:Os("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Os("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Os("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Is={browsers:he(ni),oses:he(Fl)},wa="Edge",wl="Chromium",Ki="Opera",Yi="Firefox",Ql="Safari",Xa=e=>{const n=e.current,a=e.version,l=u=>()=>n===u;return{current:n,version:a,isEdge:l(wa),isChromium:l(wl),isIE:l("IE"),isOpera:l(Ki),isFirefox:l(Yi),isSafari:l(Ql)}},ri=()=>Xa({current:void 0,version:Ws.unknown()}),ec=Xa,Ll="Windows",Ps="Android",pc="Linux",Si="macOS",Mi="Solaris",fc="FreeBSD",Kc="ChromeOS",hc=e=>{const n=e.current,a=e.version,l=u=>()=>n===u;return{current:n,version:a,isWindows:l(Ll),isiOS:l("iOS"),isAndroid:l(Ps),isMacOS:l(Si),isLinux:l(pc),isSolaris:l(Mi),isFreeBSD:l(fc),isChromeOS:l(Kc)}},kl=()=>hc({current:void 0,version:Ws.unknown()}),Ja=hc,oe=e=>window.matchMedia(e).matches;let _e=Do(()=>((e,n,a)=>{const l=Is.browsers(),u=Is.oses(),g=n.bind(w=>((C,T)=>We(T.brands,A=>{const L=A.brand.toLowerCase();return xo(C,U=>{var Z;return L===((Z=U.brand)===null||Z===void 0?void 0:Z.toLowerCase())}).map(U=>({current:U.name,version:Ws.nu(parseInt(A.version,10),0)}))}))(l,w)).orThunk(()=>((w,C)=>Di(w,C).map(T=>{const A=Ws.detect(T.versionRegexes,C);return{current:T.name,version:A}}))(l,e)).fold(ri,ec),h=((w,C)=>Di(w,C).map(T=>{const A=Ws.detect(T.versionRegexes,C);return{current:T.name,version:A}}))(u,e).fold(kl,Ja),x=((w,C,T,A)=>{const L=w.isiOS()&&/ipad/i.test(T)===!0,U=w.isiOS()&&!L,Z=w.isiOS()||w.isAndroid(),ue=Z||A("(pointer:coarse)"),re=L||!U&&Z&&A("(min-device-width:768px)"),ge=U||Z&&!re,Q=C.isSafari()&&w.isiOS()&&/safari/i.test(T)===!1,ee=!ge&&!re&&!Q;return{isiPad:he(L),isiPhone:he(U),isTablet:he(re),isPhone:he(ge),isTouch:he(ue),isAndroid:w.isAndroid,isiOS:w.isiOS,isWebView:he(Q),isDesktop:he(ee)}})(h,g,e,a);return{browser:g,os:h,deviceType:x}})(window.navigator.userAgent,D.from(window.navigator.userAgentData),oe));const st=()=>_e(),Yt=Object.getPrototypeOf,W=e=>{const n=Fe("ownerDocument.defaultView",e);return gn(e)&&((a=>((l,u)=>{const g=((h,x)=>Fe(h,x))(l,u);if(g==null)throw new Error(l+" not available on this browser");return g})("HTMLElement",a))(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Yt(e).constructor.name))},ce=e=>e.dom.nodeName.toLowerCase(),it=e=>n=>(a=>a.dom.nodeType)(n)===e,mo=e=>lo(e)&&W(e.dom),lo=it(1),$=it(3),te=it(9),ze=it(11),ve=e=>n=>lo(n)&&ce(n)===e,vo=e=>eo(e.dom.ownerDocument),Kn=e=>te(e)?e:vo(e),Wn=e=>eo(Kn(e).dom.documentElement),ka=e=>eo(Kn(e).dom.defaultView),Se=e=>D.from(e.dom.parentNode).map(eo),Oa=e=>D.from(e.dom.parentElement).map(eo),vs=e=>D.from(e.dom.offsetParent).map(eo),xs=e=>R(e.dom.childNodes,eo),na=(e,n)=>{const a=e.dom.childNodes;return D.from(a[n]).map(eo)},md=e=>na(e,0),Ri=(e,n)=>({element:e,offset:n}),ai=(e,n)=>{const a=xs(e);return a.length>0&&n<a.length?Ri(a[n],0):Ri(e,n)},wr=e=>ze(e)&&Je(e.dom.host),Na=e=>eo(e.dom.getRootNode()),bc=e=>wr(e)?e:eo(Kn(e).dom.body),pr=e=>{const n=Na(e);return wr(n)?D.some(n):D.none()},Id=e=>eo(e.dom.host),_l=e=>{const n=eo((g=>{if(Je(g.target)){const h=eo(g.target);if(lo(h)&&(x=>Je(x.dom.shadowRoot))(h)&&g.composed&&g.composedPath){const x=g.composedPath();if(x)return Ee(x)}}return D.from(g.target)})(e).getOr(e.target)),a=()=>e.stopPropagation(),l=()=>e.preventDefault(),u=wo(l,a);return((g,h,x,w,C,T,A)=>({target:g,x:h,y:x,stop:w,prevent:C,kill:T,raw:A}))(n,e.clientX,e.clientY,a,l,u,e)},Xi=(e,n,a,l,u)=>{const g=((h,x)=>w=>{h(w)&&x(_l(w))})(a,l);return e.dom.addEventListener(n,g,u),{unbind:pt(Gs,e,n,g,u)}},Gs=(e,n,a,l)=>{e.dom.removeEventListener(n,a,l)},la=Nt,ds=(e,n,a)=>((l,u,g,h)=>Xi(l,u,g,h,!1))(e,n,la,a),Cl=(e,n,a)=>((l,u,g,h)=>Xi(l,u,g,h,!0))(e,n,la,a),de=_l,Ce=()=>eo(document),lt=(e,n=!1)=>e.dom.focus({preventScroll:n}),Zt=e=>e.dom.blur(),rn=e=>{const n=Na(e).dom;return e.dom===n.activeElement},lr=(e=Ce())=>D.from(e.dom.activeElement).map(eo),Nr=e=>lr(Na(e)).filter(n=>e.dom.contains(n.dom)),us=(e,n)=>{Se(e).each(a=>{a.dom.insertBefore(n.dom,e.dom)})},Ns=(e,n)=>{(l=>D.from(l.dom.nextSibling).map(eo))(e).fold(()=>{Se(e).each(l=>{ks(l,n)})},l=>{us(l,n)})},Hs=(e,n)=>{md(e).fold(()=>{ks(e,n)},a=>{e.dom.insertBefore(n.dom,a.dom)})},ks=(e,n)=>{e.dom.appendChild(n.dom)},ha=(e,n)=>{ut(n,a=>{ks(e,a)})},Sl=(e,n,a)=>{if(!(ro(a)||kn(a)||no(a)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,a+"")},An=(e,n,a)=>{Sl(e.dom,n,a)},yc=(e,n)=>{const a=e.dom;Fo(n,(l,u)=>{Sl(a,u,l)})},Qa=(e,n)=>{const a=e.dom.getAttribute(n);return a===null?void 0:a},ba=(e,n)=>D.from(Qa(e,n)),mi=(e,n)=>{const a=e.dom;return!(!a||!a.hasAttribute)&&a.hasAttribute(n)},ya=(e,n)=>{e.dom.removeAttribute(n)},Fu=e=>{e.dom.textContent="",ut(xs(e),n=>{Yc(n)})},Yc=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Up=(e,n)=>eo(e.dom.cloneNode(n)),Zp=e=>e.dom.innerHTML,Lu=(e,n)=>{const a=vo(e).dom,l=eo(a.createDocumentFragment()),u=((g,h)=>{const x=(h||document).createElement("div");return x.innerHTML=g,xs(eo(x))})(n,a);ha(l,u),Fu(e),ks(e,l)},ym=e=>new Promise((n,a)=>{const l=()=>{g(),n(e)},u=[ds(e,"load",l),ds(e,"error",()=>{g(),a("Unable to load data from image: "+e.dom.src)})],g=()=>ut(u,h=>h.unbind());e.dom.complete&&l()}),dl=e=>e.style!==void 0&&bt(e.style.getPropertyValue),si=e=>{const n=$(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const a=n.ownerDocument;return pr(eo(n)).fold(()=>a.body.contains(n),(l=si,u=Id,g=>l(u(g))));var l,u},vc=()=>nu(eo(document)),nu=e=>{const n=e.dom.body;if(n==null)throw new Error("Body is not available yet");return eo(n)},ua=(e,n,a)=>{if(!ro(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);dl(e)&&e.style.setProperty(n,a)},xc=(e,n)=>{dl(e)&&e.style.removeProperty(n)},er=(e,n,a)=>{const l=e.dom;ua(l,n,a)},Aa=(e,n)=>{const a=e.dom;Fo(n,(l,u)=>{ua(a,u,l)})},gd=(e,n)=>{const a=e.dom;Fo(n,(l,u)=>{l.fold(()=>{xc(a,u)},g=>{ua(a,u,g)})})},Ds=(e,n)=>{const a=e.dom,l=window.getComputedStyle(a).getPropertyValue(n);return l!==""||si(e)?l:ru(a,n)},ru=(e,n)=>dl(e)?e.style.getPropertyValue(n):"",ra=(e,n)=>{const a=e.dom,l=ru(a,n);return D.from(l).filter(u=>u.length>0)},Mc=e=>{const n={},a=e.dom;if(dl(a))for(let l=0;l<a.style.length;l++){const u=a.style.item(l);n[u]=a.style[u]}return n},gi=(e,n,a)=>{const l=nn(e);return er(l,n,a),ra(l,n).isSome()},br=(e,n)=>{const a=e.dom;xc(a,n),kr(ba(e,"style").map(Le),"")&&ya(e,"style")},Bi=e=>e.dom.offsetWidth,ja=(e,n)=>{const a=u=>{const g=n(u);if(g<=0||g===null){const h=Ds(u,e);return parseFloat(h)||0}return g},l=(u,g)=>co(g,(h,x)=>{const w=Ds(u,x),C=w===void 0?0:parseInt(w,10);return isNaN(C)?h:h+C},0);return{set:(u,g)=>{if(!no(g)&&!g.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+g);const h=u.dom;dl(h)&&(h.style[e]=g+"px")},get:a,getOuter:a,aggregate:l,max:(u,g,h)=>{const x=l(u,h);return g>x?g-x:0}}},ng=ja("height",e=>{const n=e.dom;return si(e)?n.getBoundingClientRect().height:n.offsetHeight}),Fa=e=>ng.get(e),Xr=e=>ng.getOuter(e),El=e=>!(n=>n.offsetWidth<=0&&n.offsetHeight<=0)(e.dom),Xc=ja("width",e=>e.dom.offsetWidth),Rc=ja("width",e=>{const n=e.dom;return si(e)?n.getBoundingClientRect().width:n.offsetWidth}),Fi=e=>Xc.get(e),Ks=e=>Xc.getOuter(e),Jc=e=>Rc.getOuter(e),Qc=(e,n)=>({left:e,top:n,translate:(a,l)=>Qc(e+a,n+l)}),ca=Qc,zl=(e,n)=>e!==void 0?e:n!==void 0?n:0,Ji=e=>{const n=e.dom.ownerDocument,a=n.body,l=n.defaultView,u=n.documentElement;if(a===e.dom)return ca(a.offsetLeft,a.offsetTop);const g=zl(l==null?void 0:l.pageYOffset,u.scrollTop),h=zl(l==null?void 0:l.pageXOffset,u.scrollLeft),x=zl(u.clientTop,a.clientTop),w=zl(u.clientLeft,a.clientLeft);return pd(e).translate(h-w,g-x)},pd=e=>{const n=e.dom,a=n.ownerDocument.body;return a===n?ca(a.offsetLeft,a.offsetTop):si(e)?(l=>{const u=l.getBoundingClientRect();return ca(u.left,u.top)})(n):ca(0,0)},Ui=e=>{const n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,l=n.body.scrollTop||n.documentElement.scrollTop;return ca(a,l)},Qi=(e,n,a)=>{const l=(a!==void 0?a.dom:document).defaultView;l&&l.scrollTo(e,n)},Yg=(e=>{const n=a=>e(a)?D.from(a.dom.nodeValue):D.none();return{get:a=>{if(!e(a))throw new Error("Can only get text value of a text node");return n(a).getOr("")},getOption:n,set:(a,l)=>{if(!e(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=l}}})($),au=(e,n)=>a=>Xg(a)==="rtl"?n:e,Xg=e=>Ds(e,"direction")==="rtl"?"rtl":"ltr",Iu=(e,n)=>{const a=Qa(e,n);return a===void 0||a===""?[]:a.split(" ")};var Pu=(e,n,a,l,u)=>e(a,l)?D.some(a):bt(u)&&u(a)?D.none():n(a,l,u);const rg=(e,n,a)=>{let l=e.dom;const u=bt(a)?a:Vo;for(;l.parentNode;){l=l.parentNode;const g=eo(l);if(n(g))return D.some(g);if(u(g))break}return D.none()},su=(e,n,a)=>Pu((l,u)=>u(l),rg,e,n,a),vm=(e,n)=>xo(e.dom.childNodes,a=>n(eo(a))).map(eo),es=(e,n,a)=>rg(e,l=>Br(l,n),a),ag=(e,n)=>(a=>{const l=a.dom;return l.parentNode?vm(eo(l.parentNode),u=>!zr(a,u)&&Br(u,n)):D.none()})(e),Pd=(e,n)=>vm(e,a=>Br(a,n)),qr=(e,n)=>cl(n,e),Il=(e,n,a)=>Pu((l,u)=>Br(l,u),es,e,n,a),iu=(e,n)=>{e.dom.checked=n},ed=e=>e.dom.checked,pi=e=>e.dom.classList!==void 0,lu=e=>Iu(e,"class"),xm=(e,n)=>((a,l,u)=>{const g=Iu(a,l).concat([u]);return An(a,l,g.join(" ")),!0})(e,"class",n),Ei=(e,n)=>((a,l,u)=>{const g=Bt(Iu(a,l),h=>h!==u);return g.length>0?An(a,l,g.join(" ")):ya(a,l),!1})(e,"class",n),Jr=(e,n)=>{pi(e)?e.dom.classList.add(n):xm(e,n)},wm=e=>{(pi(e)?e.dom.classList:lu(e)).length===0&&ya(e,"class")},ma=(e,n)=>{pi(e)?e.dom.classList.remove(n):Ei(e,n),wm(e)},fi=(e,n)=>pi(e)&&e.dom.classList.contains(n),Pl=(e,n)=>{ut(n,a=>{Jr(e,a)})},ii=(e,n)=>{ut(n,a=>{ma(e,a)})},Hu=e=>pi(e)?(n=>{const a=n.dom.classList,l=new Array(a.length);for(let u=0;u<a.length;u++){const g=a.item(u);g!==null&&(l[u]=g)}return l})(e):lu(e),Vs=e=>e.dom.value,Bc=(e,n)=>{if(n===void 0)throw new Error("Value.set was undefined");e.dom.value=n},fd=(e,n,a)=>Bt(((l,u)=>{const g=bt(u)?u:Vo;let h=l.dom;const x=[];for(;h.parentNode!==null&&h.parentNode!==void 0;){const w=h.parentNode,C=eo(w);if(x.push(C),g(C)===!0)break;h=w}return x})(e,a),n),Ys=(e,n)=>((a,l)=>{const u=l===void 0?document:l.dom;return Ls(u)?[]:R(u.querySelectorAll(a),eo)})(n,e),hd=(e,n,a)=>su(e,n,a).isSome(),cu=(e,n,a)=>Il(e,n,a).isSome(),td=e=>bt(e)?e:Vo,km=(e,n,a)=>{let l=e.dom;const u=td(a);for(;l.parentNode;){l=l.parentNode;const g=eo(l),h=n(g);if(h.isSome())return h;if(u(g))break}return D.none()},od=(e,n,a)=>{const l=n(e),u=td(a);return l.orThunk(()=>u(e)?D.none():km(e,n,u))},_m=(e,n,a,l)=>({start:e,soffset:n,finish:a,foffset:l}),hi=On([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Cm=(hi.before,hi.on,hi.after,e=>e.fold(Xe,Xe,Xe)),Sm=On([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),tc={domRange:Sm.domRange,relative:Sm.relative,exact:Sm.exact,exactFromRange:e=>Sm.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const n=(a=>a.match({domRange:l=>eo(l.startContainer),relative:(l,u)=>Cm(l),exact:(l,u,g,h)=>l}))(e);return ka(n)},range:_m},Vu=e=>{if(e.rangeCount>0){const n=e.getRangeAt(0),a=e.getRangeAt(e.rangeCount-1);return D.some(_m(eo(n.startContainer),n.startOffset,eo(a.endContainer),a.endOffset))}return D.none()},sg=e=>{if(e.anchorNode===null||e.focusNode===null)return Vu(e);{const n=eo(e.anchorNode),a=eo(e.focusNode);return((l,u,g,h)=>{const x=((C,T,A,L)=>{const U=vo(C).dom.createRange();return U.setStart(C.dom,T),U.setEnd(A.dom,L),U})(l,u,g,h),w=zr(l,g)&&u===h;return x.collapsed&&!w})(n,e.anchorOffset,a,e.focusOffset)?D.some(_m(n,e.anchorOffset,a,e.focusOffset)):Vu(e)}},du=(e,n)=>(a=>{const l=a.getClientRects(),u=l.length>0?l[0]:a.getBoundingClientRect();return u.width>0||u.height>0?D.some(u).map(qs):D.none()})(Kr(e,n)),Zi={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},ju=(()=>{const e="[0-9]+",n="[eE][+-]?"+e,a=u=>`(?:${u})?`,l=["Infinity",e+"\\."+a(e)+a(n),"\\."+e+a(n),e+a(n)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),Hl=(e,n)=>D.from(ju.exec(e)).bind(a=>{const l=Number(a[1]),u=a[2];return((g,h)=>so(h,x=>so(Zi[x],w=>g===w)))(u,n)?D.some({value:l,unit:u}):D.none()}),Al=(e,n,a,l)=>({x:e,y:n,width:a,height:l,right:e+a,bottom:n+l}),nd=e=>{const n=e===void 0?window:e,a=n.document,l=Ui(eo(a));return(u=>{const g=u===void 0?window:u;return st().browser.isFirefox()?D.none():D.from(g.visualViewport)})(n).fold(()=>{const u=n.document.documentElement,g=u.clientWidth,h=u.clientHeight;return Al(l.left,l.top,g,h)},u=>Al(Math.max(u.pageLeft,l.left),Math.max(u.pageTop,l.top),u.width,u.height))},bd=(e,n)=>e.view(n).fold(he([]),a=>{const l=e.owner(a),u=bd(e,l);return[a].concat(u)});var yd=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?D.none():D.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(eo)},owner:e=>vo(e)});const uu=e=>{const n=Ce(),a=Ui(n);return((u,g)=>{const h=g.owner(u),x=bd(g,h);return D.some(x)})(e,yd).fold(pt(Ji,e),u=>{const g=pd(e),h=Vt(u,(x,w)=>{const C=pd(w);return{left:x.left+C.left,top:x.top+C.top}},{left:0,top:0});return ca(h.left+g.left+a.left,h.top+g.top+a.top)})},Xs=(e,n,a,l)=>({x:e,y:n,width:a,height:l,right:e+a,bottom:n+l}),js=e=>{const n=Ji(e),a=Ks(e),l=Xr(e);return Xs(n.left,n.top,a,l)},vd=e=>{const n=uu(e),a=Ks(e),l=Xr(e);return Xs(n.left,n.top,a,l)},$u=(e,n)=>{const a=Math.max(e.x,n.x),l=Math.max(e.y,n.y),u=Math.min(e.right,n.right),g=Math.min(e.bottom,n.bottom);return Xs(a,l,u-a,g-l)},bi=()=>nd(window),Ms=(e,n)=>zr(e.element,n.event.target),O=e=>(kr(ra(e,"position"),"fixed")?D.none():vs(e)).orThunk(()=>{const n=nn("span");return Se(e).bind(a=>{ks(a,n);const l=vs(n);return Yc(n),l})}),V=e=>O(e).map(Ji).getOrThunk(()=>ca(0,0));var K;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(K||(K={}));const Ne=(e,n,a)=>e.stype===K.Error?n(e.serror):a(e.svalue),qe=e=>({stype:K.Value,svalue:e}),yo=e=>({stype:K.Error,serror:e}),$t=qe,Zn=yo,ar=Ne,bn=e=>gn(e)&&dt(e).length>100?" removed due to size":JSON.stringify(e,null,2),aa=(e,n)=>Zn([{path:e,getErrorInfo:n}]),va=e=>({extract:(n,a)=>((l,u)=>l.stype===K.Error?u(l.serror):l)(e(a),l=>((u,g)=>aa(u,he(g)))(n,l)),toString:he("val")}),Rs=va($t),$a=he(Rs),Hd=(e,n)=>va(a=>{const l=typeof a;return e(a)?$t(a):Zn(`Expected type: ${n} but got: ${l}`)}),Ao=Hd(no,"number"),Es=Hd(ro,"string"),Uu=Hd(kn,"boolean"),Fc=Hd(bt,"function"),mu=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(n=>mu(e[n]));default:return!1}},qp=va(e=>mu(e)?$t(e):Zn("Expected value to be acceptable for sending via postMessage")),ts=e=>({tag:"defaultedThunk",process:e}),Em=e=>ts(he(e)),xb=e=>({tag:"mergeWithThunk",process:e}),Vl=(e,n,a,l)=>({tag:"field",key:e,newKey:n,presence:a,prop:l}),_a=(e,n,a)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return a(e.newKey,e.instantiator)}},zm=e=>{const n=(l=>{const u=[],g=[];return ut(l,h=>{Ne(h,x=>g.push(x),x=>u.push(x))}),{values:u,errors:g}})(e);return n.errors.length>0?(a=n.errors,wo(Zn,ke)(a)):$t(n.values);var a},Zu=(e,n,a,l)=>l(ft(e,n).getOrThunk(()=>a(e))),wb=(e,n,a,l,u)=>{const g=x=>u.extract(n.concat([l]),x),h=x=>x.fold(()=>$t(D.none()),w=>((C,T)=>C.stype===K.Value?{stype:K.Value,svalue:T(C.svalue)}:C)(u.extract(n.concat([l]),w),D.some));switch(e.tag){case"required":return((x,w,C,T)=>ft(w,C).fold(()=>((A,L,U)=>aa(A,()=>'Could not find valid *required* value for "'+L+'" in '+bn(U)))(x,C,w),T))(n,a,l,g);case"defaultedThunk":return Zu(a,l,e.process,g);case"option":return((x,w,C)=>C(ft(x,w)))(a,l,h);case"defaultedOptionThunk":return((x,w,C,T)=>T(ft(x,w).map(A=>A===!0?C(x):A)))(a,l,e.process,h);case"mergeWithThunk":return Zu(a,l,he({}),x=>{const w=Yo(e.process(a),x);return g(w)})}},wc=e=>({extract:(n,a)=>e().extract(n,a),toString:()=>e().toString()}),ig=e=>dt(Mn(e,Je)),jl=e=>{const n=Pn(e),a=Vt(e,(l,u)=>_a(u,g=>Yo(l,{[g]:!0}),he(l)),{});return{extract:(l,u)=>{const g=kn(u)?[]:ig(u),h=Bt(g,x=>!Rn(a,x));return h.length===0?n.extract(l,u):((x,w)=>aa(x,()=>"There are unsupported fields: ["+w.join(", ")+"] specified"))(l,h)},toString:n.toString}},Pn=e=>({extract:(n,a)=>((l,u,g)=>{const h={},x=[];for(const w of g)_a(w,(C,T,A,L)=>{const U=wb(A,l,u,C,L);ar(U,Z=>{x.push(...Z)},Z=>{h[T]=Z})},(C,T)=>{h[C]=T(u)});return x.length>0?Zn(x):$t(h)})(n,a,e),toString:()=>`obj{
`+R(e,a=>_a(a,(l,u,g,h)=>l+" -> "+h.toString(),(l,u)=>"state("+l+")")).join(`
`)+"}"}),Vd=e=>({extract:(n,a)=>{const l=R(a,(u,g)=>e.extract(n.concat(["["+g+"]"]),u));return zm(l)},toString:()=>"array("+e.toString()+")"}),Jg=(e,n)=>{const a=n!==void 0?n:Xe;return{extract:(l,u)=>{const g=[];for(const h of e){const x=h.extract(l,u);if(x.stype===K.Value)return{stype:K.Value,svalue:a(x.svalue)};g.push(x)}return zm(g)},toString:()=>"oneOf("+R(e,l=>l.toString()).join(", ")+")"}},kb=(e,n)=>({extract:(a,l)=>{const u=dt(l),g=((h,x)=>Vd(va(e)).extract(h,x))(a,u);return((h,x)=>h.stype===K.Value?x(h.svalue):h)(g,h=>{const x=R(h,w=>Vl(w,w,{tag:"required",process:{}},n));return Pn(x).extract(a,l)})},toString:()=>"setOf("+n.toString()+")"}),Am=wo(Vd,Pn),kc=(e,n)=>({extract:(a,l)=>ft(l,e).fold(()=>((u,g)=>aa(u,()=>'Choice schema did not contain choice key: "'+g+'"'))(a,e),u=>((g,h,x,w)=>ft(x,w).fold(()=>((C,T,A)=>aa(C,()=>'The chosen schema: "'+A+'" did not exist in branches: '+bn(T)))(g,x,w),C=>C.extract(g.concat(["branch: "+w]),h)))(a,l,n,u)),toString:()=>"chooseOn("+e+"). Possible values: "+dt(n)}),zi=e=>va(n=>e(n).fold(Zn,$t)),th=(e,n)=>kb(a=>e(a).fold(yo,qe),n),os=(e,n,a)=>{return l=((u,g,h)=>((x,w)=>x.stype===K.Error?{stype:K.Error,serror:w(x.serror)}:x)(g.extract([u],h),x=>({input:h,errors:x})))(e,n,a),Ne(l,Gn.error,Gn.value);var l},qi=e=>e.fold(n=>{throw new Error(gu(n))},Xe),el=(e,n,a)=>qi(os(e,n,a)),gu=e=>`Errors: 
`+(n=>{const a=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:he("... (only showing first ten failures)")}]):n;return R(a,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(e.errors).join(`
`)+`

Input object: `+bn(e.input),Tl=(e,n)=>kc(e,rt(n,Pn)),qu=(e,n)=>((a,l)=>{const u=Do(l);return{extract:(g,h)=>u().extract(g,h),toString:()=>u().toString()}})(0,n),yi=Vl,Wi=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),Tm=e=>zi(n=>vt(e,n)?Gn.value(n):Gn.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),ho=e=>yi(e,e,{tag:"required",process:{}},$a()),_c=(e,n)=>yi(e,e,{tag:"required",process:{}},n),Wu=e=>_c(e,Ao),li=e=>_c(e,Es),Cc=(e,n)=>yi(e,e,{tag:"required",process:{}},Tm(n)),oc=e=>_c(e,Fc),xd=(e,n)=>yi(e,e,{tag:"required",process:{}},Pn(n)),Lc=(e,n)=>yi(e,e,{tag:"required",process:{}},Am(n)),ul=(e,n)=>yi(e,e,{tag:"required",process:{}},Vd(n)),Hr=e=>yi(e,e,{tag:"option",process:{}},$a()),Ic=(e,n)=>yi(e,e,{tag:"option",process:{}},n),Js=e=>Ic(e,Ao),Bs=e=>Ic(e,Es),Qg=(e,n)=>Ic(e,Tm(n)),Li=e=>Ic(e,Fc),Gu=(e,n)=>Ic(e,Vd(n)),ml=(e,n)=>Ic(e,Pn(n)),kt=(e,n)=>yi(e,e,Em(n),$a()),Pc=(e,n,a)=>yi(e,e,Em(n),a),rd=(e,n)=>Pc(e,n,Ao),Ca=(e,n)=>Pc(e,n,Es),nc=(e,n,a)=>Pc(e,n,Tm(a)),Ii=(e,n)=>Pc(e,n,Uu),La=(e,n)=>Pc(e,n,Fc),rc=(e,n,a)=>Pc(e,n,Vd(a)),lg=(e,n,a)=>Pc(e,n,Pn(a)),Ku=(e,n)=>((a,l)=>({[a]:l}))(e,n),pu=e=>(n=>{const a={};return ut(n,l=>{a[l.key]=l.value}),a})(e),Ai=he,S=Ai("touchstart"),B=Ai("touchmove"),G=Ai("touchend"),le=Ai("touchcancel"),Ke=Ai("mousedown"),Jt=Ai("mousemove"),jo=Ai("mouseout"),fn=Ai("mouseup"),Hn=Ai("mouseover"),sr=Ai("focusin"),Sa=Ai("focusout"),sa=Ai("keydown"),zs=Ai("keyup"),ms=Ai("input"),$l=Ai("change"),Ul=Ai("click"),fu=Ai("transitioncancel"),hu=Ai("transitionend"),cg=Ai("transitionstart"),ac=Ai("selectstart"),Ua=e=>he("alloy."+e),Wp={tap:Ua("tap")},Ol=Ua("focus"),Hc=Ua("blur.post"),Gp=Ua("paste.post"),bu=Ua("receive"),yr=Ua("execute"),ga=Ua("focus.item"),vi=Wp.tap,Sc=Ua("longpress"),dg=Ua("sandbox.close"),ep=Ua("typeahead.cancel"),Om=Ua("system.init"),Nm=Ua("system.touchmove"),oh=Ua("system.touchend"),ug=Ua("system.scroll"),mg=Ua("system.resize"),Zl=Ua("system.attached"),wd=Ua("system.detached"),tp=Ua("system.dismissRequested"),_b=Ua("system.repositionRequested"),Cb=Ua("focusmanager.shifted"),gg=Ua("slotcontainer.visibility"),nh=Ua("system.external.element.scroll"),Dm=Ua("change.tab"),rh=Ua("dismiss.tab"),Sb=Ua("highlight"),Za=Ua("dehighlight"),jd=e=>(n=>{if(wr(n))return"#shadow-root";{const a=(l=>Up(l,!1))(n);return(l=>{const u=nn("div"),g=eo(l.dom.cloneNode(!0));return ks(u,g),Zp(u)})(a)}})(e);var ql;(function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"})(ql||(ql={}));const Mm=fo({}),Eb=["alloy/data/Fields","alloy/debugging/Debugging"],zb=(e,n,a)=>((l,u,g)=>{switch(ft(Mm.get(),l).orThunk(()=>{const h=dt(Mm.get());return We(h,x=>l.indexOf(x)>-1?D.some(Mm.get()[x]):D.none())}).getOr(ql.NORMAL)){case ql.NORMAL:return g(kd());case ql.LOGGING:{const h=((w,C)=>{const T=[],A=new Date().getTime();return{logEventCut:(L,U,Z)=>{T.push({outcome:"cut",target:U,purpose:Z})},logEventStopped:(L,U,Z)=>{T.push({outcome:"stopped",target:U,purpose:Z})},logNoParent:(L,U,Z)=>{T.push({outcome:"no-parent",target:U,purpose:Z})},logEventNoHandlers:(L,U)=>{T.push({outcome:"no-handlers-left",target:U})},logEventResponse:(L,U,Z)=>{T.push({outcome:"response",purpose:Z,target:U})},write:()=>{const L=new Date().getTime();vt(["mousemove","mouseover","mouseout",Om()],w)||(L-A,C.dom,R(T,U=>vt(["cut","stopped","response"],U.outcome)?"{"+U.purpose+"} "+U.outcome+" at ("+jd(U.target)+")":U.outcome))}}})(l,u),x=g(h);return h.write(),x}case ql.STOP:return!0}})(e,n,a),kd=he({logEventCut:Te,logEventStopped:Te,logNoParent:Te,logEventNoHandlers:Te,logEventResponse:Te,write:Te}),gl=he([ho("menu"),ho("selectedMenu")]),pg=he([ho("item"),ho("selectedItem")]);he(Pn(pg().concat(gl())));const fg=he(Pn(pg())),Kp=xd("initSize",[ho("numColumns"),ho("numRows")]),hg=()=>xd("markers",[ho("backgroundMenu")].concat(gl()).concat(pg())),_d=e=>xd("markers",R(e,ho)),Rm=(e,n,a)=>((()=>{const l=new Error;if(l.stack!==void 0){const u=l.stack.split(`
`);xo(u,g=>g.indexOf("alloy")>0&&!so(Eb,h=>g.indexOf(h)>-1)).getOr("unknown")}})(),yi(n,n,a,zi(l=>Gn.value((...u)=>l.apply(void 0,u))))),Fr=e=>Rm(0,e,Em(Te)),sc=e=>Rm(0,e,Em(D.none)),Bm=e=>Rm(0,e,{tag:"required",process:{}}),ah=e=>Rm(0,e,{tag:"required",process:{}}),qa=(e,n)=>Wi(e,he(n)),_0=e=>Wi(e,Xe),bg=he(Kp),$d=e=>R(e,n=>ir(n,"/*")?n.substring(0,n.length-2):n),Fm=(e,n)=>{const a=e.toString(),l=a.indexOf(")")+1,u=a.indexOf("("),g=a.substring(u+1,l-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:n,parameters:$d(g)}),e},Ab=(e,n)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...l)=>{a=setTimeout(()=>{e.apply(null,l),a=null},n)}}},sh=e=>{const n=e.raw;return n.touches===void 0||n.touches.length!==1?D.none():D.some(n.touches[0])};var ad;(function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"})(ad||(ad={}));const C0="placeholder",Lm=On([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),op=e=>bo(e,"uiType"),yg=(e,n,a,l)=>((u,g,h,x)=>op(h)&&h.uiType===C0?((w,C,T,A)=>w.exists(L=>L!==T.owner)?Lm.single(!0,he(T)):ft(A,T.name).fold(()=>{throw new Error("Unknown placeholder component: "+T.name+`
Known: [`+dt(A)+`]
Namespace: `+w.getOr("none")+`
Spec: `+JSON.stringify(T,null,2))},L=>L.replace()))(u,0,h,x):Lm.single(!1,he(h)))(e,0,a,l).fold((u,g)=>{const h=op(a)?g(n,a.config,a.validated):g(n),x=ft(h,"components").getOr([]),w=Ft(x,C=>yg(e,n,C,l));return[{...h,components:w}]},(u,g)=>{if(op(a)){const h=g(n,a.config,a.validated);return a.validated.preprocess.getOr(Xe)(h)}return g(n)}),Yu=Lm.single,Pi=Lm.multiple,Yp=he(C0),Wl=On([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ih=kt("factory",{sketch:Xe}),Cd=kt("schema",[]),Xu=ho("name"),yu=yi("pname","pname",ts(e=>"<alloy."+se(e.name)+">"),$a()),Ec=Wi("schema",()=>[Hr("preprocess")]),pl=kt("defaults",he({})),Im=kt("overrides",he({})),S0=Pn([ih,Cd,Xu,yu,pl,Im]),Tb=Pn([ih,Cd,Xu,pl,Im]),Ob=Pn([ih,Cd,Xu,yu,pl,Im]),E0=Pn([ih,Ec,Xu,ho("unit"),yu,pl,Im]),z0=e=>e.fold(D.some,D.none,D.some,D.some),np=e=>{const n=a=>a.name;return e.fold(n,n,n,n)},Ju=(e,n)=>a=>{const l=el("Converting part type",n,a);return e(l)},fl=Ju(Wl.required,S0),Vc=Ju(Wl.external,Tb),ic=Ju(Wl.optional,Ob),vg=Ju(Wl.group,E0),Nb=he("entirety");var Db=Object.freeze({__proto__:null,required:fl,external:Vc,optional:ic,group:vg,asNamedPart:z0,name:np,asCommon:e=>e.fold(Xe,Xe,Xe,Xe),original:Nb});const Qu=(e,n,a,l)=>Yo(n.defaults(e,a,l),a,{uid:e.partUids[n.name]},n.overrides(e,a,l)),A0=(e,n)=>{const a={};return ut(n,l=>{z0(l).each(u=>{const g=Jv(e,u.pname);a[u.name]=h=>{const x=el("Part: "+u.name+" in "+e,Pn(u.schema),h);return{...g,config:h,validated:x}}})}),a},Jv=(e,n)=>({uiType:Yp(),owner:e,name:n}),Mb=(e,n,a)=>({uiType:Yp(),owner:e,name:n,config:a,validated:{}}),lh=e=>Ft(e,n=>n.fold(D.none,D.some,D.none,D.none).map(a=>xd(a.name,a.schema.concat([_0(Nb())]))).toArray()),Qv=e=>R(e,np),T0=(e,n,a)=>((l,u,g)=>{const h={},x={};return ut(g,w=>{w.fold(C=>{h[C.pname]=Yu(!0,(T,A,L)=>C.factory.sketch(Qu(T,C,A,L)))},C=>{const T=u.parts[C.name];x[C.name]=he(C.factory.sketch(Qu(u,C,T[Nb()]),T))},C=>{h[C.pname]=Yu(!1,(T,A,L)=>C.factory.sketch(Qu(T,C,A,L)))},C=>{h[C.pname]=Pi(!0,(T,A,L)=>{const U=T[C.name];return R(U,Z=>C.factory.sketch(Yo(C.defaults(T,Z,L),Z,C.overrides(T,Z))))})})}),{internals:he(h),externals:he(x)}})(0,n,a),O0=(e,n,a)=>((l,u,g,h)=>{const x=rt(h,(C,T)=>((A,L)=>{let U=!1;return{name:he(A),required:()=>L.fold((Z,ue)=>Z,(Z,ue)=>Z),used:()=>U,replace:()=>{if(U)throw new Error("Trying to use the same placeholder more than once: "+A);return U=!0,L}}})(T,C)),w=((C,T,A,L)=>Ft(A,U=>yg(C,T,U,L)))(l,u,g,x);return Fo(x,C=>{if(C.used()===!1&&C.required())throw new Error("Placeholder: "+C.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))}),w})(D.some(e),n,n.components,a),Da=(e,n,a)=>{const l=n.partUids[a];return e.getSystem().getByUid(l).toOptional()},em=(e,n,a)=>Da(e,n,a).getOrDie("Could not find part: "+a),Rb=(e,n,a)=>{const l={},u=n.partUids,g=e.getSystem();return ut(a,h=>{l[h]=he(g.getByUid(u[h]))}),l},Sd=(e,n)=>{const a=e.getSystem();return rt(n.partUids,(l,u)=>he(a.getByUid(l)))},ch=e=>dt(e.partUids),dh=(e,n,a)=>{const l={},u=n.partUids,g=e.getSystem();return ut(a,h=>{l[h]=he(g.getByUid(u[h]).getOrDie())}),l},Bb=(e,n)=>{const a=Qv(n);return pu(R(a,l=>({key:l,value:e+"-"+l})))},N0=e=>yi("partUids","partUids",xb(n=>Bb(n.uid,e)),$a());var D0=Object.freeze({__proto__:null,generate:A0,generateOne:Mb,schemas:lh,names:Qv,substitutes:T0,components:O0,defaultUids:Bb,defaultUidsSchema:N0,getAllParts:Sd,getAllPartNames:ch,getPart:Da,getPartOrDie:em,getParts:Rb,getPartsOrDie:dh});const M0=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Nl=(e,n,a,l=1)=>{const u=e*l,g=n*l,h=w=>ft(a,w).getOr([]),x=(w,C,T)=>{const A=me(M0,T);return{offset:ca(w,C),classesOn:Ft(T,h),classesOff:Ft(A,h)}};return{southeast:()=>x(-e,n,["top","alignLeft"]),southwest:()=>x(e,n,["top","alignRight"]),south:()=>x(-e/2,n,["top","alignCentre"]),northeast:()=>x(-e,-n,["bottom","alignLeft"]),northwest:()=>x(e,-n,["bottom","alignRight"]),north:()=>x(-e/2,-n,["bottom","alignCentre"]),east:()=>x(e,-n/2,["valignCentre","left"]),west:()=>x(-e,-n/2,["valignCentre","right"]),insetNortheast:()=>x(u,g,["top","alignLeft","inset"]),insetNorthwest:()=>x(-u,g,["top","alignRight","inset"]),insetNorth:()=>x(-u/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>x(u,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-u,-g,["bottom","alignRight","inset"]),insetSouth:()=>x(-u/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>x(-u,-g/2,["valignCentre","right","inset"]),insetWest:()=>x(u,-g/2,["valignCentre","left","inset"])}},Fb=()=>Nl(0,0,{}),Ti=(e,n,a,l,u,g,h,x=!1)=>({x:e,y:n,bubble:a,direction:l,placement:u,restriction:g,label:`${h}-${u}`,alwaysFit:x}),tm=On([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),uh=tm.southeast,Xp=tm.southwest,mh=tm.northeast,gh=tm.northwest,R0=tm.south,Lb=tm.north,B0=tm.east,Pm=tm.west,ci=(e,n)=>xe(["left","right","top","bottom"],a=>ft(n,a).map(l=>((u,g)=>{switch(g){case 1:return u.x;case 0:return u.x+u.width;case 2:return u.y;case 3:return u.y+u.height}})(e,l))),It="layout",ph=e=>e.x,Ib=(e,n)=>e.x+e.width/2-n.width/2,Ud=(e,n)=>e.x+e.width-n.width,Pb=(e,n)=>e.y-n.height,Hb=e=>e.y+e.height,F0=(e,n)=>e.y+e.height/2-n.height/2,di=(e,n,a)=>Ti(ph(e),Hb(e),a.southeast(),uh(),"southeast",ci(e,{left:1,top:3}),It),xi=(e,n,a)=>Ti(Ud(e,n),Hb(e),a.southwest(),Xp(),"southwest",ci(e,{right:0,top:3}),It),tl=(e,n,a)=>Ti(ph(e),Pb(e,n),a.northeast(),mh(),"northeast",ci(e,{left:1,bottom:2}),It),ol=(e,n,a)=>Ti(Ud(e,n),Pb(e,n),a.northwest(),gh(),"northwest",ci(e,{right:0,bottom:2}),It),Hi=(e,n,a)=>Ti(Ib(e,n),Pb(e,n),a.north(),Lb(),"north",ci(e,{bottom:2}),It),Qs=(e,n,a)=>Ti(Ib(e,n),Hb(e),a.south(),R0(),"south",ci(e,{top:3}),It),fh=(e,n,a)=>Ti((l=>l.x+l.width)(e),F0(e,n),a.east(),B0(),"east",ci(e,{left:0}),It),Jp=(e,n,a)=>Ti(((l,u)=>l.x-u.width)(e,n),F0(e,n),a.west(),Pm(),"west",ci(e,{right:1}),It),Vb=()=>[di,xi,tl,ol,Qs,Hi,fh,Jp],L0=()=>[xi,di,ol,tl,Qs,Hi,fh,Jp],hh=()=>[tl,ol,di,xi,Hi,Qs],Qp=()=>[ol,tl,xi,di,Hi,Qs],jb=()=>[di,xi,tl,ol,Qs,Hi],bh=()=>[xi,di,ol,tl,Qs,Hi],zc="data-alloy-placement",xg=e=>ba(e,zc),wg="layout-inset",I0=e=>e.x,P0=(e,n)=>e.x+e.width/2-n.width/2,$b=(e,n)=>e.x+e.width-n.width,ef=e=>e.y,Ub=(e,n)=>e.y+e.height-n.height,tf=(e,n)=>e.y+e.height/2-n.height/2,rp=(e,n,a)=>Ti($b(e,n),Ub(e,n),a.insetSouthwest(),gh(),"southwest",ci(e,{right:0,bottom:3}),wg),of=(e,n,a)=>Ti(I0(e),Ub(e,n),a.insetSoutheast(),mh(),"southeast",ci(e,{left:1,bottom:3}),wg),ap=(e,n,a)=>Ti($b(e,n),ef(e),a.insetNorthwest(),Xp(),"northwest",ci(e,{right:0,top:2}),wg),kg=(e,n,a)=>Ti(I0(e),ef(e),a.insetNortheast(),uh(),"northeast",ci(e,{left:1,top:2}),wg),jc=(e,n,a)=>Ti(P0(e,n),ef(e),a.insetNorth(),R0(),"north",ci(e,{top:2}),wg),nf=(e,n,a)=>Ti(P0(e,n),Ub(e,n),a.insetSouth(),Lb(),"south",ci(e,{bottom:3}),wg),rf=(e,n,a)=>Ti($b(e,n),tf(e,n),a.insetEast(),Pm(),"east",ci(e,{right:0}),wg),H0=(e,n,a)=>Ti(I0(e),tf(e,n),a.insetWest(),B0(),"west",ci(e,{left:1}),wg),E_=e=>{switch(e){case"north":return jc;case"northeast":return kg;case"northwest":return ap;case"south":return nf;case"southeast":return of;case"southwest":return rp;case"east":return rf;case"west":return H0}},V0=(e,n,a,l,u)=>xg(l).map(E_).getOr(jc)(e,n,a,l,u),dn=e=>{switch(e){case"north":return nf;case"northeast":return of;case"northwest":return rp;case"south":return jc;case"southeast":return kg;case"southwest":return ap;case"east":return H0;case"west":return rf}},Zb=(e,n,a,l,u)=>xg(l).map(dn).getOr(jc)(e,n,a,l,u),Hm=(e,n)=>{((a,l)=>{const u=ng.max(a,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);er(a,"max-height",u+"px")})(e,Math.floor(n))},j0=he((e,n)=>{Hm(e,n),Aa(e,{"overflow-x":"hidden","overflow-y":"auto"})}),sp=he((e,n)=>{Hm(e,n)}),yh=he((e,n)=>{((a,l)=>{const u=Xc.max(a,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);er(a,"max-width",u+"px")})(e,Math.floor(n))});var om;(function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"})(om||(om={}));const vh="data-alloy-vertical-dir",$0=e=>hd(e,n=>lo(n)&&Qa(n,"data-alloy-vertical-dir")===om.BottomToTop);var Gl;(function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"})(Gl||(Gl={}));const As={init:()=>nl({readState:he("No State required")})},nl=e=>e,af={can:Nt,abort:Vo,run:Te},nm=e=>{if(!Rn(e,"can")&&!Rn(e,"abort")&&!Rn(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...af,...e}},Mr=(e,n)=>{Wb(e,e.element,n,{})},Nn=(e,n,a)=>{Wb(e,e.element,n,a)},ip=e=>{Mr(e,yr())},qb=(e,n,a)=>{Wb(e,n,a,{})},Wb=(e,n,a,l)=>{const u={target:n,...l};e.getSystem().triggerEvent(a,n,u)},xh=(e,n,a,l)=>{e.getSystem().triggerEvent(a,n,l.event)},Ea=e=>pu(e),_g=(e,n)=>({key:e,value:nm({abort:n})}),Gb=e=>({key:e,value:nm({run:(n,a)=>{a.event.prevent()}})}),Wt=(e,n)=>({key:e,value:nm({run:n})}),Kb=(e,n,a)=>({key:e,value:nm({run:(l,u)=>{n.apply(void 0,[l,u].concat(a))}})}),wh=e=>n=>({key:e,value:nm({run:(a,l)=>{Ms(a,l)&&n(a,l)}})}),sf=(e,n,a)=>((l,u)=>Wt(l,(g,h)=>{g.getSystem().getByUid(u).each(x=>{xh(x,x.element,l,h)})}))(e,n.partUids[a]),kh=(e,n)=>Wt(e,(a,l)=>{const u=l.event,g=a.getSystem().getByDom(u.target).getOrThunk(()=>od(u.target,h=>a.getSystem().getByDom(h).toOptional(),Vo).getOr(a));n(a,g,l)}),rm=e=>Wt(e,(n,a)=>{a.cut()}),U0=e=>Wt(e,(n,a)=>{a.stop()}),am=(e,n)=>wh(e)(n),Ia=wh(Zl()),Zd=wh(wd()),ex=wh(Om()),vu=(e=>n=>Wt(e,n))(yr()),xu=e=>({classes:tn(e.classes)?[]:e.classes,attributes:tn(e.attributes)?{}:e.attributes,styles:tn(e.styles)?{}:e.styles}),Yb=(e,n,a)=>ex((l,u)=>{a(l,e,n)}),tx=e=>({key:e,value:void 0}),ox=(e,n,a,l,u,g,h)=>{const x=T=>Rn(T,a)?T[a]():D.none(),w=rt(u,(T,A)=>((L,U,Z)=>((ue,re,ge)=>{const Q=ge.toString(),ee=Q.indexOf(")")+1,fe=Q.indexOf("("),be=Q.substring(fe+1,ee-1).split(/,\s*/);return ue.toFunctionAnnotation=()=>({name:re,parameters:$d(be.slice(0,1).concat(be.slice(3)))}),ue})((ue,...re)=>{const ge=[ue].concat(re);return ue.config({name:he(L)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+L+". Using API: "+Z)},Q=>{const ee=Array.prototype.slice.call(ge,1);return U.apply(void 0,[ue,Q.config,Q.state].concat(ee))})},Z,U))(a,T,A)),C={...rt(g,(T,A)=>Fm(T,A)),...w,revoke:pt(tx,a),config:T=>{const A=el(a+"-config",e,T);return{key:a,value:{config:A,me:C,configAsRaw:Do(()=>el(a+"-config",e,T)),initialConfig:T,state:h}}},schema:he(n),exhibit:(T,A)=>Dr(x(T),ft(l,"exhibit"),(L,U)=>U(A,L.config,L.state)).getOrThunk(()=>xu({})),name:he(a),handlers:T=>x(T).map(A=>ft(l,"events").getOr(()=>({}))(A.config,A.state)).getOr({})};return C},Co=e=>pu(e),nx=jl([ho("fields"),ho("name"),kt("active",{}),kt("apis",{}),kt("state",As),kt("extra",{})]),rl=e=>{const n=el("Creating behaviour: "+e.name,nx,e);return((a,l,u,g,h,x)=>{const w=jl(a),C=ml(l,[(T=a,Ic("config",jl(T)))]);var T;return ox(w,C,l,u,g,h,x)})(n.fields,n.name,n.active,n.apis,n.extra,n.state)},lf=jl([ho("branchKey"),ho("branches"),ho("name"),kt("active",{}),kt("apis",{}),kt("state",As),kt("extra",{})]),Z0=e=>{const n=el("Creating behaviour: "+e.name,lf,e);return((a,l,u,g,h,x)=>{const w=a,C=ml(l,[Ic("config",a)]);return ox(w,C,l,u,g,h,x)})(Tl(n.branchKey,n.branches),n.name,n.active,n.apis,n.extra,n.state)},Xb=he(void 0),Yn=(e,n)=>{const a=((l,u)=>{const g=Ea(u);return rl({fields:[ho("enabled")],name:l,active:{events:he(g)}})})(e,n);return{key:e,value:{config:{},me:a,configAsRaw:he({}),initialConfig:{},state:As}}},lp=(e,n)=>{n.ignore||(lt(e.element),n.onFocus(e))};var Jb=Object.freeze({__proto__:null,focus:lp,blur:(e,n)=>{n.ignore||Zt(e.element)},isFocused:e=>rn(e.element)}),z_=Object.freeze({__proto__:null,exhibit:(e,n)=>{const a=n.ignore?{}:{attributes:{tabindex:"-1"}};return xu(a)},events:e=>Ea([Wt(Ol(),(n,a)=>{lp(n,e),a.stop()})].concat(e.stopMousedown?[Wt(Ke(),(n,a)=>{a.event.prevent()})]:[]))}),cf=[Fr("onFocus"),kt("stopMousedown",!1),kt("ignore",!1)];const Vn=rl({fields:cf,name:"focusing",active:z_,apis:Jb}),q0=[8],wu=[9],Ed=[13],cp=[27],Ac=[32],dp=[37],df=[38],_h=[39],Cg=[40],Sg=(e,n,a)=>{const l=Ue(e.slice(0,n)),u=Ue(e.slice(n+1));return xo(l.concat(u),a)},W0=(e,n,a)=>{const l=Ue(e.slice(0,n));return xo(l,a)},Qb=(e,n,a)=>{const l=e.slice(0,n),u=e.slice(n+1);return xo(u.concat(l),a)},G0=(e,n,a)=>{const l=e.slice(n+1);return xo(l,a)},Vr=e=>n=>{const a=n.raw;return vt(e,a.which)},zd=e=>n=>Uo(e,a=>a(n)),up=e=>e.raw.shiftKey===!0,ey=e=>e.raw.ctrlKey===!0,mp=sn(up),Zr=(e,n)=>({matches:e,classification:n}),rx=(e,n,a,l)=>{const u=Ys(e.element,"."+n.highlightClass);ut(u,g=>{so(l,h=>zr(h.element,g))||(ma(g,n.highlightClass),e.getSystem().getByDom(g).each(h=>{n.onDehighlight(e,h),Mr(h,Za())}))})},uf=(e,n,a,l)=>{rx(e,n,0,[l]),ty(e,n,a,l)||(Jr(l.element,n.highlightClass),n.onHighlight(e,l),Mr(l,Sb()))},ty=(e,n,a,l)=>fi(l.element,n.highlightClass),ax=(e,n,a)=>qr(e.element,"."+n.itemClass).bind(l=>e.getSystem().getByDom(l).toOptional()),sx=(e,n,a)=>{const l=Ys(e.element,"."+n.itemClass);return(l.length>0?D.some(l[l.length-1]):D.none()).bind(u=>e.getSystem().getByDom(u).toOptional())},K0=(e,n,a,l)=>{const u=Ys(e.element,"."+n.itemClass);return No(u,g=>fi(g,n.highlightClass)).bind(g=>{const h=Or(g,l,0,u.length-1);return e.getSystem().getByDom(u[h]).toOptional()})},mf=(e,n,a)=>{const l=Ys(e.element,"."+n.itemClass);return Rr(R(l,u=>e.getSystem().getByDom(u).toOptional()))};var A_=Object.freeze({__proto__:null,dehighlightAll:(e,n,a)=>rx(e,n,0,[]),dehighlight:(e,n,a,l)=>{ty(e,n,a,l)&&(ma(l.element,n.highlightClass),n.onDehighlight(e,l),Mr(l,Za()))},highlight:uf,highlightFirst:(e,n,a)=>{ax(e,n).each(l=>{uf(e,n,a,l)})},highlightLast:(e,n,a)=>{sx(e,n).each(l=>{uf(e,n,a,l)})},highlightAt:(e,n,a,l)=>{((u,g,h,x)=>{const w=Ys(u.element,"."+g.itemClass);return D.from(w[x]).fold(()=>Gn.error(new Error("No element found with index "+x)),u.getSystem().getByDom)})(e,n,0,l).fold(u=>{throw u},u=>{uf(e,n,a,u)})},highlightBy:(e,n,a,l)=>{const u=mf(e,n);xo(u,l).each(g=>{uf(e,n,a,g)})},isHighlighted:ty,getHighlighted:(e,n,a)=>qr(e.element,"."+n.highlightClass).bind(l=>e.getSystem().getByDom(l).toOptional()),getFirst:ax,getLast:sx,getPrevious:(e,n,a)=>K0(e,n,0,-1),getNext:(e,n,a)=>K0(e,n,0,1),getCandidates:mf}),ix=[ho("highlightClass"),ho("itemClass"),Fr("onHighlight"),Fr("onDehighlight")];const oa=rl({fields:ix,name:"highlighting",apis:A_}),gp=(e,n,a)=>{n.exists(l=>a.exists(u=>zr(u,l)))||Nn(e,Cb(),{prevFocus:n,newFocus:a})},Ch=()=>{const e=n=>Nr(n.element);return{get:e,set:(n,a)=>{const l=e(n);n.getSystem().triggerFocus(a,n.element);const u=e(n);gp(n,l,u)}}},oy=()=>{const e=n=>oa.getHighlighted(n).map(a=>a.element);return{get:e,set:(n,a)=>{const l=e(n);n.getSystem().getByDom(a).fold(Te,g=>{oa.highlight(n,g)});const u=e(n);gp(n,l,u)}}},qd=(e,n,a,l,u)=>{const g=(x,w,C,T,A)=>{return(L=C(x,w,T,A),U=w.event,xo(L,Z=>Z.matches(U)).map(Z=>Z.classification)).bind(Z=>Z(x,w,T,A));var L,U},h={schema:()=>e.concat([kt("focusManager",Ch()),Pc("focusInside","onFocus",zi(x=>vt(["onFocus","onEnterOrSpace","onApi"],x)?Gn.value(x):Gn.error("Invalid value for focusInside"))),qa("handler",h),qa("state",n),qa("sendFocusIn",u)]),processKey:g,toEvents:(x,w)=>{const C=x.focusInside!==ad.OnFocusMode?D.none():u(x).map(A=>Wt(Ol(),(L,U)=>{A(L,x,w),U.stop()})),T=[Wt(sa(),(A,L)=>{g(A,L,a,x,w).fold(()=>{((U,Z)=>{const ue=Vr(Ac.concat(Ed))(Z.event);x.focusInside===ad.OnEnterOrSpaceMode&&ue&&Ms(U,Z)&&u(x).each(re=>{re(U,x,w),Z.stop()})})(A,L)},U=>{L.stop()})}),Wt(zs(),(A,L)=>{g(A,L,l,x,w).each(U=>{L.stop()})})];return Ea(C.toArray().concat(T))}};return h},lx=e=>{const n=[Hr("onEscape"),Hr("onEnter"),kt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),kt("firstTabstop",0),kt("useTabstopAt",Nt),Hr("visibilitySelector")].concat([e]),a=(T,A)=>{const L=T.visibilitySelector.bind(U=>Il(A,U)).getOr(A);return Fa(L)>0},l=(T,A)=>A.focusManager.get(T).bind(L=>Il(L,A.selector)),u=(T,A,L)=>{((U,Z)=>{const ue=Ys(U.element,Z.selector),re=Bt(ue,ge=>a(Z,ge));return D.from(re[Z.firstTabstop])})(T,A).each(U=>{A.focusManager.set(T,U)})},g=(T,A,L,U)=>{const Z=Bt(Ys(T.element,L.selector),ue=>a(L,ue));return l(T,L).bind(ue=>No(Z,pt(zr,ue)).bind(re=>((ge,Q,ee,fe,be)=>be(Q,ee,Re=>((Ge,mt)=>a(Ge,mt)&&Ge.useTabstopAt(mt))(fe,Re)).fold(()=>fe.cyclic?D.some(!0):D.none(),Re=>(fe.focusManager.set(ge,Re),D.some(!0))))(T,Z,re,L,U)))},h=(T,A,L)=>{const U=L.cyclic?Sg:W0;return g(T,0,L,U)},x=(T,A,L)=>{const U=L.cyclic?Qb:G0;return g(T,0,L,U)},w=he([Zr(zd([up,Vr(wu)]),h),Zr(Vr(wu),x),Zr(zd([mp,Vr(Ed)]),(T,A,L)=>L.onEnter.bind(U=>U(T,A)))]),C=he([Zr(Vr(cp),(T,A,L)=>L.onEscape.bind(U=>U(T,A))),Zr(Vr(wu),(T,A,L)=>l(T,L).filter(U=>!L.useTabstopAt(U)).bind(U=>((Z=>(ue=>Se(ue))(Z).bind(md).exists(ue=>zr(ue,Z)))(U)?h:x)(T,A,L)))]);return qd(n,As.init,w,C,()=>D.some(u))};var T_=lx(Wi("cyclic",Vo)),Y0=lx(Wi("cyclic",Nt));const ku=e=>ve("input")(e)&&Qa(e,"type")!=="radio"||ve("textarea")(e),gf=(e,n,a)=>ku(a)&&Vr(Ac)(n.event)?D.none():((l,u,g)=>(qb(l,g,yr()),D.some(!0)))(e,0,a),Vm=(e,n)=>D.some(!0),ny=[kt("execute",gf),kt("useSpace",!1),kt("useEnter",!0),kt("useControlEnter",!1),kt("useDown",!1)],ry=(e,n,a)=>a.execute(e,n,e.element);var X0=qd(ny,As.init,(e,n,a,l)=>{const u=a.useSpace&&!ku(e.element)?Ac:[],g=a.useEnter?Ed:[],h=a.useDown?Cg:[],x=u.concat(g).concat(h);return[Zr(Vr(x),ry)].concat(a.useControlEnter?[Zr(zd([ey,Vr(Ed)]),ry)]:[])},(e,n,a,l)=>a.useSpace&&!ku(e.element)?[Zr(Vr(Ac),Vm)]:[],()=>D.none());const cx=()=>{const e=ko();return nl({readState:()=>e.get().map(n=>({numRows:String(n.numRows),numColumns:String(n.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(n,a)=>{e.set({numRows:n,numColumns:a})},getNumRows:()=>e.get().map(n=>n.numRows),getNumColumns:()=>e.get().map(n=>n.numColumns)})};var Eg=Object.freeze({__proto__:null,flatgrid:cx,init:e=>e.state(e)});const Sh=e=>(n,a,l,u)=>{const g=e(n.element);return _u(g,n,a,l,u)},Eh=(e,n)=>{const a=au(e,n);return Sh(a)},J0=(e,n)=>{const a=au(n,e);return Sh(a)},zh=e=>(n,a,l,u)=>_u(e,n,a,l,u),_u=(e,n,a,l,u)=>l.focusManager.get(n).bind(g=>e(n.element,g,l,u)).map(g=>(l.focusManager.set(n,g),!0)),Q0=zh,Ah=zh,Th=zh,zg=(e,n,a)=>{const l=Ys(e,a);return(u=>No(u,g=>zr(g,n)).map(g=>({index:g,candidates:u})))(Bt(l,El))},Oh=(e,n)=>No(e,a=>zr(n,a)),wi=(e,n,a,l)=>l(Math.floor(n/a),n%a).bind(u=>{const g=u.row*a+u.column;return g>=0&&g<e.length?D.some(e[g]):D.none()}),dx=(e,n,a,l,u)=>wi(e,n,l,(g,h)=>{const x=g===a-1?e.length-g*l:l,w=Or(h,u,0,x-1);return D.some({row:g,column:w})}),ay=(e,n,a,l,u)=>wi(e,n,l,(g,h)=>{const x=Or(g,u,0,a-1),w=x===a-1?e.length-x*l:l,C=Va(h,0,w-1);return D.some({row:x,column:C})}),ux=[ho("selector"),kt("execute",gf),sc("onEscape"),kt("captureTab",!1),bg()],mx=(e,n,a)=>{qr(e.element,n.selector).each(l=>{n.focusManager.set(e,l)})},Nh=e=>(n,a,l,u)=>zg(n,a,l.selector).bind(g=>e(g.candidates,g.index,u.getNumRows().getOr(l.initSize.numRows),u.getNumColumns().getOr(l.initSize.numColumns))),pf=(e,n,a)=>a.captureTab?D.some(!0):D.none(),e1=Nh((e,n,a,l)=>dx(e,n,a,l,-1)),sm=Nh((e,n,a,l)=>dx(e,n,a,l,1)),t1=Nh((e,n,a,l)=>ay(e,n,a,l,-1)),gx=Nh((e,n,a,l)=>ay(e,n,a,l,1)),o1=he([Zr(Vr(dp),Eh(e1,sm)),Zr(Vr(_h),J0(e1,sm)),Zr(Vr(df),Q0(t1)),Zr(Vr(Cg),Ah(gx)),Zr(zd([up,Vr(wu)]),pf),Zr(zd([mp,Vr(wu)]),pf),Zr(Vr(Ac.concat(Ed)),(e,n,a,l)=>((u,g)=>g.focusManager.get(u).bind(h=>Il(h,g.selector)))(e,a).bind(u=>a.execute(e,n,u)))]),n1=he([Zr(Vr(cp),(e,n,a)=>a.onEscape(e,n)),Zr(Vr(Ac),Vm)]);var px=qd(ux,cx,o1,n1,()=>D.some(mx));const sy=(e,n,a,l,u)=>{const g=(h,x,w)=>u(h,x,l,0,w.length-1,w[x],C=>{return T=w[C],ce(T)==="button"&&Qa(T,"disabled")==="disabled"?g(h,C,w):D.from(w[C]);var T});return zg(e,a,n).bind(h=>{const x=h.index,w=h.candidates;return g(x,x,w)})},ff=(e,n,a,l)=>sy(e,n,a,l,(u,g,h,x,w,C,T)=>{const A=Va(g+h,x,w);return A===u?D.from(C):T(A)}),jm=(e,n,a,l)=>sy(e,n,a,l,(u,g,h,x,w,C,T)=>{const A=Or(g,h,x,w);return A===u?D.none():T(A)}),fx=[ho("selector"),kt("getInitial",D.none),kt("execute",gf),sc("onEscape"),kt("executeOnMove",!1),kt("allowVertical",!0),kt("allowHorizontal",!0),kt("cycles",!0)],Dh=(e,n,a)=>((l,u)=>u.focusManager.get(l).bind(g=>Il(g,u.selector)))(e,a).bind(l=>a.execute(e,n,l)),r1=(e,n,a)=>{n.getInitial(e).orThunk(()=>qr(e.element,n.selector)).each(l=>{n.focusManager.set(e,l)})},a1=(e,n,a)=>(a.cycles?jm:ff)(e,a.selector,n,-1),Mh=(e,n,a)=>(a.cycles?jm:ff)(e,a.selector,n,1),s1=e=>(n,a,l,u)=>e(n,a,l,u).bind(()=>l.executeOnMove?Dh(n,a,l):D.some(!0)),hx=he([Zr(Vr(Ac),Vm),Zr(Vr(cp),(e,n,a)=>a.onEscape(e,n))]);var i1=qd(fx,As.init,(e,n,a,l)=>{const u=[...a.allowHorizontal?dp:[]].concat(a.allowVertical?df:[]),g=[...a.allowHorizontal?_h:[]].concat(a.allowVertical?Cg:[]);return[Zr(Vr(u),s1(Eh(a1,Mh))),Zr(Vr(g),s1(J0(a1,Mh))),Zr(Vr(Ed),Dh),Zr(Vr(Ac),Dh)]},hx,()=>D.some(r1));const iy=(e,n,a)=>D.from(e[n]).bind(l=>D.from(l[a]).map(u=>({rowIndex:n,columnIndex:a,cell:u}))),pp=(e,n,a,l)=>{const u=e[n].length,g=Or(a,l,0,u-1);return iy(e,n,g)},Ag=(e,n,a,l)=>{const u=Or(a,l,0,e.length-1),g=e[u].length,h=Va(n,0,g-1);return iy(e,u,h)},p=(e,n,a,l)=>{const u=e[n].length,g=Va(a+l,0,u-1);return iy(e,n,g)},b=(e,n,a,l)=>{const u=Va(a+l,0,e.length-1),g=e[u].length,h=Va(n,0,g-1);return iy(e,u,h)},_=[xd("selectors",[ho("row"),ho("cell")]),kt("cycles",!0),kt("previousSelector",D.none),kt("execute",gf)],E=(e,n,a)=>{n.previousSelector(e).orThunk(()=>{const l=n.selectors;return qr(e.element,l.cell)}).each(l=>{n.focusManager.set(e,l)})},I=(e,n)=>(a,l,u)=>{const g=u.cycles?e:n;return Il(l,u.selectors.row).bind(h=>{const x=Ys(h,u.selectors.cell);return Oh(x,l).bind(w=>{const C=Ys(a,u.selectors.row);return Oh(C,h).bind(T=>{const A=((L,U)=>R(L,Z=>Ys(Z,U.selectors.cell)))(C,u);return g(A,T,w).map(L=>L.cell)})})})},H=I((e,n,a)=>pp(e,n,a,-1),(e,n,a)=>p(e,n,a,-1)),q=I((e,n,a)=>pp(e,n,a,1),(e,n,a)=>p(e,n,a,1)),J=I((e,n,a)=>Ag(e,a,n,-1),(e,n,a)=>b(e,a,n,-1)),pe=I((e,n,a)=>Ag(e,a,n,1),(e,n,a)=>b(e,a,n,1)),Oe=he([Zr(Vr(dp),Eh(H,q)),Zr(Vr(_h),J0(H,q)),Zr(Vr(df),Q0(J)),Zr(Vr(Cg),Ah(pe)),Zr(Vr(Ac.concat(Ed)),(e,n,a)=>Nr(e.element).bind(l=>a.execute(e,n,l)))]),Qe=he([Zr(Vr(Ac),Vm)]);var Me=qd(_,As.init,Oe,Qe,()=>D.some(E));const $e=[ho("selector"),kt("execute",gf),kt("moveOnTab",!1)],He=(e,n,a)=>a.focusManager.get(e).bind(l=>a.execute(e,n,l)),yt=(e,n,a)=>{qr(e.element,n.selector).each(l=>{n.focusManager.set(e,l)})},ht=(e,n,a)=>jm(e,a.selector,n,-1),Qt=(e,n,a)=>jm(e,a.selector,n,1),to=he([Zr(Vr(df),Th(ht)),Zr(Vr(Cg),Th(Qt)),Zr(zd([up,Vr(wu)]),(e,n,a,l)=>a.moveOnTab?Th(ht)(e,n,a,l):D.none()),Zr(zd([mp,Vr(wu)]),(e,n,a,l)=>a.moveOnTab?Th(Qt)(e,n,a,l):D.none()),Zr(Vr(Ed),He),Zr(Vr(Ac),He)]),Eo=he([Zr(Vr(Ac),Vm)]);var To=qd($e,As.init,to,Eo,()=>D.some(yt));const zo=[sc("onSpace"),sc("onEnter"),sc("onShiftEnter"),sc("onLeft"),sc("onRight"),sc("onTab"),sc("onShiftTab"),sc("onUp"),sc("onDown"),sc("onEscape"),kt("stopSpaceKeyup",!1),Hr("focusIn")];var Zo=qd(zo,As.init,(e,n,a)=>[Zr(Vr(Ac),a.onSpace),Zr(zd([mp,Vr(Ed)]),a.onEnter),Zr(zd([up,Vr(Ed)]),a.onShiftEnter),Zr(zd([up,Vr(wu)]),a.onShiftTab),Zr(zd([mp,Vr(wu)]),a.onTab),Zr(Vr(df),a.onUp),Zr(Vr(Cg),a.onDown),Zr(Vr(dp),a.onLeft),Zr(Vr(_h),a.onRight),Zr(Vr(Ac),a.onSpace)],(e,n,a)=>[...a.stopSpaceKeyup?[Zr(Vr(Ac),Vm)]:[],Zr(Vr(cp),a.onEscape)],e=>e.focusIn);const Wo=T_.schema(),Sn=Y0.schema(),qn=i1.schema(),Lr=px.schema(),Xn=Me.schema(),Ar=X0.schema(),mr=To.schema(),za=Zo.schema(),Ho=Z0({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Wo,cyclic:Sn,flow:qn,flatgrid:Lr,matrix:Xn,execution:Ar,menu:mr,special:za}),name:"keying",active:{events:(e,n)=>e.handler.toEvents(e,n)},apis:{focusIn:(e,n,a)=>{n.sendFocusIn(n).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},l=>{l(e,n,a)})},setGridSize:(e,n,a,l,u)=>{(g=>Rn(g,"setGridSize"))(a)?a.setGridSize(l,u):console.error("Layout does not support setGridSize")}},state:Eg}),ei=se("alloy-premade"),Vi=e=>(Object.defineProperty(e.element.dom,ei,{value:e.uid,writable:!0}),Ku(ei,e)),hl=e=>ft(e,ei),ki=e=>((n,a)=>{const l=a.toString(),u=l.indexOf(")")+1,g=l.indexOf("("),h=l.substring(g+1,u-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:$d(h.slice(1))}),n})((n,...a)=>e(n.getApis(),n,...a),e),ws=e=>e.getSystem().isConnected(),$s=e=>{Mr(e,wd());const n=e.components();ut(n,$s)},Dl=e=>{const n=e.components();ut(n,Dl),Mr(e,Zl())},fp=(e,n)=>{e.getSystem().addToWorld(n),si(e.element)&&Dl(n)},lc=e=>{$s(e),e.getSystem().removeFromWorld(e)},Cu=(e,n)=>{ks(e.element,n.element)},Su=(e,n)=>{O_(e,n,ks)},O_=(e,n,a)=>{e.getSystem().addToWorld(n),a(e.element,n.element),si(e.element)&&Dl(n),e.syncComponents()},l1=e=>{$s(e),Yc(e.element),e.getSystem().removeFromWorld(e)},Tg=e=>{const n=Se(e.element).bind(a=>e.getSystem().getByDom(a).toOptional());l1(e),n.each(a=>{a.syncComponents()})},jS=e=>{const n=e.components();ut(n,l1),Fu(e.element),e.syncComponents()},bx=(e,n)=>{yx(e,n,ks)},c1=(e,n)=>{yx(e,n,Ns)},yx=(e,n,a)=>{a(e,n.element);const l=xs(n.element);ut(l,u=>{n.getByDom(u).each(Dl)})},$S=e=>{const n=xs(e.element);ut(n,a=>{e.getByDom(a).each($s)}),Yc(e.element)},US=(e,n,a)=>{a.fold(()=>ks(e,n),l=>{zr(l,n)||(us(l,n),Yc(l))})},ZS=(e,n,a)=>{const l=R(n,a),u=xs(e);return ut(u.slice(l.length),Yc),l},Wd=(e,n,a,l)=>{const u=na(e,n),g=l(a,u),h=((x,w,C)=>na(x,w).map(T=>{if(C.exists(A=>!zr(A,T))){const A=C.map(ce).getOr("span"),L=nn(A);return us(T,L),L}return T}))(e,n,u);return US(e,g.element,h),g},ly=(e,n)=>{const a=Na(n),l=lr(a).bind(g=>{const h=x=>zr(g,x);return h(n)?D.some(n):((x,w)=>{const C=T=>{for(let A=0;A<T.childNodes.length;A++){const L=eo(T.childNodes[A]);if(w(L))return D.some(L);const U=C(T.childNodes[A]);if(U.isSome())return U}return D.none()};return C(x.dom)})(n,h)}),u=e(n);return l.each(g=>{lr(a).filter(h=>zr(h,g)).fold(()=>{lt(g)},Te)}),u},N_=(e,n)=>{ly(()=>{((a,l,u)=>{const g=a.components();(w=>{ut(w.components(),C=>Yc(C.element)),Fu(w.element),w.syncComponents()})(a);const h=u(l),x=me(g,h);ut(x,w=>{$s(w),a.getSystem().removeFromWorld(w)}),ut(h,w=>{ws(w)?Cu(a,w):(a.getSystem().addToWorld(w),Cu(a,w),si(a.element)&&Dl(w))}),a.syncComponents()})(e,n,()=>R(n,e.getSystem().build))},e.element)},hf=(e,n)=>{ly(()=>{((a,l)=>{const u=a.components(),g=Ft(l,w=>hl(w).toArray());ut(u,w=>{vt(g,w)||lc(w)});const h=((w,C,T)=>ZS(w,C,(A,L)=>Wd(w,L,A,T)))(e.element,n,e.getSystem().buildOrPatch),x=me(u,h);ut(x,w=>{ws(w)&&lc(w)}),ut(h,w=>{ws(w)||fp(a,w)}),a.syncComponents()})(e,n)},e.element)},D_=(e,n,a,l)=>{lc(n);const u=Wd(e.element,a,l,e.getSystem().buildOrPatch);fp(e,u),e.syncComponents()},d1=(e,n,a)=>{const l=e.getSystem().build(a);O_(e,l,n)},qS=(e,n,a,l)=>{Tg(n),d1(e,(u,g)=>((h,x,w)=>{na(h,w).fold(()=>{ks(h,x)},C=>{us(C,x)})})(u,g,a),l)},hp=(e,n)=>e.components(),cy=(e,n,a,l,u)=>{const g=hp(e);return D.from(g[l]).map(h=>(u.fold(()=>Tg(h),x=>{(n.reuseDom?D_:qS)(e,h,l,x)}),h))};var WS=Object.freeze({__proto__:null,append:(e,n,a,l)=>{d1(e,ks,l)},prepend:(e,n,a,l)=>{d1(e,Hs,l)},remove:(e,n,a,l)=>{const u=hp(e);xo(u,h=>zr(l.element,h.element)).each(Tg)},replaceAt:cy,replaceBy:(e,n,a,l,u)=>{const g=hp(e);return No(g,l).bind(h=>cy(e,n,0,h,u))},set:(e,n,a,l)=>(n.reuseDom?hf:N_)(e,l),contents:hp});const or=rl({fields:[Ii("reuseDom",!0)],name:"replacing",apis:WS}),M_=Ea([(e=>({key:e,value:nm({can:(n,a)=>{const l=a.event,u=l.originator,g=l.target;return!((h,x,w)=>zr(x,h.element)&&!zr(x,w))(n,u,g)||(console.warn(Ol()+` did not get interpreted by the desired target. 
Originator: `+jd(u)+`
Target: `+jd(g)+`
Check the `+Ol()+" event handlers"),!1)}})}))(Ol())]);var R_=Object.freeze({__proto__:null,events:M_});const vx=he("alloy-id-"),B_=he("data-alloy-id"),GS=vx(),dy=B_(),u1=(e,n)=>{Object.defineProperty(e.dom,dy,{value:n,writable:!0})},uy=e=>{const n=lo(e)?e.dom[dy]:null;return D.from(n)},my=e=>se(e),KS=Xe,gy=e=>{const n=u=>`The component must be in a context to execute: ${u}`+(e?`
`+jd(e().element)+" is not in context.":""),a=u=>()=>{throw new Error(n(u))},l=u=>()=>{console.warn(n(u))};return{debugInfo:he("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Vo}},py=gy(),xx=(e,n)=>{const a={};return Fo(e,(l,u)=>{Fo(l,(g,h)=>{const x=ft(a,h).getOr([]);a[h]=x.concat([n(u,g)])})}),a},wx=e=>e.cHandler,bf=(e,n)=>({name:e,handler:n}),F_=(e,n)=>{const a={};return ut(e,l=>{a[l.name()]=l.handlers(n)}),a},L_=(e,n,a)=>{const l=n[a];return l?((u,g,h,x)=>{try{const w=Ie(h,(C,T)=>{const A=C[g],L=T[g],U=x.indexOf(A),Z=x.indexOf(L);if(U===-1)throw new Error("The ordering for "+u+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(x,null,2));if(Z===-1)throw new Error("The ordering for "+u+" does not have an entry for "+L+`.
Order specified: `+JSON.stringify(x,null,2));return U<Z?-1:Z<U?1:0});return Gn.value(w)}catch(w){return Gn.error([w])}})("Event: "+a,"name",e,l).map(u=>(g=>({can:(w=>(...C)=>co(w,(T,A)=>T&&(L=>L.can)(A).apply(void 0,C),!0))(g),abort:(w=>(...C)=>co(w,(T,A)=>T||(L=>L.abort)(A).apply(void 0,C),!1))(g),run:(...w)=>{ut(g,C=>{C.run.apply(void 0,w)})}}))(R(u,g=>g.handler))):((u,g)=>Gn.error(["The event ("+u+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(R(g,h=>h.name),null,2)]))(a,e)},kx=(e,n)=>((a,l)=>{const u=(h=>{const x=[],w=[];return ut(h,C=>{C.fold(T=>{x.push(T)},T=>{w.push(T)})}),{errors:x,values:w}})(a);return u.errors.length>0?(g=u.errors,Gn.error(ke(g))):((h,x)=>h.length===0?Gn.value(x):Gn.value(Yo(x,Er.apply(void 0,h))))(u.values,l);var g})(_n(e,(a,l)=>(a.length===1?Gn.value(a[0].handler):L_(a,n,l)).map(u=>{const g=(x=>{const w=(C=>bt(C)?{can:Nt,abort:Vo,run:C}:C)(x);return(C,T,...A)=>{const L=[C,T].concat(A);w.abort.apply(void 0,L)?T.stop():w.can.apply(void 0,L)&&w.run.apply(void 0,L)}})(u),h=a.length>1?Bt(n[l],x=>so(a,w=>w.name===x)).join(" > "):a[0].name;return Ku(l,((x,w)=>({handler:x,purpose:w}))(g,h))})),{}),yf="alloy.base.behaviour",_x=Pn([yi("dom","dom",{tag:"required",process:{}},Pn([ho("tag"),kt("styles",{}),kt("classes",[]),kt("attributes",{}),Hr("value"),Hr("innerHtml")])),ho("components"),ho("uid"),kt("events",{}),kt("apis",{}),yi("eventOrder","eventOrder",(H_={[yr()]:["disabling",yf,"toggling","typeaheadevents"],[Ol()]:[yf,"focusing","keying"],[Om()]:[yf,"disabling","toggling","representing","tooltipping"],[ms()]:[yf,"representing","streaming","invalidating"],[wd()]:[yf,"representing","item-events","toolbar-button-events","tooltipping"],[Ke()]:["focusing",yf,"item-type-events"],[S()]:["focusing",yf,"item-type-events"],[Hn()]:["item-type-events","tooltipping"],[bu()]:["receiving","reflecting","tooltipping"]},xb(he(H_))),$a()),Hr("domModification")]),I_=e=>e.events,$m=(e,n)=>{const a=dt(e),l=dt(n),u=me(l,a),g=(h=>{const x={},w={};return qo(h,(C,T)=>!bo(n,T)||C!==n[T],oo(x),oo(w)),{t:x,f:w}})(e).t;return{toRemove:u,toSet:g}},Eu=(e,n)=>{const a=n.filter(l=>ce(l)===e.tag&&!(u=>u.innerHtml.isSome()&&u.domChildren.length>0)(e)&&!(u=>bo(u.dom,ei))(l)).bind(l=>((u,g)=>{try{const h=((x,w)=>{const{class:C,style:T,...A}=(fe=>co(fe.dom.attributes,(be,Re)=>(be[Re.name]=Re.value,be),{}))(w),{toSet:L,toRemove:U}=$m(x.attributes,A),Z=Mc(w),{toSet:ue,toRemove:re}=$m(x.styles,Z),ge=Hu(w),Q=me(ge,x.classes),ee=me(x.classes,ge);return ut(U,fe=>ya(w,fe)),yc(w,L),Pl(w,ee),ii(w,Q),ut(re,fe=>br(w,fe)),Aa(w,ue),x.innerHtml.fold(()=>{const fe=x.domChildren;((be,Re)=>{ZS(be,Re,(Ge,mt)=>{const Rt=na(be,mt);return US(be,Ge,Rt),Ge})})(w,fe)},fe=>{Lu(w,fe)}),(()=>{const fe=w,be=x.value.getOrUndefined();be!==Vs(fe)&&Bc(fe,be??"")})(),w})(u,g);return D.some(h)}catch{return D.none()}})(e,l)).getOrThunk(()=>(l=>{const u=nn(l.tag);yc(u,l.attributes),Pl(u,l.classes),Aa(u,l.styles),l.innerHtml.each(h=>Lu(u,h));const g=l.domChildren;return ha(u,g),l.value.each(h=>{Bc(u,h)}),u})(e));return u1(a,e.uid),a},bl=e=>{const n=(a=>{const l=ft(a,"behaviours").getOr({});return Ft(dt(l),u=>{const g=l[u];return Je(g)?[g.me]:[]})})(e);return((a,l)=>((u,g)=>{const h=R(g,w=>ml(w.name(),[ho("config"),kt("state",As)])),x=os("component.behaviours",Pn(h),u.behaviours).fold(w=>{throw new Error(gu(w)+`
Complete spec:
`+JSON.stringify(u,null,2))},Xe);return{list:g,data:rt(x,w=>{const C=w.map(T=>({config:T.config,state:T.state.init(T.config)}));return he(C)})}})(a,l))(e,n)},P_=(e,n)=>{const a=()=>L,l=fo(py),u=qi((U=>os("custom.definition",_x,U))(e)),g=bl(e),h=(U=>U.list)(g),x=(U=>U.data)(g),w=((U,Z,ue)=>{const re={...(ge=U).dom,uid:ge.uid,domChildren:R(ge.components,Ge=>Ge.element)};var ge;const Q=(Ge=>Ge.domModification.fold(()=>xu({}),xu))(U),ee={"alloy.base.modification":Q},fe=Z.length>0?((Ge,mt,Rt,Xt)=>{const qt={...mt};ut(Rt,Cr=>{qt[Cr.name()]=Cr.exhibit(Ge,Xt)});const uo=xx(qt,(Cr,rs)=>({name:Cr,modification:rs})),Mo=Cr=>Vt(Cr,(rs,Cs)=>({...Cs.modification,...rs}),{}),yn=Vt(uo.classes,(Cr,rs)=>rs.modification.concat(Cr),[]),Bn=Mo(uo.attributes),Un=Mo(uo.styles);return xu({classes:yn,attributes:Bn,styles:Un})})(ue,ee,Z,re):Q;return be=re,Re=fe,{...be,attributes:{...be.attributes,...Re.attributes},styles:{...be.styles,...Re.styles},classes:be.classes.concat(Re.classes)};var be,Re})(u,h,x),C=Eu(w,n),T=((U,Z,ue)=>{const re={"alloy.base.behaviour":I_(U)};return((ge,Q,ee,fe)=>{const be=((Re,Ge,mt)=>{const Rt={...mt,...F_(Ge,Re)};return xx(Rt,bf)})(ge,ee,fe);return kx(be,Q)})(ue,U.eventOrder,Z,re).getOrDie()})(u,h,x),A=fo(u.components),L={uid:e.uid,getSystem:l.get,config:U=>{const Z=x;return(bt(Z[U.name()])?Z[U.name()]:()=>{throw new Error("Could not find "+U.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:U=>bt(x[U.name()]),spec:e,readState:U=>x[U]().map(Z=>Z.state.readState()).getOr("not enabled"),getApis:()=>u.apis,connect:U=>{l.set(U)},disconnect:()=>{l.set(gy(a))},element:C,syncComponents:()=>{const U=xs(C),Z=Ft(U,ue=>l.get().getByDom(ue).fold(()=>[],Pe));A.set(Z)},components:A.get,events:T};return L},gs=e=>{const n=zn(e);return Cx({element:n})},Cx=e=>{const n=el("external.component",jl([ho("element"),Hr("uid")]),e),a=fo(gy()),l=n.uid.getOrThunk(()=>my("external"));u1(n.element,l);const u={uid:l,getSystem:a.get,config:D.none,hasConfigured:Vo,connect:g=>{a.set(g)},disconnect:()=>{a.set(gy(()=>u))},getApis:()=>({}),element:n.element,spec:e,readState:he("No state"),syncComponents:Te,components:he([]),events:{}};return Vi(u)},fy=my,Sx=(e,n)=>hl(e).getOrThunk(()=>((a,l)=>{const{events:u,...g}=KS(a),h=((w,C)=>{const T=ft(w,"components").getOr([]);return C.fold(()=>R(T,Kl),A=>R(T,(L,U)=>Sx(L,na(A,U))))})(g,l),x={...g,events:{...R_,...u},components:h};return Gn.value(P_(x,l))})((a=>bo(a,"uid"))(e)?e:{uid:fy(""),...e},n).getOrDie()),Kl=e=>Sx(e,D.none()),Gd=Vi;var H_,YS=Object.freeze({__proto__:null,block:(e,n,a,l)=>{An(e.element,"aria-busy",!0);const u=n.getRoot(e).getOr(e),g=Co([Ho.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),Vn.config({})]),h=l(u,g),x=u.getSystem().build(h);or.append(u,Gd(x)),x.hasConfigured(Ho)&&n.focus&&Ho.focusIn(x),a.isBlocked()||n.onBlock(e),a.blockWith(()=>or.remove(u,x))},unblock:(e,n,a)=>{ya(e.element,"aria-busy"),a.isBlocked()&&n.onUnblock(e),a.clear()},isBlocked:(e,n,a)=>a.isBlocked()}),KT=[La("getRoot",D.none),Ii("focus",!0),Fr("onBlock"),Fr("onUnblock")];const Um=rl({fields:KT,name:"blocking",apis:YS,state:Object.freeze({__proto__:null,init:()=>{const e=wt(n=>n.destroy());return nl({readState:e.isSet,blockWith:n=>{e.set({destroy:n})},clear:e.clear,isBlocked:e.isSet})}})});var XS=Object.freeze({__proto__:null,getCurrent:(e,n,a)=>n.find(e)});const JS=[ho("find")],$r=rl({fields:JS,name:"composing",apis:XS});var QS=Object.freeze({__proto__:null,getCoupled:(e,n,a,l)=>a.getOrCreate(e,n,l),getExistingCoupled:(e,n,a,l)=>a.getExisting(e,n,l)}),Ex=[_c("others",th(Gn.value,$a()))],e3=Object.freeze({__proto__:null,init:()=>{const e={},n=(l,u)=>{if(dt(l.others).length===0)throw new Error("Cannot find any known coupled components");return ft(e,u)},a=he({});return nl({readState:a,getExisting:(l,u,g)=>n(u,g).orThunk(()=>(ft(u.others,g).getOrDie("No information found for coupled component: "+g),D.none())),getOrCreate:(l,u,g)=>n(u,g).getOrThunk(()=>{const h=ft(u.others,g).getOrDie("No information found for coupled component: "+g)(l),x=l.getSystem().build(h);return e[g]=x,x})})}});const ps=rl({fields:Ex,name:"coupling",apis:QS,state:e3}),m1=["input","button","textarea","select"],t3=(e,n,a)=>{(n.disabled()?Ax:Tx)(e,n)},zx=(e,n)=>n.useNative===!0&&vt(m1,ce(e.element)),o3=e=>{An(e.element,"disabled","disabled")},YT=e=>{ya(e.element,"disabled")},n3=e=>{An(e.element,"aria-disabled","true")},g1=e=>{An(e.element,"aria-disabled","false")},Ax=(e,n,a)=>{n.disableClass.each(l=>{Jr(e.element,l)}),(zx(e,n)?o3:n3)(e),n.onDisabled(e)},Tx=(e,n,a)=>{n.disableClass.each(l=>{ma(e.element,l)}),(zx(e,n)?YT:g1)(e),n.onEnabled(e)},r3=(e,n)=>zx(e,n)?(a=>mi(a.element,"disabled"))(e):(a=>Qa(a.element,"aria-disabled")==="true")(e);var a3=Object.freeze({__proto__:null,enable:Tx,disable:Ax,isDisabled:r3,onLoad:t3,set:(e,n,a,l)=>{(l?Ax:Tx)(e,n)}}),s3=Object.freeze({__proto__:null,exhibit:(e,n)=>xu({classes:n.disabled()?n.disableClass.toArray():[]}),events:(e,n)=>Ea([_g(yr(),(a,l)=>r3(a,e)),Yb(e,n,t3)])}),XT=[La("disabled",Vo),kt("useNative",!0),Hr("disableClass"),Fr("onDisabled"),Fr("onEnabled")];const En=rl({fields:XT,name:"disabling",active:s3,apis:a3}),Ad=(e,n,a,l,u)=>{const g=h=>h+"px";return{position:e,left:n.map(g),top:a.map(g),right:l.map(g),bottom:u.map(g)}},Ox=(e,n)=>{gd(e,(a=>({...a,position:D.some(a.position)}))(n))},i3=(e,n)=>{const a=e.element;Jr(a,n.transitionClass),ma(a,n.fadeOutClass),Jr(a,n.fadeInClass),n.onShow(e)},zu=(e,n)=>{const a=e.element;Jr(a,n.transitionClass),ma(a,n.fadeInClass),Jr(a,n.fadeOutClass),n.onHide(e)},V_=(e,n)=>e.y>=n.y,l3=(e,n)=>e.bottom<=n.bottom,Nx=(e,n,a)=>({location:"top",leftX:n,topY:a.bounds.y-e.y}),vf=(e,n,a)=>({location:"bottom",leftX:n,bottomY:e.bottom-a.bounds.bottom}),p1=e=>e.box.x-e.win.x,f1=(e,n,a)=>a.getInitialPos().map(l=>{const u=((g,h)=>{const x=h.optScrollEnv.fold(he(g.bounds.y),w=>w.scrollElmTop+(g.bounds.y-w.currentScrollTop));return ca(g.bounds.x,x)})(l,n);return{box:Xs(u.left,u.top,Fi(e),Fa(e)),location:l.location}}),h1=(e,n,a,l,u)=>{const g=((x,w)=>{const C=w.optScrollEnv.fold(he(x.y),T=>x.y+T.currentScrollTop-T.scrollElmTop);return ca(x.x,C)})(n,a),h=Xs(g.left,g.top,n.width,n.height);l.setInitialPos({style:Mc(e),position:Ds(e,"position")||"static",bounds:h,location:u.location})},Dx=(e,n,a)=>a.getInitialPos().bind(l=>{var u;switch(a.clearInitialPos(),l.position){case"static":return D.some({morph:"static"});case"absolute":const g=O(e).getOr(vc()),h=js(g),x=(u=g.dom.scrollTop)!==null&&u!==void 0?u:0;return D.some({morph:"absolute",positionCss:Ad("absolute",ft(l.style,"left").map(w=>n.x-h.x),ft(l.style,"top").map(w=>n.y-h.y+x),ft(l.style,"right").map(w=>h.right-n.right),ft(l.style,"bottom").map(w=>h.bottom-n.bottom))});default:return D.none()}}),j_=e=>{switch(e.location){case"top":return D.some({morph:"fixed",positionCss:Ad("fixed",D.some(e.leftX),D.some(e.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:Ad("fixed",D.some(e.leftX),D.none(),D.none(),D.some(e.bottomY))});default:return D.none()}},JT=(e,n,a)=>{const l=e.element;return kr(ra(l,"position"),"fixed")?((u,g,h)=>((x,w,C)=>f1(x,w,C).filter(({box:T})=>((A,L,U)=>Uo(A,Z=>{switch(Z){case"bottom":return l3(L,U.bounds);case"top":return V_(L,U.bounds)}}))(C.getModes(),T,w)).bind(({box:T})=>Dx(x,T,C)))(u,g,h).orThunk(()=>g.optScrollEnv.bind(x=>f1(u,g,h)).bind(({box:x,location:w})=>{const C=bi(),T=p1({win:C,box:x}),A=w==="top"?Nx(C,T,g):vf(C,T,g);return j_(A)})))(l,n,a):((u,g,h)=>{const x=js(u),w=bi(),C=((T,A,L)=>{const U=A.win,Z=A.box,ue=p1(A);return We(T,re=>{switch(re){case"bottom":return l3(Z,L.bounds)?D.none():D.some(vf(U,ue,L));case"top":return V_(Z,L.bounds)?D.none():D.some(Nx(U,ue,L));default:return D.none()}}).getOr({location:"no-dock"})})(h.getModes(),{win:w,box:x},g);return C.location==="top"||C.location==="bottom"?(h1(u,x,g,h,C),j_(C)):D.none()})(l,n,a)},$_=(e,n,a)=>{a.setDocked(!1),ut(["left","right","top","bottom","position"],l=>br(e.element,l)),n.onUndocked(e)},hy=(e,n,a,l)=>{const u=l.position==="fixed";a.setDocked(u),Ox(e.element,l),(u?n.onDocked:n.onUndocked)(e)},Rh=(e,n,a,l,u=!1)=>{n.contextual.each(g=>{g.lazyContext(e).each(h=>{const x=((w,C)=>w.y<C.bottom&&w.bottom>C.y)(h,l.bounds);x!==a.isVisible()&&(a.setVisible(x),u&&!x?(Pl(e.element,[g.fadeOutClass]),g.onHide(e)):(x?i3:zu)(e,g))})})},Mx=(e,n,a,l,u)=>{Rh(e,n,a,l,!0),hy(e,n,a,u.positionCss)},by=(e,n,a)=>{e.getSystem().isConnected()&&((l,u,g)=>{const h=u.lazyViewport(l);Rh(l,u,g,h),JT(l,h,g).each(x=>{((w,C,T,A,L)=>{switch(L.morph){case"static":return $_(w,C,T);case"absolute":return hy(w,C,T,L.positionCss);case"fixed":Mx(w,C,T,A,L)}})(l,u,g,h,x)})})(e,n,a)},un=(e,n,a)=>{a.isDocked()&&((l,u,g)=>{const h=l.element;g.setDocked(!1);const x=u.lazyViewport(l);((w,C,T)=>{const A=w.element;return f1(A,C,T).bind(({box:L})=>Dx(A,L,T))})(l,x,g).each(w=>{switch(w.morph){case"static":$_(l,u,g);break;case"absolute":hy(l,u,g,w.positionCss)}}),g.setVisible(!0),u.contextual.each(w=>{ii(h,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(l)}),by(l,u,g)})(e,n,a)},xf=e=>(n,a,l)=>{const u=a.lazyViewport(n);((g,h,x,w)=>{const C=js(g),T=bi(),A=w(T,p1({win:T,box:C}),h);return A.location==="bottom"||A.location==="top"?(((L,U,Z,ue,re)=>{ue.getInitialPos().fold(()=>h1(L,U,Z,ue,re),()=>Te)})(g,C,h,x,A),j_(A)):D.none()})(n.element,u,l,e).each(g=>{Mx(n,a,l,u,g)})},c3=xf(Nx),Rx=xf(vf);var U_=Object.freeze({__proto__:null,refresh:by,reset:un,isDocked:(e,n,a)=>a.isDocked(),getModes:(e,n,a)=>a.getModes(),setModes:(e,n,a,l)=>a.setModes(l),forceDockToTop:c3,forceDockToBottom:Rx}),d3=Object.freeze({__proto__:null,events:(e,n)=>Ea([am(hu(),(a,l)=>{e.contextual.each(u=>{fi(a.element,u.transitionClass)&&(ii(a.element,[u.transitionClass,u.fadeInClass]),(n.isVisible()?u.onShown:u.onHidden)(a)),l.stop()})}),Wt(ug(),(a,l)=>{by(a,e,n)}),Wt(nh(),(a,l)=>{by(a,e,n)}),Wt(mg(),(a,l)=>{un(a,e,n)})])}),u3=[ml("contextual",[li("fadeInClass"),li("fadeOutClass"),li("transitionClass"),oc("lazyContext"),Fr("onShow"),Fr("onShown"),Fr("onHide"),Fr("onHidden")]),La("lazyViewport",()=>({bounds:bi(),optScrollEnv:D.none()})),rc("modes",["top","bottom"],Es),Fr("onDocked"),Fr("onUndocked")];const fs=rl({fields:u3,name:"docking",active:d3,apis:U_,state:Object.freeze({__proto__:null,init:e=>{const n=fo(!1),a=fo(!0),l=ko(),u=fo(e.modes);return nl({isDocked:n.get,setDocked:n.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:a.get,setVisible:a.set,getModes:u.get,setModes:u.set,readState:()=>`docked:  ${n.get()}, visible: ${a.get()}, modes: ${u.get().join(",")}`})}})}),Bx=On([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Fx=e=>n=>n.translate(-e.left,-e.top),Lx=e=>n=>n.translate(e.left,e.top),Og=e=>(n,a)=>co(e,(l,u)=>u(l),ca(n,a)),yy=(e,n,a)=>e.fold(Og([Lx(a),Fx(n)]),Og([Fx(n)]),Og([])),Bh=(e,n,a)=>e.fold(Og([Lx(a)]),Og([]),Og([Lx(n)])),b1=(e,n,a)=>e.fold(Og([]),Og([Fx(a)]),Og([Lx(n),Fx(a)])),y1=(e,n,a)=>{const l=e.fold((u,g)=>({position:D.some("absolute"),left:D.some(u+"px"),top:D.some(g+"px")}),(u,g)=>({position:D.some("absolute"),left:D.some(u-a.left+"px"),top:D.some(g-a.top+"px")}),(u,g)=>({position:D.some("fixed"),left:D.some(u+"px"),top:D.some(g+"px")}));return{right:D.none(),bottom:D.none(),...l}},vy=(e,n,a,l)=>{const u=(g,h)=>(x,w)=>{const C=g(n,a,l);return h(x.getOr(C.left),w.getOr(C.top))};return e.fold(u(b1,Ng),u(Bh,Dg),u(yy,wf))},Ng=Bx.offset,Dg=Bx.absolute,wf=Bx.fixed,Z_=(e,n)=>{const a=Qa(e,n);return tn(a)?NaN:parseInt(a,10)},m3=(e,n,a,l,u,g)=>{const h=((C,T,A,L)=>((U,Z)=>{const ue=U.element,re=Z_(ue,Z.leftAttr),ge=Z_(ue,Z.topAttr);return isNaN(re)||isNaN(ge)?D.none():D.some(ca(re,ge))})(C,T).fold(()=>A,U=>wf(U.left+L.left,U.top+L.top)))(e,n,a,l),x=n.mustSnap?p3(e,n,h,u,g):QT(e,n,h,u,g),w=yy(h,u,g);return((C,T,A)=>{const L=C.element;An(L,T.leftAttr,A.left+"px"),An(L,T.topAttr,A.top+"px")})(e,n,w),x.fold(()=>({coord:wf(w.left,w.top),extra:D.none()}),C=>({coord:C.output,extra:C.extra}))},g3=(e,n,a,l)=>We(e,u=>{const g=u.sensor;return((x,w,C,T,A,L)=>{const U=Bh(x,A,L),Z=Bh(w,A,L);return Math.abs(U.left-Z.left)<=C&&Math.abs(U.top-Z.top)<=T})(n,g,u.range.left,u.range.top,a,l)?D.some({output:vy(u.output,n,a,l),extra:u.extra}):D.none()}),p3=(e,n,a,l,u)=>{const g=n.getSnapPoints(e);return g3(g,a,l,u).orThunk(()=>co(g,(x,w)=>{const C=w.sensor,T=((A,L,U,Z,ue,re)=>{const ge=Bh(A,ue,re),Q=Bh(L,ue,re),ee=Math.abs(ge.left-Q.left),fe=Math.abs(ge.top-Q.top);return ca(ee,fe)})(a,C,w.range.left,w.range.top,l,u);return x.deltas.fold(()=>({deltas:D.some(T),snap:D.some(w)}),A=>(T.left+T.top)/2<=(A.left+A.top)/2?{deltas:D.some(T),snap:D.some(w)}:x)},{deltas:D.none(),snap:D.none()}).snap.map(x=>({output:vy(x.output,a,l,u),extra:x.extra})))},QT=(e,n,a,l,u)=>{const g=n.getSnapPoints(e);return g3(g,a,l,u)};var q_=Object.freeze({__proto__:null,snapTo:(e,n,a,l)=>{const u=n.getTarget(e.element);if(n.repositionTarget){const g=vo(e.element),h=Ui(g),x=V(u),w=((T,A,L)=>({coord:vy(T.output,T.output,A,L),extra:T.extra}))(l,h,x),C=y1(w.coord,0,x);gd(u,C)}}});const al=(e,n)=>lg(e,{},R(n,a=>{return l=a.name(),u="Cannot configure "+a.name()+" for "+e,yi(l,l,{tag:"option",process:{}},va(g=>Zn("The field: "+l+" is forbidden. "+u)));var l,u}).concat([Wi("dump",Xe)])),Ix=e=>e.dump,yl=(e,n)=>({...Co(n),...e.dump}),xy=al,wy=yl,f3=(e,n,a,l,u)=>{const g=((h,x)=>(h.length>0?[xd("parts",h)]:[]).concat([ho("uid"),kt("dom",{}),kt("components",[]),_0("originalSpec"),kt("debug.sketcher",{})]).concat(x))(l,u);return el(e+" [SpecSchema]",jl(g.concat(n)),a)},W_=(e,n,a,l,u)=>{const g=ky(u),h=lh(a),x=N0(a),w=f3(e,n,g,h,[x]),C=T0(0,w,a);return l(w,O0(e,w,C.internals()),g,C.externals())},ky=e=>(n=>bo(n,"uid"))(e)?e:{...e,uid:my("uid")},h3=jl([ho("name"),ho("factory"),ho("configFields"),kt("apis",{}),kt("extraApis",{})]),b3=jl([ho("name"),ho("factory"),ho("configFields"),ho("partFields"),kt("apis",{}),kt("extraApis",{})]),Td=e=>{const n=el("Sketcher for "+e.name,h3,e),a=rt(n.apis,ki),l=rt(n.extraApis,(u,g)=>Fm(u,g));return{name:n.name,configFields:n.configFields,sketch:u=>((g,h,x,w)=>{const C=ky(w);return x(f3(g,h,C,[],[]),C)})(n.name,n.configFields,n.factory,u),...a,...l}},cc=e=>{const n=el("Sketcher for "+e.name,b3,e),a=A0(n.name,n.partFields),l=rt(n.apis,ki),u=rt(n.extraApis,(g,h)=>Fm(g,h));return{name:n.name,partFields:n.partFields,configFields:n.configFields,sketch:g=>W_(n.name,n.configFields,n.partFields,n.factory,g),parts:a,...l,...u}},im=Td({name:"Container",factory:e=>{const{attributes:n,...a}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...n},...a},components:e.components,behaviours:Ix(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[kt("components",[]),al("containerBehaviours",[]),kt("events",{}),kt("domModification",{}),kt("eventOrder",{})]}),v1="data-initial-z-index",y3=(e,n)=>{e.getSystem().addToGui(n),(a=>{Se(a.element).filter(lo).each(l=>{ra(l,"z-index").each(u=>{An(l,v1,u)}),er(l,"z-index",Ds(a.element,"z-index"))})})(n)},Px=e=>{(n=>{Se(n.element).filter(lo).each(a=>{ba(a,v1).fold(()=>br(a,"z-index"),l=>er(a,"z-index",l)),ya(a,v1)})})(e),e.getSystem().removeFromGui(e)},v3=(e,n,a)=>e.getSystem().build(im.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[n]},events:a}));var x3=ml("snaps",[ho("getSnapPoints"),Fr("onSensor"),ho("leftAttr"),ho("topAttr"),kt("lazyViewport",bi),kt("mustSnap",!1)]);const dc=[kt("useFixed",Vo),ho("blockerClass"),kt("getTarget",Xe),kt("onDrag",Te),kt("repositionTarget",!0),kt("onDrop",Te),La("getBounds",bi),x3],e5=e=>{return(n=ra(e,"left"),a=ra(e,"top"),l=ra(e,"position"),n.isSome()&&a.isSome()&&l.isSome()?D.some(((u,g,h)=>(h==="fixed"?wf:Ng)(parseInt(u,10),parseInt(g,10)))(n.getOrDie(),a.getOrDie(),l.getOrDie())):D.none()).getOrThunk(()=>{const u=Ji(e);return Dg(u.left,u.top)});var n,a,l},G_=(e,n)=>({bounds:e.getBounds(),height:Xr(n.element),width:Ks(n.element)}),Hx=(e,n,a,l,u)=>{const g=a.update(l,u),h=a.getStartData().getOrThunk(()=>G_(n,e));g.each(x=>{((w,C,T,A)=>{const L=C.getTarget(w.element);if(C.repositionTarget){const U=vo(w.element),Z=Ui(U),ue=V(L),re=e5(L),ge=((ee,fe,be,Re,Ge,mt,Rt)=>((Xt,qt,uo,Mo,yn)=>{const Bn=yn.bounds,Un=Bh(qt,uo,Mo),Cr=Va(Un.left,Bn.x,Bn.x+Bn.width-yn.width),rs=Va(Un.top,Bn.y,Bn.y+Bn.height-yn.height),Cs=Dg(Cr,rs);return qt.fold(()=>{const da=b1(Cs,uo,Mo);return Ng(da.left,da.top)},he(Cs),()=>{const da=yy(Cs,uo,Mo);return wf(da.left,da.top)})})(0,fe.fold(()=>{const Xt=(qt=be,uo=mt.left,Mo=mt.top,qt.fold((Bn,Un)=>Ng(Bn+uo,Un+Mo),(Bn,Un)=>Dg(Bn+uo,Un+Mo),(Bn,Un)=>wf(Bn+uo,Un+Mo)));var qt,uo,Mo;const yn=yy(Xt,Re,Ge);return wf(yn.left,yn.top)},Xt=>{const qt=m3(ee,Xt,be,mt,Re,Ge);return qt.extra.each(uo=>{Xt.onSensor(ee,uo)}),qt.coord}),Re,Ge,Rt))(w,C.snaps,re,Z,ue,A,T),Q=y1(ge,0,ue);gd(L,Q)}C.onDrag(w,L,A)})(e,n,h,x)})},K_=(e,n,a,l)=>{n.each(Px),a.snaps.each(g=>{((h,x)=>{((w,C)=>{const T=w.element;ya(T,C.leftAttr),ya(T,C.topAttr)})(h,x)})(e,g)});const u=a.getTarget(e.element);l.reset(),a.onDrop(e,u)},Vx=e=>(n,a)=>{const l=u=>{a.setStartData(G_(n,u))};return Ea([Wt(ug(),u=>{a.getStartData().each(()=>l(u))}),...e(n,a,l)])};var t5=Object.freeze({__proto__:null,getData:e=>D.from(ca(e.x,e.y)),getDelta:(e,n)=>ca(n.left-e.left,n.top-e.top)});const w3=(e,n,a)=>[Wt(Ke(),(l,u)=>{if(u.event.raw.button!==0)return;u.stop();const g=()=>K_(l,D.some(w),e,n),h=Ab(g,200),x={drop:g,delayDrop:h.schedule,forceDrop:g,move:C=>{h.cancel(),Hx(l,e,n,t5,C)}},w=v3(l,e.blockerClass,(C=>Ea([Wt(Ke(),C.forceDrop),Wt(fn(),C.drop),Wt(Jt(),(T,A)=>{C.move(A.event)}),Wt(jo(),C.delayDrop)]))(x));a(l),y3(l,w)})],o5=[...dc,qa("dragger",{handlers:Vx(w3)})];var k3=Object.freeze({__proto__:null,getData:e=>{const n=e.raw.touches;return n.length===1?(a=>{const l=a[0];return D.some(ca(l.clientX,l.clientY))})(n):D.none()},getDelta:(e,n)=>ca(n.left-e.left,n.top-e.top)});const Y_=(e,n,a)=>{const l=ko(),u=g=>{K_(g,l.get(),e,n),l.clear()};return[Wt(S(),(g,h)=>{h.stop();const x=()=>u(g),w={drop:x,delayDrop:Te,forceDrop:x,move:T=>{Hx(g,e,n,k3,T)}},C=v3(g,e.blockerClass,(T=>Ea([Wt(S(),T.forceDrop),Wt(G(),T.drop),Wt(le(),T.drop),Wt(B(),(A,L)=>{T.move(L.event)})]))(w));l.set(C),a(g),y3(g,C)}),Wt(B(),(g,h)=>{h.stop(),Hx(g,e,n,k3,h.event)}),Wt(G(),(g,h)=>{h.stop(),u(g)}),Wt(le(),u)]},n5=o5,r5=[...dc,qa("dragger",{handlers:Vx(Y_)})],_3=[...dc,qa("dragger",{handlers:Vx((e,n,a)=>[...w3(e,n,a),...Y_(e,n,a)])})];var C3=Object.freeze({__proto__:null,mouse:n5,touch:r5,mouseOrTouch:_3}),S3=Object.freeze({__proto__:null,init:()=>{let e=D.none(),n=D.none();const a=he({});return nl({readState:a,reset:()=>{e=D.none(),n=D.none()},update:(l,u)=>l.getData(u).bind(g=>((h,x)=>{const w=e.map(C=>h.getDelta(C,x));return e=D.some(x),w})(l,g)),getStartData:()=>n,setStartData:l=>{n=D.some(l)}})}});const Fh=Z0({branchKey:"mode",branches:C3,name:"dragging",active:{events:(e,n)=>e.dragger.handlers(e,n)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:D.from(e.extra)})},state:S3,apis:q_}),E3=["input","textarea"],X_=e=>{const n=ce(e);return vt(E3,n)},bp=(e,n)=>{const a=n.getRoot(e).getOr(e.element);ma(a,n.invalidClass),n.notify.each(l=>{X_(e.element)&&An(e.element,"aria-invalid",!1),l.getContainer(e).each(u=>{Lu(u,l.validHtml)}),l.onValid(e)})},J_=(e,n,a,l)=>{const u=n.getRoot(e).getOr(e.element);Jr(u,n.invalidClass),n.notify.each(g=>{X_(e.element)&&An(e.element,"aria-invalid",!0),g.getContainer(e).each(h=>{Lu(h,l)}),g.onInvalid(e,l)})},Q_=(e,n,a)=>n.validator.fold(()=>ea(Gn.value(!0)),l=>l.validate(e)),jx=(e,n,a)=>(n.notify.each(l=>{l.onValidate(e)}),Q_(e,n).map(l=>e.getSystem().isConnected()?l.fold(u=>(J_(e,n,0,u),Gn.error(u)),u=>(bp(e,n),Gn.value(u))):Gn.error("No longer in system")));var _y=Object.freeze({__proto__:null,markValid:bp,markInvalid:J_,query:Q_,run:jx,isInvalid:(e,n)=>{const a=n.getRoot(e).getOr(e.element);return fi(a,n.invalidClass)}}),z3=Object.freeze({__proto__:null,events:(e,n)=>e.validator.map(a=>Ea([Wt(a.onEvent,l=>{jx(l,e).get(Xe)})].concat(a.validateOnLoad?[Ia(l=>{jx(l,e).get(Te)})]:[]))).getOr({})}),A3=[ho("invalidClass"),kt("getRoot",D.none),ml("notify",[kt("aria","alert"),kt("getContainer",D.none),kt("validHtml",""),Fr("onValid"),Fr("onInvalid"),Fr("onValidate")]),ml("validator",[ho("validate"),kt("onEvent","input"),kt("validateOnLoad",!0)])];const x1=(e,n,a)=>{n.store.manager.onLoad(e,n,a)},$x=(e,n,a)=>{n.store.manager.onUnload(e,n,a)};var a5=Object.freeze({__proto__:null,onLoad:x1,onUnload:$x,setValue:(e,n,a,l)=>{n.store.manager.setValue(e,n,a,l)},getValue:(e,n,a)=>n.store.manager.getValue(e,n,a),getState:(e,n,a)=>a}),kf=Object.freeze({__proto__:null,events:(e,n)=>{const a=e.resetOnDom?[Ia((l,u)=>{x1(l,e,n)}),Zd((l,u)=>{$x(l,e,n)})]:[Yb(e,n,x1)];return Ea(a)}});const e2=()=>{const e=fo(null);return nl({set:e.set,get:e.get,isNotSet:()=>e.get()===null,clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},t2=()=>{const e=fo({}),n=fo({});return nl({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:n.get()}),lookup:a=>ft(e.get(),a).orThunk(()=>ft(n.get(),a)),update:a=>{const l=e.get(),u=n.get(),g={},h={};ut(a,x=>{g[x.value]=x,ft(x,"meta").each(w=>{ft(w,"text").each(C=>{h[C]=x})})}),e.set({...l,...g}),n.set({...u,...h})},clear:()=>{e.set({}),n.set({})}})};var s5=Object.freeze({__proto__:null,memory:e2,dataset:t2,manual:()=>nl({readState:Te}),init:e=>e.store.manager.state(e)});const T3=(e,n,a,l)=>{const u=n.store;a.update([l]),u.setValue(e,l),n.onSetValue(e,l)};var w1=[Hr("initialValue"),ho("getFallbackEntry"),ho("getDataKey"),ho("setValue"),qa("manager",{setValue:T3,getValue:(e,n,a)=>{const l=n.store,u=l.getDataKey(e);return a.lookup(u).getOrThunk(()=>l.getFallbackEntry(u))},onLoad:(e,n,a)=>{n.store.initialValue.each(l=>{T3(e,n,a,l)})},onUnload:(e,n,a)=>{a.clear()},state:t2})],k1=[ho("getValue"),kt("setValue",Te),Hr("initialValue"),qa("manager",{setValue:(e,n,a,l)=>{n.store.setValue(e,l),n.onSetValue(e,l)},getValue:(e,n,a)=>n.store.getValue(e),onLoad:(e,n,a)=>{n.store.initialValue.each(l=>{n.store.setValue(e,l)})},onUnload:Te,state:As.init})],O3=[Hr("initialValue"),qa("manager",{setValue:(e,n,a,l)=>{a.set(l),n.onSetValue(e,l)},getValue:(e,n,a)=>a.get(),onLoad:(e,n,a)=>{n.store.initialValue.each(l=>{a.isNotSet()&&a.set(l)})},onUnload:(e,n,a)=>{a.clear()},state:e2})],o2=[Pc("store",{mode:"memory"},Tl("mode",{memory:O3,manual:k1,dataset:w1})),Fr("onSetValue"),kt("resetOnDom",!1)];const Go=rl({fields:o2,name:"representing",active:kf,apis:a5,extra:{setValueFrom:(e,n)=>{const a=Go.getValue(n);Go.setValue(e,a)}},state:s5}),$c=rl({fields:A3,name:"invalidating",active:z3,apis:_y,extra:{validation:e=>n=>{const a=Go.getValue(n);return ea(e(a))}}});var N3=Object.freeze({__proto__:null,exhibit:(e,n)=>xu({classes:[],styles:n.useFixed()?{}:{position:"relative"}})});const Zm=On([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Ux=(e,n,a,l,u,g)=>{const h=n.rect,x=h.x-a,w=h.y-l,C=u-(x+h.width),T=g-(w+h.height),A=D.some(x),L=D.some(w),U=D.some(C),Z=D.some(T),ue=D.none();return n.direction.fold(()=>Ad(e,A,L,ue,ue),()=>Ad(e,ue,L,U,ue),()=>Ad(e,A,ue,ue,Z),()=>Ad(e,ue,ue,U,Z),()=>Ad(e,A,L,ue,ue),()=>Ad(e,A,ue,ue,Z),()=>Ad(e,A,L,ue,ue),()=>Ad(e,ue,L,U,ue))},n2=(e,n)=>e.fold(()=>{const a=n.rect;return Ad("absolute",D.some(a.x),D.some(a.y),D.none(),D.none())},(a,l,u,g)=>Ux("absolute",n,a,l,u,g),(a,l,u,g)=>Ux("fixed",n,a,l,u,g)),Zx=(e,n)=>{const a=pt(uu,n),l=e.fold(a,a,()=>{const h=Ui();return uu(n).translate(-h.left,-h.top)}),u=Ks(n),g=Xr(n);return Xs(l.left,l.top,u,g)},D3=(e,n)=>n.fold(()=>e.fold(bi,bi,Xs),a=>e.fold(he(a),he(a),()=>{const l=qx(e,a.x,a.y);return Xs(l.left,l.top,a.width,a.height)})),qx=(e,n,a)=>{const l=ca(n,a);return e.fold(he(l),he(l),()=>{const u=Ui();return l.translate(-u.left,-u.top)})};Zm.none;const M3=Zm.relative,i5=Zm.fixed,Wx=On([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),l5=(e,n,a,l)=>{const u=e.bubble,g=u.offset,h=((fe,be,Re)=>{const Ge=(uo,Mo)=>be[uo].map(yn=>{const Bn=uo==="top"||uo==="bottom",Un=Bn?Re.top:Re.left,Cr=(uo==="left"||uo==="top"?Math.max:Math.min)(yn,Mo)+Un;return Bn?Va(Cr,fe.y,fe.bottom):Va(Cr,fe.x,fe.right)}).getOr(Mo),mt=Ge("left",fe.x),Rt=Ge("top",fe.y),Xt=Ge("right",fe.right),qt=Ge("bottom",fe.bottom);return Xs(mt,Rt,Xt-mt,qt-Rt)})(l,e.restriction,g),x=e.x+g.left,w=e.y+g.top,C=Xs(x,w,n,a),{originInBounds:T,sizeInBounds:A,visibleW:L,visibleH:U}=((fe,be)=>{const{x:Re,y:Ge,right:mt,bottom:Rt}=be,{x:Xt,y:qt,right:uo,bottom:Mo,width:yn,height:Bn}=fe;return{originInBounds:Xt>=Re&&Xt<=mt&&qt>=Ge&&qt<=Rt,sizeInBounds:uo<=mt&&uo>=Re&&Mo<=Rt&&Mo>=Ge,visibleW:Math.min(yn,Xt>=Re?mt-Xt:uo-Re),visibleH:Math.min(Bn,qt>=Ge?Rt-qt:Mo-Ge)}})(C,h),Z=T&&A,ue=Z?C:((fe,be)=>{const{x:Re,y:Ge,right:mt,bottom:Rt}=be,{x:Xt,y:qt,width:uo,height:Mo}=fe,yn=Math.max(Re,mt-uo),Bn=Math.max(Ge,Rt-Mo),Un=Va(Xt,Re,yn),Cr=Va(qt,Ge,Bn),rs=Math.min(Un+uo,mt)-Un,Cs=Math.min(Cr+Mo,Rt)-Cr;return Xs(Un,Cr,rs,Cs)})(C,h),re=ue.width>0&&ue.height>0,{maxWidth:ge,maxHeight:Q}=((fe,be,Re)=>{const Ge=he(be.bottom-Re.y),mt=he(Re.bottom-be.y),Rt=((Mo,yn,Bn,Un)=>Mo.fold(yn,yn,Un,Un,yn,Un,Bn,Bn))(fe,mt,mt,Ge),Xt=he(be.right-Re.x),qt=he(Re.right-be.x);return{maxWidth:((Mo,yn,Bn,Un)=>Mo.fold(yn,Un,yn,Un,Bn,Bn,yn,Un))(fe,qt,qt,Xt),maxHeight:Rt}})(e.direction,ue,l),ee={rect:ue,maxHeight:Q,maxWidth:ge,direction:e.direction,placement:e.placement,classes:{on:u.classesOn,off:u.classesOff},layout:e.label,testY:w};return Z||e.alwaysFit?Wx.fit(ee):Wx.nofit(ee,L,U,re)},_1=["top","bottom","right","left"],Cy="data-alloy-transition-timer",Gx=(e,n,a,l,u,g)=>{const h=((x,w,C)=>C.exists(T=>{const A=x.mode;return A==="all"||T[A]!==w[A]}))(l,u,g);if(h||((x,w)=>((C,T)=>Uo(T,A=>fi(C,A)))(x,w.classes))(e,l)){er(e,"position",a.position);const x=Zx(n,e),w=n2(n,{...u,rect:x}),C=xe(_1,T=>w[T]);((T,A)=>{const L=U=>parseFloat(U).toFixed(3);return Dt(A,(U,Z)=>!((ue,re,ge=ae)=>Dr(ue,re,ge).getOr(ue.isNone()&&re.isNone()))(T[Z].map(L),U.map(L))).isSome()})(a,C)&&(gd(e,C),h&&((T,A)=>{Pl(T,A.classes),ba(T,Cy).each(L=>{clearTimeout(parseInt(L,10)),ya(T,Cy)}),((L,U)=>{const Z=Tt(),ue=Tt();let re;const ge=be=>{var Re;const Ge=(Re=be.raw.pseudoElement)!==null&&Re!==void 0?Re:"";return zr(be.target,L)&&Kt(Ge)&&vt(_1,be.raw.propertyName)},Q=be=>{if(Gt(be)||ge(be)){Z.clear(),ue.clear();const Re=be==null?void 0:be.raw.type;(Gt(Re)||Re===hu())&&(clearTimeout(re),ya(L,Cy),ii(L,U.classes))}},ee=ds(L,cg(),be=>{ge(be)&&(ee.unbind(),Z.set(ds(L,hu(),Q)),ue.set(ds(L,fu(),Q)))}),fe=(be=>{const Re=Xt=>{const qt=Ds(be,Xt).split(/\s*,\s*/);return Bt(qt,Be)},Ge=Xt=>{if(ro(Xt)&&/^[\d.]+/.test(Xt)){const qt=parseFloat(Xt);return ir(Xt,"ms")?qt:1e3*qt}return 0},mt=Re("transition-delay"),Rt=Re("transition-duration");return co(Rt,(Xt,qt,uo)=>{const Mo=Ge(mt[uo])+Ge(qt);return Math.max(Xt,Mo)},0)})(L);requestAnimationFrame(()=>{re=setTimeout(Q,fe+17),An(L,Cy,re)})})(T,A)})(e,l),Bi(e))}else ii(e,l.classes)},r2=(e,n,a)=>e[n]===void 0?a:e[n],c5=(e,n,a,l)=>{const u=((g,h,x,w)=>{br(h,"max-height"),br(h,"max-width");const C=(T=h,{width:Math.ceil(Jc(T)),height:Xr(T)});var T;return((A,L,U,Z,ue,re)=>{const ge=Z.width,Q=Z.height,ee=(fe,be,Re,Ge,mt)=>{const Rt=fe(U,Z,ue,A,re),Xt=l5(Rt,ge,Q,re);return Xt.fold(he(Xt),(qt,uo,Mo,yn)=>(mt===yn?Mo>Ge||uo>Re:!mt&&yn)?Xt:Wx.nofit(be,Re,Ge,mt))};return co(L,(fe,be)=>{const Re=pt(ee,be);return fe.fold(he(fe),Re)},Wx.nofit({rect:U,maxHeight:Z.height,maxWidth:Z.width,direction:uh(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:U.y},-1,-1,!1)).fold(Xe,Xe)})(h,w.preference,g,C,x,w.bounds)})(e,n,a,l);return((g,h,x)=>{const w=n2(x.origin,h);x.transition.each(C=>{Gx(g,x.origin,w,C,h,x.lastPlacement)}),Ox(g,w)})(n,u,l),((g,h)=>{((x,w)=>{An(x,zc,w)})(g,h.placement)})(n,u),((g,h)=>{const x=h.classes;ii(g,x.off),Pl(g,x.on)})(n,u),((g,h,x)=>{(0,x.maxHeightFunction)(g,h.maxHeight)})(n,u,l),((g,h,x)=>{(0,x.maxWidthFunction)(g,h.maxWidth)})(n,u,l),{layout:u.layout,placement:u.placement}},C1=Xe,yp=()=>ml("layouts",[ho("onLtr"),ho("onRtl"),Hr("onBottomLtr"),Hr("onBottomRtl")]),S1=(e,n,a,l,u,g,h)=>{const x=h.map($0).getOr(!1),w=n.layouts.map(L=>L.onLtr(e)),C=n.layouts.map(L=>L.onRtl(e)),T=x?n.layouts.bind(L=>L.onBottomLtr.map(U=>U(e))).or(w).getOr(u):w.getOr(a),A=x?n.layouts.bind(L=>L.onBottomRtl.map(U=>U(e))).or(C).getOr(g):C.getOr(l);return au(T,A)(e)};var R3=[ho("hotspot"),Hr("bubble"),kt("overrides",{}),yp(),qa("placement",(e,n,a)=>{const l=n.hotspot,u=Zx(a,l.element),g=S1(e.element,n,jb(),bh(),hh(),Qp(),D.some(n.hotspot.element));return D.some(C1({anchorBox:u,bubble:n.bubble.getOr(Fb()),overrides:n.overrides,layouts:g}))})],a2=[ho("x"),ho("y"),kt("height",0),kt("width",0),kt("bubble",Fb()),kt("overrides",{}),yp(),qa("placement",(e,n,a)=>{const l=qx(a,n.x,n.y),u=Xs(l.left,l.top,n.width,n.height),g=S1(e.element,n,Vb(),L0(),Vb(),L0(),D.none());return D.some(C1({anchorBox:u,bubble:n.bubble,overrides:n.overrides,layouts:g}))})];const s2=On([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),B3=e=>e.fold(Xe,(n,a,l)=>n.translate(-a,-l)),E1=e=>e.fold(Xe,Xe),Sy=e=>co(e,(n,a)=>n.translate(a.left,a.top),ca(0,0)),Kx=e=>{const n=R(e,E1);return Sy(n)},F3=s2.screen,L3=s2.absolute,i2=(e,n,a)=>{const l=vo(e.element),u=Ui(l),g=((h,x,w)=>{const C=ka(w.root).dom;return D.from(C.frameElement).map(eo).filter(T=>{const A=vo(T),L=vo(h.element);return zr(A,L)}).map(Ji)})(e,0,a).getOr(u);return L3(g,u.left,u.top)},Yx=(e,n,a,l)=>{const u=F3(ca(e,n));return D.some(((g,h,x)=>({point:g,width:h,height:x}))(u,a,l))},I3=(e,n,a,l,u)=>e.map(g=>{const h=[n,g.point],x=(w=()=>Kx(h),C=()=>Kx(h),T=()=>(ee=>{const fe=R(ee,B3);return Sy(fe)})(h),l.fold(w,C,T));var w,C,T;const A=(ue=x.left,re=x.top,ge=g.width,Q=g.height,{x:ue,y:re,width:ge,height:Q}),L=a.showAbove?hh():jb(),U=a.showAbove?Qp():bh(),Z=S1(u,a,L,U,L,U,D.none());var ue,re,ge,Q;return C1({anchorBox:A,bubble:a.bubble.getOr(Fb()),overrides:a.overrides,layouts:Z})});var P3=[ho("node"),ho("root"),Hr("bubble"),yp(),kt("overrides",{}),kt("showAbove",!1),qa("placement",(e,n,a)=>{const l=i2(e,0,n);return n.node.filter(si).bind(u=>{const g=u.dom.getBoundingClientRect(),h=Yx(g.left,g.top,g.width,g.height),x=n.node.getOr(e.element);return I3(h,l,n,a,x)})})];const Lh=(e,n)=>({element:e,offset:n}),Xx=(e,n)=>$(e)?Lh(e,n):((a,l)=>{const u=xs(a);if(u.length===0)return Lh(a,l);if(l<u.length)return Lh(u[l],0);{const g=u[u.length-1],h=$(g)?(x=>Yg.get(x))(g).length:xs(g).length;return Lh(g,h)}})(e,n),z1=e=>e.foffset!==void 0,H3=(e,n)=>n.getSelection.getOrThunk(()=>()=>(a=>(l=>D.from(l.getSelection()))(a).filter(l=>l.rangeCount>0).bind(sg))(e))().map(a=>{if(z1(a)){const l=Xx(a.start,a.soffset),u=Xx(a.finish,a.foffset);return tc.range(l.element,l.offset,u.element,u.offset)}return a});var V3=[Hr("getSelection"),ho("root"),Hr("bubble"),yp(),kt("overrides",{}),kt("showAbove",!1),qa("placement",(e,n,a)=>{const l=ka(n.root).dom,u=i2(e,0,n),g=H3(l,n).bind(x=>{if(z1(x))return((C,T)=>(A=>{const L=A.getBoundingClientRect();return L.width>0||L.height>0?D.some(L).map(qs):D.none()})(Kr(C,T)))(l,tc.exactFromRange(x)).orThunk(()=>{const C=zn("\uFEFF");us(x.start,C);const T=du(l,tc.exact(C,0,C,1));return Yc(C),T}).bind(C=>Yx(C.left,C.top,C.width,C.height));{const w=rt(x,T=>T.dom.getBoundingClientRect()),C={left:Math.min(w.firstCell.left,w.lastCell.left),right:Math.max(w.firstCell.right,w.lastCell.right),top:Math.min(w.firstCell.top,w.lastCell.top),bottom:Math.max(w.firstCell.bottom,w.lastCell.bottom)};return Yx(C.left,C.top,C.right-C.left,C.bottom-C.top)}}),h=H3(l,n).bind(x=>z1(x)?lo(x.start)?D.some(x.start):Oa(x.start):D.some(x.firstCell)).getOr(e.element);return I3(g,u,n,a,h)})];const A1="link-layout",j3=e=>e.x+e.width,l2=(e,n)=>e.x-n.width,$3=(e,n)=>e.y-n.height+e.height,_f=e=>e.y,U3=(e,n,a)=>Ti(j3(e),_f(e),a.southeast(),uh(),"southeast",ci(e,{left:0,top:2}),A1),Cf=(e,n,a)=>Ti(l2(e,n),_f(e),a.southwest(),Xp(),"southwest",ci(e,{right:1,top:2}),A1),c2=(e,n,a)=>Ti(j3(e),$3(e,n),a.northeast(),mh(),"northeast",ci(e,{left:0,bottom:3}),A1),vp=(e,n,a)=>Ti(l2(e,n),$3(e,n),a.northwest(),gh(),"northwest",ci(e,{right:1,bottom:3}),A1),Kd=()=>[U3,Cf,c2,vp],d2=()=>[Cf,U3,vp,c2];var Z3=[ho("item"),yp(),kt("overrides",{}),qa("placement",(e,n,a)=>{const l=Zx(a,n.item.element),u=S1(e.element,n,Kd(),d2(),Kd(),d2(),D.none());return D.some(C1({anchorBox:l,bubble:Fb(),overrides:n.overrides,layouts:u}))})],q3=Tl("type",{selection:V3,node:P3,hotspot:R3,submenu:Z3,makeshift:a2});const Jx=[ul("classes",Es),nc("mode","all",["all","layout","placement"])],W3=[kt("useFixed",Vo),Hr("getBounds")],d5=[_c("anchor",q3),ml("transition",Jx)],T1=(e,n,a,l,u,g)=>{const h=el("placement.info",Pn(d5),u),x=h.anchor,w=l.element,C=a.get(l.uid);ly(()=>{er(w,"position","fixed");const T=ra(w,"visibility");er(w,"visibility","hidden");const A=n.useFixed()?(()=>{const L=document.documentElement;return i5(0,0,L.clientWidth,L.clientHeight)})():(L=>{const U=Ji(L.element),Z=L.element.dom.getBoundingClientRect();return M3(U.left,U.top,Z.width,Z.height)})(e);x.placement(e,x,A).each(L=>{const U=g.orThunk(()=>n.getBounds.map(pn)),Z=((ue,re,ge,Q,ee,fe)=>((be,Re,Ge,mt,Rt,Xt,qt,uo)=>{const Mo=r2(qt,"maxHeightFunction",j0()),yn=r2(qt,"maxWidthFunction",Te),Bn=be.anchorBox,Un=be.origin,Cr={bounds:D3(Un,Xt),origin:Un,preference:mt,maxHeightFunction:Mo,maxWidthFunction:yn,lastPlacement:Rt,transition:uo};return c5(Bn,Re,Ge,Cr)})(((be,Re)=>((Ge,mt)=>({anchorBox:Ge,origin:mt}))(be,Re))(re.anchorBox,ue),Q.element,re.bubble,re.layouts,ee,ge,re.overrides,fe))(A,L,U,l,C,h.transition);a.set(l.uid,Z)}),T.fold(()=>{br(w,"visibility")},L=>{er(w,"visibility",L)}),ra(w,"left").isNone()&&ra(w,"top").isNone()&&ra(w,"right").isNone()&&ra(w,"bottom").isNone()&&kr(ra(w,"position"),"fixed")&&br(w,"position")},w)};var u2=Object.freeze({__proto__:null,position:(e,n,a,l,u)=>{const g=D.none();T1(e,n,a,l,u,g)},positionWithinBounds:T1,getMode:(e,n,a)=>n.useFixed()?"fixed":"absolute",reset:(e,n,a,l)=>{const u=l.element;ut(["position","left","right","top","bottom"],g=>br(u,g)),(g=>{ya(g,zc)})(u),a.clear(l.uid)}});const Yl=rl({fields:W3,name:"positioning",active:N3,apis:u2,state:Object.freeze({__proto__:null,init:()=>{let e={};return nl({readState:()=>e,clear:n=>{Je(n)?delete e[n]:e={}},set:(n,a)=>{e[n]=a},get:n=>ft(e,n)})}})});var G3=Object.freeze({__proto__:null,events:e=>Ea([Wt(bu(),(n,a)=>{const l=e.channels,u=dt(l),g=a,h=((x,w)=>w.universal?x:Bt(x,C=>vt(w.channels,C)))(u,g);ut(h,x=>{const w=l[x],C=w.schema,T=el("channel["+x+`] data
Receiver: `+jd(n.element),C,g.data);w.onReceive(n,T)})})])}),K3=[_c("channels",th(Gn.value,jl([Bm("onReceive"),kt("schema",$a())])))];const Uc=rl({fields:K3,name:"receiving",active:G3});var Y3=Object.freeze({__proto__:null,events:(e,n)=>{const a=(l,u)=>{e.updateState.each(g=>{const h=g(l,u);n.set(h)}),e.renderComponents.each(g=>{const h=g(u,n.get());(e.reuseDom?hf:N_)(l,h)})};return Ea([Wt(bu(),(l,u)=>{const g=u;if(!g.universal){const h=e.channel;vt(g.channels,h)&&a(l,g.data)}}),Ia((l,u)=>{e.initialData.each(g=>{a(l,g)})})])}}),m2=Object.freeze({__proto__:null,getState:(e,n,a)=>a}),O1=[ho("channel"),Hr("renderComponents"),Hr("updateState"),Hr("initialData"),Ii("reuseDom",!0)];const Tc=rl({fields:O1,name:"reflecting",active:Y3,apis:m2,state:Object.freeze({__proto__:null,init:()=>{const e=fo(D.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(D.none())}}})}),g2=(e,n,a,l)=>{a.get().each(h=>{jS(e)});const u=n.getAttachPoint(e);Su(u,e);const g=e.getSystem().build(l);return Su(e,g),a.set(g),g},p2=(e,n,a,l)=>{const u=g2(e,n,a,l);return n.onOpen(e,u),u},Qx=(e,n,a)=>{a.get().each(l=>{jS(e),Tg(e),n.onClose(e,l),a.clear()})},f2=(e,n,a)=>a.isOpen(),h2=(e,n,a)=>{const l=n.getAttachPoint(e);er(e.element,"position",Yl.getMode(l)),((u,g,h)=>{ra(u.element,g).fold(()=>{ya(u.element,h)},x=>{An(u.element,h,x)}),er(u.element,g,"hidden")})(e,"visibility",n.cloakVisibilityAttr)},ew=(e,n,a)=>{(l=>so(["top","left","right","bottom"],u=>ra(l,u).isSome()))(e.element)||br(e.element,"position"),((l,u,g)=>{ba(l.element,g).fold(()=>br(l.element,u),h=>er(l.element,u,h))})(e,"visibility",n.cloakVisibilityAttr)};var X3=Object.freeze({__proto__:null,cloak:h2,decloak:ew,open:p2,openWhileCloaked:(e,n,a,l,u)=>{h2(e,n),p2(e,n,a,l),u(),ew(e,n)},close:Qx,isOpen:f2,isPartOf:(e,n,a,l)=>f2(0,0,a)&&a.get().exists(u=>n.isPartOf(e,u,l)),getState:(e,n,a)=>a.get(),setContent:(e,n,a,l)=>a.get().map(()=>g2(e,n,a,l))}),u5=Object.freeze({__proto__:null,events:(e,n)=>Ea([Wt(dg(),(a,l)=>{Qx(a,e,n)})])}),J3=[Fr("onOpen"),Fr("onClose"),ho("isPartOf"),ho("getAttachPoint"),kt("cloakVisibilityAttr","data-precloak-visibility")],b2=Object.freeze({__proto__:null,init:()=>{const e=ko(),n=he("not-implemented");return nl({readState:n,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Wr=rl({fields:J3,name:"sandboxing",active:u5,apis:X3,state:b2}),Ey=(e,n)=>n.getAnimationRoot.fold(()=>e.element,a=>a(e)),xp=e=>e.dimension.property,wp=(e,n)=>e.dimension.getDimension(n),tw=(e,n)=>{const a=Ey(e,n);ii(a,[n.shrinkingClass,n.growingClass])},ow=(e,n)=>{ma(e.element,n.openClass),Jr(e.element,n.closedClass),er(e.element,xp(n),"0px"),Bi(e.element)},N1=(e,n)=>{ma(e.element,n.closedClass),Jr(e.element,n.openClass),br(e.element,xp(n))},D1=(e,n,a,l)=>{a.setCollapsed(),er(e.element,xp(n),wp(n,e.element)),tw(e,n),ow(e,n),n.onStartShrink(e),n.onShrunk(e)},Q3=(e,n,a,l)=>{const u=l.getOrThunk(()=>wp(n,e.element));a.setCollapsed(),er(e.element,xp(n),u),Bi(e.element);const g=Ey(e,n);ma(g,n.growingClass),Jr(g,n.shrinkingClass),ow(e,n),n.onStartShrink(e)},eE=(e,n,a)=>{const l=wp(n,e.element);(l==="0px"?D1:Q3)(e,n,a,D.some(l))},nw=(e,n,a)=>{const l=Ey(e,n),u=fi(l,n.shrinkingClass),g=wp(n,e.element);N1(e,n);const h=wp(n,e.element);(u?()=>{er(e.element,xp(n),g),Bi(e.element)}:()=>{ow(e,n)})(),ma(l,n.shrinkingClass),Jr(l,n.growingClass),N1(e,n),er(e.element,xp(n),h),a.setExpanded(),n.onStartGrow(e)},Sf=(e,n,a)=>{const l=Ey(e,n);return fi(l,n.growingClass)===!0},tE=(e,n,a)=>{const l=Ey(e,n);return fi(l,n.shrinkingClass)===!0};var m5=Object.freeze({__proto__:null,refresh:(e,n,a)=>{if(a.isExpanded()){br(e.element,xp(n));const l=wp(n,e.element);er(e.element,xp(n),l)}},grow:(e,n,a)=>{a.isExpanded()||nw(e,n,a)},shrink:(e,n,a)=>{a.isExpanded()&&eE(e,n,a)},immediateShrink:(e,n,a)=>{a.isExpanded()&&D1(e,n,a)},hasGrown:(e,n,a)=>a.isExpanded(),hasShrunk:(e,n,a)=>a.isCollapsed(),isGrowing:Sf,isShrinking:tE,isTransitioning:(e,n,a)=>Sf(e,n)||tE(e,n),toggleGrow:(e,n,a)=>{(a.isExpanded()?eE:nw)(e,n,a)},disableTransitions:tw,immediateGrow:(e,n,a)=>{a.isExpanded()||(N1(e,n),er(e.element,xp(n),wp(n,e.element)),tw(e,n),a.setExpanded(),n.onStartGrow(e),n.onGrown(e))}}),y2=Object.freeze({__proto__:null,exhibit:(e,n,a)=>{const l=n.expanded;return xu(l?{classes:[n.openClass],styles:{}}:{classes:[n.closedClass],styles:Ku(n.dimension.property,"0px")})},events:(e,n)=>Ea([am(hu(),(a,l)=>{l.event.raw.propertyName===e.dimension.property&&(tw(a,e),n.isExpanded()&&br(a.element,e.dimension.property),(n.isExpanded()?e.onGrown:e.onShrunk)(a))})])}),oE=[ho("closedClass"),ho("openClass"),ho("shrinkingClass"),ho("growingClass"),Hr("getAnimationRoot"),Fr("onShrunk"),Fr("onStartShrink"),Fr("onGrown"),Fr("onStartGrow"),kt("expanded",!1),_c("dimension",Tl("property",{width:[qa("property","width"),qa("getDimension",e=>Fi(e)+"px")],height:[qa("property","height"),qa("getDimension",e=>Fa(e)+"px")]}))];const Zc=rl({fields:oE,name:"sliding",active:y2,apis:m5,state:Object.freeze({__proto__:null,init:e=>{const n=fo(e.expanded);return nl({isExpanded:()=>n.get()===!0,isCollapsed:()=>n.get()===!1,setCollapsed:pt(n.set,!1),setExpanded:pt(n.set,!0),readState:()=>"expanded: "+n.get()})}})});var nE=Object.freeze({__proto__:null,events:(e,n)=>{const a=e.stream.streams.setup(e,n);return Ea([Wt(e.event,a),Zd(()=>n.cancel())].concat(e.cancelEvent.map(l=>[Wt(l,()=>n.cancel())]).getOr([])))}});const v2=e=>{const n=fo(null);return nl({readState:()=>({timer:n.get()!==null?"set":"unset"}),setTimer:a=>{n.set(a)},cancel:()=>{const a=n.get();a!==null&&a.cancel()}})};var x2=Object.freeze({__proto__:null,throttle:v2,init:e=>e.stream.streams.state(e)}),rE=[_c("stream",Tl("mode",{throttle:[ho("delay"),kt("stopEvent",!0),qa("streams",{setup:(e,n)=>{const a=e.stream,l=Po(e.onStream,a.delay);return n.setTimer(l),(u,g)=>{l.throttle(u,g),a.stopEvent&&g.stop()}},state:v2})]})),kt("event","input"),Hr("cancelEvent"),Bm("onStream")];const Ih=rl({fields:rE,name:"streaming",active:nE,state:x2});var g5=Object.freeze({__proto__:null,exhibit:(e,n)=>xu({attributes:pu([{key:n.tabAttr,value:"true"}])})}),w2=[kt("tabAttr","data-alloy-tabstop")];const Ma=rl({fields:w2,name:"tabstopping",active:g5}),Ph=(e,n,a,l)=>{const u=a.get();a.set(l),((g,h,x)=>{h.toggleClass.each(w=>{x.get()?Jr(g.element,w):ma(g.element,w)})})(e,n,a),((g,h,x)=>{const w=h.aria;w.update(g,w,x.get())})(e,n,a),u!==l&&n.onToggled(e,l)},rw=(e,n,a)=>{Ph(e,n,a,!a.get())},aE=(e,n,a)=>{Ph(e,n,a,n.selected)};var p5=Object.freeze({__proto__:null,onLoad:aE,toggle:rw,isOn:(e,n,a)=>a.get(),on:(e,n,a)=>{Ph(e,n,a,!0)},off:(e,n,a)=>{Ph(e,n,a,!1)},set:Ph}),k2=Object.freeze({__proto__:null,exhibit:()=>xu({}),events:(e,n)=>{const a=(l=e,u=n,g=rw,vu(x=>{g(x,l,u)}));var l,u,g;const h=Yb(e,n,aE);return Ea(ke([e.toggleOnExecute?[a]:[],[h]]))}});const _2=(e,n,a)=>{An(e.element,"aria-expanded",a)};var f5=[kt("selected",!1),Hr("toggleClass"),kt("toggleOnExecute",!0),Fr("onToggled"),Pc("aria",{mode:"none"},Tl("mode",{pressed:[kt("syncWithExpanded",!1),qa("update",(e,n,a)=>{An(e.element,"aria-pressed",a),n.syncWithExpanded&&_2(e,0,a)})],checked:[qa("update",(e,n,a)=>{An(e.element,"aria-checked",a)})],expanded:[qa("update",_2)],selected:[qa("update",(e,n,a)=>{An(e.element,"aria-selected",a)})],none:[qa("update",Te)]}))];const vr=rl({fields:f5,name:"toggling",active:k2,apis:p5,state:(M1=!1,{init:()=>{const e=fo(M1);return{get:()=>e.get(),set:n=>e.set(n),clear:()=>e.set(M1),readState:()=>e.get()}}})});var M1;const sE=se("tooltip.exclusive"),R1=se("tooltip.show"),zy=se("tooltip.hide"),B1=se("tooltip.immediateHide"),Ef=se("tooltip.immediateShow"),aw=(e,n,a)=>{e.getSystem().broadcastOn([sE],{})};var C2=Object.freeze({__proto__:null,hideAllExclusive:aw,immediateOpenClose:(e,n,a,l)=>Mr(e,l?Ef:B1),isEnabled:(e,n,a)=>a.isEnabled(),setComponents:(e,n,a,l)=>{a.getTooltip().each(u=>{u.getSystem().isConnected()&&or.set(u,l)})},setEnabled:(e,n,a,l)=>a.setEnabled(l)}),iE=Object.freeze({__proto__:null,events:(e,n)=>{const a=g=>{n.getTooltip().each(h=>{h.getSystem().isConnected()&&(Tg(h),e.onHide(g,h),n.clearTooltip())}),n.clearTimer()},l=g=>{if(!n.isShowing()&&n.isEnabled()){aw(g);const h=e.lazySink(g).getOrDie(),x=g.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ea(e.mode==="normal"?[Wt(Hn(),w=>{Mr(g,R1)}),Wt(jo(),w=>{Mr(g,zy)})]:[]),behaviours:Co([or.config({})])});n.setTooltip(x),Su(h,x),e.onShow(g,x),Yl.position(h,x,{anchor:e.anchor(g)})}},u=g=>{n.getTooltip().each(h=>{const x=e.lazySink(g).getOrDie();Yl.position(x,h,{anchor:e.anchor(g)})})};return Ea(ke([[ex(g=>{e.onSetup(g)}),Wt(R1,g=>{n.resetTimer(()=>{l(g)},e.delayForShow())}),Wt(zy,g=>{n.resetTimer(()=>{a(g)},e.delayForHide())}),Wt(Ef,g=>{n.resetTimer(()=>{l(g)},0)}),Wt(B1,g=>{n.resetTimer(()=>{a(g)},0)}),Wt(bu(),(g,h)=>{const x=h;x.universal||vt(x.channels,sE)&&a(g)}),Zd(g=>{a(g)})],(()=>{switch(e.mode){case"normal":return[Wt(sr(),g=>{Mr(g,Ef)}),Wt(Hc(),g=>{Mr(g,B1)}),Wt(Hn(),g=>{Mr(g,R1)}),Wt(jo(),g=>{Mr(g,zy)})];case"follow-highlight":return[Wt(Sb(),(g,h)=>{Mr(g,R1)}),Wt(Za(),g=>{Mr(g,zy)})];case"children-normal":return[Wt(sr(),(g,h)=>{Nr(g.element).each(x=>{Br(h.event.target,"[data-mce-tooltip]")&&n.getTooltip().fold(()=>{Mr(g,Ef)},w=>{n.isShowing()&&(e.onShow(g,w),u(g))})})}),Wt(Hc(),g=>{Nr(g.element).fold(()=>{Mr(g,B1)},Te)}),Wt(Hn(),g=>{qr(g.element,"[data-mce-tooltip]:hover").each(h=>{n.getTooltip().fold(()=>{Mr(g,R1)},x=>{n.isShowing()&&(e.onShow(g,x),u(g))})})}),Wt(jo(),g=>{qr(g.element,"[data-mce-tooltip]:hover").fold(()=>{Mr(g,zy)},Te)})];default:return[Wt(sr(),(g,h)=>{Nr(g.element).each(x=>{Br(h.event.target,"[data-mce-tooltip]")&&n.getTooltip().fold(()=>{Mr(g,Ef)},w=>{n.isShowing()&&(e.onShow(g,w),u(g))})})}),Wt(Hc(),g=>{Nr(g.element).fold(()=>{Mr(g,B1)},Te)})]}})()]))}}),S2=[ho("lazySink"),ho("tooltipDom"),kt("exclusive",!0),kt("tooltipComponents",[]),La("delayForShow",he(300)),La("delayForHide",he(100)),La("onSetup",Te),nc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),kt("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:he([Qs,Hi,di,tl,xi,ol]),onRtl:he([Qs,Hi,di,tl,xi,ol])},bubble:Nl(0,-2,{})})),Fr("onHide"),Fr("onShow")],sw=Object.freeze({__proto__:null,init:()=>{const e=fo(!0),n=ko(),a=ko(),l=()=>{n.on(clearTimeout)},u=he("not-implemented");return nl({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:l,resetTimer:(g,h)=>{l(),n.set(setTimeout(g,h))},readState:u,isEnabled:()=>e.get(),setEnabled:g=>e.set(g)})}});const hs=rl({fields:S2,name:"tooltipping",active:iE,state:sw,apis:C2}),Yd=rl({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Ea([_g(ac(),Nt)]),exhibit:()=>xu({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),qm=e=>{const n=xn(e),a=xs(n),l=(h=>{const x=h.dom.attributes!==void 0?h.dom.attributes:[];return co(x,(w,C)=>C.name==="class"?w:{...w,[C.name]:C.value},{})})(n),u=(h=>Array.prototype.slice.call(h.dom.classList,0))(n),g=a.length===0?{}:{innerHtml:Zp(n)};return{tag:ce(n),classes:u,attributes:l,...g}},Gr=e=>{const n=(a=>a.uid!==void 0)(e)&&Rn(e,"uid")?e.uid:my("memento");return{get:a=>a.getSystem().getByUid(n).getOrDie(),getOpt:a=>a.getSystem().getByUid(n).toOptional(),asSpec:()=>({...e,uid:n})}},Gi=D0,lm=Db,Wm=he("dismiss.popups"),Mg=he("reposition.popups"),iw=he("mouse.released"),lE=(e,n)=>{const a={stopBackspace:!0,...n},l=(A=>{const L=ko(),U=fo(!1),Z=Ab(re=>{A.triggerEvent(Sc(),re),U.set(!0)},400),ue=pu([{key:S(),value:re=>(sh(re).each(ge=>{Z.cancel();const Q={x:ge.clientX,y:ge.clientY,target:re.target};Z.schedule(re),U.set(!1),L.set(Q)}),D.none())},{key:B(),value:re=>(Z.cancel(),sh(re).each(ge=>{L.on(Q=>{((ee,fe)=>{const be=Math.abs(ee.clientX-fe.x),Re=Math.abs(ee.clientY-fe.y);return be>5||Re>5})(ge,Q)&&L.clear()})}),D.none())},{key:G(),value:re=>(Z.cancel(),L.get().filter(ge=>zr(ge.target,re.target)).map(ge=>U.get()?(re.prevent(),!1):A.triggerEvent(vi(),re)))}]);return{fireIfReady:(re,ge)=>ft(ue,ge).bind(Q=>Q(re))}})(a),u=R(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),A=>ds(e,A,L=>{l.fireIfReady(L,A).each(U=>{U&&L.kill()}),a.triggerEvent(A,L)&&L.kill()})),g=ko(),h=ds(e,"paste",A=>{l.fireIfReady(A,"paste").each(L=>{L&&A.kill()}),a.triggerEvent("paste",A)&&A.kill(),g.set(setTimeout(()=>{a.triggerEvent(Gp(),A)},0))}),x=ds(e,"keydown",A=>{a.triggerEvent("keydown",A)?A.kill():a.stopBackspace&&(L=>L.raw.which===q0[0]&&!vt(["input","textarea"],ce(L.target))&&!cu(L.target,'[contenteditable="true"]'))(A)&&A.prevent()}),w=ds(e,"focusin",A=>{a.triggerEvent("focusin",A)&&A.kill()}),C=ko(),T=ds(e,"focusout",A=>{a.triggerEvent("focusout",A)&&A.kill(),C.set(setTimeout(()=>{a.triggerEvent(Hc(),A)},0))});return{unbind:()=>{ut(u,A=>{A.unbind()}),x.unbind(),w.unbind(),T.unbind(),h.unbind(),g.on(clearTimeout),C.on(clearTimeout)}}},E2=(e,n)=>{const a=ft(e,"target").getOr(n);return fo(a)},Ay=On([{stopped:[]},{resume:["element"]},{complete:[]}]),cE=(e,n,a,l,u,g)=>{const h=e(n,l),x=((w,C)=>{const T=fo(!1),A=fo(!1);return{stop:()=>{T.set(!0)},cut:()=>{A.set(!0)},isStopped:T.get,isCut:A.get,event:w,setSource:C.set,getSource:C.get}})(a,u);return h.fold(()=>(g.logEventNoHandlers(n,l),Ay.complete()),w=>{const C=w.descHandler;return wx(C)(x),x.isStopped()?(g.logEventStopped(n,w.element,C.purpose),Ay.stopped()):x.isCut()?(g.logEventCut(n,w.element,C.purpose),Ay.complete()):Se(w.element).fold(()=>(g.logNoParent(n,w.element,C.purpose),Ay.complete()),T=>(g.logEventResponse(n,w.element,C.purpose),Ay.resume(T)))})},z2=(e,n,a,l,u,g)=>cE(e,n,a,l,u,g).fold(Nt,h=>z2(e,n,a,h,u,g),Vo),A2=(e,n,a,l,u)=>{const g=E2(a,l);return z2(e,n,a,l,g,u)},dE=()=>{const e=(()=>{const l={};return{registerId:(u,g,h)=>{Fo(h,(x,w)=>{const C=l[w]!==void 0?l[w]:{};C[g]=((T,A)=>({cHandler:pt.apply(void 0,[T.handler].concat(A)),purpose:T.purpose}))(x,u),l[w]=C})},unregisterId:u=>{Fo(l,(g,h)=>{bo(g,u)&&delete g[u]})},filterByType:u=>ft(l,u).map(g=>_n(g,(h,x)=>((w,C)=>({id:w,descHandler:C}))(x,h))).getOr([]),find:(u,g,h)=>ft(l,g).bind(x=>od(h,w=>((C,T)=>uy(T).bind(A=>ft(C,A)).map(A=>((L,U)=>({element:L,descHandler:U}))(T,A)))(x,w),u))}})(),n={},a=l=>{uy(l.element).each(u=>{delete n[u],e.unregisterId(u)})};return{find:(l,u,g)=>e.find(l,u,g),filter:l=>e.filterByType(l),register:l=>{const u=(h=>{const x=h.element;return uy(x).getOrThunk(()=>((w,C)=>{const T=se(GS+"uid-");return u1(C,T),T})(0,h.element))})(l);Rn(n,u)&&((h,x)=>{const w=n[x];if(w!==h)throw new Error('The tagId "'+x+'" is already used by: '+jd(w.element)+`
Cannot use it for: `+jd(h.element)+`
The conflicting element is`+(si(w.element)?" ":" not ")+"already in the DOM");a(h)})(l,u);const g=[l];e.registerId(g,u,l.events),n[u]=l},unregister:a,getById:l=>ft(n,l)}},Hh=e=>{const n=re=>Se(e.element).fold(Nt,ge=>zr(re,ge)),a=dE(),l=(re,ge)=>a.find(n,re,ge),u=lE(e.element,{triggerEvent:(re,ge)=>zb(re,ge.target,Q=>((ee,fe,be,Re)=>A2(ee,fe,be,be.target,Re))(l,re,ge,Q))}),g={debugInfo:he("real"),triggerEvent:(re,ge,Q)=>{zb(re,ge,ee=>A2(l,re,Q,ge,ee))},triggerFocus:(re,ge)=>{uy(re).fold(()=>{lt(re)},Q=>{zb(Ol(),re,ee=>(((fe,be,Re,Ge,mt)=>{const Rt=E2(Re,Ge);cE(fe,be,Re,Ge,Rt,mt)})(l,Ol(),{originator:ge,kill:Te,prevent:Te,target:re},re,ee),!1))})},triggerEscape:(re,ge)=>{g.triggerEvent("keydown",re.element,ge.event)},getByUid:re=>Z(re),getByDom:re=>ue(re),build:Kl,buildOrPatch:Sx,addToGui:re=>{w(re)},removeFromGui:re=>{C(re)},addToWorld:re=>{h(re)},removeFromWorld:re=>{x(re)},broadcast:re=>{A(re)},broadcastOn:(re,ge)=>{L(re,ge)},broadcastEvent:(re,ge)=>{U(re,ge)},isConnected:Nt},h=re=>{re.connect(g),$(re.element)||(a.register(re),ut(re.components(),h),g.triggerEvent(Om(),re.element,{target:re.element}))},x=re=>{$(re.element)||(ut(re.components(),x),a.unregister(re)),re.disconnect()},w=re=>{Su(e,re)},C=re=>{Tg(re)},T=re=>{const ge=a.filter(bu());ut(ge,Q=>{const ee=Q.descHandler;wx(ee)(re)})},A=re=>{T({universal:!0,data:re})},L=(re,ge)=>{T({universal:!1,channels:re,data:ge})},U=(re,ge)=>((Q,ee)=>{const fe=(be=>{const Re=fo(!1);return{stop:()=>{Re.set(!0)},cut:Te,isStopped:Re.get,isCut:Vo,event:be,setSource:Ro("Cannot set source of a broadcasted event"),getSource:Ro("Cannot get source of a broadcasted event")}})(ee);return ut(Q,be=>{const Re=be.descHandler;wx(Re)(fe)}),fe.isStopped()})(a.filter(re),ge),Z=re=>a.getById(re).fold(()=>Gn.error(new Error('Could not find component with uid: "'+re+'" in system.')),Gn.value),ue=re=>{const ge=uy(re).getOr("not found");return Z(ge)};return h(e),{root:e,element:e.element,destroy:()=>{u.unbind(),Yc(e.element)},add:w,remove:C,getByUid:Z,getByDom:ue,addToWorld:h,removeFromWorld:x,broadcast:A,broadcastOn:L,broadcastEvent:U}},T2=()=>{const e=(n,a)=>{a.stop(),ip(n)};return[Wt(Ul(),e),Wt(vi(),e),rm(S()),rm(Ke())]},F1=e=>Ea(ke([e.map(n=>vu((a,l)=>{n(a),l.stop()})).toArray(),T2()])),vl=Td({name:"Button",factory:e=>{const n=F1(e.action),a=e.dom.tag,l=u=>ft(e.dom,"attributes").bind(g=>ft(g,u));return{uid:e.uid,dom:e.dom,components:e.components,events:n,behaviours:wy(e.buttonBehaviours,[Vn.config({}),Ho.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:a==="button"?{type:l("type").getOr("button"),...l("role").map(u=>({role:u})).getOr({})}:{role:e.role.getOr(l("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[kt("uid",void 0),ho("dom"),kt("components",[]),xy("buttonBehaviours",[Vn,Ho]),Hr("action"),Hr("role"),kt("eventOrder",{})]}),uE=he([kt("shell",!1),ho("makeItem"),kt("setupItem",Te),xy("listBehaviours",[or])]),mE=ic({name:"items",overrides:()=>({behaviours:Co([or.config({})])})}),gE=he([mE]),O2=cc({name:he("CustomList")(),configFields:uE(),partFields:gE(),factory:(e,n,a,l)=>{const u=e.shell?{behaviours:[or.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:u.components,behaviours:yl(e.listBehaviours,u.behaviours),apis:{setItems:(g,h)=>{var x;(x=g,e.shell?D.some(x):Da(x,e,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},w=>{const C=or.contents(w),T=h.length,A=T-C.length,L=A>0?Bo(A,()=>e.makeItem()):[],U=C.slice(T);ut(U,ue=>or.remove(w,ue)),ut(L,ue=>or.append(w,ue));const Z=or.contents(w);ut(Z,(ue,re)=>{e.setupItem(g,ue,h[re],re)})})}}}},apis:{setItems:(e,n,a)=>{e.setItems(n,a)}}}),Vh="aria-controls",lw=()=>{const e=se(Vh);return{id:e,link:n=>{An(n,Vh,e)},unlink:n=>{ya(n,Vh)}}},zf=(e,n)=>hd(n,a=>zr(a,e.element),Vo)||((a,l)=>(u=>su(u,g=>{if(!lo(g))return!1;const h=Qa(g,"id");return h!==void 0&&h.indexOf(Vh)>-1}).bind(g=>{const h=Qa(g,"id"),x=Na(g);return qr(x,`[${Vh}="${h}"]`)}))(l).exists(u=>zf(a,u)))(e,n),N2="alloy.item-hover",D2="alloy.item-focus",cw="alloy.item-toggled",M2=e=>{(Nr(e.element).isNone()||Vn.isFocused(e))&&(Vn.isFocused(e)||Vn.focus(e),Nn(e,N2,{item:e}))},R2=e=>{Nn(e,D2,{item:e})},Af=he(N2),h5=he(D2),B2=he(cw),dw=e=>e.role.fold(()=>e.toggling.map(n=>n.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Xe);var pE=[ho("data"),ho("components"),ho("dom"),kt("hasSubmenu",!1),Hr("toggling"),Hr("role"),xy("itemBehaviours",[vr,Vn,Ho,Go]),kt("ignoreFocus",!1),kt("domModification",{}),qa("builder",e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:dw(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:wy(e.itemBehaviours,[e.toggling.fold(vr.revoke,n=>vr.config(((a,l)=>({aria:{mode:l?"selected":"checked"},...Mn(a,(u,g)=>g!=="exclusive"),onToggled:(u,g)=>{bt(a.onToggled)&&a.onToggled(u,g),((h,x)=>{Nn(h,cw,{item:h,state:x})})(u,g)}}))(n,e.role.exists(a=>a==="option")))),Vn.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:n=>{R2(n)}}),Ho.config({mode:"execution"}),Go.config({store:{mode:"memory",initialValue:e.data}}),Yn("item-type-events",[...T2(),Wt(Hn(),M2),Wt(ga(),Vn.focus)])]),components:e.components,eventOrder:e.eventOrder})),kt("eventOrder",{})],fE=[ho("dom"),ho("components"),qa("builder",e=>({dom:e.dom,components:e.components,events:Ea([U0(ga())])}))];const uw=he("item-widget"),L1=he([fl({name:"widget",overrides:e=>({behaviours:Co([Go.config({store:{mode:"manual",getValue:n=>e.data,setValue:Te}})])})})]),hE=[ho("uid"),ho("data"),ho("components"),ho("dom"),kt("autofocus",!1),kt("ignoreFocus",!1),xy("widgetBehaviours",[Go,Vn,Ho]),kt("domModification",{}),N0(L1()),qa("builder",e=>{const n=T0(uw(),e,L1()),a=O0(uw(),e,n.internals()),l=g=>Da(g,e,"widget").map(h=>(Ho.focusIn(h),h)),u=(g,h)=>(ku(h.event.target)||e.autofocus&&h.setSource(g.element),D.none());return{dom:e.dom,components:a,domModification:e.domModification,events:Ea([vu((g,h)=>{l(g).each(x=>{h.stop()})}),Wt(Hn(),M2),Wt(ga(),(g,h)=>{e.autofocus?l(g):Vn.focus(g)})]),behaviours:wy(e.widgetBehaviours,[Go.config({store:{mode:"memory",initialValue:e.data}}),Vn.config({ignore:e.ignoreFocus,onFocus:g=>{R2(g)}}),Ho.config({mode:"special",focusIn:e.autofocus?g=>{l(g)}:Xb(),onLeft:u,onRight:u,onEscape:(g,h)=>Vn.isFocused(g)||e.autofocus?(e.autofocus&&h.setSource(g.element),D.none()):(Vn.focus(g),D.some(!0))})])}})],bE=Tl("type",{widget:hE,item:pE,separator:fE}),yE=he([vg({factory:{sketch:e=>{const n=el("menu.spec item",bE,e);return n.builder(n)}},name:"items",unit:"item",defaults:(e,n)=>bo(n,"uid")?n:{...n,uid:my("item")},overrides:(e,n)=>({type:n.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),vE=he([Bs("role"),ho("value"),ho("items"),ho("dom"),ho("components"),kt("eventOrder",{}),al("menuBehaviours",[oa,Go,$r,Ho]),Pc("movement",{mode:"menu",moveOnTab:!0},Tl("mode",{grid:[bg(),qa("config",(e,n)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:n.initSize.numColumns,numRows:n.initSize.numRows},focusManager:e.focusManager}))],matrix:[qa("config",(e,n)=>({mode:"matrix",selectors:{row:n.rowSelector,cell:"."+e.markers.item},previousSelector:n.previousSelector,focusManager:e.focusManager})),ho("rowSelector"),kt("previousSelector",D.none)],menu:[kt("moveOnTab",!0),qa("config",(e,n)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:n.moveOnTab,focusManager:e.focusManager}))]})),_c("markers",fg()),kt("fakeFocus",!1),kt("focusManager",Ch()),Fr("onHighlight"),Fr("onDehighlight"),kt("showMenuRole",!0)]),F2=he("alloy.menu-focus"),Rg=cc({name:"Menu",configFields:vE(),partFields:yE(),factory:(e,n,a,l)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:yl(e.menuBehaviours,[oa.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),Go.config({store:{mode:"memory",initialValue:e.value}}),$r.config({find:D.some}),Ho.config(e.movement.config(e,e.movement))]),events:Ea([Wt(h5(),(u,g)=>{const h=g.event;u.getSystem().getByDom(h.target).each(x=>{oa.highlight(u,x),g.stop(),Nn(u,F2(),{menu:u,item:x})})}),Wt(Af(),(u,g)=>{const h=g.event.item;oa.highlight(u,h)}),Wt(B2(),(u,g)=>{const{item:h,state:x}=g.event;x&&Qa(h.element,"role")==="menuitemradio"&&((w,C)=>{const T=Ys(w.element,'[role="menuitemradio"][aria-checked="true"]');ut(T,A=>{zr(A,C.element)||w.getSystem().getByDom(A).each(L=>{vr.off(L)})})})(u,h)})]),components:n,eventOrder:e.eventOrder,...e.showMenuRole?{domModification:{attributes:{role:e.role.getOr("menu")}}}:{}})}),xE=(e,n,a,l)=>ft(a,l).bind(u=>ft(e,u).bind(g=>{const h=xE(e,n,a,g);return D.some([g].concat(h))})).getOr([]),L2=e=>e.type==="prepared"?D.some(e.menu):D.none(),I1=()=>{const e=fo({}),n=fo({}),a=fo({}),l=ko(),u=fo({}),g=w=>h(w).bind(L2),h=w=>ft(n.get(),w),x=w=>ft(e.get(),w);return{setMenuBuilt:(w,C)=>{n.set({...n.get(),[w]:{type:"prepared",menu:C}})},setContents:(w,C,T,A)=>{l.set(w),e.set(T),n.set(C),u.set(A);const L=((U,Z)=>{const ue={};Fo(U,(ee,fe)=>{ut(ee,be=>{ue[be]=fe})});const re=Z,ge=xt(Z,(ee,fe)=>({k:ee,v:fe})),Q=rt(ge,(ee,fe)=>[fe].concat(xE(ue,re,ge,fe)));return rt(ue,ee=>ft(Q,ee).getOr([ee]))})(A,T);a.set(L)},expand:w=>ft(e.get(),w).map(C=>{const T=ft(a.get(),w).getOr([]);return[C].concat(T)}),refresh:w=>ft(a.get(),w),collapse:w=>ft(a.get(),w).bind(C=>C.length>1?D.some(C.slice(1)):D.none()),lookupMenu:h,lookupItem:x,otherMenus:w=>{const C=u.get();return me(dt(C),w)},getPrimary:()=>l.get().bind(g),getMenus:()=>n.get(),clear:()=>{e.set({}),n.set({}),a.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(w,C)=>{const T=Bt(x(w).toArray(),A=>g(A).isSome());return ft(a.get(),w).bind(A=>{const L=Ue(T.concat(A));return(U=>{const Z=[];for(let ue=0;ue<U.length;ue++){const re=U[ue];if(!re.isSome())return D.none();Z.push(re.getOrDie())}return D.some(Z)})(Ft(L,(U,Z)=>((ue,re,ge)=>g(ue).bind(Q=>(ee=>Dt(e.get(),(fe,be)=>fe===ee))(ue).bind(ee=>re(ee).map(fe=>({triggeredMenu:Q,triggeringItem:fe,triggeringPath:ge})))))(U,C,L.slice(0,Z+1)).fold(()=>kr(l.get(),U)?[]:[D.none()],ue=>[D.some(ue)])))})}}},wE=L2,P1=se("tiered-menu-item-highlight"),I2=se("tiered-menu-item-dehighlight"),b5=he("collapse-item"),Tf=Td({name:"TieredMenu",configFields:[ah("onExecute"),ah("onEscape"),Bm("onOpenMenu"),Bm("onOpenSubmenu"),Fr("onRepositionMenu"),Fr("onCollapseMenu"),kt("highlightOnOpen",Gl.HighlightMenuAndItem),xd("data",[ho("primary"),ho("menus"),ho("expansions")]),kt("fakeFocus",!1),Fr("onHighlightItem"),Fr("onDehighlightItem"),Fr("onHover"),hg(),ho("dom"),kt("navigateOnHover",!0),kt("stayInDom",!1),al("tmenuBehaviours",[Ho,oa,$r,or]),kt("eventOrder",{})],apis:{collapseMenu:(e,n)=>{e.collapseMenu(n)},highlightPrimary:(e,n)=>{e.highlightPrimary(n)},repositionMenus:(e,n)=>{e.repositionMenus(n)}},factory:(e,n)=>{const a=ko(),l=I1(),u=ee=>Go.getValue(ee).value,g=ee=>rt(e.data.menus,(fe,be)=>Ft(fe.items,Re=>Re.type==="separator"?[]:[Re.data.value])),h=oa.highlight,x=(ee,fe)=>{h(ee,fe),oa.getHighlighted(fe).orThunk(()=>oa.getFirst(fe)).each(be=>{e.fakeFocus?oa.highlight(fe,be):qb(ee,be.element,ga())})},w=(ee,fe)=>Rr(R(fe,be=>ee.lookupMenu(be).bind(Re=>Re.type==="prepared"?D.some(Re.menu):D.none()))),C=(ee,fe,be)=>{const Re=w(fe,fe.otherMenus(be));ut(Re,Ge=>{ii(Ge.element,[e.markers.backgroundMenu]),e.stayInDom||or.remove(ee,Ge)})},T=(ee,fe)=>{const be=(Re=>a.get().getOrThunk(()=>{const Ge={},mt=Ys(Re.element,`.${e.markers.item}`),Rt=Bt(mt,Xt=>Qa(Xt,"aria-haspopup")==="true");return ut(Rt,Xt=>{Re.getSystem().getByDom(Xt).each(qt=>{const uo=u(qt);Ge[uo]=qt})}),a.set(Ge),Ge}))(ee);Fo(be,(Re,Ge)=>{const mt=vt(fe,Ge);An(Re.element,"aria-expanded",mt)})},A=(ee,fe,be)=>D.from(be[0]).bind(Re=>fe.lookupMenu(Re).bind(Ge=>{if(Ge.type==="notbuilt")return D.none();{const mt=Ge.menu,Rt=w(fe,be.slice(1));return ut(Rt,Xt=>{Jr(Xt.element,e.markers.backgroundMenu)}),si(mt.element)||or.append(ee,Gd(mt)),ii(mt.element,[e.markers.backgroundMenu]),x(ee,mt),C(ee,fe,be),D.some(mt)}}));let L;(function(ee){ee[ee.HighlightSubmenu=0]="HighlightSubmenu",ee[ee.HighlightParent=1]="HighlightParent"})(L||(L={}));const U=(ee,fe,be=L.HighlightSubmenu)=>{if(fe.hasConfigured(En)&&En.isDisabled(fe))return D.some(fe);{const Re=u(fe);return l.expand(Re).bind(Ge=>(T(ee,Ge),D.from(Ge[0]).bind(mt=>l.lookupMenu(mt).bind(Rt=>{const Xt=((qt,uo,Mo)=>{if(Mo.type==="notbuilt"){const yn=qt.getSystem().build(Mo.nbMenu());return l.setMenuBuilt(uo,yn),yn}return Mo.menu})(ee,mt,Rt);return si(Xt.element)||or.append(ee,Gd(Xt)),e.onOpenSubmenu(ee,fe,Xt,Ue(Ge)),be===L.HighlightSubmenu?(oa.highlightFirst(Xt),A(ee,l,Ge)):(oa.dehighlightAll(Xt),D.some(fe))}))))}},Z=(ee,fe)=>{const be=u(fe);return l.collapse(be).bind(Re=>(T(ee,Re),A(ee,l,Re).map(Ge=>(e.onCollapseMenu(ee,fe,Ge),Ge))))},ue=ee=>(fe,be)=>Il(be.getSource(),`.${e.markers.item}`).bind(Re=>fe.getSystem().getByDom(Re).toOptional().bind(Ge=>ee(fe,Ge).map(Nt))),re=Ea([Wt(F2(),(ee,fe)=>{const be=fe.event.item;l.lookupItem(u(be)).each(()=>{const Re=fe.event.menu;oa.highlight(ee,Re);const Ge=u(fe.event.item);l.refresh(Ge).each(mt=>C(ee,l,mt))})}),vu((ee,fe)=>{const be=fe.event.target;ee.getSystem().getByDom(be).each(Re=>{u(Re).indexOf("collapse-item")===0&&Z(ee,Re),U(ee,Re,L.HighlightSubmenu).fold(()=>{e.onExecute(ee,Re)},Te)})}),Ia((ee,fe)=>{(be=>{const Re=((mt,Rt,Xt)=>rt(Xt,(qt,uo)=>{const Mo=()=>Rg.sketch({...qt,value:uo,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(yn,Bn)=>{Nn(yn,P1,{menuComp:yn,itemComp:Bn})},onDehighlight:(yn,Bn)=>{Nn(yn,I2,{menuComp:yn,itemComp:Bn})},focusManager:e.fakeFocus?oy():Ch()});return uo===Rt?{type:"prepared",menu:mt.getSystem().build(Mo())}:{type:"notbuilt",nbMenu:Mo}}))(be,e.data.primary,e.data.menus),Ge=g();return l.setContents(e.data.primary,Re,e.data.expansions,Ge),l.getPrimary()})(ee).each(be=>{or.append(ee,Gd(be)),e.onOpenMenu(ee,be),e.highlightOnOpen===Gl.HighlightMenuAndItem?x(ee,be):e.highlightOnOpen===Gl.HighlightJustMenu&&h(ee,be)})}),Wt(P1,(ee,fe)=>{e.onHighlightItem(ee,fe.event.menuComp,fe.event.itemComp)}),Wt(I2,(ee,fe)=>{e.onDehighlightItem(ee,fe.event.menuComp,fe.event.itemComp)}),...e.navigateOnHover?[Wt(Af(),(ee,fe)=>{const be=fe.event.item;((Re,Ge)=>{const mt=u(Ge);l.refresh(mt).bind(Rt=>(T(Re,Rt),A(Re,l,Rt)))})(ee,be),U(ee,be,L.HighlightParent),e.onHover(ee,be)})]:[]]),ge=ee=>oa.getHighlighted(ee).bind(oa.getHighlighted),Q={collapseMenu:ee=>{ge(ee).each(fe=>{Z(ee,fe)})},highlightPrimary:ee=>{l.getPrimary().each(fe=>{x(ee,fe)})},repositionMenus:ee=>{l.getPrimary().bind(be=>ge(ee).bind(Re=>{const Ge=u(Re),mt=Pt(l.getMenus()),Rt=Rr(R(mt,wE));return l.getTriggeringPath(Ge,Xt=>((qt,uo,Mo)=>We(uo,yn=>{if(!yn.getSystem().isConnected())return D.none();const Bn=oa.getCandidates(yn);return xo(Bn,Un=>u(Un)===Mo)}))(0,Rt,Xt))}).map(Re=>({primary:be,triggeringPath:Re}))).fold(()=>{(be=>D.from(be.components()[0]).filter(Re=>Qa(Re.element,"role")==="menu"))(ee).each(be=>{e.onRepositionMenu(ee,be,[])})},({primary:be,triggeringPath:Re})=>{e.onRepositionMenu(ee,be,Re)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:yl(e.tmenuBehaviours,[Ho.config({mode:"special",onRight:ue((ee,fe)=>ku(fe.element)?D.none():U(ee,fe,L.HighlightSubmenu)),onLeft:ue((ee,fe)=>ku(fe.element)?D.none():Z(ee,fe)),onEscape:ue((ee,fe)=>Z(ee,fe).orThunk(()=>e.onEscape(ee,fe).map(()=>ee))),focusIn:(ee,fe)=>{l.getPrimary().each(be=>{qb(ee,be.element,ga())})}}),oa.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),$r.config({find:ee=>oa.getHighlighted(ee)}),or.config({})]),eventOrder:e.eventOrder,apis:Q,events:re}},extraApis:{tieredData:(e,n,a)=>({primary:e,menus:n,expansions:a}),singleData:(e,n)=>({primary:e,menus:Ku(e,n),expansions:{}}),collapseItem:e=>({value:se(b5()),meta:{text:e}})}}),P2=he("sink"),H2=he(ic({name:P2(),overrides:he({dom:{tag:"div"},behaviours:Co([Yl.config({useFixed:Nt})]),events:Ea([rm(sa()),rm(Ke()),rm(Ul())])})})),kE=jl([kt("isExtraPart",Vo),ml("fireEventInstead",[kt("event",tp())])]),mw=e=>{const n=el("Dismissal",kE,e);return{[Wm()]:{schema:jl([ho("target")]),onReceive:(a,l)=>{Wr.isOpen(a)&&(Wr.isPartOf(a,l.target)||n.isExtraPart(a,l.target)||n.fireEventInstead.fold(()=>Wr.close(a),u=>Mr(a,u.event)))}}}},_E=jl([ml("fireEventInstead",[kt("event",_b())]),oc("doReposition")]),gw=e=>{const n=el("Reposition",_E,e);return{[Mg()]:{onReceive:a=>{Wr.isOpen(a)&&n.fireEventInstead.fold(()=>n.doReposition(a),l=>Mr(a,l.event))}}}},V2=(e,n)=>{const a=e.getHotspot(n).getOr(n),l="hotspot",u=e.getAnchorOverrides();return e.layouts.fold(()=>({type:l,hotspot:a,overrides:u}),g=>({type:l,hotspot:a,overrides:u,layouts:g}))},pw=(e,n,a,l,u,g,h)=>((w,C,T,A,L,U,Z)=>{const ue=((ge,Q,ee)=>(0,ge.fetch)(ee).map(Q))(w,C,A),re=$2(A,w);return ue.map(ge=>ge.bind(Q=>{const ee=Q.menus[Q.primary];return D.from(ee).each(fe=>{w.listRole.each(be=>{fe.role=be})}),D.from(Tf.sketch({...U.menu(),uid:my(""),data:Q,highlightOnOpen:Z,onOpenMenu:(fe,be)=>{const Re=re().getOrDie();Yl.position(Re,be,{anchor:T}),Wr.decloak(L)},onOpenSubmenu:(fe,be,Re)=>{const Ge=re().getOrDie();Yl.position(Ge,Re,{anchor:{type:"submenu",item:be}}),Wr.decloak(L)},onRepositionMenu:(fe,be,Re)=>{const Ge=re().getOrDie();Yl.position(Ge,be,{anchor:T}),ut(Re,mt=>{Yl.position(Ge,mt.triggeredMenu,{anchor:{type:"submenu",item:mt.triggeringItem}})})},onEscape:()=>(Vn.focus(A),Wr.close(L),D.some(!0))}))}))})(e,n,V2(e,a),a,l,u,h).map(w=>(w.fold(()=>{Wr.isOpen(l)&&Wr.close(l)},C=>{Wr.cloak(l),Wr.open(l,C),g(l)}),l)),j2=(e,n,a,l,u,g,h)=>(Wr.close(l),ea(l)),fw=(e,n,a,l,u,g)=>{const h=ps.getCoupled(a,"sandbox");return(Wr.isOpen(h)?j2:pw)(e,n,a,h,l,u,g)},$2=(e,n)=>e.getSystem().getByUid(n.uid+"-"+P2()).map(a=>()=>Gn.value(a)).getOrThunk(()=>n.lazySink.fold(()=>()=>Gn.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(e))),CE=e=>{Wr.getState(e).each(n=>{Tf.repositionMenus(n)})},hw=(e,n,a)=>{const l=lw(),u=$2(n,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:l.id}},behaviours:wy(e.sandboxBehaviours,[Go.config({store:{mode:"memory",initialValue:n}}),Wr.config({onOpen:(g,h)=>{const x=V2(e,n);l.link(n.element),e.matchWidth&&((w,C,T)=>{const A=$r.getCurrent(C).getOr(C),L=Fi(w.element);T?er(A.element,"min-width",L+"px"):((U,Z)=>{Xc.set(U,Z)})(A.element,L)})(x.hotspot,h,e.useMinWidth),e.onOpen(x,g,h),a!==void 0&&a.onOpen!==void 0&&a.onOpen(g,h)},onClose:(g,h)=>{l.unlink(n.element),u().getOr(h).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(g,h)},isPartOf:(g,h,x)=>zf(h,x)||zf(n,x),getAttachPoint:()=>u().getOrDie()}),$r.config({find:g=>Wr.getState(g).bind(h=>$r.getCurrent(h))}),Uc.config({channels:{...mw({isExtraPart:Vo}),...gw({doReposition:CE})}})])}},U2=e=>{const n=ps.getCoupled(e,"sandbox");CE(n)},bw=()=>[kt("sandboxClasses",[]),xy("sandboxBehaviours",[$r,Uc,Wr,Go])],y5=he([ho("dom"),ho("fetch"),Fr("onOpen"),sc("onExecute"),kt("getHotspot",D.some),kt("getAnchorOverrides",he({})),yp(),al("dropdownBehaviours",[vr,ps,Ho,Vn]),ho("toggleClass"),kt("eventOrder",{}),Hr("lazySink"),kt("matchWidth",!1),kt("useMinWidth",!1),Hr("role"),Hr("listRole")].concat(bw())),v5=he([Vc({schema:[hg(),kt("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),H2()]),Od=cc({name:"Dropdown",configFields:y5(),partFields:v5(),factory:(e,n,a,l)=>{const u=w=>{Wr.getState(w).each(C=>{Tf.highlightPrimary(C)})},g=(w,C,T)=>fw(e,Xe,w,l,C,T),h={expand:w=>{vr.isOn(w)||g(w,Te,Gl.HighlightNone).get(Te)},open:w=>{vr.isOn(w)||g(w,Te,Gl.HighlightMenuAndItem).get(Te)},refetch:w=>ps.getExistingCoupled(w,"sandbox").fold(()=>g(w,Te,Gl.HighlightMenuAndItem).map(Te),C=>pw(e,Xe,w,C,l,Te,Gl.HighlightMenuAndItem).map(Te)),isOpen:vr.isOn,close:w=>{vr.isOn(w)&&g(w,Te,Gl.HighlightMenuAndItem).get(Te)},repositionMenus:w=>{vr.isOn(w)&&U2(w)}},x=(w,C)=>(ip(w),D.some(!0));return{uid:e.uid,dom:e.dom,components:n,behaviours:yl(e.dropdownBehaviours,[vr.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),ps.config({others:{sandbox:w=>hw(e,w,{onOpen:()=>vr.on(w),onClose:()=>vr.off(w)})}}),Ho.config({mode:"special",onSpace:x,onEnter:x,onDown:(w,C)=>{if(Od.isOpen(w)){const T=ps.getCoupled(w,"sandbox");u(T)}else Od.open(w);return D.some(!0)},onEscape:(w,C)=>Od.isOpen(w)?(Od.close(w),D.some(!0)):D.none()}),Vn.config({})]),events:F1(D.some(w=>{g(w,u,Gl.HighlightMenuAndItem).get(Te)})),eventOrder:{...e.eventOrder,[yr()]:["disabling","toggling","alloy.base.behaviour"]},apis:h,domModification:{attributes:{"aria-haspopup":e.listRole.getOr("true"),...e.role.fold(()=>({}),w=>({role:w})),...e.dom.tag==="button"?{type:ft(e.dom,"attributes").bind(w=>ft(w,"type")).getOr("button")}:{}}}}},apis:{open:(e,n)=>e.open(n),refetch:(e,n)=>e.refetch(n),expand:(e,n)=>e.expand(n),close:(e,n)=>e.close(n),isOpen:(e,n)=>e.isOpen(n),repositionMenus:(e,n)=>e.repositionMenus(n)}}),yw="form",SE=[al("formBehaviours",[Go])],Z2=e=>"<alloy.field."+e+">",x5=(e,n)=>({uid:e.uid,dom:e.dom,components:n,behaviours:yl(e.formBehaviours,[Go.config({store:{mode:"manual",getValue:a=>{const l=Sd(a,e);return rt(l,(u,g)=>u().bind(h=>{return x=$r.getCurrent(h),w=new Error(`Cannot find a current component to extract the value from for form part '${g}': `+jd(h.element)),x.fold(()=>Gn.error(w),Gn.value);var x,w}).map(Go.getValue))},setValue:(a,l)=>{Fo(l,(u,g)=>{Da(a,e,g).each(h=>{$r.getCurrent(h).each(x=>{Go.setValue(x,u)})})})}}})]),apis:{getField:(a,l)=>Da(a,e,l).bind($r.getCurrent)}}),Ty={getField:ki((e,n,a)=>e.getField(n,a)),sketch:e=>{const n=(()=>{const g=[];return{field:(h,x)=>(g.push(h),Mb(yw,Z2(h),x)),record:he(g)}})(),a=e(n),l=n.record(),u=R(l,g=>fl({name:g,pname:Z2(g)}));return W_(yw,SE,u,x5,a)}},Oy=he([ho("dom"),kt("shell",!0),al("toolbarBehaviours",[or])]),Nd=he([ic({name:"groups",overrides:()=>({behaviours:Co([or.config({})])})})]),xl=cc({name:"Toolbar",configFields:Oy(),partFields:Nd(),factory:(e,n,a,l)=>{const u=e.shell?{behaviours:[or.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:u.components,behaviours:yl(e.toolbarBehaviours,u.behaviours),apis:{setGroups:(g,h)=>{var x;(x=g,e.shell?D.some(x):Da(x,e,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},w=>{or.set(w,h)})},refresh:Te},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,n,a)=>{e.setGroups(n,a)}}}),EE=he([_d(["toggledClass"]),ho("lazySink"),oc("fetch"),Li("getBounds"),ml("fireDismissalEventInstead",[kt("event",tp())]),yp(),Fr("onToggled")]),q2=he([Vc({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Co([vr.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Vc({factory:xl,schema:Oy(),name:"toolbar",overrides:e=>({toolbarBehaviours:Co([Ho.config({mode:"cyclic",onEscape:n=>(Da(n,e,"button").each(Vn.focus),D.none())})])})})]),Ny=ko(),Dy=(e,n)=>{const a=ps.getCoupled(e,"toolbarSandbox");Wr.isOpen(a)?Wr.close(a):Wr.open(a,n.toolbar())},W2=(e,n,a,l)=>{const u=a.getBounds.map(h=>h()),g=a.lazySink(e).getOrDie();Yl.positionWithinBounds(g,n,{anchor:{type:"hotspot",hotspot:e,layouts:l,overrides:{maxWidthFunction:yh()}}},u)},G2=(e,n,a,l,u)=>{xl.setGroups(n,u),W2(e,n,a,l),vr.on(e)},cm=cc({name:"FloatingToolbarButton",factory:(e,n,a,l)=>({...vl.sketch({...l.button(),action:u=>{Dy(u,l)},buttonBehaviours:wy({dump:l.button().buttonBehaviours},[ps.config({others:{toolbarSandbox:u=>((g,h,x)=>{const w=lw();return{dom:{tag:"div",attributes:{id:w.id}},behaviours:Co([Ho.config({mode:"special",onEscape:C=>(Wr.close(C),D.some(!0))}),Wr.config({onOpen:(C,T)=>{const A=Ny.get().getOr(!1);x.fetch().get(L=>{G2(g,T,x,h.layouts,L),w.link(g.element),A||Ho.focusIn(T)})},onClose:()=>{vr.off(g),Ny.get().getOr(!1)||Vn.focus(g),w.unlink(g.element)},isPartOf:(C,T,A)=>zf(T,A)||zf(g,A),getAttachPoint:()=>x.lazySink(g).getOrDie()}),Uc.config({channels:{...mw({isExtraPart:Vo,...x.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...gw({doReposition:()=>{Wr.getState(ps.getCoupled(g,"toolbarSandbox")).each(C=>{W2(g,C,x,h.layouts)})}})}})])}})(u,a,e)}})])}),apis:{setGroups:(u,g)=>{Wr.getState(ps.getCoupled(u,"toolbarSandbox")).each(h=>{G2(u,h,e,a.layouts,g)})},reposition:u=>{Wr.getState(ps.getCoupled(u,"toolbarSandbox")).each(g=>{W2(u,g,e,a.layouts)})},toggle:u=>{Dy(u,l)},toggleWithoutFocusing:u=>{((g,h)=>{Ny.set(!0),Dy(g,h),Ny.clear()})(u,l)},getToolbar:u=>Wr.getState(ps.getCoupled(u,"toolbarSandbox")),isOpen:u=>Wr.isOpen(ps.getCoupled(u,"toolbarSandbox"))}}),configFields:EE(),partFields:q2(),apis:{setGroups:(e,n,a)=>{e.setGroups(n,a)},reposition:(e,n)=>{e.reposition(n)},toggle:(e,n)=>{e.toggle(n)},toggleWithoutFocusing:(e,n)=>{e.toggleWithoutFocusing(n)},getToolbar:(e,n)=>e.getToolbar(n),isOpen:(e,n)=>e.isOpen(n)}}),w5=he([kt("prefix","form-field"),al("fieldBehaviours",[$r,Go])]),vw=he([ic({schema:[ho("dom")],name:"label"}),ic({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[ho("text")],name:"aria-descriptor"}),fl({factory:{sketch:e=>{const n=((a,l)=>{const u={};return Fo(a,(g,h)=>{vt(l,h)||(u[h]=g)}),u})(e,["factory"]);return e.factory.sketch(n)}},schema:[ho("factory")],name:"field"})]),_r=cc({name:"FormField",configFields:w5(),partFields:vw(),factory:(e,n,a,l)=>{const u=yl(e.fieldBehaviours,[$r.config({find:x=>Da(x,e,"field")}),Go.config({store:{mode:"manual",getValue:x=>$r.getCurrent(x).bind(Go.getValue),setValue:(x,w)=>{$r.getCurrent(x).each(C=>{Go.setValue(C,w)})}}})]),g=Ea([Ia((x,w)=>{const C=Rb(x,e,["label","field","aria-descriptor"]);C.field().each(T=>{const A=se(e.prefix);C.label().each(L=>{An(L.element,"for",A),An(T.element,"id",A)}),C["aria-descriptor"]().each(L=>{const U=se(e.prefix);An(L.element,"id",U),An(T.element,"aria-describedby",U)})})})]),h={getField:x=>Da(x,e,"field"),getLabel:x=>Da(x,e,"label")};return{uid:e.uid,dom:e.dom,components:n,behaviours:u,events:g,apis:h}},apis:{getField:(e,n)=>e.getField(n),getLabel:(e,n)=>e.getLabel(n)}}),zE=he([kt("field1Name","field1"),kt("field2Name","field2"),Bm("onLockedChange"),_d(["lockClass"]),kt("locked",!1),xy("coupledFieldBehaviours",[$r,Go]),La("onInput",Te)]),My=(e,n)=>fl({factory:_r,name:e,overrides:a=>({fieldBehaviours:Co([Yn("coupled-input-behaviour",[Wt(ms(),l=>{((u,g,h)=>Da(u,g,h).bind($r.getCurrent))(l,a,n).each(u=>{Da(l,a,"lock").each(g=>{vr.isOn(g)&&a.onLockedChange(l,u,g),a.onInput(l)})})})])])})}),k5=he([My("field1","field2"),My("field2","field1"),fl({factory:vl,schema:[ho("dom")],name:"lock",overrides:e=>({buttonBehaviours:Co([vr.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),ui=cc({name:"FormCoupledInputs",configFields:zE(),partFields:k5(),factory:(e,n,a,l)=>({uid:e.uid,dom:e.dom,components:n,behaviours:wy(e.coupledFieldBehaviours,[$r.config({find:D.some}),Go.config({store:{mode:"manual",getValue:u=>{const g=dh(u,e,["field1","field2"]);return{[e.field1Name]:Go.getValue(g.field1()),[e.field2Name]:Go.getValue(g.field2())}},setValue:(u,g)=>{const h=dh(u,e,["field1","field2"]);Rn(g,e.field1Name)&&Go.setValue(h.field1(),g[e.field1Name]),Rn(g,e.field2Name)&&Go.setValue(h.field2(),g[e.field2Name])}}})]),apis:{getField1:u=>Da(u,e,"field1"),getField2:u=>Da(u,e,"field2"),getLock:u=>Da(u,e,"lock")}}),apis:{getField1:(e,n)=>e.getField1(n),getField2:(e,n)=>e.getField2(n),getLock:(e,n)=>e.getLock(n)}}),Gm=Td({name:"HtmlSelect",configFields:[ho("options"),al("selectBehaviours",[Vn,Go]),kt("selectClasses",[]),kt("selectAttributes",{}),Hr("data")],factory:(e,n)=>{const a=R(e.options,u=>({dom:{tag:"option",value:u.value,innerHtml:u.text}})),l=e.data.map(u=>Ku("initialValue",u)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:a,behaviours:yl(e.selectBehaviours,[Vn.config({}),Go.config({store:{mode:"manual",getValue:u=>Vs(u.element),setValue:(u,g)=>{const h=Ee(e.options);xo(e.options,x=>x.value===g).isSome()?Bc(u.element,g):u.element.dom.selectedIndex===-1&&g===""&&h.each(x=>Bc(u.element,x.value))},...l}})])}}}),ia=Td({name:"InlineView",configFields:[ho("lazySink"),Fr("onShow"),Fr("onHide"),Li("onEscape"),al("inlineBehaviours",[Wr,Go,Uc]),ml("fireDismissalEventInstead",[kt("event",tp())]),ml("fireRepositionEventInstead",[kt("event",_b())]),kt("getRelated",D.none),kt("isExtraPart",Vo),kt("eventOrder",D.none)],factory:(e,n)=>{const a=(h,x,w,C)=>{const T=e.lazySink(h).getOrDie();Wr.openWhileCloaked(h,x,()=>Yl.positionWithinBounds(T,h,w,C())),Go.setValue(h,D.some({mode:"position",config:w,getBounds:C}))},l=(h,x,w,C)=>{const T=((A,L,U,Z,ue)=>{const re=()=>A.lazySink(L),ge=Z.type==="horizontal"?{layouts:{onLtr:()=>jb(),onRtl:()=>bh()}}:{},Q=ee=>(fe=>fe.length===2)(ee)?ge:{};return Tf.sketch({dom:{tag:"div"},data:Z.data,markers:Z.menu.markers,highlightOnOpen:Z.menu.highlightOnOpen,fakeFocus:Z.menu.fakeFocus,onEscape:()=>(Wr.close(L),A.onEscape.map(ee=>ee(L)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(ee,fe)=>{Yl.positionWithinBounds(re().getOrDie(),fe,U,ue())},onOpenSubmenu:(ee,fe,be,Re)=>{const Ge=re().getOrDie();Yl.position(Ge,be,{anchor:{type:"submenu",item:fe,...Q(Re)}})},onRepositionMenu:(ee,fe,be)=>{const Re=re().getOrDie();Yl.positionWithinBounds(Re,fe,U,ue()),ut(be,Ge=>{const mt=Q(Ge.triggeringPath);Yl.position(Re,Ge.triggeredMenu,{anchor:{type:"submenu",item:Ge.triggeringItem,...mt}})})}})})(e,h,x,w,C);Wr.open(h,T),Go.setValue(h,D.some({mode:"menu",menu:T}))},u=h=>{Wr.isOpen(h)&&Go.getValue(h).each(x=>{switch(x.mode){case"menu":Wr.getState(h).each(Tf.repositionMenus);break;case"position":const w=e.lazySink(h).getOrDie();Yl.positionWithinBounds(w,h,x.config,x.getBounds())}})},g={setContent:(h,x)=>{Wr.setContent(h,x)},showAt:(h,x,w)=>{const C=D.none;a(h,x,w,C)},showWithinBounds:a,showMenuAt:(h,x,w)=>{l(h,x,w,D.none)},showMenuWithinBounds:l,hide:h=>{Wr.isOpen(h)&&(Go.setValue(h,D.none()),Wr.close(h))},getContent:h=>Wr.getState(h),reposition:u,isOpen:Wr.isOpen};return{uid:e.uid,dom:e.dom,behaviours:yl(e.inlineBehaviours,[Wr.config({isPartOf:(h,x,w)=>zf(x,w)||((C,T)=>e.getRelated(C).exists(A=>zf(A,T)))(h,w),getAttachPoint:h=>e.lazySink(h).getOrDie(),onOpen:h=>{e.onShow(h)},onClose:h=>{e.onHide(h)}}),Go.config({store:{mode:"memory",initialValue:D.none()}}),Uc.config({channels:{...mw({isExtraPart:n.isExtraPart,...e.fireDismissalEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({})}),...gw({...e.fireRepositionEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({}),doReposition:u})}})]),eventOrder:e.eventOrder,apis:g}},apis:{showAt:(e,n,a,l)=>{e.showAt(n,a,l)},showWithinBounds:(e,n,a,l,u)=>{e.showWithinBounds(n,a,l,u)},showMenuAt:(e,n,a,l)=>{e.showMenuAt(n,a,l)},showMenuWithinBounds:(e,n,a,l,u)=>{e.showMenuWithinBounds(n,a,l,u)},hide:(e,n)=>{e.hide(n)},isOpen:(e,n)=>e.isOpen(n),getContent:(e,n)=>e.getContent(n),setContent:(e,n,a)=>{e.setContent(n,a)},reposition:(e,n)=>{e.reposition(n)}}}),Ry=he([Ca("type","text"),Hr("data"),kt("inputAttributes",{}),kt("inputStyles",{}),kt("tag","input"),kt("inputClasses",[]),Fr("onSetValue"),La("fromInputValue",Xe),La("toInputValue",Xe),kt("styles",{}),kt("eventOrder",{}),al("inputBehaviours",[Go,Vn]),kt("selectOnFocus",!0)]),K2=e=>Co([Vn.config({onFocus:e.selectOnFocus?n=>{const a=n.element,l=Vs(a);e.type!=="range"&&a.dom.setSelectionRange(0,l.length)}:Te})]),Dd=e=>({...K2(e),...yl(e.inputBehaviours,[Go.config({store:{mode:"manual",...e.data.map(n=>({initialValue:n})).getOr({}),getValue:n=>e.fromInputValue(Vs(n.element)),setValue:(n,a)=>{Vs(n.element)!==a&&Bc(n.element,e.toInputValue(a))}},onSetValue:e.onSetValue})])}),Wa=e=>({tag:e.tag,attributes:{type:e.type,...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),kp=Td({name:"Input",configFields:Ry(),factory:(e,n)=>({uid:e.uid,dom:Wa(e),components:[],behaviours:Dd(e),eventOrder:e.eventOrder})}),_p=A0(uw(),L1()),H1=he([ho("lazySink"),Hr("dragBlockClass"),La("getBounds",bi),kt("useTabstopAt",Nt),kt("firstTabstop",0),kt("eventOrder",{}),al("modalBehaviours",[Ho]),sc("onExecute"),ah("onEscape")]),xw={sketch:Xe},Y2=he([ic({name:"draghandle",overrides:(e,n)=>({behaviours:Co([Fh.config({mode:"mouse",getTarget:a=>es(a,'[role="dialog"]').getOr(a),blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(n,null,2)).message),getBounds:e.getDragBounds})])})}),fl({schema:[ho("dom")],name:"title"}),fl({factory:xw,schema:[ho("dom")],name:"close"}),fl({factory:xw,schema:[ho("dom")],name:"body"}),ic({factory:xw,schema:[ho("dom")],name:"footer"}),Vc({factory:{sketch:(e,n)=>({...e,dom:n.dom,components:n.components})},schema:[kt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),kt("components",[])],name:"blocker"})]),Oi=cc({name:"ModalDialog",configFields:H1(),partFields:Y2(),factory:(e,n,a,l)=>{const u=ko(),g=se("modal-events"),h={...e.eventOrder,[Zl()]:[g].concat(e.eventOrder["alloy.system.attached"]||[])},x=st();return{uid:e.uid,dom:e.dom,components:n,apis:{show:w=>{u.set(w);const C=e.lazySink(w).getOrDie(),T=l.blocker(),A=C.getSystem().build({...T,components:T.components.concat([Gd(w)]),behaviours:Co([Vn.config({}),Yn("dialog-blocker-events",[am(sr(),()=>{Um.isBlocked(w)||Ho.focusIn(w)})])])});Su(C,A),Ho.focusIn(w)},hide:w=>{u.clear(),Se(w.element).each(C=>{w.getSystem().getByDom(C).each(T=>{Tg(T)})})},getBody:w=>em(w,e,"body"),getFooter:w=>Da(w,e,"footer"),setIdle:w=>{Um.unblock(w)},setBusy:(w,C)=>{Um.block(w,C)}},eventOrder:h,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:yl(e.modalBehaviours,[or.config({}),Ho.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),Um.config({getRoot:u.get}),Yn(g,[Ia(w=>{const C=em(w,e,"title").element,T=(A=>A.dom.textContent)(C);x.os.isMacOS()&&Je(T)?An(w.element,"aria-label",T):((A,L)=>{const U=ba(A,"id").fold(()=>{const Z=se("dialog-label");return An(L,"id",Z),Z},Xe);An(A,"aria-labelledby",U)})(w.element,C)})])])}},apis:{show:(e,n)=>{e.show(n)},hide:(e,n)=>{e.hide(n)},getBody:(e,n)=>e.getBody(n),getFooter:(e,n)=>e.getFooter(n),setBusy:(e,n,a)=>{e.setBusy(n,a)},setIdle:(e,n)=>{e.setIdle(n)}}}),_5=ic({schema:[ho("dom")],name:"label"}),Bg=e=>ic({name:e+"-edge",overrides:n=>n.model.manager.edgeActions[e].fold(()=>({}),a=>({events:Ea([Kb(S(),(l,u,g)=>a(l,g),[n]),Kb(Ke(),(l,u,g)=>a(l,g),[n]),Kb(Jt(),(l,u,g)=>{g.mouseIsDown.get()&&a(l,g)},[n])])}))}),C5=Bg("top-left"),AE=Bg("top"),TE=Bg("top-right"),X2=Bg("right"),OE=Bg("bottom-right"),ww=Bg("bottom"),S5=Bg("bottom-left"),E5=Bg("left"),z5=fl({name:"thumb",defaults:he({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Ea([sf(S(),e,"spectrum"),sf(B(),e,"spectrum"),sf(G(),e,"spectrum"),sf(Ke(),e,"spectrum"),sf(Jt(),e,"spectrum"),sf(fn(),e,"spectrum")])})}),kw=e=>up(e.event),A5=fl({schema:[Wi("mouseIsDown",()=>fo(!1))],name:"spectrum",overrides:e=>{const n=e.model.manager,a=(l,u)=>n.getValueFromEvent(u).map(g=>n.setValueFrom(l,e,g));return{behaviours:Co([Ho.config({mode:"special",onLeft:(l,u)=>n.onLeft(l,e,kw(u)),onRight:(l,u)=>n.onRight(l,e,kw(u)),onUp:(l,u)=>n.onUp(l,e,kw(u)),onDown:(l,u)=>n.onDown(l,e,kw(u))}),Ma.config({}),Vn.config({})]),events:Ea([Wt(S(),a),Wt(B(),a),Wt(Ke(),a),Wt(Jt(),(l,u)=>{e.mouseIsDown.get()&&a(l,u)})])}}});var NE=[_5,E5,X2,AE,ww,C5,TE,S5,OE,z5,A5];const V1=he("slider.change.value"),J2=e=>{const n=e.event.raw;if((a=>a.type.indexOf("touch")!==-1)(n)){const a=n;return a.touches!==void 0&&a.touches.length===1?D.some(a.touches[0]).map(l=>ca(l.clientX,l.clientY)):D.none()}{const a=n;return a.clientX!==void 0?D.some(a).map(l=>ca(l.clientX,l.clientY)):D.none()}},Of=e=>e.model.minX,jh=e=>e.model.minY,j1=e=>e.model.minX-1,_w=e=>e.model.minY-1,Cp=e=>e.model.maxX,Nf=e=>e.model.maxY,Cw=e=>e.model.maxX+1,Sw=e=>e.model.maxY+1,DE=(e,n,a)=>n(e)-a(e),Q2=e=>DE(e,Cp,Of),Ew=e=>DE(e,Nf,jh),Au=e=>Q2(e)/2,ME=e=>Ew(e)/2,Df=(e,n)=>n?e.stepSize*e.speedMultiplier:e.stepSize,eC=e=>e.snapToGrid,tC=e=>e.snapStart,oC=e=>e.rounded,$1=(e,n)=>e[n+"-edge"]!==void 0,nC=e=>$1(e,"left"),RE=e=>$1(e,"right"),BE=e=>$1(e,"top"),FE=e=>$1(e,"bottom"),Sp=e=>e.model.value.get(),Ep=(e,n)=>({x:e,y:n}),Tu=(e,n)=>{Nn(e,V1(),{value:n})},zw=(e,n,a,l)=>e<n?e:e>a?a:e===n?n-1:Math.max(n,e-l),Mf=(e,n,a,l)=>e>a?e:e<n?n:e===a?a+1:Math.min(a,e+l),rC=(e,n,a)=>Math.max(n,Math.min(a,e)),aC=e=>{const{min:n,max:a,range:l,value:u,step:g,snap:h,snapStart:x,rounded:w,hasMinEdge:C,hasMaxEdge:T,minBound:A,maxBound:L,screenRange:U}=e,Z=C?n-1:n,ue=T?a+1:a;if(u<A)return Z;if(u>L)return ue;{const re=((Q,ee,fe)=>Math.min(fe,Math.max(Q,ee))-ee)(u,A,L),ge=rC(re/U*l+n,Z,ue);return h&&ge>=n&&ge<=a?((Q,ee,fe,be,Re)=>Re.fold(()=>{const Ge=Q-ee,mt=Math.round(Ge/be)*be;return rC(ee+mt,ee-1,fe+1)},Ge=>{const mt=(Q-Ge)%be,Rt=Math.round(mt/be),Xt=Math.floor((Q-Ge)/be),qt=Math.floor((fe-Ge)/be),uo=Ge+Math.min(qt,Xt+Rt)*be;return Math.max(Ge,uo)}))(ge,n,a,g,x):w?Math.round(ge):ge}},sC=e=>{const{min:n,max:a,range:l,value:u,hasMinEdge:g,hasMaxEdge:h,maxBound:x,maxOffset:w,centerMinEdge:C,centerMaxEdge:T}=e;return u<n?g?0:C:u>a?h?x:T:(u-n)/l*w},Aw="top",Tw="right",Ow="bottom",U1="left",Km=e=>e.element.dom.getBoundingClientRect(),dm=(e,n)=>e[n],Z1=e=>{const n=Km(e);return dm(n,U1)},LE=e=>{const n=Km(e);return dm(n,Tw)},q1=e=>{const n=Km(e);return dm(n,Aw)},iC=e=>{const n=Km(e);return dm(n,Ow)},lC=e=>{const n=Km(e);return dm(n,"width")},IE=e=>{const n=Km(e);return dm(n,"height")},PE=(e,n,a)=>(e+n)/2-a,cC=(e,n)=>{const a=Km(e),l=Km(n),u=dm(a,U1),g=dm(a,Tw),h=dm(l,U1);return PE(u,g,h)},HE=(e,n)=>{const a=Km(e),l=Km(n),u=dm(a,Aw),g=dm(a,Ow),h=dm(l,Aw);return PE(u,g,h)},Nw=(e,n)=>{Nn(e,V1(),{value:n})},By=(e,n,a)=>{const l={min:Of(n),max:Cp(n),range:Q2(n),value:a,step:Df(n),snap:eC(n),snapStart:tC(n),rounded:oC(n),hasMinEdge:nC(n),hasMaxEdge:RE(n),minBound:Z1(e),maxBound:LE(e),screenRange:lC(e)};return aC(l)},dC=e=>(n,a,l)=>((u,g,h,x)=>{const w=(u>0?Mf:zw)(Sp(h),Of(h),Cp(h),Df(h,x));return Nw(g,w),D.some(w)})(e,n,a,l).map(Nt),Dw=(e,n,a,l,u,g)=>{const h=((x,w,C,T,A)=>{const L=lC(x),U=T.bind(re=>D.some(cC(re,x))).getOr(0),Z=A.bind(re=>D.some(cC(re,x))).getOr(L),ue={min:Of(w),max:Cp(w),range:Q2(w),value:C,hasMinEdge:nC(w),hasMaxEdge:RE(w),minBound:Z1(x),maxBound:LE(x),maxOffset:L,centerMinEdge:U,centerMaxEdge:Z};return sC(ue)})(n,g,a,l,u);return Z1(n)-Z1(e)+h},T5=dC(-1),O5=dC(1),Mw=D.none,uC=D.none,mC={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some((e,n)=>{Tu(e,Cw(n))}),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some((e,n)=>{Tu(e,j1(n))})};var VE=Object.freeze({__proto__:null,setValueFrom:(e,n,a)=>{const l=By(e,n,a);return Nw(e,l),l},setToMin:(e,n)=>{const a=Of(n);Nw(e,a)},setToMax:(e,n)=>{const a=Cp(n);Nw(e,a)},findValueOfOffset:By,getValueFromEvent:e=>J2(e).map(n=>n.left),findPositionOfValue:Dw,setPositionFromValue:(e,n,a,l)=>{const u=Sp(a),g=Dw(e,l.getSpectrum(e),u,l.getLeftEdge(e),l.getRightEdge(e),a),h=Fi(n.element)/2;er(n.element,"left",g-h+"px")},onLeft:T5,onRight:O5,onUp:Mw,onDown:uC,edgeActions:mC});const Fy=(e,n)=>{Nn(e,V1(),{value:n})},W1=(e,n,a)=>{const l={min:jh(n),max:Nf(n),range:Ew(n),value:a,step:Df(n),snap:eC(n),snapStart:tC(n),rounded:oC(n),hasMinEdge:BE(n),hasMaxEdge:FE(n),minBound:q1(e),maxBound:iC(e),screenRange:IE(e)};return aC(l)},G1=e=>(n,a,l)=>((u,g,h,x)=>{const w=(u>0?Mf:zw)(Sp(h),jh(h),Nf(h),Df(h,x));return Fy(g,w),D.some(w)})(e,n,a,l).map(Nt),Rw=(e,n,a,l,u,g)=>{const h=((x,w,C,T,A)=>{const L=IE(x),U=T.bind(re=>D.some(HE(re,x))).getOr(0),Z=A.bind(re=>D.some(HE(re,x))).getOr(L),ue={min:jh(w),max:Nf(w),range:Ew(w),value:C,hasMinEdge:BE(w),hasMaxEdge:FE(w),minBound:q1(x),maxBound:iC(x),maxOffset:L,centerMinEdge:U,centerMaxEdge:Z};return sC(ue)})(n,g,a,l,u);return q1(n)-q1(e)+h},jE=D.none,Fg=D.none,gC=G1(-1),sl=G1(1),$E={"top-left":D.none(),top:D.some((e,n)=>{Tu(e,_w(n))}),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some((e,n)=>{Tu(e,Sw(n))}),"bottom-left":D.none(),left:D.none()};var UE=Object.freeze({__proto__:null,setValueFrom:(e,n,a)=>{const l=W1(e,n,a);return Fy(e,l),l},setToMin:(e,n)=>{const a=jh(n);Fy(e,a)},setToMax:(e,n)=>{const a=Nf(n);Fy(e,a)},findValueOfOffset:W1,getValueFromEvent:e=>J2(e).map(n=>n.top),findPositionOfValue:Rw,setPositionFromValue:(e,n,a,l)=>{const u=Sp(a),g=Rw(e,l.getSpectrum(e),u,l.getTopEdge(e),l.getBottomEdge(e),a),h=Fa(n.element)/2;er(n.element,"top",g-h+"px")},onLeft:jE,onRight:Fg,onUp:gC,onDown:sl,edgeActions:$E});const K1=(e,n)=>{Nn(e,V1(),{value:n})},Y1=(e,n)=>({x:e,y:n}),X1=(e,n)=>(a,l,u)=>((g,h,x,w,C)=>{const T=g>0?Mf:zw,A=h?Sp(w).x:T(Sp(w).x,Of(w),Cp(w),Df(w,C)),L=h?T(Sp(w).y,jh(w),Nf(w),Df(w,C)):Sp(w).y;return K1(x,Y1(A,L)),D.some(A)})(e,n,a,l,u).map(Nt),ZE=X1(-1,!1),N5=X1(1,!1),D5=X1(-1,!0),qE=X1(1,!0),pC={"top-left":D.some((e,n)=>{Tu(e,Ep(j1(n),_w(n)))}),top:D.some((e,n)=>{Tu(e,Ep(Au(n),_w(n)))}),"top-right":D.some((e,n)=>{Tu(e,Ep(Cw(n),_w(n)))}),right:D.some((e,n)=>{Tu(e,Ep(Cw(n),ME(n)))}),"bottom-right":D.some((e,n)=>{Tu(e,Ep(Cw(n),Sw(n)))}),bottom:D.some((e,n)=>{Tu(e,Ep(Au(n),Sw(n)))}),"bottom-left":D.some((e,n)=>{Tu(e,Ep(j1(n),Sw(n)))}),left:D.some((e,n)=>{Tu(e,Ep(j1(n),ME(n)))})};var M5=Object.freeze({__proto__:null,setValueFrom:(e,n,a)=>{const l=By(e,n,a.left),u=W1(e,n,a.top),g=Y1(l,u);return K1(e,g),g},setToMin:(e,n)=>{const a=Of(n),l=jh(n);K1(e,Y1(a,l))},setToMax:(e,n)=>{const a=Cp(n),l=Nf(n);K1(e,Y1(a,l))},getValueFromEvent:e=>J2(e),setPositionFromValue:(e,n,a,l)=>{const u=Sp(a),g=Dw(e,l.getSpectrum(e),u.x,l.getLeftEdge(e),l.getRightEdge(e),a),h=Rw(e,l.getSpectrum(e),u.y,l.getTopEdge(e),l.getBottomEdge(e),a),x=Fi(n.element)/2,w=Fa(n.element)/2;er(n.element,"left",g-x+"px"),er(n.element,"top",h-w+"px")},onLeft:ZE,onRight:N5,onUp:D5,onDown:qE,edgeActions:pC});const um=cc({name:"Slider",configFields:[kt("stepSize",1),kt("speedMultiplier",10),kt("onChange",Te),kt("onChoose",Te),kt("onInit",Te),kt("onDragStart",Te),kt("onDragEnd",Te),kt("snapToGrid",!1),kt("rounded",!0),Hr("snapStart"),_c("model",Tl("mode",{x:[kt("minX",0),kt("maxX",100),Wi("value",e=>fo(e.mode.minX)),ho("getInitialValue"),qa("manager",VE)],y:[kt("minY",0),kt("maxY",100),Wi("value",e=>fo(e.mode.minY)),ho("getInitialValue"),qa("manager",UE)],xy:[kt("minX",0),kt("maxX",100),kt("minY",0),kt("maxY",100),Wi("value",e=>fo({x:e.mode.minX,y:e.mode.minY})),ho("getInitialValue"),qa("manager",M5)]})),al("sliderBehaviours",[Ho,Go]),Wi("mouseIsDown",()=>fo(!1))],partFields:NE,factory:(e,n,a,l)=>{const u=Q=>em(Q,e,"thumb"),g=Q=>em(Q,e,"spectrum"),h=Q=>Da(Q,e,"left-edge"),x=Q=>Da(Q,e,"right-edge"),w=Q=>Da(Q,e,"top-edge"),C=Q=>Da(Q,e,"bottom-edge"),T=e.model,A=T.manager,L=(Q,ee)=>{A.setPositionFromValue(Q,ee,e,{getLeftEdge:h,getRightEdge:x,getTopEdge:w,getBottomEdge:C,getSpectrum:g})},U=(Q,ee)=>{T.value.set(ee);const fe=u(Q);L(Q,fe)},Z=Q=>{const ee=e.mouseIsDown.get();e.mouseIsDown.set(!1),ee&&Da(Q,e,"thumb").each(fe=>{const be=T.value.get();e.onChoose(Q,fe,be)})},ue=(Q,ee)=>{ee.stop(),e.mouseIsDown.set(!0),e.onDragStart(Q,u(Q))},re=(Q,ee)=>{ee.stop(),e.onDragEnd(Q,u(Q)),Z(Q)},ge=Q=>{Da(Q,e,"spectrum").map(Ho.focusIn)};return{uid:e.uid,dom:e.dom,components:n,behaviours:yl(e.sliderBehaviours,[Ho.config({mode:"special",focusIn:ge}),Go.config({store:{mode:"manual",getValue:Q=>T.value.get(),setValue:U}}),Uc.config({channels:{[iw()]:{onReceive:Z}}})]),events:Ea([Wt(V1(),(Q,ee)=>{((fe,be)=>{U(fe,be);const Re=u(fe);e.onChange(fe,Re,be)})(Q,ee.event.value)}),Ia((Q,ee)=>{const fe=T.getInitialValue();T.value.set(fe);const be=u(Q);L(Q,be);const Re=g(Q);e.onInit(Q,be,Re,T.value.get())}),Wt(S(),ue),Wt(G(),re),Wt(Ke(),(Q,ee)=>{ge(Q),ue(Q,ee)}),Wt(fn(),re)]),apis:{resetToMin:Q=>{A.setToMin(Q,e)},resetToMax:Q=>{A.setToMax(Q,e)},setValue:U,refresh:L},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,n,a)=>{e.setValue(n,a)},resetToMin:(e,n)=>{e.resetToMin(n)},resetToMax:(e,n)=>{e.resetToMax(n)},refresh:(e,n)=>{e.refresh(n)}}}),WE="container",GE=[al("slotBehaviours",[])],fC=e=>"<alloy.field."+e+">",R5=(e,n)=>{const a=T=>ch(e),l=(T,A)=>(L,U)=>Da(L,e,U).map(Z=>T(Z,U)).getOr(A),u=(T,A)=>Qa(T.element,"aria-hidden")!=="true",g=l(u,!1),h=l((T,A)=>{if(u(T)){const L=T.element;er(L,"display","none"),An(L,"aria-hidden","true"),Nn(T,gg(),{name:A,visible:!1})}}),x=(T=>(A,L)=>{ut(L,U=>T(A,U))})(h),w=l((T,A)=>{if(!u(T)){const L=T.element;br(L,"display"),ya(L,"aria-hidden"),Nn(T,gg(),{name:A,visible:!0})}}),C={getSlotNames:a,getSlot:(T,A)=>Da(T,e,A),isShowing:g,hideSlot:h,hideAllSlots:T=>x(T,a()),showSlot:w};return{uid:e.uid,dom:e.dom,components:n,behaviours:Ix(e.slotBehaviours),apis:C}},B5=rt({getSlotNames:(e,n)=>e.getSlotNames(n),getSlot:(e,n,a)=>e.getSlot(n,a),isShowing:(e,n,a)=>e.isShowing(n,a),hideSlot:(e,n,a)=>e.hideSlot(n,a),hideAllSlots:(e,n)=>e.hideAllSlots(n),showSlot:(e,n,a)=>e.showSlot(n,a)},e=>ki(e)),Xl={...B5,sketch:e=>{const n=(()=>{const g=[];return{slot:(h,x)=>(g.push(h),Mb(WE,fC(h),x)),record:he(g)}})(),a=e(n),l=n.record(),u=R(l,g=>fl({name:g,pname:fC(g)}));return W_(WE,GE,u,R5,a)}},F5=he([ho("toggleClass"),ho("fetch"),Bm("onExecute"),kt("getHotspot",D.some),kt("getAnchorOverrides",he({})),yp(),Bm("onItemExecute"),Hr("lazySink"),ho("dom"),Fr("onOpen"),al("splitDropdownBehaviours",[ps,Ho,Vn]),kt("matchWidth",!1),kt("useMinWidth",!1),kt("eventOrder",{}),Hr("role"),Hr("listRole")].concat(bw())),L5=fl({factory:vl,schema:[ho("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Co([Vn.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:n=>{n.getSystem().getByUid(e.uid).each(ip)},buttonBehaviours:Co([vr.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),I5=fl({factory:vl,schema:[ho("dom")],name:"button",defaults:()=>({buttonBehaviours:Co([Vn.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:n=>{n.getSystem().getByUid(e.uid).each(a=>{e.onExecute(a,n)})}})}),Bw=he([L5,I5,ic({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[ho("text")],name:"aria-descriptor"}),Vc({schema:[hg()],name:"menu",defaults:e=>({onExecute:(n,a)=>{n.getSystem().getByUid(e.uid).each(l=>{e.onItemExecute(l,n,a)})}})}),H2()]),$h=cc({name:"SplitDropdown",configFields:F5(),partFields:Bw(),factory:(e,n,a,l)=>{const u=C=>{$r.getCurrent(C).each(T=>{oa.highlightFirst(T),Ho.focusIn(T)})},g=C=>{fw(e,Xe,C,l,u,Gl.HighlightMenuAndItem).get(Te)},h=C=>{const T=em(C,e,"button");return ip(T),D.some(!0)},x={...Ea([Ia((C,T)=>{Da(C,e,"aria-descriptor").each(A=>{const L=se("aria");An(A.element,"id",L),An(C.element,"aria-describedby",L)})})]),...F1(D.some(g))},w={repositionMenus:C=>{vr.isOn(C)&&U2(C)}};return{uid:e.uid,dom:e.dom,components:n,apis:w,eventOrder:{...e.eventOrder,[yr()]:["disabling","toggling","alloy.base.behaviour"]},events:x,behaviours:yl(e.splitDropdownBehaviours,[ps.config({others:{sandbox:C=>{const T=em(C,e,"arrow");return hw(e,C,{onOpen:()=>{vr.on(T),vr.on(C)},onClose:()=>{vr.off(T),vr.off(C)}})}}}),Ho.config({mode:"special",onSpace:h,onEnter:h,onDown:C=>(g(C),D.some(!0))}),Vn.config({}),vr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,n)=>e.repositionMenus(n)}}),Ly=(e,n,a)=>({within:e,extra:n,withinWidth:a}),Uh=(e,n,a)=>{const l=co(e,(h,x)=>((w,C)=>{const T=a(w);return D.some({element:w,start:C,finish:C+T,width:T})})(x,h.len).fold(he(h),w=>({len:w.finish,list:h.list.concat([w])})),{len:0,list:[]}).list,u=Bt(l,h=>h.finish<=n),g=Vt(u,(h,x)=>h+x.width,0);return{within:u,extra:l.slice(u.length),withinWidth:g}},J1=e=>R(e,n=>n.element),hC=(e,n)=>{const a=R(n,l=>Gd(l));xl.setGroups(e,a)},KE=(e,n,a)=>{const l=n.builtGroups.get();if(l.length===0)return;const u=em(e,n,"primary"),g=ps.getCoupled(e,"overflowGroup");er(u.element,"visibility","hidden");const h=l.concat([g]),x=We(h,C=>Nr(C.element).bind(T=>C.getSystem().getByDom(T).toOptional()));a([]),hC(u,h);const w=((C,T,A,L)=>{const U=((ge,Q,ee)=>{const fe=Uh(Q,ge,ee);return fe.extra.length===0?D.some(fe):D.none()})(C,T,A).getOrThunk(()=>Uh(T,C-A(L),A)),Z=U.within,ue=U.extra,re=U.withinWidth;return ue.length===1&&ue[0].width<=A(L)?((ge,Q,ee)=>{const fe=J1(ge.concat(Q));return Ly(fe,[],ee)})(Z,ue,re):ue.length>=1?((ge,Q,ee,fe)=>{const be=J1(ge).concat([ee]);return Ly(be,J1(Q),fe)})(Z,ue,L,re):((ge,Q,ee)=>Ly(J1(ge),[],ee))(Z,0,re)})(Fi(u.element),n.builtGroups.get(),C=>Math.ceil(C.element.dom.getBoundingClientRect().width),g);w.extra.length===0?(or.remove(u,g),a([])):(hC(u,w.within),a(w.extra)),br(u.element,"visibility"),Bi(u.element),x.each(Vn.focus)},YE=he([al("splitToolbarBehaviours",[ps]),Wi("builtGroups",()=>fo([]))]),P5=he([_d(["overflowToggledClass"]),Li("getOverflowBounds"),ho("lazySink"),Wi("overflowGroups",()=>fo([])),Fr("onOpened"),Fr("onClosed")].concat(YE())),H5=he([fl({factory:xl,schema:Oy(),name:"primary"}),Vc({schema:Oy(),name:"overflow"}),Vc({name:"overflow-button"}),Vc({name:"overflow-group"})]),XE=he([ho("items"),_d(["itemSelector"]),al("tgroupBehaviours",[Ho])]),Iy=he([vg({name:"items",unit:"item"})]),Lg=cc({name:"ToolbarGroup",configFields:XE(),partFields:Iy(),factory:(e,n,a,l)=>({uid:e.uid,dom:e.dom,components:n,behaviours:yl(e.tgroupBehaviours,[Ho.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),bC=e=>R(e,n=>Gd(n)),yC=(e,n,a)=>{KE(e,a,l=>{a.overflowGroups.set(l),n.getOpt(e).each(u=>{cm.setGroups(u,bC(l))})})},Q1=cc({name:"SplitFloatingToolbar",configFields:P5(),partFields:H5(),factory:(e,n,a,l)=>{const u=Gr(cm.sketch({fetch:()=>on(g=>{g(bC(e.overflowGroups.get()))}),layouts:{onLtr:()=>[xi,di],onRtl:()=>[di,xi],onBottomLtr:()=>[ol,tl],onBottomRtl:()=>[tl,ol]},getBounds:a.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(g,h)=>e[h?"onOpened":"onClosed"](g)}));return{uid:e.uid,dom:e.dom,components:n,behaviours:yl(e.splitToolbarBehaviours,[ps.config({others:{overflowGroup:()=>Lg.sketch({...l["overflow-group"](),items:[u.asSpec()]})}})]),apis:{setGroups:(g,h)=>{e.builtGroups.set(R(h,g.getSystem().build)),yC(g,u,e)},refresh:g=>yC(g,u,e),toggle:g=>{u.getOpt(g).each(h=>{cm.toggle(h)})},toggleWithoutFocusing:g=>{u.getOpt(g).each(cm.toggleWithoutFocusing)},isOpen:g=>u.getOpt(g).map(cm.isOpen).getOr(!1),reposition:g=>{u.getOpt(g).each(h=>{cm.reposition(h)})},getOverflow:g=>u.getOpt(g).bind(cm.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,n,a)=>{e.setGroups(n,a)},refresh:(e,n)=>{e.refresh(n)},reposition:(e,n)=>{e.reposition(n)},toggle:(e,n)=>{e.toggle(n)},toggleWithoutFocusing:(e,n)=>{e.toggle(n)},isOpen:(e,n)=>e.isOpen(n),getOverflow:(e,n)=>e.getOverflow(n)}}),ev=he([_d(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Fr("onOpened"),Fr("onClosed")].concat(YE())),tv=he([fl({factory:xl,schema:Oy(),name:"primary"}),fl({factory:xl,schema:Oy(),name:"overflow",overrides:e=>({toolbarBehaviours:Co([Zc.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:n=>{Da(n,e,"overflow-button").each(a=>{vr.off(a)}),e.onClosed(n)},onGrown:n=>{e.onOpened(n)},onStartGrow:n=>{Da(n,e,"overflow-button").each(vr.on)}}),Ho.config({mode:"acyclic",onEscape:n=>(Da(n,e,"overflow-button").each(Vn.focus),D.some(!0))})])})}),Vc({name:"overflow-button",overrides:e=>({buttonBehaviours:Co([vr.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Vc({name:"overflow-group"})]),Py=(e,n,a)=>{Da(e,n,"overflow-button").each(l=>{Da(e,n,"overflow").each(u=>{if(ov(e,n),Zc.hasShrunk(u)){const g=n.onOpened;n.onOpened=h=>{a||Ho.focusIn(u),g(h),n.onOpened=g}}else{const g=n.onClosed;n.onClosed=h=>{a||Vn.focus(l),g(h),n.onClosed=g}}Zc.toggleGrow(u)})})},ov=(e,n)=>{Da(e,n,"overflow").each(a=>{KE(e,n,l=>{const u=R(l,g=>Gd(g));xl.setGroups(a,u)}),Da(e,n,"overflow-button").each(l=>{Zc.hasGrown(a)&&vr.on(l)}),Zc.refresh(a)})},Fw=cc({name:"SplitSlidingToolbar",configFields:ev(),partFields:tv(),factory:(e,n,a,l)=>{const u="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:n,behaviours:yl(e.splitToolbarBehaviours,[ps.config({others:{overflowGroup:g=>Lg.sketch({...l["overflow-group"](),items:[vl.sketch({...l["overflow-button"](),action:h=>{Mr(g,u)}})]})}}),Yn("toolbar-toggle-events",[Wt(u,g=>{Py(g,e,!1)})])]),apis:{setGroups:(g,h)=>{((x,w)=>{const C=R(w,x.getSystem().build);e.builtGroups.set(C)})(g,h),ov(g,e)},refresh:g=>ov(g,e),toggle:g=>{Py(g,e,!1)},toggleWithoutFocusing:g=>{Py(g,e,!0)},isOpen:g=>((h,x)=>Da(h,x,"overflow").map(Zc.hasGrown).getOr(!1))(g,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,n,a)=>{e.setGroups(n,a)},refresh:(e,n)=>{e.refresh(n)},toggle:(e,n)=>{e.toggle(n)},isOpen:(e,n)=>e.isOpen(n)}}),JE=Td({name:"TabButton",configFields:[kt("uid",void 0),ho("value"),yi("dom","dom",xb(()=>({attributes:{role:"tab",id:se("aria"),"aria-selected":"false"}})),$a()),Hr("action"),kt("domModification",{}),al("tabButtonBehaviours",[Vn,Ho,Go]),ho("view")],factory:(e,n)=>({uid:e.uid,dom:e.dom,components:e.components,events:F1(e.action),behaviours:yl(e.tabButtonBehaviours,[Vn.config({}),Ho.config({mode:"execution",useSpace:!0,useEnter:!0}),Go.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),QE=he([ho("tabs"),ho("dom"),kt("clickToDismiss",!1),al("tabbarBehaviours",[oa,Ho]),_d(["tabClass","selectedClass"])]),zp=vg({factory:JE,name:"tabs",unit:"tab",overrides:e=>{const n=(l,u)=>{oa.dehighlight(l,u),Nn(l,rh(),{tabbar:l,button:u})},a=(l,u)=>{oa.highlight(l,u),Nn(l,Dm(),{tabbar:l,button:u})};return{action:l=>{const u=l.getSystem().getByUid(e.uid).getOrDie(),g=oa.isHighlighted(u,l);(g&&e.clickToDismiss?n:g?Te:a)(u,l)},domModification:{classes:[e.markers.tabClass]}}}}),Zh=he([zp]),vC=cc({name:"Tabbar",configFields:QE(),partFields:Zh(),factory:(e,n,a,l)=>({uid:e.uid,dom:e.dom,components:n,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:yl(e.tabbarBehaviours,[oa.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(u,g)=>{An(g.element,"aria-selected","true")},onDehighlight:(u,g)=>{An(g.element,"aria-selected","false")}}),Ho.config({mode:"flow",getInitial:u=>oa.getHighlighted(u).map(g=>g.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),ez=Td({name:"Tabview",configFields:[al("tabviewBehaviours",[or])],factory:(e,n)=>({uid:e.uid,dom:e.dom,behaviours:yl(e.tabviewBehaviours,[or.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),V5=he([kt("selectFirst",!0),Fr("onChangeTab"),Fr("onDismissTab"),kt("tabs",[]),al("tabSectionBehaviours",[])]),xC=fl({factory:vC,schema:[ho("dom"),xd("markers",[ho("tabClass"),ho("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),tz=fl({factory:ez,name:"tabview"}),j5=he([xC,tz]),qh=cc({name:"TabSection",configFields:V5(),partFields:j5(),factory:(e,n,a,l)=>{const u=(g,h)=>{Da(g,e,"tabbar").each(x=>{h(x).each(ip)})};return{uid:e.uid,dom:e.dom,components:n,behaviours:Ix(e.tabSectionBehaviours),events:Ea(ke([e.selectFirst?[Ia((g,h)=>{u(g,oa.getFirst)})]:[],[Wt(Dm(),(g,h)=>{(x=>{const w=Go.getValue(x);Da(x,e,"tabview").each(C=>{xo(e.tabs,T=>T.value===w).each(T=>{const A=T.view();ba(x.element,"id").each(L=>{An(C.element,"aria-labelledby",L)}),or.set(C,A),e.onChangeTab(C,x,A)})})})(h.event.button)}),Wt(rh(),(g,h)=>{const x=h.event.button;e.onDismissTab(g,x)})]])),apis:{getViewItems:g=>Da(g,e,"tabview").map(h=>or.contents(h)).getOr([]),showTab:(g,h)=>{u(g,x=>{const w=oa.getCandidates(x);return xo(w,C=>Go.getValue(C)===h).filter(C=>!oa.isHighlighted(x,C))})}}}},apis:{getViewItems:(e,n)=>e.getViewItems(n),showTab:(e,n,a)=>{e.showTab(n,a)}}}),Lw=(e,n,a)=>{const l=Go.getValue(a);Go.setValue(n,l),wC(n)},oz=(e,n)=>{const a=e.element,l=Vs(a),u=a.dom;Qa(a,"type")!=="number"&&n(u,l)},wC=e=>{oz(e,(n,a)=>n.setSelectionRange(a.length,a.length))},Iw=he("alloy.typeahead.itemexecute"),$5=he([Hr("lazySink"),ho("fetch"),kt("minChars",5),kt("responseTime",1e3),Fr("onOpen"),kt("getHotspot",D.some),kt("getAnchorOverrides",he({})),kt("layouts",D.none()),kt("eventOrder",{}),lg("model",{},[kt("getDisplayText",e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value),kt("selectsOver",!0),kt("populateFromBrowse",!0)]),Fr("onSetValue"),sc("onExecute"),Fr("onItemExecute"),kt("inputClasses",[]),kt("inputAttributes",{}),kt("inputStyles",{}),kt("matchWidth",!0),kt("useMinWidth",!1),kt("dismissOnBlur",!0),_d(["openClass"]),Hr("initialData"),Hr("listRole"),al("typeaheadBehaviours",[Vn,Go,Ih,Ho,vr,ps]),Wi("lazyTypeaheadComp",()=>fo(D.none)),Wi("previewing",()=>fo(!0))].concat(Ry()).concat(bw())),nz=he([Vc({schema:[hg()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(n,a,l)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(u=>{((g,h,x)=>{if(g.selectsOver){const w=Go.getValue(h),C=g.getDisplayText(w),T=Go.getValue(x);return g.getDisplayText(T).indexOf(C)===0?D.some(()=>{Lw(0,h,x),((A,L)=>{oz(A,(U,Z)=>U.setSelectionRange(L,Z.length))})(h,C.length)}):D.none()}return D.none()})(e.model,u,l).fold(()=>{e.model.selectsOver?(oa.dehighlight(a,l),e.previewing.set(!0)):e.previewing.set(!1)},g=>{g(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(u=>{e.model.populateFromBrowse&&Lw(e.model,u,l),ba(l.element,"id").each(g=>An(u.element,"aria-activedescendant",g))})},onExecute:(n,a)=>e.lazyTypeaheadComp.get().map(l=>(Nn(l,Iw(),{item:a}),!0)),onHover:(n,a)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(l=>{e.model.populateFromBrowse&&Lw(e.model,l,a)})}})})]),Hy=cc({name:"Typeahead",configFields:$5(),partFields:nz(),factory:(e,n,a,l)=>{const u=(A,L,U)=>{e.previewing.set(!1);const Z=ps.getCoupled(A,"sandbox");if(Wr.isOpen(Z))$r.getCurrent(Z).each(ue=>{oa.getHighlighted(ue).fold(()=>{U(ue)},()=>{xh(Z,ue.element,"keydown",L)})});else{const ue=re=>{$r.getCurrent(re).each(U)};pw(e,h(A),A,Z,l,ue,Gl.HighlightMenuAndItem).get(Te)}},g=K2(e),h=A=>L=>L.map(U=>{const Z=Pt(U.menus),ue=Ft(Z,re=>Bt(re.items,ge=>ge.type==="item"));return Go.getState(A).update(R(ue,re=>re.data)),U}),x=A=>$r.getCurrent(A),w="typeaheadevents",C=[Vn.config({}),Go.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:A=>Vs(A.element),getFallbackEntry:A=>({value:A,meta:{}}),setValue:(A,L)=>{Bc(A.element,e.model.getDisplayText(L))},...e.initialData.map(A=>Ku("initialValue",A)).getOr({})}}),Ih.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(A,L)=>{const U=ps.getCoupled(A,"sandbox");if(Vn.isFocused(A)&&Vs(A.element).length>=e.minChars){const Z=x(U).bind(re=>oa.getHighlighted(re).map(Go.getValue));e.previewing.set(!0);const ue=re=>{x(U).each(ge=>{Z.fold(()=>{e.model.selectsOver&&oa.highlightFirst(ge)},Q=>{oa.highlightBy(ge,ee=>Go.getValue(ee).value===Q.value),oa.getHighlighted(ge).orThunk(()=>(oa.highlightFirst(ge),D.none()))})})};pw(e,h(A),A,U,l,ue,Gl.HighlightJustMenu).get(Te)}},cancelEvent:ep()}),Ho.config({mode:"special",onDown:(A,L)=>(u(A,L,oa.highlightFirst),D.some(!0)),onEscape:A=>{const L=ps.getCoupled(A,"sandbox");return Wr.isOpen(L)?(Wr.close(L),D.some(!0)):D.none()},onUp:(A,L)=>(u(A,L,oa.highlightLast),D.some(!0)),onEnter:A=>{const L=ps.getCoupled(A,"sandbox"),U=Wr.isOpen(L);if(U&&!e.previewing.get())return x(L).bind(Z=>oa.getHighlighted(Z)).map(Z=>(Nn(A,Iw(),{item:Z}),!0));{const Z=Go.getValue(A);return Mr(A,ep()),e.onExecute(L,A,Z),U&&Wr.close(L),D.some(!0)}}}),vr.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),ps.config({others:{sandbox:A=>hw(e,A,{onOpen:()=>vr.on(A),onClose:()=>{e.lazyTypeaheadComp.get().each(L=>ya(L.element,"aria-activedescendant")),vr.off(A)}})}}),Yn(w,[Ia(A=>{e.lazyTypeaheadComp.set(D.some(A))}),Zd(A=>{e.lazyTypeaheadComp.set(D.none())}),vu(A=>{const L=Te;fw(e,h(A),A,l,L,Gl.HighlightMenuAndItem).get(Te)}),Wt(Iw(),(A,L)=>{const U=ps.getCoupled(A,"sandbox");Lw(e.model,A,L.event.item),Mr(A,ep()),e.onItemExecute(A,U,L.event.item,Go.getValue(A)),Wr.close(U),wC(A)})].concat(e.dismissOnBlur?[Wt(Hc(),A=>{const L=ps.getCoupled(A,"sandbox");Nr(L.element).isNone()&&Wr.close(L)})]:[]))],T={[wd()]:[Go.name(),Ih.name(),w],...e.eventOrder};return{uid:e.uid,dom:Wa(Yo(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...g,...yl(e.typeaheadBehaviours,C)},eventOrder:T}}});var Ou,nv,Pw=tinymce.util.Tools.resolve("tinymce.ThemeManager"),sd=tinymce.util.Tools.resolve("tinymce.util.Delay"),Wh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),rz=tinymce.util.Tools.resolve("tinymce.EditorManager"),Vy=tinymce.util.Tools.resolve("tinymce.Env");(function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"})(Ou||(Ou={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(nv||(nv={}));const Ra=e=>n=>n.options.get(e),jy=e=>n=>D.from(e(n)),kC=e=>{const n=Vy.deviceType.isPhone(),a=Vy.deviceType.isTablet()||n,l=e.options.register,u=h=>ro(h)||h===!1,g=h=>ro(h)||no(h);l("skin",{processor:h=>ro(h)||h===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:g,default:Math.max(e.getElement().offsetHeight,400)}),l("width",{processor:g,default:Wh.DOM.getStyle(e.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:h=>ro(h)||kn(h),default:!n}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:h=>kn(h)||ro(h)||go(h)?{value:h,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Bo(9,h=>{l("toolbar"+(h+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:nv.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:e.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:u,default:"#top"}),l("anchor_bottom",{processor:u,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:h=>h==="both"||kn(h),default:!Vy.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},_C=Ra("readonly"),Hw=Ra("disabled"),Vw=Ra("height"),jw=Ra("width"),$w=jy(Ra("min_width")),CC=jy(Ra("min_height")),$y=jy(Ra("max_width")),Uw=jy(Ra("max_height")),SC=jy(Ra("style_formats")),EC=Ra("style_formats_merge"),az=Ra("style_formats_autohide"),sz=Ra("content_langs"),zC=Ra("removed_menuitems"),Gh=Ra("toolbar_mode"),AC=Ra("toolbar_groups"),rv=Ra("toolbar_location"),iz=Ra("fixed_toolbar_container"),U5=Ra("fixed_toolbar_container_target"),Zw=Ra("toolbar_persist"),Ig=Ra("toolbar_sticky_offset"),Uy=Ra("menubar"),Zy=Ra("toolbar"),lz=Ra("file_picker_callback"),cz=Ra("file_picker_validator_handler"),TC=Ra("font_size_input_default_unit"),qw=Ra("file_picker_types"),Ww=Ra("typeahead_urls"),Gw=Ra("anchor_top"),Xd=Ra("anchor_bottom"),OC=Ra("draggable_modal"),NC=Ra("statusbar"),dz=Ra("elementpath"),Kw=Ra("branding"),Yw=Ra("resize"),DC=Ra("paste_as_text"),MC=Ra("sidebar_show"),RC=Ra("promotion"),BC=Ra("help_accessibility"),Xw=Ra("default_font_stack"),Jw=Ra("skin"),Rf=e=>e.options.get("skin")===!1,av=e=>e.options.get("menubar")!==!1,FC=e=>{const n=e.options.get("skin_url");if(Rf(e))return n;if(n)return e.documentBaseURI.toAbsolute(n);{const a=e.options.get("skin");return rz.baseURL+"/skins/ui/"+a}},LC=e=>e.options.get("line_height_formats").split(" "),Kh=e=>{const n=Zy(e),a=ro(n),l=go(n)&&n.length>0;return!sv(e)&&(l||a||n===!0)},IC=e=>{const n=Bo(9,l=>e.options.get("toolbar"+(l+1))),a=Bt(n,ro);return De(a.length>0,a)},sv=e=>IC(e).fold(()=>{const n=Zy(e);return ao(n,ro)&&n.length>0},Nt),Qw=e=>rv(e)===nv.bottom,PC=e=>{var n;if(!e.inline)return D.none();const a=(n=iz(e))!==null&&n!==void 0?n:"";if(a.length>0)return qr(vc(),a);const l=U5(e);return Je(l)?D.some(eo(l)):D.none()},Bf=e=>e.inline&&PC(e).isSome(),ek=e=>PC(e).getOrThunk(()=>bc(Na(eo(e.getElement())))),uc=e=>e.inline&&!av(e)&&!Kh(e)&&!sv(e),Yh=e=>(e.options.get("toolbar_sticky")||e.inline)&&!Bf(e)&&!uc(e),Ff=e=>!Bf(e)&&e.options.get("ui_mode")==="split",uz=e=>{const n=e.options.get("menu");return rt(n,a=>({...a,items:a.items}))};var mz=Object.freeze({__proto__:null,get ToolbarMode(){return Ou},get ToolbarLocation(){return nv},register:kC,getSkinUrl:FC,getSkinUrlOption:e=>D.from(e.options.get("skin_url")),isReadOnly:_C,isDisabled:Hw,getSkin:Jw,isSkinDisabled:Rf,getHeightOption:Vw,getWidthOption:jw,getMinWidthOption:$w,getMinHeightOption:CC,getMaxWidthOption:$y,getMaxHeightOption:Uw,getUserStyleFormats:SC,shouldMergeStyleFormats:EC,shouldAutoHideStyleFormats:az,getLineHeightFormats:LC,getContentLanguages:sz,getRemovedMenuItems:zC,isMenubarEnabled:av,isMultipleToolbars:sv,isToolbarEnabled:Kh,isToolbarPersist:Zw,getMultipleToolbarsOption:IC,getUiContainer:ek,useFixedContainer:Bf,isSplitUiMode:Ff,getToolbarMode:Gh,isDraggableModal:OC,isDistractionFree:uc,isStickyToolbar:Yh,getStickyToolbarOffset:Ig,getToolbarLocation:rv,isToolbarLocationBottom:Qw,getToolbarGroups:AC,getMenus:uz,getMenubar:Uy,getToolbar:Zy,getFilePickerCallback:lz,getFilePickerTypes:qw,useTypeaheadUrls:Ww,getAnchorTop:Gw,getAnchorBottom:Xd,getFilePickerValidatorHandler:cz,getFontSizeInputDefaultUnit:TC,useStatusBar:NC,useElementPath:dz,promotionEnabled:RC,useBranding:Kw,getResize:Yw,getPasteAsText:DC,getSidebarShow:MC,useHelpAccessibility:BC,getDefaultFontStack:Xw});const Z5=["visible","hidden","clip"],gz=e=>Le(e).length>0&&!vt(Z5,e),pz=e=>{if(mo(e)){const n=Ds(e,"overflow-x"),a=Ds(e,"overflow-y");return gz(n)||gz(a)}return!1},HC=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),qc=(e,n)=>Ff(e)?((a,l)=>{const u=fd(l,pz),g=u.length===0?pr(l).map(Id).map(h=>fd(h,pz)).getOr([]):u;return Ee(g).map(h=>({element:h,others:g.slice(1),isFullscreen:()=>HC(a)}))})(e,n):D.none(),Ap=e=>{const n=[...R(e.others,js),bi()];return e.isFullscreen()?bi():((a,l)=>co(l,(u,g)=>$u(u,g),a))(js(e.element),n)},{entries:VC,setPrototypeOf:iv,isFrozen:jC,getPrototypeOf:q5,getOwnPropertyDescriptor:W5}=Object;let{freeze:Md,seal:Nu,create:Ym}=Object,{apply:qy,construct:$C}=typeof Reflect<"u"&&Reflect;Md||(Md=function(e){return e}),Nu||(Nu=function(e){return e}),qy||(qy=function(e,n,a){return e.apply(n,a)}),$C||($C=function(e,n){return new e(...n)});const tk=id(Array.prototype.forEach),fz=id(Array.prototype.lastIndexOf),UC=id(Array.prototype.pop),Xh=id(Array.prototype.push),ok=id(Array.prototype.splice),Lf=id(String.prototype.toLowerCase),Jh=id(String.prototype.toString),ZC=id(String.prototype.match),Wy=id(String.prototype.replace),hz=id(String.prototype.indexOf),bz=id(String.prototype.trim),Xm=id(Object.prototype.hasOwnProperty),Rd=id(RegExp.prototype.test),lv=(qC=TypeError,function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return $C(qC,n)});var qC;function id(e){return function(n){for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];return qy(e,n,l)}}function Ga(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lf;iv&&iv(e,null);let l=n.length;for(;l--;){let u=n[l];if(typeof u=="string"){const g=a(u);g!==u&&(jC(n)||(n[l]=g),u=g)}e[u]=!0}return e}function G5(e){for(let n=0;n<e.length;n++)Xm(e,n)||(e[n]=null);return e}function If(e){const n=Ym(null);for(const[a,l]of VC(e))Xm(e,a)&&(Array.isArray(l)?n[a]=G5(l):l&&typeof l=="object"&&l.constructor===Object?n[a]=If(l):n[a]=l);return n}function Jm(e,n){for(;e!==null;){const a=W5(e,n);if(a){if(a.get)return id(a.get);if(typeof a.value=="function")return id(a.value)}e=q5(e)}return function(){return null}}const WC=Md(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),GC=Md(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),KC=Md(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yz=Md(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nk=Md(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),YC=Md(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Pg=Md(["#text"]),rk=Md(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ak=Md(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),XC=Md(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gy=Md(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vz=Nu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sk=Nu(/<%[\w\W]*|[\w\W]*%>/gm),xz=Nu(/\$\{[\w\W]*/gm),wz=Nu(/^data-[\-\w.\u00B7-\uFFFF]+$/),K5=Nu(/^aria-[\-\w]+$/),JC=Nu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kz=Nu(/^(?:\w+script|data):/i),Y5=Nu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_z=Nu(/^html$/i),X5=Nu(/^[a-z][.\w]*(-[.\w]+)+$/i);var cv=Object.freeze({__proto__:null,ARIA_ATTR:K5,ATTR_WHITESPACE:Y5,CUSTOM_ELEMENT:X5,DATA_ATTR:wz,DOCTYPE_NAME:_z,ERB_EXPR:sk,IS_ALLOWED_URI:JC,IS_SCRIPT_OR_DATA:kz,MUSTACHE_EXPR:vz,TMPLIT_EXPR:xz});const Cz=function(){return typeof window>"u"?null:window};var Sz=function e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cz();const a=Et=>e(Et);if(a.version="3.2.4",a.removed=[],!n||!n.document||n.document.nodeType!==9||!n.Element)return a.isSupported=!1,a;let{document:l}=n;const u=l,g=u.currentScript,{DocumentFragment:h,HTMLTemplateElement:x,Node:w,Element:C,NodeFilter:T,NamedNodeMap:A=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:L,DOMParser:U,trustedTypes:Z}=n,ue=C.prototype,re=Jm(ue,"cloneNode"),ge=Jm(ue,"remove"),Q=Jm(ue,"nextSibling"),ee=Jm(ue,"childNodes"),fe=Jm(ue,"parentNode");if(typeof x=="function"){const Et=l.createElement("template");Et.content&&Et.content.ownerDocument&&(l=Et.content.ownerDocument)}let be,Re="";const{implementation:Ge,createNodeIterator:mt,createDocumentFragment:Rt,getElementsByTagName:Xt}=l,{importNode:qt}=u;let uo={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};a.isSupported=typeof VC=="function"&&typeof fe=="function"&&Ge&&Ge.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Mo,ERB_EXPR:yn,TMPLIT_EXPR:Bn,DATA_ATTR:Un,ARIA_ATTR:Cr,IS_SCRIPT_OR_DATA:rs,ATTR_WHITESPACE:Cs,CUSTOM_ELEMENT:da}=cv;let{IS_ALLOWED_URI:Ir}=cv,Fn=null;const Ka=Ga({},[...WC,...GC,...KC,...nk,...Pg]);let xa=null;const ji=Ga({},[...rk,...ak,...XC,...Gy]);let Pa=Object.seal(Ym(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$i=null,ll=null,y0=!0,Yv=!0,jT=!1,$T=!0,v0=!1,x0=!0,Xf=!1,v_=!1,x_=!1,fb=!1,w_=!1,k_=!1,LS=!0,IS=!1,__=!0,w0=!1,hb={},Qr=null;const k0=Ga({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $p=null;const E7=Ga({},["audio","video","img","source","image","track"]);let CO=null;const z7=Ga({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),UT="http://www.w3.org/1998/Math/MathML",ZT="http://www.w3.org/2000/svg",bb="http://www.w3.org/1999/xhtml";let C_=bb,SO=!1,EO=null;const xR=Ga({},[UT,ZT,bb],Jh);let qT=Ga({},["mi","mo","mn","ms","mtext"]),WT=Ga({},["annotation-xml"]);const wR=Ga({},["title","style","font","a","script"]);let PS=null;const kR=["application/xhtml+xml","text/html"];let ud=null,S_=null;const _R=l.createElement("form"),A7=function(Et){return Et instanceof RegExp||Et instanceof Function},zO=function(){let Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!S_||S_!==Et){if(Et&&typeof Et=="object"||(Et={}),Et=If(Et),PS=kR.indexOf(Et.PARSER_MEDIA_TYPE)===-1?"text/html":Et.PARSER_MEDIA_TYPE,ud=PS==="application/xhtml+xml"?Jh:Lf,Fn=Xm(Et,"ALLOWED_TAGS")?Ga({},Et.ALLOWED_TAGS,ud):Ka,xa=Xm(Et,"ALLOWED_ATTR")?Ga({},Et.ALLOWED_ATTR,ud):ji,EO=Xm(Et,"ALLOWED_NAMESPACES")?Ga({},Et.ALLOWED_NAMESPACES,Jh):xR,CO=Xm(Et,"ADD_URI_SAFE_ATTR")?Ga(If(z7),Et.ADD_URI_SAFE_ATTR,ud):z7,$p=Xm(Et,"ADD_DATA_URI_TAGS")?Ga(If(E7),Et.ADD_DATA_URI_TAGS,ud):E7,Qr=Xm(Et,"FORBID_CONTENTS")?Ga({},Et.FORBID_CONTENTS,ud):k0,$i=Xm(Et,"FORBID_TAGS")?Ga({},Et.FORBID_TAGS,ud):{},ll=Xm(Et,"FORBID_ATTR")?Ga({},Et.FORBID_ATTR,ud):{},hb=!!Xm(Et,"USE_PROFILES")&&Et.USE_PROFILES,y0=Et.ALLOW_ARIA_ATTR!==!1,Yv=Et.ALLOW_DATA_ATTR!==!1,jT=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,$T=Et.ALLOW_SELF_CLOSE_IN_ATTR!==!1,v0=Et.SAFE_FOR_TEMPLATES||!1,x0=Et.SAFE_FOR_XML!==!1,Xf=Et.WHOLE_DOCUMENT||!1,fb=Et.RETURN_DOM||!1,w_=Et.RETURN_DOM_FRAGMENT||!1,k_=Et.RETURN_TRUSTED_TYPE||!1,x_=Et.FORCE_BODY||!1,LS=Et.SANITIZE_DOM!==!1,IS=Et.SANITIZE_NAMED_PROPS||!1,__=Et.KEEP_CONTENT!==!1,w0=Et.IN_PLACE||!1,Ir=Et.ALLOWED_URI_REGEXP||JC,C_=Et.NAMESPACE||bb,qT=Et.MATHML_TEXT_INTEGRATION_POINTS||qT,WT=Et.HTML_INTEGRATION_POINTS||WT,Pa=Et.CUSTOM_ELEMENT_HANDLING||{},Et.CUSTOM_ELEMENT_HANDLING&&A7(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pa.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&A7(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pa.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pa.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),v0&&(Yv=!1),w_&&(fb=!0),hb&&(Fn=Ga({},Pg),xa=[],hb.html===!0&&(Ga(Fn,WC),Ga(xa,rk)),hb.svg===!0&&(Ga(Fn,GC),Ga(xa,ak),Ga(xa,Gy)),hb.svgFilters===!0&&(Ga(Fn,KC),Ga(xa,ak),Ga(xa,Gy)),hb.mathMl===!0&&(Ga(Fn,nk),Ga(xa,XC),Ga(xa,Gy))),Et.ADD_TAGS&&(Fn===Ka&&(Fn=If(Fn)),Ga(Fn,Et.ADD_TAGS,ud)),Et.ADD_ATTR&&(xa===ji&&(xa=If(xa)),Ga(xa,Et.ADD_ATTR,ud)),Et.ADD_URI_SAFE_ATTR&&Ga(CO,Et.ADD_URI_SAFE_ATTR,ud),Et.FORBID_CONTENTS&&(Qr===k0&&(Qr=If(Qr)),Ga(Qr,Et.FORBID_CONTENTS,ud)),__&&(Fn["#text"]=!0),Xf&&Ga(Fn,["html","head","body"]),Fn.table&&(Ga(Fn,["tbody"]),delete $i.tbody),Et.TRUSTED_TYPES_POLICY){if(typeof Et.TRUSTED_TYPES_POLICY.createHTML!="function")throw lv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Et.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw lv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');be=Et.TRUSTED_TYPES_POLICY,Re=be.createHTML("")}else be===void 0&&(be=function(Sr,rr){if(typeof Sr!="object"||typeof Sr.createPolicy!="function")return null;let Ss=null;const ti="data-tt-policy-suffix";rr&&rr.hasAttribute(ti)&&(Ss=rr.getAttribute(ti));const ls="dompurify"+(Ss?"#"+Ss:"");try{return Sr.createPolicy(ls,{createHTML:Gc=>Gc,createScriptURL:Gc=>Gc})}catch{return console.warn("TrustedTypes policy "+ls+" could not be created."),null}}(Z,g)),be!==null&&typeof Re=="string"&&(Re=be.createHTML(""));Md&&Md(Et),S_=Et}},T7=Ga({},[...GC,...KC,...yz]),O7=Ga({},[...nk,...YC]),Jf=function(Et){Xh(a.removed,{element:Et});try{fe(Et).removeChild(Et)}catch{ge(Et)}},HS=function(Et,Sr){try{Xh(a.removed,{attribute:Sr.getAttributeNode(Et),from:Sr})}catch{Xh(a.removed,{attribute:null,from:Sr})}if(Sr.removeAttribute(Et),Et==="is")if(fb||w_)try{Jf(Sr)}catch{}else try{Sr.setAttribute(Et,"")}catch{}},N7=function(Et){let Sr=null,rr=null;if(x_)Et="<remove></remove>"+Et;else{const ls=ZC(Et,/^[\r\n\t ]+/);rr=ls&&ls[0]}PS==="application/xhtml+xml"&&C_===bb&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");const Ss=be?be.createHTML(Et):Et;if(C_===bb)try{Sr=new U().parseFromString(Ss,PS)}catch{}if(!Sr||!Sr.documentElement){Sr=Ge.createDocument(C_,"template",null);try{Sr.documentElement.innerHTML=SO?Re:Ss}catch{}}const ti=Sr.body||Sr.documentElement;return Et&&rr&&ti.insertBefore(l.createTextNode(rr),ti.childNodes[0]||null),C_===bb?Xt.call(Sr,Xf?"html":"body")[0]:Xf?Sr.documentElement:ti},D7=function(Et){return mt.call(Et.ownerDocument||Et,Et,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT|T.SHOW_PROCESSING_INSTRUCTION|T.SHOW_CDATA_SECTION,null)},AO=function(Et){return Et instanceof L&&(typeof Et.nodeName!="string"||typeof Et.textContent!="string"||typeof Et.removeChild!="function"||!(Et.attributes instanceof A)||typeof Et.removeAttribute!="function"||typeof Et.setAttribute!="function"||typeof Et.namespaceURI!="string"||typeof Et.insertBefore!="function"||typeof Et.hasChildNodes!="function")},M7=function(Et){return typeof w=="function"&&Et instanceof w};function yb(Et,Sr,rr){tk(Et,Ss=>{Ss.call(a,Sr,rr,S_)})}const R7=function(Et){let Sr=null;if(yb(uo.beforeSanitizeElements,Et,null),AO(Et))return Jf(Et),!0;const rr=ud(Et.nodeName);if(yb(uo.uponSanitizeElement,Et,{tagName:rr,allowedTags:Fn}),Et.hasChildNodes()&&!M7(Et.firstElementChild)&&Rd(/<[/\w]/g,Et.innerHTML)&&Rd(/<[/\w]/g,Et.textContent)||Et.nodeType===7||x0&&Et.nodeType===8&&Rd(/<[/\w]/g,Et.data))return Jf(Et),!0;if(!Fn[rr]||$i[rr]){if(!$i[rr]&&F7(rr)&&(Pa.tagNameCheck instanceof RegExp&&Rd(Pa.tagNameCheck,rr)||Pa.tagNameCheck instanceof Function&&Pa.tagNameCheck(rr)))return!1;if(__&&!Qr[rr]){const Ss=fe(Et)||Et.parentNode,ti=ee(Et)||Et.childNodes;if(ti&&Ss)for(let ls=ti.length-1;ls>=0;--ls){const Gc=re(ti[ls],!0);Gc.__removalCount=(Et.__removalCount||0)+1,Ss.insertBefore(Gc,Q(Et))}}return Jf(Et),!0}return Et instanceof C&&!function(Ss){let ti=fe(Ss);ti&&ti.tagName||(ti={namespaceURI:C_,tagName:"template"});const ls=Lf(Ss.tagName),Gc=Lf(ti.tagName);return!!EO[Ss.namespaceURI]&&(Ss.namespaceURI===ZT?ti.namespaceURI===bb?ls==="svg":ti.namespaceURI===UT?ls==="svg"&&(Gc==="annotation-xml"||qT[Gc]):!!T7[ls]:Ss.namespaceURI===UT?ti.namespaceURI===bb?ls==="math":ti.namespaceURI===ZT?ls==="math"&&WT[Gc]:!!O7[ls]:Ss.namespaceURI===bb?!(ti.namespaceURI===ZT&&!WT[Gc])&&!(ti.namespaceURI===UT&&!qT[Gc])&&!O7[ls]&&(wR[ls]||!T7[ls]):!(PS!=="application/xhtml+xml"||!EO[Ss.namespaceURI]))}(Et)?(Jf(Et),!0):rr!=="noscript"&&rr!=="noembed"&&rr!=="noframes"||!Rd(/<\/no(script|embed|frames)/i,Et.innerHTML)?(v0&&Et.nodeType===3&&(Sr=Et.textContent,tk([Mo,yn,Bn],Ss=>{Sr=Wy(Sr,Ss," ")}),Et.textContent!==Sr&&(Xh(a.removed,{element:Et.cloneNode()}),Et.textContent=Sr)),yb(uo.afterSanitizeElements,Et,null),!1):(Jf(Et),!0)},B7=function(Et,Sr,rr){if(LS&&(Sr==="id"||Sr==="name")&&(rr in l||rr in _R))return!1;if(!(Yv&&!ll[Sr]&&Rd(Un,Sr))){if(!(y0&&Rd(Cr,Sr))){if(!xa[Sr]||ll[Sr]){if(!(F7(Et)&&(Pa.tagNameCheck instanceof RegExp&&Rd(Pa.tagNameCheck,Et)||Pa.tagNameCheck instanceof Function&&Pa.tagNameCheck(Et))&&(Pa.attributeNameCheck instanceof RegExp&&Rd(Pa.attributeNameCheck,Sr)||Pa.attributeNameCheck instanceof Function&&Pa.attributeNameCheck(Sr))||Sr==="is"&&Pa.allowCustomizedBuiltInElements&&(Pa.tagNameCheck instanceof RegExp&&Rd(Pa.tagNameCheck,rr)||Pa.tagNameCheck instanceof Function&&Pa.tagNameCheck(rr))))return!1}else if(!CO[Sr]){if(!Rd(Ir,Wy(rr,Cs,""))){if((Sr!=="src"&&Sr!=="xlink:href"&&Sr!=="href"||Et==="script"||hz(rr,"data:")!==0||!$p[Et])&&!(jT&&!Rd(rs,Wy(rr,Cs,"")))){if(rr)return!1}}}}}return!0},F7=function(Et){return Et!=="annotation-xml"&&ZC(Et,da)},L7=function(Et){yb(uo.beforeSanitizeAttributes,Et,null);const{attributes:Sr}=Et;if(!Sr||AO(Et))return;const rr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xa,forceKeepAttr:void 0};let Ss=Sr.length;for(;Ss--;){const ti=Sr[Ss],{name:ls,namespaceURI:Gc,value:vb}=ti,Qf=ud(ls);let Ld=ls==="value"?vb:bz(vb);const SR=Ld;if(rr.attrName=Qf,rr.attrValue=Ld,rr.keepAttr=!0,rr.forceKeepAttr=void 0,yb(uo.uponSanitizeAttribute,Et,rr),Ld=rr.attrValue,!IS||Qf!=="id"&&Qf!=="name"||(HS(ls,Et),Ld="user-content-"+Ld),x0&&Rd(/((--!?|])>)|<\/(style|title)/i,Ld)){HS(ls,Et);continue}if(rr.forceKeepAttr)continue;if(!rr.keepAttr){HS(ls,Et);continue}if(!$T&&Rd(/\/>/i,Ld)){HS(ls,Et);continue}v0&&tk([Mo,yn,Bn],P7=>{Ld=Wy(Ld,P7," ")});const I7=ud(Et.nodeName);if(B7(I7,Qf,Ld)){if(be&&typeof Z=="object"&&typeof Z.getAttributeType=="function"&&!Gc)switch(Z.getAttributeType(I7,Qf)){case"TrustedHTML":Ld=be.createHTML(Ld);break;case"TrustedScriptURL":Ld=be.createScriptURL(Ld)}if(Ld!==SR)try{Gc?Et.setAttributeNS(Gc,ls,Ld):Et.setAttribute(ls,Ld),AO(Et)?Jf(Et):UC(a.removed)}catch{}}else HS(ls,Et)}yb(uo.afterSanitizeAttributes,Et,null)},CR=function Et(Sr){let rr=null;const Ss=D7(Sr);for(yb(uo.beforeSanitizeShadowDOM,Sr,null);rr=Ss.nextNode();)yb(uo.uponSanitizeShadowNode,rr,null),R7(rr),L7(rr),rr.content instanceof h&&Et(rr.content);yb(uo.afterSanitizeShadowDOM,Sr,null)};return a.sanitize=function(Et){let Sr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rr=null,Ss=null,ti=null,ls=null;if(SO=!Et,SO&&(Et="<!-->"),typeof Et!="string"&&!M7(Et)){if(typeof Et.toString!="function")throw lv("toString is not a function");if(typeof(Et=Et.toString())!="string")throw lv("dirty is not a string, aborting")}if(!a.isSupported)return Et;if(v_||zO(Sr),a.removed=[],typeof Et=="string"&&(w0=!1),w0){if(Et.nodeName){const Qf=ud(Et.nodeName);if(!Fn[Qf]||$i[Qf])throw lv("root node is forbidden and cannot be sanitized in-place")}}else if(Et instanceof w)rr=N7("<!---->"),Ss=rr.ownerDocument.importNode(Et,!0),Ss.nodeType===1&&Ss.nodeName==="BODY"||Ss.nodeName==="HTML"?rr=Ss:rr.appendChild(Ss);else{if(!fb&&!v0&&!Xf&&Et.indexOf("<")===-1)return be&&k_?be.createHTML(Et):Et;if(rr=N7(Et),!rr)return fb?null:k_?Re:""}rr&&x_&&Jf(rr.firstChild);const Gc=D7(w0?Et:rr);for(;ti=Gc.nextNode();)R7(ti),L7(ti),ti.content instanceof h&&CR(ti.content);if(w0)return Et;if(fb){if(w_)for(ls=Rt.call(rr.ownerDocument);rr.firstChild;)ls.appendChild(rr.firstChild);else ls=rr;return(xa.shadowroot||xa.shadowrootmode)&&(ls=qt.call(u,ls,!0)),ls}let vb=Xf?rr.outerHTML:rr.innerHTML;return Xf&&Fn["!doctype"]&&rr.ownerDocument&&rr.ownerDocument.doctype&&rr.ownerDocument.doctype.name&&Rd(_z,rr.ownerDocument.doctype.name)&&(vb="<!DOCTYPE "+rr.ownerDocument.doctype.name+`>
`+vb),v0&&tk([Mo,yn,Bn],Qf=>{vb=Wy(vb,Qf," ")}),be&&k_?be.createHTML(vb):vb},a.setConfig=function(){zO(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),v_=!0},a.clearConfig=function(){S_=null,v_=!1},a.isValidAttribute=function(Et,Sr,rr){S_||zO({});const Ss=ud(Et),ti=ud(Sr);return B7(Ss,ti,rr)},a.addHook=function(Et,Sr){typeof Sr=="function"&&Xh(uo[Et],Sr)},a.removeHook=function(Et,Sr){if(Sr!==void 0){const rr=fz(uo[Et],Sr);return rr===-1?void 0:ok(uo[Et],rr,1)[0]}return UC(uo[Et])},a.removeHooks=function(Et){uo[Et]=[]},a.removeAllHooks=function(){uo={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},a}();const ik=e=>Sz().sanitize(e);var Jd=tinymce.util.Tools.resolve("tinymce.util.I18n");const J5={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},QC="temporary-placeholder",lk=e=>()=>ft(e,QC).getOr("!not found!"),e4=(e,n)=>{const a=e.toLowerCase();if(Jd.isRtl()){const l=((u,g)=>ir(u,g)?u:((h,x)=>h+x)(u,g))(a,"-rtl");return bo(n,l)?l:a}return a},t4=(e,n)=>ft(n,e4(e,n)),o4=(e,n)=>{const a=n();return t4(e,a).getOrThunk(lk(a))},Ez=()=>Yn("add-focusable",[Ia(e=>{Pd(e.element,"svg").each(n=>An(n,"focusable","false"))})]),ck=(e,n,a,l)=>{var u,g;const h=(w=>!!Jd.isRtl()&&bo(J5,w))(n)?["tox-icon--flip"]:[],x=ft(a,e4(n,a)).or(l).getOrThunk(lk(a));return{dom:{tag:e.tag,attributes:(u=e.attributes)!==null&&u!==void 0?u:{},classes:e.classes.concat(h),innerHtml:x},behaviours:Co([...(g=e.behaviours)!==null&&g!==void 0?g:[],Ez()])}},Oc=(e,n,a,l=D.none())=>ck(n,e,a(),l),n4={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},dv=Td({name:"Notification",factory:e=>{const n=se("notification-text"),a=Gr({dom:qm(`<p id=${n}>${ik(e.backstageProvider.translate(e.text))}</p>`),behaviours:Co([or.config({})])}),l=A=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${A}%`}}}),u=A=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${A}%`}}),g=Gr({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},u(0)],behaviours:Co([or.config({})])}),h={updateProgress:(A,L)=>{A.getSystem().isConnected()&&g.getOpt(A).each(U=>{or.set(U,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(L)]},u(L)])})},updateText:(A,L)=>{if(A.getSystem().isConnected()){const U=a.get(A);or.set(U,[gs(L)])}}},x=ke([e.icon.toArray(),[e.level],D.from(n4[e.level]).toArray()]),w=Gr(vl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":e.backstageProvider.translate("Close")}},components:[Oc("close",{tag:"span",classes:["tox-icon"]},e.iconProvider)],buttonBehaviours:Co([Ma.config({}),hs.config({...e.backstageProvider.tooltips.getConfig({tooltipText:e.backstageProvider.translate("Close")})})]),action:A=>{e.onAction(A)}})),C=((A,L,U)=>{const Z=U(),ue=xo(A,re=>bo(Z,e4(re,Z)));return ck({tag:"div",classes:["tox-notification__icon"]},ue.getOr(QC),Z,D.none())})(x,0,e.iconProvider),T=[C,{dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:Co([or.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":n},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},behaviours:Co([Ma.config({}),Vn.config({}),Ho.config({mode:"special",onEscape:A=>(e.onAction(A),D.some(!0))})]),components:T.concat(e.progress?[g.asSpec()]:[]).concat([w.asSpec()]),apis:h}},configFields:[nc("level","info",["success","error","warning","warn","info"]),ho("progress"),Hr("icon"),ho("onAction"),ho("text"),ho("iconProvider"),ho("backstageProvider")],apis:{updateProgress:(e,n,a)=>{e.updateProgress(n,a)},updateText:(e,n,a)=>{e.updateText(n,a)}}});var r4=(e,n,a,l)=>{const u=n.backstage.shared,g=()=>eo(e.queryCommandValue("ToggleView")===""?e.getContentAreaContainer():e.getContainer()),h=()=>{const w=js(g());return D.some(w)},x=w=>{h().each(C=>{ut(w,T=>{br(T.element,"width"),Fi(T.element)>C.width&&er(T.element,"width",C.width+"px")})})};return{open:(w,C,T)=>{const A=()=>{l.on(Z=>{C();const ue=T();(re=>{or.remove(re,L),U()})(Z),((re,ge)=>{xs(re.element).length===0?((Q,ee)=>{ia.hide(Q),l.clear(),ee&&e.focus()})(re,ge):((Q,ee)=>{ee&&Ho.focusIn(Q)})(re,ge)})(Z,ue)})},L=Kl(dv.sketch({text:w.text,level:vt(["success","error","warning","warn","info"],w.type)?w.type:void 0,progress:w.progressBar===!0,icon:w.icon,onAction:A,iconProvider:u.providers.icons,backstageProvider:u.providers}));if(l.isSet()){const Z=Gd(L);l.on(ue=>{or.append(ue,Z),ia.reposition(ue),L.hasConfigured(fs)&&fs.refresh(ue),x(ue.components())})}else{const Z=Kl(ia.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Co([Ho.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),or.config({}),...Yh(e)&&u.header.isPositionedAtTop()?[]:[fs.config({contextual:{lazyContext:()=>D.some(js(g())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Q=>qc(e,Q.element).map(ee=>({bounds:Ap(ee),optScrollEnv:D.some({currentScrollTop:ee.element.dom.scrollTop,scrollElmTop:Ji(ee.element).top})})).getOrThunk(()=>({bounds:bi(),optScrollEnv:D.none()}))})]])})),ue=Gd(L),re={maxHeightFunction:sp()},ge={...u.anchors.banner(),overrides:re};l.set(Z),a.add(Z),ia.showWithinBounds(Z,ue,{anchor:ge},h)}no(w.timeout)&&w.timeout>0&&sd.setEditorTimeout(e,()=>{A()},w.timeout);const U=()=>{l.on(Z=>{ia.reposition(Z),Z.hasConfigured(fs)&&fs.refresh(Z),x(Z.components())})};return{close:A,reposition:U,text:Z=>{dv.updateText(L,Z)},settings:w,getEl:()=>L.element.dom,progressBar:{value:Z=>{dv.updateProgress(L,Z)}}}},close:w=>{w.close()},getArgs:w=>w.settings}},dk;(function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(dk||(dk={}));var Du=dk;const uk="tox-menu-nav__js",uv="tox-collection__item",a4="tox-swatch",zz={normal:uk,color:a4},mk="tox-collection__item--enabled",s4="tox-collection__item-icon",gk="tox-collection__item-label",pk="tox-collection__item-caret",Qh="tox-collection__item--active",Az="tox-collection__item-container",fk="tox-collection__item-container--row",i4=e=>ft(zz,e).getOr(uk),Tz=e=>e==="color"?"tox-swatches":"tox-menu",l4=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Tz(e),tieredMenu:"tox-tiered-menu"}),Pf=e=>{const n=l4(e);return{backgroundMenu:n.backgroundMenu,selectedMenu:n.selectedMenu,menu:n.menu,selectedItem:n.selectedItem,item:i4(e)}},Oz=(e,n,a)=>{const l=l4(a);return{tag:"div",classes:ke([[l.menu,`tox-menu-${n}-column`],e?[l.hasIcons]:[]])}},Q5=[Rg.parts.items({})],mv=(e,n,a)=>{const l=l4(a);return{dom:{tag:"div",classes:ke([[l.tieredMenu]])},markers:Pf(a)}},c4=se("refetch-trigger-event"),d4=se("redirect-menu-item-interaction"),u4="tox-menu__searcher",gv=e=>qr(e.element,`.${u4}`).bind(n=>e.getSystem().getByDom(n).toOptional()),pv=gv,Nz=e=>({fetchPattern:Go.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),Dz=e=>{const n=(u,g)=>(g.cut(),D.none()),a=(u,g)=>{const h={interactionEvent:g.event,eventType:g.event.raw.type};return Nn(u,d4,h),D.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[uv]},components:[kp.sketch({inputClasses:[u4,"tox-textfield"],inputAttributes:{...e.placeholder.map(u=>({placeholder:e.i18n(u)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Co([Yn(l,[Wt(ms(),u=>{Mr(u,c4)}),Wt(sa(),(u,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),Ho.config({mode:"special",onLeft:n,onRight:n,onSpace:n,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[l,Ho.name()]}})]}},fv="tox-collection--results__js",m4=e=>{var n;return e.dom?{...e,dom:{...e.dom,attributes:{...(n=e.dom.attributes)!==null&&n!==void 0?n:{},id:se("aria-item-search-result-id"),"aria-selected":"false"}}}:e},hv=(e,n)=>a=>{const l=je(a,n);return R(l,u=>({dom:e,components:u}))},nr=(e,n)=>{const a=[];let l=[];return ut(e,(u,g)=>{n(u,g)?(l.length>0&&a.push(l),l=[],(bo(u.dom,"innerHtml")||u.components&&u.components.length>0)&&l.push(u)):l.push(u)}),l.length>0&&a.push(l),R(a,u=>({dom:{tag:"div",classes:["tox-collection__group"]},components:u}))},eb=(e,n,a)=>Rg.parts.items({preprocess:l=>{const u=R(l,a);return e!=="auto"&&e>1?hv({tag:"div",classes:["tox-collection__group"]},e)(u):nr(u,(g,h)=>n[h].type==="separator")}}),g4=(e,n,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[eb(e,n,Xe)]}),Ky=e=>so(e,n=>"icon"in n&&n.icon!==void 0),mm=e=>(console.error(gu(e)),D.none()),Mz=(e,n,a,l,u)=>{const g=(h=a,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Rg.parts.items({preprocess:x=>nr(x,(w,C)=>h[C].type==="separator")})]});var h;return{value:e,dom:g.dom,components:g.components,items:a}},hk=(e,n,a,l,u)=>{if(u.menuType==="color"){const g=(h=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Rg.parts.items({preprocess:h!=="auto"?hv({tag:"div",classes:["tox-swatches__row"]},h):Xe})]}]}))(l);return{value:e,dom:g.dom,components:g.components,items:a}}if(u.menuType==="imageselector"&&l!=="auto"){const g=(h=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Rg.parts.items({preprocess:h!=="auto"?hv({tag:"div",classes:["tox-image-selector__row"]},h):Xe})]}]}))(l);return{value:e,dom:g.dom,components:g.components,items:a}}if(u.menuType==="normal"&&l==="auto"){const g=g4(l,a);return{value:e,dom:g.dom,components:g.components,items:a}}if(u.menuType==="normal"||u.menuType==="searchable"){const g=u.menuType!=="searchable"?g4(l,a):u.searchMode.searchMode==="search-with-field"?((h,x,w)=>{const C=se("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(h===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Dz({i18n:Jd.translate,placeholder:w.placeholder}),{dom:{tag:"div",classes:[...h===1?["tox-collection--list"]:["tox-collection--grid"],fv],attributes:{id:C}},components:[eb(h,x,m4)]}]}})(l,a,u.searchMode):((h,x)=>{const w=se("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",fv].concat(h===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:w}},components:[eb(h,x,m4)]}})(l,a);return{value:e,dom:g.dom,components:g.components,items:a}}if(u.menuType==="listpreview"&&l!=="auto"){const g=(h=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Rg.parts.items({preprocess:hv({tag:"div",classes:["tox-collection__group"]},h)})]}))(l);return{value:e,dom:g.dom,components:g.components,items:a}}return{value:e,dom:Oz(n,l,u.menuType),components:Q5,items:a}},Us=li("type"),bk=li("name"),Hf=li("label"),Qm=li("text"),p4=li("title"),yk=li("icon"),f4=li("url"),Tp=li("value"),Rz=oc("fetch"),e6=oc("getSubmenuItems"),Yy=oc("onAction"),t6=oc("onItemAction"),Op=La("onSetup",()=>Te),vk=Bs("name"),Np=Bs("text"),Bz=Bs("role"),Bd=Bs("icon"),tb=Bs("tooltip"),Xy=Bs("label"),Vf=Bs("shortcut"),Fz=Li("select"),Jy=Ii("active",!1),o6=Ii("borderless",!1),Qd=Ii("enabled",!0),bv=Ii("primary",!1),h4=e=>kt("columns",e),b4=kt("meta",{}),y4=La("onAction",Te),jf=e=>Ca("type",e),v4=e=>yi("name","name",ts(()=>se(`${e}-name`)),Es),n6=[Us,Qm,Cc("level",["info","warn","error","success"]),yk,kt("url","")],r6=Pn(n6),Lz=[Us,Qm,Qd,v4("button"),Bd,o6,Qg("buttonType",["primary","secondary","toolbar"]),bv,Ca("context","mode:design")],a6=Pn(Lz),ob=[Us,bk],gm=ob.concat([Xy]),x4=ob.concat([Hf,Qd,Ca("context","mode:design")]),Iz=Pn(x4),s6=Uu,Pz=gm.concat([h4("auto"),Ca("context","mode:design")]),i6=Pn(Pz),Hz=Am([Tp,Qm,yk]),l6=gm.concat([Ca("storageKey","default"),Ca("context","mode:design")]),Vz=Pn(l6),eg=Es,xk=Pn(gm),wk=Es,w4=ob.concat([Ca("tag","textarea"),li("scriptId"),li("scriptUrl"),Li("onFocus"),Pc("settings",void 0,qp)]),k4=ob.concat([Ca("tag","textarea"),oc("init")]),jz=zi(e=>os("customeditor.old",jl(k4),e).orThunk(()=>os("customeditor.new",jl(w4),e))),_4=Es,Dp=[Qd,Np,Bz,Vf,yi("value","value",ts(()=>se("menuitem-value")),$a()),b4,Ca("context","mode:design")],c6=Pn([Us,bk].concat(Dp)),C4=Uu,kk=[v4("button"),Bd,nc("align","end",["start","end"]),bv,Qd,Qg("buttonType",["primary","secondary"]),Ca("context","mode:design")],S4=[...kk,Qm],_k=[Cc("type",["submit","cancel","custom"]),...S4],Hg=[Cc("type",["menu"]),Np,tb,Bd,ul("items",c6),...kk],E4=[...kk,Cc("type",["togglebutton"]),tb,Bd,Np,Ii("active",!1)],yv=Tl("type",{submit:_k,cancel:_k,custom:_k,menu:Hg,togglebutton:E4}),Ck=gm.concat([Ca("context","mode:design")]),d6=Pn(Ck),$z=Vd(Rs),Uz=e=>[Us,Wu("columns"),e],Zz=[Us,li("html"),nc("presets","presentation",["presentation","document"]),La("onInit",Te),Ii("stretched",!1)],u6=Pn(Zz),m6=gm.concat([Ii("border",!1),Ii("sandboxed",!0),Ii("streamContent",!1),Ii("transparent",!0)]),z4=Pn(m6),g6=Es,qz=Pn(ob.concat([Bs("height")])),Wz=Pn([li("url"),Js("zoom"),Js("cachedWidth"),Js("cachedHeight")]),Gz=gm.concat([Bs("inputMode"),Bs("placeholder"),Ii("maximized",!1),Qd,Ca("context","mode:design")]),Kz=Pn(Gz),p6=Es,Yz=e=>[Us,Hf,e,nc("align","start",["start","center","end"]),Bs("for")],f6=[Qm,Tp],h6=[Qm,ul("items",qu(0,()=>Xz))],Xz=Jg([Pn(f6),Pn(h6)]),Sk=gm.concat([ul("items",Xz),Qd,Ca("context","mode:design")]),Jz=Pn(Sk),Qz=Es,eA=gm.concat([Lc("items",[Qm,Tp]),rd("size",1),Qd,Ca("context","mode:design")]),b6=Pn(eA),y6=Es,v6=gm.concat([Ii("constrain",!0),Qd,Ca("context","mode:design")]),tA=Pn(v6),A4=Pn([li("width"),li("height")]),x6=ob.concat([Hf,rd("min",0),rd("max",0)]),w6=Pn(x6),k6=Ao,_6=[Us,ul("header",Es),ul("cells",Vd(Es))],oA=Pn(_6),T4=gm.concat([Bs("placeholder"),Ii("maximized",!1),Qd,Ca("context","mode:design")]),C6=Pn(T4),S6=Es,E6=[Ca("buttonType","default"),Bs("text"),Bs("tooltip"),Bs("icon"),Pc("search",!1,Jg([Uu,Pn([Bs("placeholder")])],e=>kn(e)?e?D.some({placeholder:D.none()}):D.none():D.some(e))),oc("fetch"),La("onSetup",()=>Te),Ca("context","mode:design")],O4=Pn([Us,...E6]),N4=e=>os("menubutton",O4,e),vv=[Cc("type",["directory","leaf"]),p4,li("id"),Ic("menu",O4),Bs("customStateIcon"),Bs("customStateIconTooltip")],D4=Pn(vv),nA=vv.concat([ul("children",qu(0,()=>kc("type",{directory:M4,leaf:D4})))]),M4=Pn(nA),rA=kc("type",{directory:M4,leaf:D4}),z6=[Us,ul("items",rA),Li("onLeafAction"),Li("onToggleExpand"),rc("defaultExpandedIds",[],Es),Bs("defaultSelectedId")],nb=Pn(z6),aA=gm.concat([nc("filetype","file",["image","media","file"]),Qd,Bs("picker_text"),Ca("context","mode:design")]),xv=Pn(aA),Ek=Pn([Tp,b4]),zk=e=>yi("items","items",{tag:"required",process:{}},Vd(zi(n=>os(`Checking item of ${e}`,Ak,n).fold(a=>Gn.error(gu(a)),a=>Gn.value(a))))),Ak=wc(()=>{return kc("type",{alertbanner:r6,bar:Pn((e=zk("bar"),[Us,e])),button:a6,checkbox:Iz,colorinput:Vz,colorpicker:xk,dropzone:d6,grid:Pn(Uz(zk("grid"))),iframe:z4,input:Kz,listbox:Jz,selectbox:b6,sizeinput:tA,slider:w6,textarea:C6,urlinput:xv,customeditor:jz,htmlpanel:u6,imagepreview:qz,collection:i6,label:Pn(Yz(zk("label"))),table:oA,tree:nb,panel:iA});var e}),sA=[Us,kt("classes",[]),ul("items",Ak)],iA=Pn(sA),Qy=[v4("tab"),p4,ul("items",Ak)],wv=[Us,Lc("tabs",Qy)],R4=Pn(wv),B4=S4,kv=yv,lA=Pn([li("title"),_c("body",kc("type",{panel:iA,tabpanel:R4})),Ca("size","normal"),rc("buttons",[],kv),kt("initialData",{}),La("onAction",Te),La("onChange",Te),La("onSubmit",Te),La("onClose",Te),La("onCancel",Te),La("onTabChange",Te)]),cA=Pn([Cc("type",["cancel","custom"]),...B4]),dA=Pn([li("title"),li("url"),Js("height"),Js("width"),Gu("buttons",cA),La("onAction",Te),La("onCancel",Te),La("onClose",Te),La("onMessage",Te)]),_v=e=>gn(e)?[e].concat(Ft(Pt(e),_v)):go(e)?Ft(e,_v):[],Tk=e=>ro(e.type)&&ro(e.name),Ok={checkbox:s6,colorinput:eg,colorpicker:wk,dropzone:$z,input:p6,iframe:g6,imagepreview:Wz,selectbox:y6,sizeinput:A4,slider:k6,listbox:Qz,size:A4,textarea:S6,urlinput:Ek,customeditor:_4,collection:Hz,togglemenuitem:C4},uA=e=>{const n=(l=>Bt(_v(l),Tk))(e),a=Ft(n,l=>(u=>D.from(Ok[u.type]))(l).fold(()=>[],u=>[_c(l.name,u)]));return Pn(a)},mA=e=>{var n;return{internalDialog:qi(os("dialog",lA,e)),dataValidator:uA(e),initialData:(n=e.initialData)!==null&&n!==void 0?n:{}}},Mp={open:(e,n)=>{const a=mA(n);return e(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(e,n)=>e(qi(os("dialog",dA,n))),redial:e=>mA(e)},Nk=Pn([Us,Np]),F4=Pn([jf("autocompleteitem"),Jy,Qd,b4,Tp,Np,Bd]),rb=[Qd,tb,Bd,Np,Op,Ca("context","mode:design")],gA=Pn([Us,Yy,Vf].concat(rb)),L4=e=>os("toolbarbutton",gA,e),I4=[Jy].concat(rb),A6=Pn(I4.concat([Us,Yy,Vf])),P4=e=>os("ToggleButton",A6,e),Dk=[La("predicate",Vo),nc("scope","node",["node","editor"]),nc("position","selection",["node","selection","line"])],T6=rb.concat([jf("contextformbutton"),Ca("align","end"),bv,Yy,Wi("original",Xe)]),pA=I4.concat([jf("contextformbutton"),Ca("align","end"),bv,Yy,Wi("original",Xe)]),fA=rb.concat([jf("contextformbutton")]),eu=I4.concat([jf("contextformtogglebutton")]),H4=[Xy,ul("commands",Tl("type",{contextformbutton:T6,contextformtogglebutton:pA})),Ic("launch",Tl("type",{contextformbutton:fA,contextformtogglebutton:eu})),La("onInput",Te),La("onSetup",Te)],hA=[...Dk,...H4,Cc("type",["contextform"]),La("initValue",he("")),Bs("placeholder")],bA=[...Dk,...H4,Cc("type",["contextsliderform"]),La("initValue",he(0)),La("min",he(0)),La("max",he(100))],O6=[...Dk,...H4,Cc("type",["contextsizeinputform"]),La("initValue",he({width:"",height:""}))],Cv=Tl("type",{contextform:hA,contextsliderform:bA,contextsizeinputform:O6}),Mk=rb.concat([jf("contexttoolbarbutton")]),N6=Pn([jf("contexttoolbar"),ml("launch",Mk),_c("items",Jg([Es,Am([Bs("name"),Bs("label"),ul("items",Es)])]))].concat(Dk)),Rk=e=>({name:e.name.getOrUndefined(),label:e.label.getOrUndefined(),items:e.items}),D6=[Us,li("src"),Bs("alt"),rc("classes",[],Es)],M6=Pn(D6),Mu=[Us,Qm,vk,rc("classes",["tox-collection__item-label"],Es)],Bk=Pn(Mu),V4=wc(()=>kc("type",{cardimage:M6,cardtext:Bk,cardcontainer:yA})),yA=Pn([Us,Ca("direction","horizontal"),Ca("align","left"),Ca("valign","middle"),ul("items",V4)]),R6=Pn([Us,Xy,ul("items",V4),Op,y4].concat(Dp)),vA=Pn([Us,Jy,Bd,Xy].concat(Dp)),j4=[Us,li("fancytype"),y4],xA=[kt("initData",{})].concat(j4),wA=[Li("select"),lg("initData",{},[Ii("allowCustomColors",!0),Ca("storageKey","default"),Gu("colors",$a())])].concat(j4),kA=[Li("select"),xd("initData",[Wu("columns"),rc("items",[],$a())])].concat(j4),_A=Tl("fancytype",{inserttable:xA,colorswatch:wA,imageselect:kA}),CA=Pn([Us,Jy,f4,Xy,tb].concat(Dp)),SA=Pn([Us,Jy,yk,Hf,tb,Tp].concat(Dp)),EA=Pn([Us,Op,y4,Bd].concat(Dp)),zA=Pn([Us,e6,Op,Bd].concat(Dp)),B6=Pn([Us,Bd,Jy,Op,Yy].concat(Dp)),F6=Pn([Bd,tb,La("onShow",Te),La("onHide",Te),Op]),L6=Pn([Us,_c("items",Jg([Am([bk,ul("items",Es)]),Es]))].concat(rb)),I6=Pn([Us,tb,Bd,Np,Fz,Rz,Op,nc("presets","normal",["normal","color","listpreview"]),h4(1),Yy,t6,Ca("context","mode:design")]),AA=[Np,Bd,Bs("tooltip"),nc("buttonType","secondary",["primary","secondary"]),Ii("borderless",!1),oc("onAction"),Ca("context","mode:design")],$4={button:[...AA,Qm,Cc("type",["button"])],togglebutton:[...AA,Ii("active",!1),Cc("type",["togglebutton"])]},Fk=[Cc("type",["group"]),rc("buttons",[],Tl("type",$4))],U4=Tl("type",{...$4,group:Fk}),P6=Pn([rc("buttons",[],U4),oc("onShow"),oc("onHide")]),Lk=(e,n,a)=>{const l=Ys(e.element,"."+a);if(l.length>0){const u=No(l,g=>{const h=g.dom.getBoundingClientRect().top,x=l[0].dom.getBoundingClientRect().top;return Math.abs(h-x)>n}).getOr(l.length);return D.some({numColumns:u,numRows:Math.ceil(l.length/u)})}return D.none()},e0=e=>((n,a)=>Co([Yn(n,a)]))(se("unnamed-events"),e),Ik=e=>En.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),Sv=e=>En.config({disabled:e}),Z4=e=>En.config({disabled:e,disableClass:"tox-tbtn--disabled"}),Ev=e=>En.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),t0=(e,n)=>{const a=e.getApi(n);return l=>{l(a)}},pm=(e,n)=>Ia(a=>{bt(e.onBeforeSetup)&&e.onBeforeSetup(a),t0(e,a)(l=>{const u=e.onSetup(l);bt(u)&&n.set(u)})}),Vg=(e,n)=>Zd(a=>t0(e,a)(n.get())),zv=(e,n,a)=>Zd(l=>(a.set(Go.getValue(l)),t0(e,l)(n.get()))),TA="silver.uistate",Av="setDisabled",OA="init",H6=["switchmode",OA],o0=(e,n)=>{const a=e.mainUi.outerContainer,l=[e.mainUi.mothership,...e.uiMotherships];n===Av&&ut(l,u=>{u.broadcastOn([Wm()],{target:a.element})}),ut(l,u=>{u.broadcastOn([TA],n)})},Tv=(e,n)=>{e.on("init SwitchMode",a=>{o0(n,a.type)}),e.on("DisabledStateChange",a=>{if(!a.isDefaultPrevented()){const l=a.state?Av:OA;o0(n,l),a.state||e.nodeChanged()}}),e.on("NodeChange",a=>{const l=e.ui.isEnabled()?a.type:Av;o0(n,l)}),_C(e)&&e.mode.set("readonly")},Zs=e=>Uc.config({channels:{[TA]:{onReceive:(n,a)=>{if(a===Av||a==="setEnabled")return void En.set(n,a===Av);const{contextType:l,shouldDisable:u}=e();(l!=="mode"||vt(H6,a))&&En.set(n,u)}}}}),NA=(e,n)=>vu((a,l)=>{t0(e,a)(e.onAction),e.triggersSubmenu||n!==Du.CLOSE_ON_EXECUTE||(a.getSystem().isConnected()&&Mr(a,dg()),l.stop())}),$f={[yr()]:["disabling","alloy.base.behaviour","toggling","item-events"]},ab=Rr,Uf=(e,n,a,l)=>{const u=fo(Te);return{type:"item",dom:n.dom,components:ab(n.optComponents),data:e.data,eventOrder:$f,hasSubmenu:e.triggersSubmenu,itemBehaviours:Co([Yn("item-events",[NA(e,a),pm(e,u),Vg(e,u)]),Ik(()=>!e.enabled||l.checkUiComponentContext(e.context).shouldDisable),Zs(()=>l.checkUiComponentContext(e.context)),or.config({})].concat(e.itemBehaviours))}},Rp=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),V6=(e,n)=>{var a,l;const u=nn("div");return Jr(u,"tox-image-selector-loading-spinner"),{dom:{tag:e.tag,attributes:(a=e.attributes)!==null&&a!==void 0?a:{},classes:e.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:n},classes:["tox-image-selector-image-img"]}}]},...e.checkMark.toArray()],behaviours:Co([...(l=e.behaviours)!==null&&l!==void 0?l:[],Yn("render-image-events",[Ia(g=>{var h;h=g.element,Jr(h,"tox-image-selector-loading-spinner-wrapper"),ks(h,u),qr(g.element,"img").each(x=>{ym(x).catch(w=>{console.error(w)}).finally(()=>{(w=>{ma(w,"tox-image-selector-loading-spinner-wrapper"),Yc(u)})(g.element)})})})])])}},Pk=e=>{const n=Vy.os.isMacOS()||Vy.os.isiOS(),a=n?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=e.split("+"),u=R(l,g=>{const h=g.toLowerCase().trim();return bo(a,h)?a[h]:g});return n?u.join(""):u.join("+")},Hk=(e,n,a=[s4])=>Oc(e,{tag:"div",classes:a},n),q4=e=>({dom:{tag:"div",classes:[gk]},components:[gs(Jd.translate(e))]}),W4=(e,n)=>({dom:{tag:"div",classes:n,innerHtml:e}}),DA=(e,n)=>({dom:{tag:"div",classes:[gk]},components:[{dom:{tag:e.tag,styles:e.styles},components:[gs(Jd.translate(n))]}]}),MA=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[gs(Pk(e))]}),G4=e=>Hk("checkmark",e,["tox-collection__item-checkmark"]),Vk=(e,n)=>{const a=e.map(l=>({attributes:{id:se("menu-item"),"aria-label":Jd.translate(l)}})).getOr({});return{tag:"div",classes:[uk,uv].concat(n),...a}},RA=e=>({dom:{tag:"label"},components:[gs(e)]}),n0=(e,n,a,l=D.none())=>e.presets==="color"?((u,g,h)=>{const x=u.value,w=u.iconContent.map(T=>((A,L,U)=>{const Z=L();return t4(A,Z).or(U).getOrThunk(lk(Z))})(T,g.icons,h)),C=u.ariaLabel.map(T=>({"aria-label":g.translate(T),"data-mce-name":T})).getOr({});return{dom:(()=>{const T=a4,A=w.getOr(""),L={tag:"div",attributes:C,classes:[T]};return x==="custom"?{...L,tag:"button",classes:[...L.classes,"tox-swatches__picker-btn"],innerHtml:A}:x==="remove"?{...L,classes:[...L.classes,"tox-swatch--remove"],innerHtml:A}:Je(x)?{...L,attributes:{...L.attributes,"data-mce-color":x},styles:{"background-color":x},innerHtml:A}:L})(),optComponents:[]}})(e,n,l):e.presets==="img"?(u=>{var g,h;return{dom:Vk(u.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[D.some((g=u.iconContent.getOrDie(),h={tag:"div",classes:["tox-collection__item-image"],checkMark:u.checkMark},V6(h,g))),u.labelContent.map(RA)]}})(e):((u,g,h,x)=>{const w={tag:"div",classes:[s4]},C=h?u.iconContent.map(U=>Oc(U,w,g.icons,x)).orThunk(()=>D.some({dom:w})):D.none(),T=u.checkMark,A=D.from(u.meta).fold(()=>q4,U=>bo(U,"style")?pt(DA,U.style):q4),L=u.htmlContent.fold(()=>u.textContent.map(A),U=>D.some(W4(U,[gk])));return{dom:Vk(u.ariaLabel,[]),optComponents:[C,L,u.shortcutContent.map(MA),T,u.caret,u.labelContent.map(RA)]}})(e,n,a,l),BA=(e,n,a)=>ft(e,"tooltipWorker").map(l=>[hs.config({lazySink:n.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:sp}}),mode:"follow-highlight",onShow:(u,g)=>{l(h=>{hs.setComponents(u,[Cx({element:eo(h)})])})}})]).getOrThunk(()=>a.map(l=>[hs.config({...n.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),K4=(e,n)=>{const a=(l=>Wh.DOM.encode(l))(Jd.translate(e));if(n.length>0){const l=new RegExp((u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(n),"gi");return a.replace(l,u=>`<span class="tox-autocompleter-highlight">${u}</span>`)}return a},FA=(e,n)=>R(e,a=>{switch(a.type){case"cardcontainer":return((g,h)=>{const x=g.direction==="vertical"?"tox-collection__item-container--column":fk,w=g.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Az,x,w,(()=>{switch(g.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:h}})(a,FA(a.items,n));case"cardimage":return((g,h,x)=>({dom:{tag:"img",classes:h,attributes:{src:g,alt:x.getOr("")}}}))(a.src,a.classes,a.alt);case"cardtext":const l=a.name.exists(g=>vt(n.cardText.highlightOn,g)),u=l?D.from(n.cardText.matchText).getOr(""):"";return W4(K4(a.text,u),a.classes)}}),Y4=(e,n,a,l,u,g,h,x=!0)=>{const w=n0({presets:a,textContent:n?e.text:D.none(),htmlContent:D.none(),labelContent:e.label,ariaLabel:e.text,iconContent:e.icon,shortcutContent:n?e.shortcut:D.none(),checkMark:n?D.some(G4(h.icons)):D.none(),caret:D.none(),value:e.value},h,x),C=e.text.filter(he(!n)).map(T=>hs.config(h.tooltips.getConfig({tooltipText:h.translate(T)})));return Yo(Uf({context:e.context,data:Rp(e),enabled:e.enabled,getApi:T=>({setActive:A=>{vr.set(T,A)},isActive:()=>vr.isOn(T),isEnabled:()=>!En.isDisabled(T),setEnabled:A=>En.set(T,!A)}),onAction:T=>l(e.value),onSetup:T=>(T.setActive(u),Te),triggersSubmenu:!1,itemBehaviours:[...C.toArray()]},w,g,h),{toggling:{toggleClass:mk,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},X4=e=>({value:IA(e)}),J4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,LA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,sb=e=>J4.test(e)||LA.test(e),IA=e=>hn(e,"#").toUpperCase(),Q4=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},Ov=e=>{const n=Q4(e.red)+Q4(e.green)+Q4(e.blue);return X4(n)},Nv=(e,n,a)=>({hue:e,saturation:n,value:a}),Dv=e=>{let n=0,a=0,l=0;const u=e.red/255,g=e.green/255,h=e.blue/255,x=Math.min(u,Math.min(g,h)),w=Math.max(u,Math.max(g,h));return x===w?(l=x,Nv(0,0,100*l)):(n=u===x?3:h===x?1:5,n=60*(n-(u===x?g-h:h===x?u-g:h-u)/(w-x)),a=(w-x)/w,l=w,Nv(Math.round(n),Math.round(100*a),Math.round(100*l)))},eS=Math.min,tS=Math.max,Mv=Math.round,j6=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,PA=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,ib=(e,n,a,l)=>({red:e,green:n,blue:a,alpha:l}),oS=e=>{const n=parseInt(e,10);return n.toString()===e&&n>=0&&n<=255},Rv=e=>{let n,a,l;const u=(e.hue||0)%360;let g=e.saturation/100,h=e.value/100;if(g=tS(0,eS(g,1)),h=tS(0,eS(h,1)),g===0)return n=a=l=Mv(255*h),ib(n,a,l,1);const x=u/60,w=h*g,C=w*(1-Math.abs(x%2-1)),T=h-w;switch(Math.floor(x)){case 0:n=w,a=C,l=0;break;case 1:n=C,a=w,l=0;break;case 2:n=0,a=w,l=C;break;case 3:n=0,a=C,l=w;break;case 4:n=C,a=0,l=w;break;case 5:n=w,a=0,l=C;break;default:n=a=l=0}return n=Mv(255*(n+T)),a=Mv(255*(a+T)),l=Mv(255*(l+T)),ib(n,a,l,1)},r0=e=>{const n=(g=>{const h=(w=>({value:w.value.replace(J4,(T,A,L,U)=>A+A+L+L+U+U)}))(g),x=LA.exec(h.value);return x===null?["FFFFFF","FF","FF","FF"]:x})(e),a=parseInt(n[1],16),l=parseInt(n[2],16),u=parseInt(n[3],16);return ib(a,l,u,1)},nS=(e,n,a,l)=>{const u=parseInt(e,10),g=parseInt(n,10),h=parseInt(a,10),x=parseFloat(l);return ib(u,g,h,x)},jk=e=>{const n=j6.exec(e);if(n!==null)return D.some(nS(n[1],n[2],n[3],"1"));const a=PA.exec(e);return a!==null?D.some(nS(a[1],a[2],a[3],a[4])):D.none()},rS=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,aS=ib(255,0,0,1),a0=e=>Ov(Rv(e)),sS=(e,n)=>{e.dispatch("ResizeContent",n)},iS=(e,n)=>{e.dispatch("TextColorChange",n)},HA=(e,n)=>e.dispatch("ResolveName",{name:n.nodeName.toLowerCase(),target:n}),VA=e=>{e.dispatch("ContextToolbarClose")},Zf=(e,n)=>()=>{e(),n()},mc=(e,n=Nt)=>lb(e,"NodeChange",a=>{a.setEnabled(e.selection.isEditable()&&n())}),$k=(e,n)=>a=>{const l=mc(e)(a),u=((g,h)=>x=>{const w=Tt(),C=()=>{x.setActive(g.formatter.match(h));const T=g.formatter.formatChanged(h,x.setActive);w.set(T)};return g.initialized?C():g.once("init",C),()=>{g.off("init",C),w.clear()}})(e,n)(a);return()=>{l(),u()}},lb=(e,n,a)=>l=>{const u=()=>a(l),g=()=>{a(l),e.on(n,u)};return e.initialized?g():e.once("init",g),()=>{e.off("init",g),e.off(n,u)}},lS=e=>n=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("mceToggleFormat",!1,n.format)})},Wc=(e,n)=>()=>e.execCommand(n);var qf=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const cS={},cb=e=>ft(cS,e).getOrThunk(()=>{const n=`tinymce-custom-colors-${e}`,a=qf.getItem(n);if(Gt(a)){const u=qf.getItem("tinymce-custom-colors");qf.setItem(n,Je(u)?u:"[]")}const l=((u,g=10)=>{const h=qf.getItem(u),x=ro(h)?JSON.parse(h):[],w=g-(C=x).length<0?C.slice(0,g):C;var C;const T=A=>{w.splice(A,1)};return{add:A=>{((L,U)=>{const Z=po(L,U);return Z===-1?D.none():D.some(Z)})(w,A).each(T),w.unshift(A),w.length>g&&w.pop(),qf.setItem(u,JSON.stringify(w))},state:()=>w.slice(0)}})(n,10);return cS[e]=l,l}),Bv=(e,n)=>{cb(e).add(n)},s0="forecolor",Fv="hilitecolor",Uk=e=>{const n=[];for(let a=0;a<e.length;a+=2)n.push({text:e[a+1],value:e[a],icon:"checkmark",type:"choiceitem"});return n},fm=e=>n=>n.options.get(e),i0="#000000",Lv=(e,n)=>n===s0&&e.options.isSet("color_map_foreground")?fm("color_map_foreground")(e):n===Fv&&e.options.isSet("color_map_background")?fm("color_map_background")(e):e.options.isSet("color_map_raw")?fm("color_map_raw")(e):fm("color_map")(e),Zk=(e,n="default")=>Math.max(5,Math.ceil(Math.sqrt(Lv(e,n).length))),qk=(e,n)=>{const a=fm("color_cols")(e),l=Zk(e,n);return a===Zk(e)?l:a},dS=(e,n="default")=>Math.round(n===s0?fm("color_cols_foreground")(e):n===Fv?fm("color_cols_background")(e):fm("color_cols")(e)),jA=fm("custom_colors"),Wk=fm("color_default_foreground"),$A=fm("color_default_background"),uS=(e,n)=>{const a=eo(e.selection.getStart()),l=n==="hilitecolor"?od(a,u=>{if(lo(u)){const g=Ds(u,"background-color");return De((h=>jk(h).exists(x=>x.alpha!==0))(g),g)}return D.none()}).getOr("rgba(0, 0, 0, 0)"):Ds(a,"color");return jk(l).map(u=>"#"+Ov(u).value)},mS=e=>{const n="choiceitem",a={type:n,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[a,{type:n,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},Gk=(e,n,a,l)=>{a==="custom"?GA(e)(u=>{u.each(g=>{Bv(n,g),e.execCommand("mceApplyTextcolor",n,g),l(g)})},uS(e,n).getOr(i0)):a==="remove"?(l(""),e.execCommand("mceRemoveTextcolor",n)):(l(a),e.execCommand("mceApplyTextcolor",n,a))},Kk=(e,n,a)=>e.concat((l=>R(cb(l).state(),u=>({type:"choiceitem",text:u,icon:"checkmark",value:u})))(n).concat(mS(a))),gS=(e,n,a)=>l=>{l(Kk(e,n,a))},Yk=(e,n,a)=>{const l=n==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(l,a)},UA=(e,n)=>{e.setTooltip(n)},ZA=(e,n)=>a=>{const l=uS(e,n);return kr(l,a.toUpperCase())},pS=(e,n,a)=>{if(Kt(a))return n==="forecolor"?"Text color":"Background color";const l=n==="forecolor"?"Text color {0}":"Background color {0}",u=Kk(Lv(e,n),n,!1),g=xo(u,h=>h.value===a).getOr({text:""}).text;return e.translate([l,e.translate(g)])},qA=(e,n,a,l)=>{e.ui.registry.addSplitButton(n,{tooltip:pS(e,a,l.get()),presets:"color",icon:n==="forecolor"?"text-color":"highlight-bg-color",select:ZA(e,a),columns:dS(e,a),fetch:gS(Lv(e,a),a,jA(e)),onAction:u=>{Gk(e,a,l.get(),Te)},onItemAction:(u,g)=>{Gk(e,a,g,h=>{l.set(h),iS(e,{name:n,color:h})})},onSetup:u=>{Yk(u,n,l.get());const g=h=>{h.name===n&&(Yk(u,h.name,h.color),UA(u,pS(e,a,h.color)))};return e.on("TextColorChange",g),Zf(mc(e)(u),()=>{e.off("TextColorChange",g)})}})},WA=(e,n,a,l,u)=>{e.ui.registry.addNestedMenuItem(n,{text:l,icon:n==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(UA(g,pS(e,a,u.get())),Yk(g,n,u.get()),mc(e)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:ZA(e,a),initData:{storageKey:a},onAction:g=>{Gk(e,a,g.value,h=>{u.set(h),iS(e,{name:n,color:h})})}}]})},GA=e=>(n,a)=>{let l=!1;const u={colorpicker:a};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:(g,h)=>{h.name==="hex-valid"&&(l=h.value)},onSubmit:g=>{const h=g.getData().colorpicker;l?(n(D.from(h)),g.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",h]))},onClose:Te,onCancel:()=>{n(D.none())}})},Iv=(e,n,a,l,u,g,h,x)=>{const w=Ky(n),C=$6(n,a,l,u!=="color"?"normal":"color",g,h,x);return hk(e,w,C,l,{menuType:u})},$6=(e,n,a,l,u,g,h)=>Rr(R(e,x=>{return x.type==="choiceitem"?(w=x,os("choicemenuitem",vA,w)).fold(mm,C=>D.some(Y4(C,a===1,l,n,g(C.value),u,h,Ky(e)))):x.type==="imageitem"?(C=>os("imagemenuitem",CA,C))(x).fold(mm,C=>D.some(((T,A,L,U,Z)=>{const ue=n0({presets:"img",textContent:D.none(),htmlContent:D.none(),ariaLabel:T.tooltip,iconContent:D.some(T.url),labelContent:T.label,shortcutContent:D.none(),checkMark:D.some(G4(Z.icons)),caret:D.none(),value:T.value},Z,!0),re=T.tooltip.map(ge=>hs.config(Z.tooltips.getConfig({tooltipText:Z.translate(ge)})));return Yo(Uf({context:T.context,data:Rp(T),enabled:T.enabled,getApi:ge=>({setActive:Q=>{vr.set(ge,Q)},isActive:()=>vr.isOn(ge),isEnabled:()=>!En.isDisabled(ge),setEnabled:Q=>En.set(ge,!Q)}),onAction:ge=>{A(T.value),ge.setActive(!0)},onSetup:ge=>(ge.setActive(L),Te),triggersSubmenu:!1,itemBehaviours:[...re.toArray()]},ue,U,Z),{toggling:{toggleClass:mk,toggleOnExecute:!1,selected:T.active,exclusive:!0}})})(C,n,g(C.value),u,h))):x.type==="resetimage"?(C=>os("resetimageitem",SA,C))(x).fold(mm,C=>D.some(Y4({...C,text:C.tooltip,icon:D.some(C.icon),label:D.some(C.label)},a===1,l,n,g(C.value),u,h,Ky(e)))):D.none();var w})),Pv=(e,n)=>{const a=Pf(n);return e===1?{mode:"menu",moveOnTab:!0}:e==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[n],previousSelector:l=>n==="color"?qr(l.element,"[aria-checked=true]"):D.none()}},Xk=se("cell-over"),KA=se("cell-execute"),fS=(e,n,a)=>{const l=g=>Nn(g,KA,{row:e,col:n}),u=(g,h)=>{h.stop(),l(g)};return Kl({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:Co([Yn("insert-table-picker-cell",[Wt(Hn(),Vn.focus),Wt(yr(),l),Wt(Ul(),u),Wt(vi(),u)]),vr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Vn.config({onFocus:g=>Nn(g,Xk,{row:e,col:n})})])})},YA=e=>Ft(e,n=>R(n,Gd)),hS=(e,n)=>gs(`${n}x${e}`),bS={inserttable:(e,n)=>{const a=(h=>(x,w)=>h.shared.providers.translate(["{0} columns, {1} rows",w,x]))(n),l=(h=>{const x=[];for(let w=0;w<10;w++){const C=[];for(let T=0;T<10;T++){const A=h(w+1,T+1);C.push(fS(w,T,A))}x.push(C)}return x})(a),u=hS(0,0),g=Gr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[u],behaviours:Co([or.config({})])});return{type:"widget",data:{value:se("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[_p.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:YA(l).concat(g.asSpec()),behaviours:Co([Yn("insert-table-picker",[Ia(h=>{or.set(g.get(h),[u])}),kh(Xk,(h,x,w)=>{const{row:C,col:T}=w.event;((A,L,U)=>{for(let Z=0;Z<10;Z++)for(let ue=0;ue<10;ue++)vr.set(A[Z][ue],Z<=L&&ue<=U)})(l,C,T),or.set(g.get(h),[hS(C+1,T+1)])}),kh(KA,(h,x,w)=>{const{row:C,col:T}=w.event;Mr(h,dg()),e.onAction({numRows:C+1,numColumns:T+1})})]),Ho.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,n)=>{const a=((x,w)=>{const C=x.initData.allowCustomColors&&w.colorinput.hasCustomColors();return x.initData.colors.fold(()=>Kk(w.colorinput.getColors(x.initData.storageKey),x.initData.storageKey,C),T=>T.concat(mS(C)))})(e,n),l=n.colorinput.getColorCols(e.initData.storageKey),u="color",g=Iv(se("menu-value"),a,x=>{e.onAction({value:x})},l,u,Du.CLOSE_ON_EXECUTE,e.select.getOr(Vo),n.shared.providers),h={...g,markers:Pf(u),movement:Pv(l,u),showMenuRole:!1};return{type:"widget",data:{value:se("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[_p.widget(Rg.sketch(h))]}},imageselect:(e,n)=>{const a="imageselector",l=e.initData.columns,u=Iv(se("menu-value"),e.initData.items,h=>{e.onAction({value:h})},l,a,Du.CLOSE_ON_EXECUTE,e.select.getOr(Vo),n.shared.providers),g={...u,markers:Pf(a),movement:Pv(l,a),showMenuRole:!1};return{type:"widget",data:{value:se("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[_p.widget(Rg.sketch(g))]}}},yS=e=>({type:"separator",dom:{tag:"div",classes:[uv,"tox-collection__group-heading"]},components:e.text.map(gs).toArray()}),Jk=(e,n,a)=>{pv(e).each(l=>{var u;((g,h)=>{ba(h.element,"id").each(x=>An(g.element,"aria-activedescendant",x))})(l,a),(fi((u=n).element,fv)?D.some(u.element):qr(u.element,"."+fv)).each(g=>{ba(g,"id").each(h=>An(l.element,"aria-controls",h))})}),An(a.element,"aria-selected","true")},XA=(e,n,a)=>{An(a.element,"aria-selected","false")},vS=e=>ps.getExistingCoupled(e,"sandbox").bind(gv).map(Nz).map(n=>n.fetchPattern).getOr("");var Hv;(function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"})(Hv||(Hv={}));const JA=(e,n,a,l,u)=>{const g=a.shared.providers,h=w=>u?{...w,shortcut:D.none(),icon:w.text.isSome()?D.none():w.icon}:w;switch(e.type){case"menuitem":return(x=e,os("menuitem",EA,x)).fold(mm,w=>D.some(((C,T,A,L=!0)=>{const U=n0({presets:"normal",iconContent:C.icon,textContent:C.text,htmlContent:D.none(),labelContent:D.none(),ariaLabel:C.text,caret:D.none(),checkMark:D.none(),shortcutContent:C.shortcut},A,L);return Uf({context:C.context,data:Rp(C),getApi:Z=>({isEnabled:()=>!En.isDisabled(Z),setEnabled:ue=>En.set(Z,!ue)}),enabled:C.enabled,onAction:C.onAction,onSetup:C.onSetup,triggersSubmenu:!1,itemBehaviours:[]},U,T,A)})(h(w),n,g,l)));case"nestedmenuitem":return(w=>os("nestedmenuitem",zA,w))(e).fold(mm,w=>D.some(((C,T,A,L=!0,U=!1)=>{const Z=U?(ue=A.icons,Hk("chevron-down",ue,[pk])):(ge=>Hk("chevron-right",ge,[pk]))(A.icons);var ue;const re=n0({presets:"normal",iconContent:C.icon,textContent:C.text,htmlContent:D.none(),ariaLabel:C.text,labelContent:D.none(),caret:D.some(Z),checkMark:D.none(),shortcutContent:C.shortcut},A,L);return Uf({context:C.context,data:Rp(C),getApi:ge=>({isEnabled:()=>!En.isDisabled(ge),setEnabled:Q=>En.set(ge,!Q),setIconFill:(Q,ee)=>{qr(ge.element,`svg path[class="${Q}"], rect[class="${Q}"]`).each(fe=>{An(fe,"fill",ee)})},setTooltip:Q=>{const ee=A.translate(Q);An(ge.element,"aria-label",ee)}}),enabled:C.enabled,onAction:Te,onSetup:C.onSetup,triggersSubmenu:!0,itemBehaviours:[]},re,T,A)})(h(w),n,g,l,u)));case"togglemenuitem":return(w=>os("togglemenuitem",B6,w))(e).fold(mm,w=>D.some(((C,T,A,L=!0)=>{const U=n0({iconContent:C.icon,textContent:C.text,htmlContent:D.none(),labelContent:D.none(),ariaLabel:C.text,checkMark:D.some(G4(A.icons)),caret:D.none(),shortcutContent:C.shortcut,presets:"normal",meta:C.meta},A,L);return Yo(Uf({context:C.context,data:Rp(C),enabled:C.enabled,getApi:Z=>({setActive:ue=>{vr.set(Z,ue)},isActive:()=>vr.isOn(Z),isEnabled:()=>!En.isDisabled(Z),setEnabled:ue=>En.set(Z,!ue)}),onAction:C.onAction,onSetup:C.onSetup,triggersSubmenu:!1,itemBehaviours:[]},U,T,A),{toggling:{toggleClass:mk,toggleOnExecute:!1,selected:C.active},role:C.role.getOrUndefined()})})(h(w),n,g,l)));case"separator":return(w=>os("separatormenuitem",Nk,w))(e).fold(mm,w=>D.some(yS(w)));case"fancymenuitem":return(w=>os("fancymenuitem",_A,w))(e).fold(mm,w=>((C,T)=>ft(bS,C.fancytype).map(A=>A(C,T)))(w,a));default:return console.error("Unknown item in general menu",e),D.none()}var x},QA=(e,n,a,l,u,g,h)=>{const x=l===1,w=!x||Ky(e);return Rr(R(e,C=>{switch(C.type){case"separator":return(T=C,os("Autocompleter.Separator",Nk,T)).fold(mm,A=>D.some(yS(A)));case"cardmenuitem":return(A=>os("cardmenuitem",R6,A))(C).fold(mm,A=>D.some(((L,U,Z,ue)=>{const re={dom:Vk(L.label,[]),optComponents:[D.some({dom:{tag:"div",classes:[Az,fk]},components:FA(L.items,ue)})]};return Uf({context:"mode:design",data:Rp({text:D.none(),...L}),enabled:L.enabled,getApi:ge=>({isEnabled:()=>!En.isDisabled(ge),setEnabled:Q=>{En.set(ge,!Q),ut(Ys(ge.element,"*"),ee=>{ge.getSystem().getByDom(ee).each(fe=>{fe.hasConfigured(En)&&En.set(fe,!Q)})})}}),onAction:L.onAction,onSetup:L.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(ue.itemBehaviours).getOr([])},re,U,Z.providers)})({...A,onAction:L=>{A.onAction(L),a(A.value,A.meta)}},u,g,{itemBehaviours:BA(A.meta,g,D.none()),cardText:{matchText:n,highlightOn:h}})));default:return(A=>os("Autocompleter.Item",F4,A))(C).fold(mm,A=>D.some(((L,U,Z,ue,re,ge,Q,ee=!0)=>{const fe=n0({presets:ue,textContent:D.none(),htmlContent:Z?L.text.map(Re=>K4(Re,U)):D.none(),ariaLabel:L.text,labelContent:D.none(),iconContent:L.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:L.value},Q.providers,ee,L.icon),be=L.text.filter(Re=>!Z&&Re!=="");return Uf({context:"mode:design",data:Rp(L),enabled:L.enabled,getApi:he({}),onAction:Re=>re(L.value,L.meta),onSetup:he(Te),triggersSubmenu:!1,itemBehaviours:BA(L,Q,be)},fe,ge,Q.providers)})(A,n,x,"normal",a,u,g,w)))}var T}))},eT=(e,n,a,l,u,g)=>{const h=Ky(n),x=Rr(R(n,C=>{const T=A=>JA(A,a,l,(L=>u?!bo(L,"text"):h)(A),u);return C.type==="nestedmenuitem"&&C.getSubmenuItems().length<=0?T({...C,enabled:!1}):T(C)})),w=(C=>C.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:C})(g);return(u?Mz:hk)(e,h,x,1,w)},Bp=e=>Tf.singleData(e.value,e),tT=e=>_m(eo(e.startContainer),e.startOffset,eo(e.endContainer),e.endOffset),oT=(e,n)=>{const a=se("autocompleter"),l=fo(!1),u=fo(!1),g=ko(),h=Kl(ia.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Co([Yn("dismissAutocompleter",[Wt(tp(),()=>A()),Wt(Sb(),(Z,ue)=>{ba(ue.event.target,"id").each(re=>An(eo(e.getBody()),"aria-activedescendant",re))})])]),lazySink:n.getSink})),x=()=>ia.isOpen(h),w=u.get,C=()=>{if(x()){ia.hide(h),e.dom.remove(a,!1);const Z=eo(e.getBody());ba(Z,"aria-owns").filter(ue=>ue===a).each(()=>{ya(Z,"aria-owns"),ya(Z,"aria-activedescendant")})}},T=()=>ia.getContent(h).bind(Z=>ye(Z.components(),0)),A=()=>e.execCommand("mceAutocompleterClose"),L=Z=>{const ue=(re=>{const ge=We(re,Q=>D.from(Q.columns)).getOr(1);return Ft(re,Q=>{const ee=Q.items;return QA(ee,Q.matchText,(fe,be)=>{const Re={hide:()=>A(),reload:Ge=>{C(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:Ge})}};e.execCommand("mceAutocompleterRefreshActiveRange"),g.get().each(Ge=>{l.set(!0),Q.onAction(Re,Ge,fe,be),l.set(!1)})},ge,Du.BUBBLE_TO_SANDBOX,n,Q.highlightOn)})})(Z);ue.length>0?(((re,ge)=>{const Q=We(re,ee=>D.from(ee.columns)).getOr(1);ia.showMenuAt(h,{anchor:{type:"selection",getSelection:()=>g.get().map(tT),root:eo(e.getBody())}},((ee,fe,be,Re)=>{const Ge=Pv(fe,Re),mt=Pf(Re);return{data:Bp({...ee,movement:Ge,menuBehaviours:e0(fe!=="auto"?[]:[Ia((Rt,Xt)=>{Lk(Rt,4,mt.item).each(({numColumns:qt,numRows:uo})=>{Ho.setGridSize(Rt,uo,qt)})})])}),menu:{markers:Pf(Re),fakeFocus:be===Hv.ContentFocus}}})(hk("autocompleter-value",!0,ge,Q,{menuType:"normal"}),Q,Hv.ContentFocus,"normal")),T().each(oa.highlightFirst)})(Z,ue),An(eo(e.getBody()),"aria-owns",a),e.inline||U()):C()},U=()=>{e.dom.get(a)&&e.dom.remove(a,!1);const Z=e.getDoc().documentElement,ue=e.selection.getNode(),re=(ge=>Up(ge,!0))(h.element);Aa(re,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ue.offsetTop}px`,left:`${ue.offsetLeft}px`}),e.dom.add(Z,re.dom),qr(re,'[role="menu"]').each(ge=>{br(ge,"position"),br(ge,"max-height")})};e.on("AutocompleterStart",({lookupData:Z})=>{u.set(!0),l.set(!1),L(Z)}),e.on("AutocompleterUpdate",({lookupData:Z})=>L(Z)),e.on("AutocompleterUpdateActiveRange",({range:Z})=>g.set(Z)),e.on("AutocompleterEnd",()=>{C(),u.set(!1),l.set(!1),g.clear()}),((Z,ue)=>{const re=(Q,ee)=>{Nn(Q,sa(),{raw:ee})},ge=()=>Z.getMenu().bind(oa.getHighlighted);ue.on("keydown",Q=>{const ee=Q.which;Z.isActive()&&(Z.isMenuOpen()?ee===13?(ge().each(ip),Q.preventDefault()):ee===40?(ge().fold(()=>{Z.getMenu().each(oa.highlightFirst)},fe=>{re(fe,Q)}),Q.preventDefault(),Q.stopImmediatePropagation()):ee!==37&&ee!==38&&ee!==39||ge().each(fe=>{re(fe,Q),Q.preventDefault(),Q.stopImmediatePropagation()}):ee!==13&&ee!==38&&ee!==40||Z.cancelIfNecessary())}),ue.on("NodeChange",()=>{!Z.isActive()||Z.isProcessingAction()||ue.queryCommandState("mceAutoCompleterInRange")||Z.cancelIfNecessary()})})({cancelIfNecessary:A,isMenuOpen:x,isActive:w,isProcessingAction:l.get,getMenu:T},e)};var U6=tinymce.util.Tools.resolve("tinymce.html.Entities");const l0=(e,n,a,l)=>{const u=nT(e,n,a,l);return _r.sketch(u)},nT=(e,n,a,l)=>({dom:rT(a),components:e.toArray().concat([n]),fieldBehaviours:Co(l)}),rT=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),hm=(e,n)=>_r.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[gs(n.translate(e))]}),ld=se("form-component-change"),Qk=se("form-component-input"),Vv=se("form-close"),Wf=se("form-cancel"),jg=se("form-action"),jv=se("form-submit"),xS=se("form-block"),c0=se("form-unblock"),aT=se("form-tabchange"),sT=se("form-resize"),iT=(e,n,a)=>{const l=e.label.map(A=>hm(A,n)),u=n.icons(),g=A=>(L,U)=>{Il(U.event.target,"[data-collection-item-value]").each(Z=>{A(L,U,Z,Qa(Z,"data-collection-item-value"))})},h=g((A,L,U,Z)=>{L.stop(),n.checkUiComponentContext("mode:design").shouldDisable||n.isDisabled()||Nn(A,jg,{name:e.name,value:Z})}),x=[Wt(Hn(),g((A,L,U)=>{lt(U,!0)})),Wt(Ul(),h),Wt(vi(),h),Wt(sr(),g((A,L,U)=>{qr(A.element,"."+Qh).each(Z=>{ma(Z,Qh)}),Jr(U,Qh)})),Wt(Sa(),g(A=>{qr(A.element,"."+Qh).each(L=>{ma(L,Qh),Zt(L)})})),vu(g((A,L,U,Z)=>{Nn(A,jg,{name:e.name,value:Z})}))],w=(A,L)=>R(Ys(A.element,".tox-collection__item"),L),C=_r.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Xe},behaviours:Co([En.config({disabled:()=>n.checkUiComponentContext(e.context).shouldDisable,onDisabled:A=>{w(A,L=>{Jr(L,"tox-collection__item--state-disabled"),An(L,"aria-disabled",!0)})},onEnabled:A=>{w(A,L=>{ma(L,"tox-collection__item--state-disabled"),ya(L,"aria-disabled")})}}),Zs(()=>n.checkUiComponentContext(e.context)),or.config({}),hs.config({...n.tooltips.getConfig({tooltipText:"",onShow:A=>{qr(A.element,"."+Qh+"[data-mce-tooltip]").each(L=>{ba(L,"data-mce-tooltip").each(U=>{hs.setComponents(A,n.tooltips.getComponents({tooltipText:U}))})})}}),mode:"children-keyboard-focus",anchor:A=>({type:"node",node:qr(A.element,"."+Qh).orThunk(()=>cl(".tox-collection__item")),root:A.element,layouts:{onLtr:he([Qs,Hi,di,tl,xi,ol]),onRtl:he([Qs,Hi,di,tl,xi,ol])},bubble:Nl(0,-2,{})})}),Go.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(A,L)=>{((U,Z)=>{const ue=n.checkUiComponentContext("mode:design").shouldDisable||n.isDisabled()?" tox-collection__item--state-disabled":"",re=R(Z,ee=>{const fe=Jd.translate(ee.text),be=e.columns===1?`<div class="tox-collection__item-label">${fe}</div>`:"",Re=`<div class="tox-collection__item-icon">${(Rt=>{var Xt;return(Xt=u[Rt])!==null&&Xt!==void 0?Xt:Rt})(ee.icon)}</div>`,Ge={_:" "," - ":" ","-":" "},mt=fe.replace(/\_| \- |\-/g,Rt=>Ge[Rt]);return`<div data-mce-tooltip="${mt}" class="tox-collection__item${ue}" tabindex="-1" data-collection-item-value="${U6.encodeAllRaw(ee.value)}" aria-label="${mt}">${Re}${be}</div>`}),ge=e.columns!=="auto"&&e.columns>1?je(re,e.columns):[re],Q=R(ge,ee=>`<div class="tox-collection__group">${ee.join("")}</div>`);Lu(U.element,Q.join(""))})(A,L),e.columns==="auto"&&Lk(A,5,"tox-collection__item").each(({numRows:U,numColumns:Z})=>{Ho.setGridSize(A,U,Z)}),Mr(A,sT)}}),Ma.config({}),Ho.config((T=e.columns,T===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:T==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${uv}`}})),Yn("collection-events",x)]),eventOrder:{[yr()]:["disabling","alloy.base.behaviour","collection-events"],[sr()]:["collection-events","tooltipping"]}});var T;return l0(l,C,["tox-form__group--collection"],[])},lT=se("color-input-change"),cT=se("color-swatch-change"),dT=se("color-picker-cancel"),$g=()=>$r.config({find:D.some}),e_=e=>$r.config({find:n=>na(n.element,e).bind(a=>n.getSystem().getByDom(a).toOptional())}),Z6=Pn([kt("preprocess",Xe),kt("postprocess",Xe)]),uT=(e,n)=>{const a=el("RepresentingConfigs.memento processors",Z6,n);return Go.config({store:{mode:"manual",getValue:l=>{const u=e.get(l),g=Go.getValue(u);return a.postprocess(g)},setValue:(l,u)=>{const g=a.preprocess(u),h=e.get(l);Go.setValue(h,g)}}})},db=(e,n,a)=>Go.config({store:{mode:"manual",...e.map(l=>({initialValue:l})).getOr({}),getValue:n,setValue:a}}),mT=(e,n,a)=>db(e,l=>n(l.element),(l,u)=>a(l.element,u)),$v=e=>Go.config({store:{mode:"memory",initialValue:e}}),t_=se("rgb-hex-update"),gT=se("slider-update"),o_=se("palette-update"),d0=se("valid-input"),n_=se("invalid-input"),Uv=se("validating-input"),Fp="colorcustom.rgb.",r_={isEnabled:Nt,setEnabled:Te,immediatelyShow:Te,immediatelyHide:Te},pT=(e,n,a,l,u,g)=>{const h=(U,Z)=>{const ue=Z.get();U!==ue.isEnabled()&&(ue.setEnabled(U),U?ue.immediatelyShow():ue.immediatelyHide())},x=(U,Z,ue)=>$c.config({invalidClass:n("invalid"),notify:{onValidate:re=>{Nn(re,Uv,{type:U})},onValid:re=>{h(!1,ue),Nn(re,d0,{type:U,value:Go.getValue(re)})},onInvalid:re=>{h(!0,ue),Nn(re,n_,{type:U,value:Go.getValue(re)})}},validator:{validate:re=>{const ge=Go.getValue(re),Q=Z(ge)?Gn.value(!0):Gn.error(e("aria.input.invalid"));return ea(Q)},validateOnLoad:!1}}),w=(U,Z,ue,re,ge)=>{const Q=fo(r_),ee=e(Fp+"range"),fe=_r.parts.label({dom:{tag:"label"},components:[gs(ue)]}),be=_r.parts.field({data:ge,factory:kp,inputAttributes:{type:"text","aria-label":re,...Z==="hex"?{"aria-live":"polite"}:{}},inputClasses:[n("textfield")],inputBehaviours:Co([x(Z,U,Q),Ma.config({}),hs.config({...u({tooltipText:"",onSetup:qt=>{Q.set({isEnabled:()=>hs.isEnabled(qt),setEnabled:uo=>hs.setEnabled(qt,uo),immediatelyShow:()=>hs.immediateOpenClose(qt,!0),immediatelyHide:()=>hs.immediateOpenClose(qt,!1)}),hs.setEnabled(qt,!1)},onShow:(qt,uo)=>{hs.setComponents(qt,[{dom:{tag:"p",classes:[n("rgb-warning-note")]},components:[gs(e(Z==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:qt=>{$c.isInvalid(qt)&&$c.run(qt).get(Te)}}),Re=se("aria-invalid"),Ge=Gr(g("invalid",D.some(Re),"warning")),mt=[fe,be,Gr({dom:{tag:"div",classes:[n("invalid-icon")]},components:[Ge.asSpec()]}).asSpec()],Rt=Z!=="hex"?[_r.parts["aria-descriptor"]({text:ee})]:[],Xt=mt.concat(Rt);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[n("rgb-container")]},components:Xt}},C=(U,Z)=>{const ue=Z.red,re=Z.green,ge=Z.blue;Go.setValue(U,{red:ue,green:re,blue:ge})},T=Gr({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),A=(U,Z)=>{T.getOpt(U).each(ue=>{er(ue.element,"background-color","#"+Z.value)})};return Td({factory:()=>{const U={red:fo(D.some(255)),green:fo(D.some(255)),blue:fo(D.some(255)),hex:fo(D.some("ffffff"))},Z=mt=>U[mt].get(),ue=(mt,Rt)=>{U[mt].set(Rt)},re=mt=>{const Rt=mt.red,Xt=mt.green,qt=mt.blue;ue("red",D.some(Rt)),ue("green",D.some(Xt)),ue("blue",D.some(qt))},ge=(mt,Rt)=>{const Xt=Rt.event;Xt.type!=="hex"?ue(Xt.type,D.none()):l(mt)},Q=(mt,Rt)=>{const Xt=Rt.event;(qt=>qt.type==="hex")(Xt)?((qt,uo)=>{a(qt);const Mo=X4(uo);ue("hex",D.some(Mo.value));const yn=r0(Mo);C(qt,yn),re(yn),Nn(qt,t_,{hex:Mo}),A(qt,Mo)})(mt,Xt.value):((qt,uo,Mo)=>{const yn=parseInt(Mo,10);ue(uo,D.some(yn)),Z("red").bind(Bn=>Z("green").bind(Un=>Z("blue").map(Cr=>ib(Bn,Un,Cr,1)))).each(Bn=>{const Un=((Cr,rs)=>{const Cs=Ov(rs);return Ty.getField(Cr,"hex").each(da=>{Vn.isFocused(da)||Go.setValue(Cr,{hex:Cs.value})}),Cs})(qt,Bn);Nn(qt,t_,{hex:Un}),A(qt,Un)})})(mt,Xt.type,Xt.value)},ee=mt=>({label:e(Fp+mt+".label"),description:e(Fp+mt+".description")}),fe=ee("red"),be=ee("green"),Re=ee("blue"),Ge=ee("hex");return Yo(Ty.sketch(mt=>({dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[mt.field("red",_r.sketch(w(oS,"red",fe.label,fe.description,255))),mt.field("green",_r.sketch(w(oS,"green",be.label,be.description,255))),mt.field("blue",_r.sketch(w(oS,"blue",Re.label,Re.description,255))),mt.field("hex",_r.sketch(w(sb,"hex",Ge.label,Ge.description,"ffffff"))),T.asSpec()],formBehaviours:Co([$c.config({invalidClass:n("form-invalid")}),Yn("rgb-form-events",[Wt(d0,Q),Wt(n_,ge),Wt(Uv,ge)])])})),{apis:{updateHex:(mt,Rt)=>{Go.setValue(mt,{hex:Rt.value}),((Xt,qt)=>{const uo=r0(qt);C(Xt,uo),re(uo)})(mt,Rt),A(mt,Rt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(U,Z,ue)=>{U.updateHex(Z,ue)}},extraApis:{}})},fT=(e,n,a,l)=>Td({name:"ColourPicker",configFields:[ho("dom"),kt("onValidHex",Te),kt("onInvalidHex",Te)],factory:g=>{const h=pT(e,n,g.onValidHex,g.onInvalidHex,a,l),x=((ge,Q)=>{const ee=um.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[Q("sv-palette-spectrum")]}}),fe=um.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[Q("sv-palette-thumb")],innerHtml:`<div class=${Q("sv-palette-inner-thumb")} role="presentation"></div>`}}),be=(Ge,mt)=>{const{width:Rt,height:Xt}=Ge,qt=Ge.getContext("2d");if(qt===null)return;qt.fillStyle=mt,qt.fillRect(0,0,Rt,Xt);const uo=qt.createLinearGradient(0,0,Rt,0);uo.addColorStop(0,"rgba(255,255,255,1)"),uo.addColorStop(1,"rgba(255,255,255,0)"),qt.fillStyle=uo,qt.fillRect(0,0,Rt,Xt);const Mo=qt.createLinearGradient(0,0,0,Xt);Mo.addColorStop(0,"rgba(0,0,0,0)"),Mo.addColorStop(1,"rgba(0,0,0,1)"),qt.fillStyle=Mo,qt.fillRect(0,0,Rt,Xt)};return Td({factory:Ge=>{const mt=he({x:0,y:0}),Rt=Co([$r.config({find:D.some}),Vn.config({})]);return um.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":ge(["Saturation {0}%, Brightness {1}%",0,0])},classes:[Q("sv-palette")]},model:{mode:"xy",getInitialValue:mt},rounded:!1,components:[ee,fe],onChange:(Xt,qt,uo)=>{no(uo)||An(Xt.element,"aria-valuetext",ge(["Saturation {0}%, Brightness {1}%",Math.floor(uo.x),Math.floor(100-uo.y)])),Nn(Xt,o_,{value:uo})},onInit:(Xt,qt,uo,Mo)=>{be(uo.element.dom,rS(aS))},sliderBehaviours:Rt})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ge,mt,Rt)=>{((Xt,qt)=>{const uo=Xt.components()[0].element.dom,Mo=Nv(qt,100,100),yn=Rv(Mo);be(uo,rS(yn))})(mt,Rt)},setThumb:(Ge,mt,Rt)=>{((Xt,qt)=>{const uo=Dv(r0(qt));um.setValue(Xt,{x:uo.saturation,y:100-uo.value}),An(Xt.element,"aria-valuetext",ge(["Saturation {0}%, Brightness {1}%",uo.saturation,uo.value]))})(mt,Rt)}},extraApis:{}})})(e,n),w={paletteRgba:fo(aS),paletteHue:fo(0)},C=Gr(((ge,Q)=>{const ee=um.parts.spectrum({dom:{tag:"div",classes:[Q("hue-slider-spectrum")],attributes:{role:"presentation"}}}),fe=um.parts.thumb({dom:{tag:"div",classes:[Q("hue-slider-thumb")],attributes:{role:"presentation"}}});return um.sketch({dom:{tag:"div",classes:[Q("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:he(0)},components:[ee,fe],sliderBehaviours:Co([Vn.config({})]),onChange:(be,Re,Ge)=>{An(be.element,"aria-valuenow",Math.floor(360-3.6*Ge)),Nn(be,gT,{value:Ge})}})})(0,n)),T=Gr(x.sketch({})),A=Gr(h.sketch({})),L=(ge,Q,ee)=>{T.getOpt(ge).each(fe=>{x.setHue(fe,ee)})},U=(ge,Q)=>{A.getOpt(ge).each(ee=>{h.updateHex(ee,Q)})},Z=(ge,Q,ee)=>{C.getOpt(ge).each(fe=>{um.setValue(fe,(be=>100-be/360*100)(ee))})},ue=(ge,Q)=>{T.getOpt(ge).each(ee=>{x.setThumb(ee,Q)})},re=(ge,Q,ee,fe)=>{((be,Re)=>{const Ge=r0(be);w.paletteRgba.set(Ge),w.paletteHue.set(Re)})(Q,ee),ut(fe,be=>{be(ge,Q,ee)})};return{uid:g.uid,dom:g.dom,components:[T.asSpec(),C.asSpec(),A.asSpec()],behaviours:Co([Yn("colour-picker-events",[Wt(t_,(()=>{const ge=[L,Z,ue];return(Q,ee)=>{const fe=ee.event.hex,be=(Re=>Dv(r0(Re)))(fe);re(Q,fe,be.hue,ge)}})()),Wt(o_,(()=>{const ge=[U];return(Q,ee)=>{const fe=ee.event.value,be=w.paletteHue.get(),Re=Nv(be,fe.x,100-fe.y),Ge=a0(Re);re(Q,Ge,be,ge)}})()),Wt(gT,(()=>{const ge=[L,U];return(Q,ee)=>{const fe=(Rt=>(100-Rt)/100*360)(ee.event.value),be=w.paletteRgba.get(),Re=Dv(be),Ge=Nv(fe,Re.saturation,Re.value),mt=a0(Ge);re(Q,mt,fe,ge)}})())]),$r.config({find:ge=>A.getOpt(ge)}),Ho.config({mode:"acyclic"})])}}}),hT={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var q6=tinymce.util.Tools.resolve("tinymce.Resource");const wS=e=>bo(e,"init");var Ug=tinymce.util.Tools.resolve("tinymce.util.Tools");const Zv=se("browse.files.event"),u0=(e,n,a)=>{const l=(C,T)=>{T.stop()},u=C=>(T,A)=>{ut(C,L=>{L(T,A)})},g=Gr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Co([Yn("input-file-events",[rm(Ul()),rm(vi())])])}),h=e.label.map(C=>hm(C,n)),x=_r.parts.field({factory:vl,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[gs(n.translate("Browse for an image")),g.asSpec()],action:C=>{g.get(C).element.dom.click()},buttonBehaviours:Co([$g(),$v(a.getOr([])),Ma.config({}),Sv(()=>n.checkUiComponentContext(e.context).shouldDisable),Zs(()=>n.checkUiComponentContext(e.context))])}),w={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Co([En.config({disabled:()=>n.checkUiComponentContext(e.context).shouldDisable}),Zs(()=>n.checkUiComponentContext(e.context)),vr.config({toggleClass:"dragenter",toggleOnExecute:!1}),Yn("dropzone-events",[Wt("dragenter",u([l,vr.toggle])),Wt("dragleave",u([l,vr.toggle])),Wt("dragover",l),Wt("drop",u([l,(C,T)=>{var A;if(!En.isDisabled(C)){const L=T.event.raw;Nn(C,Zv,{files:(A=L.dataTransfer)===null||A===void 0?void 0:A.files})}}])),Wt($l(),(C,T)=>{const A=T.event.raw.target;Nn(C,Zv,{files:A.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[gs(n.translate("Drop an image here"))]},x]}]};return l0(h,w,["tox-form__group--stretched"],[Yn("handle-files",[Wt(Zv,(C,T)=>{_r.getField(C).each(A=>{var L,U;L=A,(U=T.event.files)&&(Go.setValue(L,((Z,ue)=>{const re=Ug.explode(ue.getOption("images_file_types"));return Bt(_t(Z),ge=>so(re,Q=>ir(ge.name.toLowerCase(),`.${Q.toLowerCase()}`)))})(U,n)),Nn(L,ld,{name:e.name}))})})])])},kS=se("alloy-fake-before-tabstop"),a_=se("alloy-fake-after-tabstop"),bT=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Co([Vn.config({ignore:!0}),Ma.config({})])}),s_=(e,n)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[bT([kS]),n,bT([a_])],behaviours:Co([e_(1)])}),i_=(e,n)=>{Nn(e,sa(),{raw:{which:9,shiftKey:n}})},W6=(e,n)=>{const a=n.element;fi(a,kS)?i_(e,!0):fi(a,a_)&&i_(e,!1)},m0=e=>cu(e,["."+kS,"."+a_].join(","),Vo),l_=se("update-dialog"),_S=se("update-title"),yT=se("update-body"),Gf=se("update-footer"),CS=se("body-send-message"),c_=se("dialog-focus-shifted"),g0=st().browser,Zg=g0.isSafari(),d_=g0.isFirefox(),qv=Zg||d_,vT=g0.isChromium(),cd=({scrollTop:e,scrollHeight:n,clientHeight:a})=>Math.ceil(e)+a>=n,Wv=(e,n)=>e.scrollTo(0,n==="bottom"?99999999:n),SS=(e,n,a)=>{const l=e.dom;D.from(l.contentDocument).fold(a,u=>{let g=0;const h=((w,C)=>{const T=w.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(C)&&(!vT&&!Zg||Je(T)&&(T.scrollTop!==0||Math.abs(T.scrollHeight-T.clientHeight)>1))?T:w.documentElement)})(u,n).map(w=>(g=w.scrollTop,w)).forall(cd),x=()=>{const w=l.contentWindow;Je(w)&&(h?Wv(w,"bottom"):!h&&qv&&g!==0&&Wv(w,g))};Zg&&l.addEventListener("load",x,{once:!0}),u.open(),u.write(n),u.close(),Zg||x()})},xT=De(qv,Zg?500:200).map(e=>((n,a)=>{let l=null,u=null;return{cancel:()=>{At(l)||(clearTimeout(l),l=null,u=null)},throttle:(...g)=>{u=g,At(l)&&(l=setTimeout(()=>{const h=u;l=null,u=null,n.apply(null,h)},a))}}})(SS,e)),ES=se("toolbar.button.execute"),Fd=se("common-button-display-events"),wT={[yr()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Zl()]:["toolbar-button-events",Fd],[wd()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ke()]:["focusing","alloy.base.behaviour",Fd]},u_=e=>er(e.element,"width",Ds(e.element,"width")),ub=(e,n,a)=>Oc(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},n),p0=(e,n)=>ub(e,n,[]),Lp=(e,n)=>ub(e,n,[or.config({})]),mb=(e,n,a)=>({dom:{tag:"span",classes:[`${n}__select-label`]},components:[gs(a.translate(e))],behaviours:Co([or.config({})])}),Ru=se("update-menu-text"),gb=se("update-menu-icon"),f0=se("update-tooltip-text"),zS=(e,n,a,l)=>{const u=fo(Te),g=fo(e.tooltip),h=e.text.map(re=>Gr(mb(re,n,a.providers))),x=e.icon.map(re=>Gr(Lp(re,a.providers.icons))),w=(re,ge)=>{const Q=Go.getValue(re);return Vn.focus(Q),Nn(Q,"keydown",{raw:ge.event.raw}),Od.close(Q),D.some(!0)},C=e.role.fold(()=>({}),re=>({role:re})),T=D.from(e.listRole).map(re=>({listRole:re})).getOr({}),A=e.ariaLabel.fold(()=>({}),re=>({"aria-label":a.providers.translate(re)})),L=Oc("chevron-down",{tag:"div",classes:[`${n}__select-chevron`]},a.providers.icons),U=se("common-button-display-events"),Z="dropdown-events";return Gr(Od.sketch({...e.uid?{uid:e.uid}:{},...C,...T,dom:{tag:"button",classes:[n,`${n}--select`].concat(R(e.classes,re=>`${n}--${re}`)),attributes:{...A,...Je(l)?{"data-mce-name":l}:{}}},components:ab([x.map(re=>re.asSpec()),h.map(re=>re.asSpec()),D.some(L)]),matchWidth:!0,useMinWidth:!0,onOpen:(re,ge,Q)=>{e.searchable&&(ee=>{pv(ee).each(fe=>Vn.focus(fe))})(Q)},dropdownBehaviours:Co([...e.dropdownBehaviours,Sv(()=>e.disabled||a.providers.checkUiComponentContext(e.context).shouldDisable),Zs(()=>a.providers.checkUiComponentContext(e.context)),Yd.config({}),or.config({}),...e.tooltip.map(re=>hs.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(re),onShow:ge=>{if(Dr(g.get(),e.tooltip,(Q,ee)=>ee!==Q).getOr(!1)){const Q=a.providers.translate(g.get().getOr(""));hs.setComponents(ge,a.providers.tooltips.getComponents({tooltipText:Q}))}}}))).toArray(),Yn(Z,[pm(e,u),Vg(e,u)]),Yn(U,[Ia((re,ge)=>{e.listRole!=="listbox"&&u_(re)})]),Yn("update-dropdown-width-variable",[Wt(mg(),(re,ge)=>Od.close(re))]),Yn("menubutton-update-display-text",[Wt(Ru,(re,ge)=>{h.bind(Q=>Q.getOpt(re)).each(Q=>{or.set(Q,[gs(a.providers.translate(ge.event.text))])})}),Wt(gb,(re,ge)=>{x.bind(Q=>Q.getOpt(re)).each(Q=>{or.set(Q,[Lp(ge.event.icon,a.providers.icons)])})}),Wt(f0,(re,ge)=>{const Q=a.providers.translate(ge.event.text);An(re.element,"aria-label",Q),g.set(D.some(ge.event.text))})])]),eventOrder:Yo(wT,{[Ke()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Zl()]:["toolbar-button-events",hs.name(),Z,U]}),sandboxBehaviours:Co([Ho.config({mode:"special",onLeft:w,onRight:w}),Yn("dropdown-sandbox-events",[Wt(c4,(re,ge)=>{(Q=>{const ee=Go.getValue(Q),fe=gv(Q).map(Nz);Od.refetch(ee).get(()=>{const be=ps.getCoupled(ee,"sandbox");fe.each(Re=>gv(be).each(Ge=>((mt,Rt)=>{Go.setValue(mt,Rt.fetchPattern),mt.element.dom.selectionStart=Rt.selectionStart,mt.element.dom.selectionEnd=Rt.selectionEnd})(Ge,Re)))})})(re),ge.stop()}),Wt(d4,(re,ge)=>{((Q,ee)=>{(fe=>Wr.getState(fe).bind(oa.getHighlighted).bind(oa.getHighlighted))(Q).each(fe=>{((be,Re,Ge,mt)=>{const Rt={...mt,target:Re};be.getSystem().triggerEvent(Ge,Re,Rt)})(Q,fe.element,ee.event.eventType,ee.event.interactionEvent)})})(re,ge),ge.stop()})])]),lazySink:a.getSink,toggleClass:`${n}--active`,parts:{menu:{...mv(0,e.columns,e.presets),fakeFocus:e.searchable,...e.listRole==="listbox"?{}:{onHighlightItem:Jk,onCollapseMenu:(re,ge,Q)=>{oa.getHighlighted(Q).each(ee=>{Jk(re,Q,ee)})},onDehighlightItem:XA}}},getAnchorOverrides:()=>({maxHeightFunction:(re,ge)=>{j0()(re,ge-10)}}),fetch:re=>on(pt(e.fetch,re))})).asSpec()},AS=e=>e.type==="separator",t={type:"separator"},o=(e,n)=>{const a=((l,u)=>{const g=co(l,(h,x)=>(w=>ro(w))(x)?x===""?h:x==="|"?h.length>0&&!AS(h[h.length-1])?h.concat([t]):h:bo(u,x.toLowerCase())?h.concat([u[x.toLowerCase()]]):h:h.concat([x]),[]);return g.length>0&&AS(g[g.length-1])&&g.pop(),g})(ro(e)?e.split(" "):e,n);return Vt(a,(l,u)=>{if((g=>bo(g,"getSubmenuItems"))(u)){const g=(x=>{const w=ft(x,"value").getOrThunk(()=>se("generated-menu-item"));return Yo({value:w},x)})(u),h=((x,w)=>{const C=x.getSubmenuItems(),T=o(C,w);return{item:x,menus:Yo(T.menus,{[x.value]:T.items}),expansions:Yo(T.expansions,{[x.value]:x.value})}})(g,n);return{menus:Yo(l.menus,h.menus),items:[h.item,...l.items],expansions:Yo(l.expansions,h.expansions)}}return{...l,items:[u,...l.items]}},{menus:{},expansions:{},items:[]})},r=(e,n,a,l)=>{const u=se("primary-menu"),g=o(e,a.shared.providers.menuItems());if(g.items.length===0)return D.none();const h=(A=>A.search.fold(()=>({searchMode:"no-search"}),L=>({searchMode:"search-with-field",placeholder:L.placeholder})))(l),x=eT(u,g.items,n,a,l.isHorizontalMenu,h),w=(A=>A.search.fold(()=>({searchMode:"no-search"}),L=>({searchMode:"search-with-results"})))(l),C=rt(g.menus,(A,L)=>eT(L,A,n,a,!1,w)),T=Yo(C,Ku(u,x));return D.from(Tf.tieredData(u,T,g.expansions))},s=e=>!bo(e,"items"),i="data-value",c=(e,n,a,l,u)=>R(a,g=>s(g)?{type:"togglemenuitem",...u?{}:{role:"option"},text:g.text,value:g.value,active:g.value===l,onAction:()=>{Go.setValue(e,g.value),Nn(e,ld,{name:n}),Vn.focus(e)}}:{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>c(e,n,g.items,l,u)}),d=(e,n)=>We(e,a=>s(a)?De(a.value===n,a):d(a.items,n)),m=e=>{const n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let a=e.value.toFixed((l=e.unit)in n?n[l]:1);var l;return a.indexOf(".")!==-1&&(a=a.replace(/\.?0*$/,"")),a+e.unit},f=e=>{const n=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(n!==null){const a=parseFloat(n[1]),l=n[2];return Gn.value({value:a,unit:l})}return Gn.error(e)},y=(e,n)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=u=>bo(a,u);return e.unit===n?D.some(e.value):l(e.unit)&&l(n)?a[e.unit]===a[n]?D.some(e.value):D.some(e.value/a[e.unit]*a[n]):D.none()},v=e=>D.none(),k=(e,n)=>{const a=f(e).toOptional(),l=f(n).toOptional();return Dr(a,l,(u,g)=>y(u,g.unit).map(h=>g.value/h).map(h=>{return x=h,w=g.unit,C=>y(C,w).map(T=>({value:T*x,unit:w}));var x,w}).getOr(v)).getOr(v)},z=(e,n)=>{const a=e.label.map(T=>hm(T,n)),l=[En.config({disabled:()=>e.disabled||n.checkUiComponentContext(e.context).shouldDisable}),Zs(()=>n.checkUiComponentContext(e.context)),Ho.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:T=>(Mr(T,jv),D.some(!0))}),Yn("textfield-change",[Wt(ms(),(T,A)=>{Nn(T,ld,{name:e.name})}),Wt(Gp(),(T,A)=>{Nn(T,ld,{name:e.name})})]),Ma.config({})],u=e.validation.map(T=>$c.config({getRoot:A=>Oa(A.element),invalidClass:"tox-invalid",validator:{validate:A=>{const L=Go.getValue(A),U=T.validator(L);return ea(U===!0?Gn.value(L):Gn.error(U))},validateOnLoad:T.validateOnLoad}})).toArray(),g={...e.placeholder.fold(he({}),T=>({placeholder:n.translate(T)})),...e.inputMode.fold(he({}),T=>({inputmode:T})),"data-mce-name":e.name},h=_r.parts.field({tag:e.multiline===!0?"textarea":"input",...e.data.map(T=>({data:T})).getOr({}),inputAttributes:g,inputClasses:[e.classname],inputBehaviours:Co(ke([l,u])),selectOnFocus:!1,factory:kp}),x=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[h]}:h,w=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),C=[En.config({disabled:()=>e.disabled||n.checkUiComponentContext(e.context).shouldDisable,onDisabled:T=>{_r.getField(T).each(En.disable)},onEnabled:T=>{_r.getField(T).each(En.enable)}}),Zs(()=>n.checkUiComponentContext(e.context))];return l0(a,x,w,C)},F=e=>({isEnabled:()=>!En.isDisabled(e),setEnabled:n=>En.set(e,!n),setActive:n=>{const a=e.element;n?(Jr(a,"tox-tbtn--enabled"),An(a,"aria-pressed",!0)):(ma(a,"tox-tbtn--enabled"),ya(a,"aria-pressed"))},isActive:()=>fi(e.element,"tox-tbtn--enabled"),setTooltip:n=>{Nn(e,f0,{text:n})},setText:n=>{Nn(e,Ru,{text:n})},setIcon:n=>Nn(e,gb,{icon:n})}),N=(e,n,a,l,u=!0,g)=>{const h=e.buttonType==="bordered"?["bordered"]:[];return zS({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:l,fetch:(x,w)=>{const C={pattern:e.search.isSome()?vS(x):""};e.fetch(T=>{w(r(T,Du.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:e.search}))},C,F(x))},onSetup:e.onSetup,getApi:x=>F(x),columns:1,presets:"normal",classes:h,dropdownBehaviours:[...u?[Ma.config({})]:[]],context:e.context},n,a.shared,g)},P=(e,n,a)=>{const l=g=>h=>{const x=!h.isActive();h.setActive(x),g.storage.set(x),a.shared.getSink().each(w=>{n().getOpt(w).each(C=>{lt(C.element),Nn(C,jg,{name:g.name,value:g.storage.get()})})})},u=g=>h=>{h.setActive(g.storage.get())};return g=>{g(R(e,h=>{const x=h.text.fold(()=>({}),w=>({text:w}));return{type:h.type,active:!1,...x,context:h.context,onAction:l(h),onSetup:u(h)}}))}},M=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":e}},components:[gs(e)]}),j=(e,n,a)=>{e.customStateIcon.each(l=>n.push(ie(l,a.shared.providers.icons,e.customStateIconTooltip.fold(()=>[],u=>[hs.config(a.shared.providers.tooltips.getConfig({tooltipText:u}))]),["tox-icon-custom-state"])))},Y=se("leaf-label-event-id"),X=({leaf:e,onLeafAction:n,visible:a,treeId:l,selectedId:u,backstage:g})=>{const h=e.menu.map(w=>N(w,"tox-mbtn",g,D.none(),a)),x=[M(e.title)];return j(e,x,g),h.each(w=>x.push(w)),vl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:w=>{n(e.id),w.getSystem().broadcastOn([`update-active-item-${l}`],{value:e.id})},eventOrder:{[sa()]:[Y,"keying"]},buttonBehaviours:Co([...a?[Ma.config({})]:[],vr.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Uc.config({channels:{[`update-active-item-${l}`]:{onReceive:(w,C)=>{(C.value===e.id?vr.on:vr.off)(w)}}}}),Yn(Y,[Ia((w,C)=>{u.each(T=>{(T===e.id?vr.on:vr.off)(w)})}),Wt(sa(),(w,C)=>{const T=C.event.raw.code==="ArrowLeft",A=C.event.raw.code==="ArrowRight";T?(es(w.element,".tox-tree--directory").each(L=>{w.getSystem().getByDom(L).each(U=>{Pd(L,".tox-tree--directory__label").each(Z=>{U.getSystem().getByDom(Z).each(Vn.focus)})})}),C.stop()):A&&C.stop()})])])})},ie=(e,n,a,l,u)=>Oc(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:a,attributes:u},n),ne=se("directory-label-event-id"),we=({directory:e,visible:n,noChildren:a,backstage:l})=>{const u=e.menu.map(w=>N(w,"tox-mbtn",l,D.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(h=l.shared.providers.icons,ie("chevron-right",h,[]))]},M(e.title)];var h;j(e,g,l),u.each(w=>{g.push(w)});const x=w=>{es(w.element,".tox-tree--directory").each(C=>{w.getSystem().getByDom(C).each(T=>{const A=!vr.isOn(T);vr.toggle(T),Nn(w,"expand-tree-node",{expanded:A,node:e.id})})})};return vl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(n?["tox-tree--directory__label--visible"]:[])},components:g,action:x,eventOrder:{[sa()]:[ne,"keying"]},buttonBehaviours:Co([...n?[Ma.config({})]:[],Yn(ne,[Wt(sa(),(w,C)=>{const T=C.event.raw.code==="ArrowRight",A=C.event.raw.code==="ArrowLeft";T&&a&&C.stop(),(T||A)&&es(w.element,".tox-tree--directory").each(L=>{w.getSystem().getByDom(L).each(U=>{!vr.isOn(U)&&T||vr.isOn(U)&&A?(x(w),C.stop()):A&&!vr.isOn(U)&&(es(U.element,".tox-tree--directory").each(Z=>{Pd(Z,".tox-tree--directory__label").each(ue=>{U.getSystem().getByDom(ue).each(Vn.focus)})}),C.stop())})})})])])})},Ye=({children:e,onLeafAction:n,visible:a,treeId:l,expandedIds:u,selectedId:g,backstage:h})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(x=>x.type==="leaf"?X({leaf:x,selectedId:g,onLeafAction:n,visible:a,treeId:l,backstage:h}):at({directory:x,expandedIds:u,selectedId:g,onLeafAction:n,labelTabstopping:a,treeId:l,backstage:h})),behaviours:Co([Zc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),or.config({})])}),Ve=se("directory-event-id"),at=({directory:e,onLeafAction:n,labelTabstopping:a,treeId:l,backstage:u,expandedIds:g,selectedId:h})=>{const{children:x}=e,w=fo(g),C=g.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[we({directory:e,visible:a,noChildren:e.children.length===0,backstage:u}),Ye({children:x,expandedIds:g,selectedId:h,onLeafAction:n,visible:C,treeId:l,backstage:u})],behaviours:Co([Yn(Ve,[Ia((T,A)=>{vr.set(T,C)}),Wt("expand-tree-node",(T,A)=>{const{expanded:L,node:U}=A.event;w.set(L?[...w.get(),U]:w.get().filter(Z=>Z!==U))})]),vr.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(T,A)=>{const L=T.components()[1],U=(Z=A,x.map(ue=>ue.type==="leaf"?X({leaf:ue,selectedId:h,onLeafAction:n,visible:Z,treeId:l,backstage:u}):at({directory:ue,expandedIds:w.get(),selectedId:h,onLeafAction:n,labelTabstopping:Z,treeId:l,backstage:u})));var Z;A?Zc.grow(L):Zc.shrink(L),or.set(L,U)}})])}},Mt=se("tree-event-id"),Ae=(e,n,a=[],l,u,g,h)=>{const x=n.fold(()=>({}),T=>({action:T})),w={buttonBehaviours:Co([Ik(()=>!e.enabled||h.checkUiComponentContext(e.context).shouldDisable),Zs(()=>h.checkUiComponentContext(e.context)),Ma.config({}),...g.map(T=>hs.config(h.tooltips.getConfig({tooltipText:h.translate(T)}))).toArray(),Yn("button press",[Gb("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},C=Yo(w,{dom:l});return Yo(C,{components:u})},Ze=(e,n,a,l=[],u)=>{const g={tag:"button",classes:["tox-tbtn"],attributes:{...e.tooltip.map(w=>({"aria-label":a.translate(w)})).getOr({}),"data-mce-name":u}},h=e.icon.map(w=>p0(w,a.icons)),x=ab([h]);return Ae(e,n,l,g,x,e.tooltip,a)},et=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},jt=(e,n,a,l=[],u=[])=>{const g=a.translate(e.text),h=e.icon.map(A=>p0(A,a.icons)),x=[h.getOrThunk(()=>gs(g))],w=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),C={tag:"button",classes:[...et(w),...h.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...u],attributes:{"aria-label":g,"data-mce-name":e.text}},T=e.icon.map(he(g));return Ae(e,n,l,C,x,T,a)},Lo=(e,n,a,l=[],u=[])=>{const g=jt(e,D.some(n),a,l,u);return vl.sketch(g)},_o=(e,n)=>a=>{n==="custom"?Nn(a,jg,{name:e,value:{}}):n==="submit"?Mr(a,jv):n==="cancel"?Mr(a,Wf):console.error("Unknown button type: ",n)},wn=(e,n,a)=>{if(((l,u)=>u==="menu")(0,n)){const l=()=>h,u=e,g={...e,buttonType:"default",type:"menubutton",search:D.none(),onSetup:x=>(x.setEnabled(e.enabled),Te),fetch:P(u.items,l,a)},h=Gr(N(g,"tox-tbtn",a,D.none(),!0,e.text.or(e.tooltip).getOrUndefined()));return h.asSpec()}if(((l,u)=>u==="custom"||u==="cancel"||u==="submit")(0,n)){const l=_o(e.name,n),u={...e,context:n==="cancel"?"any":e.context,borderless:!1};return Lo(u,l,a.shared.providers,[])}if(((l,u)=>u==="togglebutton")(0,n))return((l,u,g)=>{var h,x;const w=l.icon.map(ee=>Lp(ee,u.icons)).map(Gr),C=l.buttonType.getOr(l.primary?"primary":"secondary"),T={...l,name:(h=l.name)!==null&&h!==void 0?h:"",tooltip:l.tooltip,enabled:(x=l.enabled)!==null&&x!==void 0&&x},A=T.tooltip.or(l.text).map(ee=>({"aria-label":u.translate(ee)})).getOr({}),L=et(C??"secondary"),U=l.icon.isSome()&&l.text.isSome(),Z={tag:"button",classes:[...L.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...U?["tox-button--icon-and-text"]:[]],attributes:{...A,...Je(g)?{"data-mce-name":g}:{}}},ue=u.translate(l.text.getOr("")),re=gs(ue),ge=[...ab([w.map(ee=>ee.asSpec())]),...l.text.isSome()?[re]:[]],Q=Ae(T,D.some(ee=>{Nn(ee,jg,{name:l.name,value:{setIcon:fe=>{w.map(be=>be.getOpt(ee).each(Re=>{or.set(Re,[Lp(fe,u.icons)])}))}}})}),[],Z,ge,l.tooltip,u);return vl.sketch(Q)})(e,a.shared.providers,e.text.or(e.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",n),new Error("Unknown footer button type")},Dn={type:"separator"},Ln=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:Te}),jn=(e,n)=>({type:"menuitem",value:n,text:e,meta:{attach:void 0},onAction:Te}),Qo=(e,n)=>(a=>R(a,Ln))(((a,l)=>Bt(l,u=>u.type===a))(e,n)),Tn=e=>Qo("header",e.targets),nt=e=>Qo("anchor",e.targets),ct=e=>D.from(e.anchorTop).map(n=>jn("<top>",n)).toArray(),Ut=e=>D.from(e.anchorBottom).map(n=>jn("<bottom>",n)).toArray(),Ht=(e,n)=>{const a=e.toLowerCase();return Bt(n,l=>{var u;const g=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,h=(u=l.value)!==null&&u!==void 0?u:"";return cr(g.toLowerCase(),a)||cr(h.toLowerCase(),a)})},Xo=se("aria-invalid"),So=e=>(n,a,l,u,g)=>ft(a,"name").fold(()=>e(a,u,D.none(),g),h=>n.field(h,e(a,u,ft(l,h),g))),$n={bar:So((e,n)=>((a,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:R(a.items,l.interpreter)}))(e,n.shared)),collection:So((e,n,a)=>iT(e,n.shared.providers,a)),alertbanner:So((e,n)=>((a,l)=>{const u=o4(a.icon,l.icons);return im.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${a.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:a.url?void 0:u},components:a.url?[vl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:u,attributes:{title:l.translate(a.iconTooltip)}},action:g=>Nn(g,jg,{name:"alert-banner",value:a.url}),buttonBehaviours:Co([Ez()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(a.text)}}]})})(e,n.shared.providers)),input:So((e,n,a)=>((l,u,g)=>z({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:D.none(),maximized:l.maximized,data:g,context:l.context},u))(e,n.shared.providers,a)),textarea:So((e,n,a)=>((l,u,g)=>z({name:l.name,multiline:!0,label:l.label,inputMode:D.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:D.none(),maximized:l.maximized,data:g,context:l.context},u))(e,n.shared.providers,a)),label:So((e,n,a,l)=>((u,g,h)=>{const x="tox-label",w=u.align==="center"?[`${x}--center`]:[],C=u.align==="end"?[`${x}--end`]:[],T=Gr({dom:{tag:"label",classes:[x,...w,...C]},components:[gs(g.providers.translate(u.label))]}),A=R(u.items,g.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[T.asSpec(),...A],behaviours:Co([$g(),or.config({}),(L=D.none(),mT(L,Zp,Lu)),Ho.config({mode:"acyclic"}),Yn("label",[Ia(U=>{u.for.each(Z=>{h(Z).each(ue=>{T.getOpt(U).each(re=>{var ge;const Q=(ge=Qa(ue.element,"id"))!==null&&ge!==void 0?ge:se("form-field");An(ue.element,"id",Q),An(re.element,"for",Q)})})})})])])};var L})(e,n.shared,l)),iframe:(zT=(e,n,a)=>((l,u,g)=>{const h="tox-dialog__iframe",x=l.transparent?[]:[`${h}--opaque`],w=l.border?["tox-navobj-bordered"]:[],C={...l.label.map(U=>({title:U})).getOr({}),...g.map(U=>({srcdoc:U})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},T=((U,Z)=>{const ue=fo(U.getOr(""));return{getValue:re=>ue.get(),setValue:(re,ge)=>{if(ue.get()!==ge){const Q=re.element,ee=()=>An(Q,"srcdoc",ge);Z?xT.fold(he(SS),fe=>fe.throttle)(Q,ge,ee):ee()}ue.set(ge)}}})(g,l.streamContent),A=l.label.map(U=>hm(U,u)),L=_r.parts.field({factory:{sketch:U=>s_(D.from(w),{uid:U.uid,dom:{tag:"iframe",attributes:C,classes:[h,...x]},behaviours:Co([Ma.config({}),Vn.config({}),db(g,T.getValue,T.setValue),Uc.config({channels:{[c_]:{onReceive:(Z,ue)=>{ue.newFocus.each(re=>{Oa(Z.element).each(ge=>{(zr(Z.element,re)?Jr:ma)(ge,"tox-navobj-bordered-focus")})})}}}})])})}});return l0(A,L,["tox-form__group--stretched"],[])})(e,n.shared.providers,a),(e,n,a,l,u)=>{const g=Yo(n,{source:"dynamic"});return So(zT)(e,g,a,l,u)}),button:So((e,n)=>((a,l)=>{const u=_o(a.name,"custom");return g=D.none(),h=_r.parts.field({factory:vl,...jt(a,D.some(u),l,[$v(""),$g()])}),l0(g,h,[],[]);var g,h})(e,n.shared.providers)),checkbox:So((e,n,a)=>((l,u,g)=>{const h=A=>(A.element.dom.click(),D.some(!0)),x=_r.parts.field({factory:{sketch:Xe},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Co([$g(),En.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable,onDisabled:A=>{Oa(A.element).each(L=>Jr(L,"tox-checkbox--disabled"))},onEnabled:A=>{Oa(A.element).each(L=>ma(L,"tox-checkbox--disabled"))}}),Ma.config({}),Vn.config({}),mT(g,ed,iu),Ho.config({mode:"special",onEnter:h,onSpace:h,stopSpaceKeyup:!0}),Yn("checkbox-events",[Wt($l(),(A,L)=>{Nn(A,ld,{name:l.name})})])])}),w=_r.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[gs(u.translate(l.label))],behaviours:Co([Yd.config({})])}),C=A=>Oc(A==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+A]},u.icons),T=Gr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[C("checked"),C("unchecked")]});return _r.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[x,T.asSpec(),w],fieldBehaviours:Co([En.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable}),Zs(()=>u.checkUiComponentContext(l.context))])})})(e,n.shared.providers,a)),colorinput:So((e,n,a)=>((l,u,g,h)=>{const x=_r.parts.field({factory:kp,inputClasses:["tox-textfield"],data:h,onSetValue:A=>$c.run(A).get(Te),inputBehaviours:Co([En.config({disabled:()=>u.providers.isDisabled()||u.providers.checkUiComponentContext(l.context).shouldDisable}),Zs(()=>u.providers.checkUiComponentContext(l.context)),Ma.config({}),$c.config({invalidClass:"tox-textbox-field-invalid",getRoot:A=>Oa(A.element),notify:{onValid:A=>{const L=Go.getValue(A);Nn(A,lT,{color:L})}},validator:{validateOnLoad:!1,validate:A=>{const L=Go.getValue(A);if(L.length===0)return ea(Gn.value(!0));{const U=nn("span");er(U,"background-color",L);const Z=ra(U,"background-color").fold(()=>Gn.error("blah"),ue=>Gn.value(L));return ea(Z)}}}})]),selectOnFocus:!1}),w=l.label.map(A=>hm(A,u.providers)),C=(A,L)=>{Nn(A,cT,{value:L})},T=Gr(((A,L)=>Od.sketch({dom:A.dom,components:A.components,toggleClass:"mce-active",dropdownBehaviours:Co([Sv(()=>L.providers.isDisabled()||L.providers.checkUiComponentContext(A.context).shouldDisable),Zs(()=>L.providers.checkUiComponentContext(A.context)),Yd.config({}),Ma.config({})]),layouts:A.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:L.getSink,fetch:U=>on(Z=>A.fetch(Z)).map(Z=>D.from(Bp(Yo(Iv(se("menu-value"),Z,ue=>{A.onItemAction(U,ue)},A.columns,A.presets,Du.CLOSE_ON_EXECUTE,Vo,L.providers),{movement:Pv(A.columns,A.presets)})))),parts:{menu:mv(0,0,A.presets)}}))({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[xi,di,Qs],onLtr:()=>[di,xi,Qs]},components:[],fetch:gS(g.getColors(l.storageKey),l.storageKey,g.hasCustomColors()),columns:g.getColorCols(l.storageKey),presets:"color",onItemAction:(A,L)=>{T.getOpt(A).each(U=>{L==="custom"?g.colorPicker(Z=>{Z.fold(()=>Mr(U,dT),ue=>{C(U,ue),Bv(l.storageKey,ue)})},"#ffffff"):C(U,L==="remove"?"":L)})},context:l.context},u));return _r.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[x,T.asSpec()]}]),fieldBehaviours:Co([Yn("form-field-events",[Wt(lT,(A,L)=>{T.getOpt(A).each(U=>{er(U.element,"background-color",L.event.color)}),Nn(A,ld,{name:l.name})}),Wt(cT,(A,L)=>{_r.getField(A).each(U=>{Go.setValue(U,L.event.value),$r.getCurrent(A).each(Vn.focus)})}),Wt(dT,(A,L)=>{_r.getField(A).each(U=>{$r.getCurrent(A).each(Vn.focus)})})])])})})(e,n.shared,n.colorinput,a)),colorpicker:So((e,n,a)=>((l,u,g)=>{const h=C=>"tox-"+C,x=fT((C=>T=>ro(T)?C.translate(hT[T]):C.translate(T))(u),h,u.tooltips.getConfig,(C,T,A=C,L=C)=>Oc(A,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+C],attributes:{title:u.translate(L),"aria-live":"polite",...T.fold(()=>({}),U=>({id:U}))}},u.icons)),w=Gr(x.sketch({dom:{tag:"div",classes:[h("color-picker-container")],attributes:{role:"presentation"}},onValidHex:C=>{Nn(C,jg,{name:"hex-valid",value:!0})},onInvalidHex:C=>{Nn(C,jg,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[w.asSpec()],behaviours:Co([db(g,C=>{const T=w.get(C);return $r.getCurrent(T).bind(A=>Go.getValue(A).hex).map(A=>"#"+hn(A,"#")).getOr("")},(C,T)=>{const A=D.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(T)).bind(U=>ye(U,1)),L=w.get(C);$r.getCurrent(L).fold(()=>{},U=>{Go.setValue(U,{hex:A.getOr("")}),Ty.getField(U,"hex").each(Z=>{Mr(Z,ms())})})}),$g()])}})(0,n.shared.providers,a)),dropzone:So((e,n,a)=>u0(e,n.shared.providers,a)),grid:So((e,n)=>((a,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${a.columns}col`]},components:R(a.items,l.interpreter)}))(e,n.shared)),listbox:So((e,n,a)=>((l,u,g)=>{const h=so(l.items,L=>!s(L)),x=u.shared.providers,w=g.bind(L=>d(l.items,L)).orThunk(()=>Ee(l.items).filter(s)),C=l.label.map(L=>hm(L,x)),T=_r.parts.field({dom:{},factory:{sketch:L=>zS({context:l.context,uid:L.uid,text:w.map(U=>U.text),icon:D.none(),tooltip:D.none(),role:De(!h,"combobox"),...h?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(U,Z)=>{const ue=c(U,l.name,l.items,Go.getValue(U),h);Z(r(ue,Du.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:D.none()}))},onSetup:he(Te),getApi:he({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ma.config({}),db(w.map(U=>U.value),U=>Qa(U.element,i),(U,Z)=>{d(l.items,Z).each(ue=>{An(U.element,i,ue.value),Nn(U,Ru,{text:ue.text})})})]},"tox-listbox",u.shared)}}),A={dom:{tag:"div",classes:["tox-listboxfield"]},components:[T]};return _r.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ke([C.toArray(),[A]]),fieldBehaviours:Co([En.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:L=>{_r.getField(L).each(En.disable)},onEnabled:L=>{_r.getField(L).each(En.enable)}})])})})(e,n,a)),selectbox:So((e,n,a)=>((l,u,g)=>{const h=R(l.items,A=>({text:u.translate(A.text),value:A.value})),x=l.label.map(A=>hm(A,u)),w=_r.parts.field({dom:{},...g.map(A=>({data:A})).getOr({}),selectAttributes:{size:l.size},options:h,factory:Gm,selectBehaviours:Co([En.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable}),Ma.config({}),Yn("selectbox-change",[Wt($l(),(A,L)=>{Nn(A,ld,{name:l.name})})])])}),C=l.size>1?D.none():D.some(Oc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),T={dom:{tag:"div",classes:["tox-selectfield"]},components:ke([[w],C.toArray()])};return _r.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ke([x.toArray(),[T]]),fieldBehaviours:Co([En.config({disabled:()=>!l.enabled||u.checkUiComponentContext(l.context).shouldDisable,onDisabled:A=>{_r.getField(A).each(En.disable)},onEnabled:A=>{_r.getField(A).each(En.enable)}}),Zs(()=>u.checkUiComponentContext(l.context))])})})(e,n.shared.providers,a)),sizeinput:So((e,n)=>((a,l)=>{let u=v;const g=se("ratio-event"),h=ge=>Oc(ge,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ge]},l.icons),x=()=>!a.enabled||l.checkUiComponentContext(a.context).shouldDisable,w=Zs(()=>l.checkUiComponentContext(a.context)),C=a.label.getOr("Constrain proportions"),T=l.translate(C),A=ui.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":T,"data-mce-name":C}},components:[h("lock"),h("unlock")],buttonBehaviours:Co([En.config({disabled:x}),w,Ma.config({}),hs.config(l.tooltips.getConfig({tooltipText:T}))])}),L=ge=>({dom:{tag:"div",classes:["tox-form__group"]},components:ge}),U=ge=>_r.parts.field({factory:kp,inputClasses:["tox-textfield"],inputBehaviours:Co([En.config({disabled:x}),w,Ma.config({}),Yn("size-input-events",[Wt(sr(),(Q,ee)=>{Nn(Q,g,{isField1:ge})}),Wt($l(),(Q,ee)=>{Nn(Q,ld,{name:a.name})})])]),selectOnFocus:!1}),Z=ge=>({dom:{tag:"label",classes:["tox-label"]},components:[gs(l.translate(ge))]}),ue=ui.parts.field1(L([_r.parts.label(Z("Width")),U(!0)])),re=ui.parts.field2(L([_r.parts.label(Z("Height")),U(!1)]));return ui.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[ue,re,L([Z(" "),A])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ge,Q,ee)=>{f(Go.getValue(ge)).each(fe=>{u(fe).each(be=>{Go.setValue(Q,m(be))})})},coupledFieldBehaviours:Co([En.config({disabled:x,onDisabled:ge=>{ui.getField1(ge).bind(_r.getField).each(En.disable),ui.getField2(ge).bind(_r.getField).each(En.disable),ui.getLock(ge).each(En.disable)},onEnabled:ge=>{ui.getField1(ge).bind(_r.getField).each(En.enable),ui.getField2(ge).bind(_r.getField).each(En.enable),ui.getLock(ge).each(En.enable)}}),Zs(()=>l.checkUiComponentContext("mode:design")),Yn("size-input-events2",[Wt(g,(ge,Q)=>{const ee=Q.event.isField1,fe=ee?ui.getField1(ge):ui.getField2(ge),be=ee?ui.getField2(ge):ui.getField1(ge),Re=fe.map(Go.getValue).getOr(""),Ge=be.map(Go.getValue).getOr("");u=k(Re,Ge)})])])})})(e,n.shared.providers)),slider:So((e,n,a)=>((l,u,g)=>{const h=um.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[gs(u.translate(l.label))]}),x=um.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=um.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return um.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:he(g.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[h,x,w],sliderBehaviours:Co([$g(),Vn.config({})]),onChoose:(C,T,A)=>{Nn(C,ld,{name:l.name,value:A})},onChange:(C,T,A)=>{Nn(C,ld,{name:l.name,value:A})}})})(e,n.shared.providers,a)),urlinput:So((e,n,a)=>((l,u,g,h)=>{const x=u.shared.providers,w=Q=>{const ee=Go.getValue(Q);g.addToHistory(ee.value,l.filetype)},C={...h.map(Q=>({initialData:Q})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Xo,type:"url"},minChars:0,responseTime:0,fetch:Q=>{const ee=((be,Re,Ge)=>{var mt,Rt;const Xt=Go.getValue(Re),qt=(Rt=(mt=Xt==null?void 0:Xt.meta)===null||mt===void 0?void 0:mt.text)!==null&&Rt!==void 0?Rt:Xt.value;return Ge.getLinkInformation().fold(()=>[],uo=>{const Mo=Ht(qt,(Bn=>R(Bn,Un=>jn(Un,Un)))(Ge.getHistory(be)));return be==="file"?(yn=[Mo,Ht(qt,Tn(uo)),Ht(qt,ke([ct(uo),nt(uo),Ut(uo)]))],co(yn,(Bn,Un)=>Bn.length===0||Un.length===0?Bn.concat(Un):Bn.concat(Dn,Un),[])):Mo;var yn})})(l.filetype,Q,g),fe=r(ee,Du.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:D.none()});return ea(fe)},getHotspot:Q=>re.getOpt(Q),onSetValue:(Q,ee)=>{Q.hasConfigured($c)&&$c.run(Q).get(Te)},typeaheadBehaviours:Co([...g.getValidationHandler().map(Q=>$c.config({getRoot:ee=>Oa(ee.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ee,fe)=>{L.getOpt(ee).each(be=>{An(be.element,"title",x.translate(fe))})}},validator:{validate:ee=>{const fe=Go.getValue(ee);return ta(be=>{Q({type:l.filetype,url:fe.value},Re=>{if(Re.status==="invalid"){const Ge=Gn.error(Re.message);be(Ge)}else{const Ge=Gn.value(Re.message);be(Ge)}})})},validateOnLoad:!1}})).toArray(),En.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable}),Ma.config({}),Yn("urlinput-events",[Wt(ms(),Q=>{const ee=Vs(Q.element),fe=ee.trim();fe!==ee&&Bc(Q.element,fe),l.filetype==="file"&&Nn(Q,ld,{name:l.name})}),Wt($l(),Q=>{Nn(Q,ld,{name:l.name}),w(Q)}),Wt(Gp(),Q=>{Nn(Q,ld,{name:l.name}),w(Q)})])]),eventOrder:{[ms()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Q=>Q.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:mv(0,0,"normal")},onExecute:(Q,ee,fe)=>{Nn(ee,jv,{})},onItemExecute:(Q,ee,fe,be)=>{w(Q),Nn(Q,ld,{name:l.name})}},T=_r.parts.field({...C,factory:Hy}),A=l.label.map(Q=>hm(Q,x)),L=Gr(((Q,ee,fe=Q,be=Q)=>Oc(fe,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Q],attributes:{title:x.translate(be),"aria-live":"polite",...ee.fold(()=>({}),Re=>({id:Re}))}},x.icons))("invalid",D.some(Xo),"warning")),U=Gr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[L.asSpec()]}),Z=g.getUrlPicker(l.filetype),ue=se("browser.url.event"),re=Gr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[T,U.asSpec()],behaviours:Co([En.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable})])}),ge=Gr(Lo({context:l.context,name:l.name,icon:D.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:D.none(),borderless:!0},Q=>Mr(Q,ue),x,[],["tox-browse-url"]));return _r.sketch({dom:rT([]),components:A.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ke([[re.asSpec()],Z.map(()=>ge.asSpec()).toArray()])}]),fieldBehaviours:Co([En.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:Q=>{_r.getField(Q).each(En.disable),ge.getOpt(Q).each(En.disable)},onEnabled:Q=>{_r.getField(Q).each(En.enable),ge.getOpt(Q).each(En.enable)}}),Zs(()=>x.checkUiComponentContext(l.context)),Yn("url-input-events",[Wt(ue,Q=>{$r.getCurrent(Q).each(ee=>{const fe=Go.getValue(ee),be={fieldname:l.name,...fe};Z.each(Re=>{Re(be).get(Ge=>{Go.setValue(ee,Ge),Nn(Q,ld,{name:l.name})})})})})])])})})(e,n,n.urlinput,a)),customeditor:So(e=>{const n=ko(),a=Gr({dom:{tag:e.tag}}),l=ko(),u=!wS(e)&&e.onFocus.isSome()?[Vn.config({onFocus:g=>{e.onFocus.each(h=>{h(g.element.dom)})}}),Ma.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Co([Yn("custom-editor-events",[Ia(g=>{a.getOpt(g).each(h=>{(wS(e)?e.init(h.element.dom):q6.load(e.scriptId,e.scriptUrl).then(x=>x(h.element.dom,e.settings))).then(x=>{l.on(w=>{x.setValue(w)}),l.clear(),n.set(x)})})})]),db(D.none(),()=>n.get().fold(()=>l.get().getOr(""),g=>g.getValue()),(g,h)=>{n.get().fold(()=>l.set(h),x=>x.setValue(h))}),$g()].concat(u)),components:[a.asSpec()]}}),htmlpanel:So((e,n)=>((a,l)=>{const u=["tox-form__group",...a.stretched?["tox-form__group--stretched"]:[]],g=Yn("htmlpanel",[Ia(h=>{a.onInit(h.element.dom)})]);return a.presets==="presentation"?im.sketch({dom:{tag:"div",classes:u,innerHtml:a.html},containerBehaviours:Co([hs.config({...l.tooltips.getConfig({tooltipText:"",onShow:h=>{qr(h.element,"[data-mce-tooltip]:hover").orThunk(()=>Nr(h.element)).each(x=>{ba(x,"data-mce-tooltip").each(w=>{hs.setComponents(h,l.tooltips.getComponents({tooltipText:w}))})})}}),mode:"children-normal",anchor:h=>({type:"node",node:qr(h.element,"[data-mce-tooltip]:hover").orThunk(()=>Nr(h.element).filter(x=>ba(x,"data-mce-tooltip").isSome())),root:h.element,layouts:{onLtr:he([Qs,Hi,di,tl,xi,ol]),onRtl:he([Qs,Hi,di,tl,xi,ol])},bubble:Nl(0,-2,{})})}),g])}):im.sketch({dom:{tag:"div",classes:u,innerHtml:a.html,attributes:{role:"document"}},containerBehaviours:Co([Ma.config({}),Vn.config({}),g])})})(e,n.shared.providers)),imagepreview:So((e,n,a)=>((l,u)=>{const g=fo(u.getOr({url:""})),h=Gr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map(T=>({src:T.url})).getOr({})}}),x=Gr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[h.asSpec()]}),w={};l.height.each(T=>w.height=T);const C=u.map(T=>({url:T.url,zoom:D.from(T.zoom),cachedWidth:D.from(T.cachedWidth),cachedHeight:D.from(T.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[x.asSpec()],behaviours:Co([$g(),db(C,()=>g.get(),(T,A)=>{const L={url:A.url};A.zoom.each(Z=>L.zoom=Z),A.cachedWidth.each(Z=>L.cachedWidth=Z),A.cachedHeight.each(Z=>L.cachedHeight=Z),g.set(L);const U=()=>{const{cachedWidth:Z,cachedHeight:ue,zoom:re}=L;if(!tn(Z)&&!tn(ue)){if(tn(re)){const Q=((ee,fe,be)=>{const Re=Fi(ee),Ge=Fa(ee);return Math.min(Re/fe,Ge/be,1)})(T.element,Z,ue);L.zoom=Q}const ge=((Q,ee,fe,be,Re)=>{const Ge=fe*Re,mt=be*Re,Rt=Math.max(0,Q/2-Ge/2),Xt=Math.max(0,ee/2-mt/2);return{left:Rt.toString()+"px",top:Xt.toString()+"px",width:Ge.toString()+"px",height:mt.toString()+"px"}})(Fi(T.element),Fa(T.element),Z,ue,L.zoom);x.getOpt(T).each(Q=>{Aa(Q.element,ge)})}};h.getOpt(T).each(Z=>{const ue=Z.element;A.url!==Qa(ue,"src")&&(An(ue,"src",A.url),ma(T.element,"tox-imagepreview__loaded")),U(),ym(ue).then(re=>{T.getSystem().isConnected()&&(Jr(T.element,"tox-imagepreview__loaded"),L.cachedWidth=re.dom.naturalWidth,L.cachedHeight=re.dom.naturalHeight,U())})})})])}})(e,a)),table:So((e,n)=>((a,l)=>{const u=x=>({dom:{tag:"td",innerHtml:l.translate(x)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(h=a.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:R(h,x=>({dom:{tag:"th",innerHtml:l.translate(x)}}))}]}),(g=a.cells,{dom:{tag:"tbody"},components:R(g,x=>({dom:{tag:"tr"},components:R(x,u)}))})],behaviours:Co([Ma.config({}),Vn.config({})])};var g,h})(e,n.shared.providers)),tree:So((e,n)=>((a,l)=>{const u=a.onLeafAction.getOr(Te),g=a.onToggleExpand.getOr(Te),h=a.defaultExpandedIds,x=fo(h),w=fo(a.defaultSelectedId),C=se("tree-id"),T=(A,L)=>a.items.map(U=>U.type==="leaf"?X({leaf:U,selectedId:A,onLeafAction:u,visible:!0,treeId:C,backstage:l}):at({directory:U,selectedId:A,onLeafAction:u,expandedIds:L,labelTabstopping:!0,treeId:C,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:T(w.get(),x.get()),behaviours:Co([Ho.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Yn(Mt,[Wt("expand-tree-node",(A,L)=>{const{expanded:U,node:Z}=L.event;x.set(U?[...x.get(),Z]:x.get().filter(ue=>ue!==Z)),g(x.get(),{expanded:U,node:Z})})]),Uc.config({channels:{[`update-active-item-${C}`]:{onReceive:(A,L)=>{w.set(D.some(L.value)),or.set(A,T(D.some(L.value),x.get()))}}}}),or.config({})])}})(e,n)),panel:So((e,n)=>((a,l)=>({dom:{tag:"div",classes:a.classes},components:R(a.items,l.shared.interpreter)}))(e,n))},Jn={field:(e,n)=>n,record:he([])},fr=(e,n,a,l,u)=>{const g=Yo(l,{shared:{interpreter:h=>ns(e,h,a,g,u)}});return ns(e,n,a,g,u)},ns=(e,n,a,l,u)=>ft($n,n.type).fold(()=>(console.error(`Unknown factory type "${n.type}", defaulting to container: `,n),n),g=>g(e,n,a,l,u)),_s=(e,n,a,l)=>ns(Jn,e,n,a,l),tu={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},mn=(e,n,a)=>{const l={maxHeightFunction:sp()};return()=>a()?{type:"node",root:bc(Na(e())),node:D.from(e()),bubble:Nl(12,12,tu),layouts:{onRtl:()=>[kg],onLtr:()=>[ap]},overrides:l}:{type:"hotspot",hotspot:n(),bubble:Nl(-12,12,tu),layouts:{onRtl:()=>[di,xi,Qs],onLtr:()=>[xi,di,Qs]},overrides:l}},xr=(e,n,a,l)=>{const u={maxHeightFunction:sp()};return()=>l()?{type:"node",root:bc(Na(n())),node:D.from(n()),bubble:Nl(12,12,tu),layouts:{onRtl:()=>[jc],onLtr:()=>[jc]},overrides:u}:e?{type:"node",root:bc(Na(n())),node:D.from(n()),bubble:Nl(0,-Xr(n()),tu),layouts:{onRtl:()=>[Hi],onLtr:()=>[Hi]},overrides:u}:{type:"hotspot",hotspot:a(),bubble:Nl(0,0,tu),layouts:{onRtl:()=>[Hi],onLtr:()=>[Hi]},overrides:u}},jr=(e,n,a)=>()=>a()?{type:"node",root:bc(Na(e())),node:D.from(e()),layouts:{onRtl:()=>[jc],onLtr:()=>[jc]}}:{type:"hotspot",hotspot:n(),layouts:{onRtl:()=>[Qs],onLtr:()=>[Qs]}},dr=(e,n)=>()=>({type:"selection",root:n(),getSelection:()=>{const a=e.selection.getRng(),l=e.model.table.getSelectedCells();if(l.length>1){const u=l[0],g=l[l.length-1],h={firstCell:eo(u),lastCell:eo(g)};return D.some(h)}return D.some(tc.range(eo(a.startContainer),a.startOffset,eo(a.endContainer),a.endOffset))}}),pa=e=>n=>({type:"node",root:e(),node:n}),bs=(e,n,a,l)=>{const u=Bf(e),g=()=>eo(e.getBody()),h=()=>eo(e.getContentAreaContainer()),x=()=>u||!l();return{inlineDialog:mn(h,n,x),inlineBottomDialog:xr(e.inline,h,a,x),banner:jr(h,n,x),cursor:dr(e,g),node:pa(g)}},ln=e=>(n,a)=>{GA(e)(n,a)},tr=e=>()=>jA(e),as=e=>n=>Lv(e,n),ss=e=>n=>dS(e,n),_i=e=>()=>OC(e),Ml=e=>Rn(e,"items"),bm=e=>Rn(e,"format"),gc=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],ou=e=>co(e,(n,a)=>{if(bo(a,"items")){const l=ou(a.items);return{customFormats:n.customFormats.concat(l.customFormats),formats:n.formats.concat([{title:a.title,items:l.formats}])}}if(bo(a,"inline")||(l=>bo(l,"block"))(a)||(l=>bo(l,"selector"))(a)){const l=`custom-${ro(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:n.customFormats.concat([{name:l,format:a}]),formats:n.formats.concat([{title:a.title,format:l,icon:a.icon}])}}return{...n,formats:n.formats.concat(a)}},{customFormats:[],formats:[]}),il=e=>SC(e).map(n=>{const a=((l,u)=>{const g=ou(u),h=x=>{ut(x,w=>{l.formatter.has(w.name)||l.formatter.register(w.name,w.format)})};return l.formatter?h(g.customFormats):l.on("init",()=>{h(g.customFormats)}),g.formats})(e,n);return EC(e)?gc.concat(a):a}).getOr(gc),Kf=(e,n,a)=>({...e,type:"formatter",isSelected:n(e.format),getStylePreview:a(e.format)}),Ip=(e,n,a,l)=>{const u=g=>R(g,h=>Ml(h)?(x=>{const w=u(x.items);return{...x,type:"submenu",getStyleItems:he(w)}})(h):bm(h)?(x=>Kf(x,a,l))(h):(x=>{const w=dt(x);return w.length===1&&vt(w,"title")})(h)?{...h,type:"separator"}:(x=>{const w=ro(x.name)?x.name:se(x.title),C=`custom-${w}`,T={...x,type:"formatter",format:C,isSelected:a(C),getStylePreview:l(C)};return e.formatter.register(w,T),T})(h));return u(n)},qg=e=>{let n=0;const a=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[gs(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>n>0?60:300,delayForHide:he(300),exclusive:!0,lazySink:e,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:a(l),onShow:(u,g)=>{n++,l.onShow&&l.onShow(u,g)},onHide:(u,g)=>{n--,l.onHide&&l.onHide(u,g)},onSetup:l.onSetup}),getComponents:a}},Bu=Ug.trim,Pp=e=>n=>!!((a=>Je(a)&&a.nodeType===1)(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Hp=Pp("true"),Wg=Pp("false"),Gv=(e,n,a,l,u)=>({type:e,title:n,url:a,level:l,attach:u}),dd=e=>e.innerText||e.textContent,Vp=e=>(n=>n&&n.nodeName==="A"&&(n.id||n.name)!==void 0)(e)&&jp(e),Yf=e=>e&&/^(H[1-6])$/.test(e.nodeName),jp=e=>(n=>{let a=n;for(;a=a.parentNode;){const l=a.contentEditable;if(l&&l!=="inherit")return Hp(a)}return!1})(e)&&!Wg(e),G6=e=>Yf(e)&&jp(e),Nc=e=>{var n;const a=(l=>l.id?l.id:se("h"))(e);return Gv("header",(n=dd(e))!==null&&n!==void 0?n:"","#"+a,(l=>Yf(l)?parseInt(l.nodeName.substr(1),10):0)(e),()=>{e.id=a})},h0=e=>{const n=e.id||e.name,a=dd(e);return Gv("anchor",a||"#"+n,"#"+n,0,Te)},K6=e=>Bu(e.title).length>0,kT=e=>{const n=(a=>R(Ys(eo(a),"h1,h2,h3,h4,h5,h6,a:not([href])"),u=>u.dom))(e);return Bt((a=>R(Bt(a,G6),Nc))(n).concat((a=>R(Bt(a,Vp),h0))(n)),K6)},b0="tinymce-url-history",TS=e=>ro(e)&&/^https?/.test(e),OS=e=>gn(e)&&Dt(e,n=>{return!(go(a=n)&&a.length<=5&&Uo(a,TS));var a}).isNone(),tg=()=>{const e=qf.getItem(b0);if(e===null)return{};let n;try{n=JSON.parse(e)}catch(a){if(a instanceof SyntaxError)return""+b0,{};throw a}return OS(n)?n:(""+b0,{})},Kv=e=>{const n=tg();return ft(n,e).getOr([])},_T=(e,n)=>{if(!TS(e))return;const a=tg(),l=ft(a,n).getOr([]),u=Bt(l,g=>g!==e);a[n]=[e].concat(u).slice(0,5),(g=>{if(!OS(g))throw new Error(`Bad format for history:
`+JSON.stringify(g));qf.setItem(b0,JSON.stringify(g))})(a)},NS=e=>!!e,DS=e=>rt(Ug.makeMap(e,/[, ]/),NS),m_=e=>D.from(lz(e)),Gg=e=>D.from(e).filter(ro).getOrUndefined(),CT=e=>({getHistory:Kv,addToHistory:_T,getLinkInformation:()=>(n=>Ww(n)?D.some({targets:kT(n.getBody()),anchorTop:Gg(Gw(n)),anchorBottom:Gg(Xd(n))}):D.none())(e),getValidationHandler:()=>(n=>D.from(cz(n)))(e),getUrlPicker:n=>((a,l)=>((u,g)=>{const h=(x=>{const w=D.from(qw(x)).filter(NS).map(DS);return m_(x).fold(Vo,C=>w.fold(Nt,T=>dt(T).length>0&&T))})(u);return kn(h)?h?m_(u):D.none():h[g]?m_(u):D.none()})(a,l).map(u=>g=>on(h=>{const x={filetype:l,fieldname:g.fieldname,...D.from(g.meta).getOr({})};u.call(a,(w,C)=>{if(!ro(w))throw new Error("Expected value to be string");if(C!==void 0&&!gn(C))throw new Error("Expected meta to be a object");h({value:w,meta:C})},g.value,x)})))(e,n)}),ST=Te,ET=Vo,MS=he([]);var zT,Ct=Object.freeze({__proto__:null,setup:ST,isDocked:ET,getBehaviours:MS});const hr=he(se("toolbar-height-change")),In={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},is="tox-tinymce--toolbar-sticky-on",Ts="tox-tinymce--toolbar-sticky-off",Ta=(e,n)=>vt(fs.getModes(e),n),Rl=e=>{const n=e.element;Oa(n).each(a=>{const l="padding-"+fs.getModes(e)[0];if(fs.isDocked(e)){const u=Fi(a);er(n,"width",u+"px"),er(a,l,(g=>Xr(g)+(parseInt(Ds(g,"margin-top"),10)||0)+(parseInt(Ds(g,"margin-bottom"),10)||0))(n)+"px")}else br(n,"width"),br(a,l)})},Kg=(e,n)=>{n?(ma(e,In.fadeOutClass),Pl(e,[In.transitionClass,In.fadeInClass])):(ma(e,In.fadeInClass),Pl(e,[In.fadeOutClass,In.transitionClass]))},og=(e,n)=>{const a=eo(e.getContainer());n?(Jr(a,is),ma(a,Ts)):(Jr(a,Ts),ma(a,is))},Dc=(e,n)=>{const a=ko(),l=n.getSink,u=x=>{l().each(w=>x(w.element))},g=x=>{e.inline||Rl(x),og(e,fs.isDocked(x)),x.getSystem().broadcastOn([Mg()],{}),l().each(w=>w.getSystem().broadcastOn([Mg()],{}))},h=e.inline?[]:[Uc.config({channels:{[hr()]:{onReceive:Rl}}})];return[Vn.config({}),fs.config({contextual:{lazyContext:x=>{const w=Xr(x.element),C=e.inline?e.getContentAreaContainer():e.getContainer();return D.from(C).map(T=>{const A=js(eo(T));return qc(e,x.element).fold(()=>{const L=A.height-w,U=A.y+(Ta(x,"top")?0:w);return Xs(A.x,U,A.width,L)},L=>{const U=$u(A,Ap(L)),Z=Ta(x,"top")?U.y:U.y+w;return Xs(U.x,Z,U.width,U.height-w)})})},onShow:()=>{u(x=>Kg(x,!0))},onShown:x=>{u(w=>ii(w,[In.transitionClass,In.fadeInClass])),a.get().each(w=>{((C,T)=>{const A=vo(T);lr(A).filter(L=>!zr(T,L)).filter(L=>zr(L,eo(A.dom.body))||oi(C,L)).each(()=>lt(T))})(x.element,w),a.clear()})},onHide:x=>{((w,C)=>Nr(w).orThunk(()=>C().toOptional().bind(T=>Nr(T.element))))(x.element,l).fold(a.clear,a.set),u(w=>Kg(w,!1))},onHidden:()=>{u(x=>ii(x,[In.transitionClass]))},...In},lazyViewport:x=>qc(e,x.element).fold(()=>{const w=bi(),C=Ig(e),T=w.y+(Ta(x,"top")&&!HC(e)?C:0),A=w.height-(Ta(x,"bottom")?C:0);return{bounds:Xs(w.x,T,w.width,A),optScrollEnv:D.none()}},w=>({bounds:Ap(w),optScrollEnv:D.some({currentScrollTop:w.element.dom.scrollTop,scrollElmTop:Ji(w.element).top})})),modes:[n.header.getDockingMode()],onDocked:g,onUndocked:g}),...h]};var Y6=Object.freeze({__proto__:null,setup:(e,n,a)=>{e.inline||(n.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{a().each(fs.reset)}),e.on("ResizeWindow ResizeEditor",()=>{a().each(Rl)}),e.on("SkinLoaded",()=>{a().each(l=>{fs.isDocked(l)?fs.reset(l):fs.refresh(l)})}),e.on("FullscreenStateChanged",()=>{a().each(fs.reset)})),e.on("AfterScrollIntoView",l=>{a().each(u=>{fs.refresh(u);const g=u.element;El(g)&&((h,x)=>{const w=vo(x),C=ka(x).dom.innerHeight,T=Ui(w),A=eo(h.elm),L=vd(A),U=Fa(A),Z=L.y,ue=Z+U,re=Ji(x),ge=Fa(x),Q=re.top,ee=Q+ge,fe=Math.abs(Q-T.top)<2,be=Math.abs(ee-(T.top+C))<2;if(fe&&Z<ee)Qi(T.left,Z-ge,w);else if(be&&ue>Q){const Re=Z-C+U+ge;Qi(T.left,Re,w)}})(l,g)})}),e.on("PostRender",()=>{og(e,!1)})},isDocked:e=>e().map(fs.isDocked).getOr(!1),getBehaviours:Dc}),g_=Td({factory:(e,n)=>{const a={focus:Ho.focusIn,setMenus:(l,u)=>{const g=R(u,h=>{const x={type:"menubutton",text:h.text,fetch:C=>{C(h.getItems())},context:"any"},w=N4(x).mapError(C=>gu(C)).getOrDie();return N(w,"tox-mbtn",n.backstage,D.some("menuitem"))});or.set(l,g)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Co([or.config({}),Yn("menubar-events",[Ia(l=>{e.onSetup(l)}),Wt(Hn(),(l,u)=>{qr(l.element,".tox-mbtn--active").each(g=>{Il(u.event.target,".tox-mbtn").each(h=>{zr(g,h)||l.getSystem().getByDom(g).each(x=>{l.getSystem().getByDom(h).each(w=>{Od.expand(w),Od.close(x),Vn.focus(w)})})})})}),Wt(Cb(),(l,u)=>{u.event.prevFocus.bind(g=>l.getSystem().getByDom(g).toOptional()).each(g=>{u.event.newFocus.bind(h=>l.getSystem().getByDom(h).toOptional()).each(h=>{Od.isOpen(g)&&(Od.expand(h),Od.close(g))})})})]),Ho.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(e.onEscape(l),D.some(!0))}),Ma.config({})]),apis:a,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ho("dom"),ho("uid"),ho("onEscape"),ho("backstage"),kt("onSetup",Te)],apis:{focus:(e,n)=>{e.focus(n)},setMenus:(e,n,a)=>{e.setMenus(n,a)}}});const AT=e=>({element:()=>e.element.dom}),tM=(e,n)=>{const a=R(dt(n),l=>{const u=n[l],g=qi((h=>os("sidebar",F6,h))(u));return{name:l,getApi:AT,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return R(a,l=>{const u=fo(Te);return e.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:e0([pm(l,u),Vg(l,u),Wt(gg(),(g,h)=>{const x=h.event;xo(a,C=>C.name===x.name).each(C=>{(x.visible?C.onShow:C.onHide)(C.getApi(g))})})])})})},oM=e=>Xl.sketch(n=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:tM(n,e),slotBehaviours:e0([Ia(a=>Xl.hideAllSlots(a))])})),TT=(e,n)=>{An(e,"role",n)},nM=e=>$r.getCurrent(e).bind(n=>Zc.isGrowing(n)||Zc.hasGrown(n)?$r.getCurrent(n).bind(a=>xo(Xl.getSlotNames(a),l=>Xl.isShowing(a,l))):D.none()),X6=se("FixSizeEvent"),J6=se("AutoSizeEvent"),FO=e=>$r.getCurrent(e).each(n=>lt(n.element,!0)),rM=(e,n,a)=>{const l=fo(!1),u=ko(),g=x=>{var w;l.get()&&(!(C=>C.type==="focusin")(w=x)||!(w.composed?Ee(w.composedPath()):D.from(w.target)).map(eo).filter(lo).exists(C=>fi(C,"mce-pastebin")))&&(x.preventDefault(),FO(n()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",g),e.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&g(x)})});const h=x=>{x!==l.get()&&(l.set(x),((w,C,T,A)=>{const L=C.element;if(((U,Z)=>{const ue="tabindex",re=`data-mce-${ue}`;D.from(U.iframeElement).map(eo).each(ge=>{Z?(ba(ge,ue).each(Q=>An(ge,re,Q)),An(ge,ue,-1)):(ya(ge,ue),ba(ge,re).each(Q=>{An(ge,ue,Q),ya(ge,re)}))})})(w,T),T)Um.block(C,(U=>(Z,ue)=>({dom:{tag:"div",attributes:{"aria-label":U.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:qm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(A)),br(L,"display"),ya(L,"aria-hidden"),w.hasFocus()&&FO(C);else{const U=$r.getCurrent(C).exists(Z=>rn(Z.element));Um.unblock(C),er(L,"display","none"),An(L,"aria-hidden","true"),U&&w.focus()}})(e,n(),x,a.providers),((w,C)=>{w.dispatch("AfterProgressState",{state:C})})(e,x))};e.on("ProgressState",x=>{if(u.on(clearTimeout),no(x.time)){const w=sd.setEditorTimeout(e,()=>h(x.state),x.time);u.set(w)}else h(x.state),u.clear()})},LO=e=>{const n=e.label.isNone()?e.title.fold(()=>({}),a=>({attributes:{"aria-label":a}})):e.label.fold(()=>({}),a=>({attributes:{"aria-label":a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(e.label.isSome()?["tox-toolbar__group_with_label"]:[]),...n},components:[...e.label.map(a=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[gs(a)]})).toArray(),Lg.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Co([Ma.config({}),Vn.config({ignore:!0})])}},OT=e=>Lg.sketch(LO(e)),IO=(e,n)=>{const a=Ia(l=>{const u=R(e.initGroups,OT);xl.setGroups(l,u)});return Co([Ev(()=>e.providers.checkUiComponentContext("any").shouldDisable),Zs(()=>e.providers.checkUiComponentContext("any")),Ho.config({mode:n,onEscape:e.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),Yn("toolbar-events",[a])])},PO=e=>{const n=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":LO({title:D.none(),label:D.none(),items:[]}),"overflow-button":Ze({context:"any",icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items")},D.none(),e.providers,[],"overflow-button")},splitToolbarBehaviours:IO(e,n)}},aM=e=>{const n=PO(e),a=Q1.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Q1.sketch({...n,lazySink:e.getSink,getOverflowBounds:()=>{const l=e.moreDrawerData.lazyHeader().element,u=vd(l),g=Wn(l),h=vd(g),x=Math.max(g.dom.scrollHeight,h.height);return Xs(u.x+4,h.y,u.width-8,x)},parts:{...n.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[a],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>e.onToggled(l,!0),onClosed:l=>e.onToggled(l,!1)})},sM=e=>{const n=Fw.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=Fw.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=PO(e);return Fw.sketch({...l,components:[n,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>{u.getSystem().broadcastOn([hr()],{type:"opened"}),e.onToggled(u,!0)},onClosed:u=>{u.getSystem().broadcastOn([hr()],{type:"closed"}),e.onToggled(u,!1)}})},Q6=e=>{const n=e.cyclicKeying?"cyclic":"acyclic";return xl.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Ou.scrolling?["tox-toolbar--scrolling"]:[])},components:[xl.parts.groups({})],toolbarBehaviours:IO(e,n)})},HO=(e,n)=>((a,l)=>{var u,g;const h=a.type==="togglebutton",x=a.icon.map(Q=>Lp(Q,l.icons)).map(Gr),w={...a,name:h?a.text.getOr(a.icon.getOr("")):(u=a.text)!==null&&u!==void 0?u:a.icon.getOr(""),primary:a.buttonType==="primary",buttonType:D.from(a.buttonType),tooltip:a.tooltip,icon:a.icon,enabled:!0,borderless:a.borderless},C=et((g=a.buttonType)!==null&&g!==void 0?g:"secondary"),T=h?a.text.map(l.translate):D.some(l.translate(a.text)),A=T.map(gs),L=w.tooltip.or(T).map(Q=>({"aria-label":l.translate(Q)})).getOr({}),U=x.map(Q=>Q.asSpec()),Z=ab([U,A]),ue=a.icon.isSome()&&A.isSome(),re={tag:"button",classes:C.concat(...a.icon.isSome()&&!ue?["tox-button--icon"]:[]).concat(...ue?["tox-button--icon-and-text"]:[]).concat(...a.borderless?["tox-button--naked"]:[]).concat(...a.type==="togglebutton"&&a.active?["tox-button--enabled"]:[]),attributes:L},ge=Ae(w,D.some(Q=>{const ee=fe=>{x.map(be=>be.getOpt(Q).each(Re=>{or.set(Re,[Lp(fe,l.icons)])}))};return h?a.onAction({setIcon:ee,setActive:fe=>{const be=Q.element;fe?(Jr(be,"tox-button--enabled"),An(be,"aria-pressed",!0)):(ma(be,"tox-button--enabled"),ya(be,"aria-pressed"))},isActive:()=>fi(Q.element,"tox-button--enabled"),focus:()=>lt(Q.element)}):a.type==="button"?a.onAction({setIcon:ee}):void 0}),[],re,Z,a.tooltip,l);return vl.sketch(ge)})(e,n),VO=st().deviceType,iM=VO.isPhone(),lM=VO.isTablet();var p_=cc({name:"silver.View",configFields:[ho("viewConfig")],partFields:[ic({factory:{sketch:e=>{let n=!1;const a=R(e.buttons,l=>l.type==="group"?(n=!0,((u,g)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:R(u.buttons,h=>HO(h,g))}))(l,e.providers)):HO(l,e.providers));return{uid:e.uid,dom:{tag:"div",classes:[n?"tox-view__toolbar":"tox-view__header",...iM||lM?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Co([Vn.config({}),Ho.config({mode:"flow",selector:"button, .tox-button",focusInside:ad.OnEnterOrSpaceMode})]),components:n?a:[im.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),im.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}}},schema:[ho("buttons"),ho("providers")],name:"header"}),ic({factory:{sketch:e=>({uid:e.uid,behaviours:Co([Vn.config({}),Ma.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,n,a,l)=>{const u={getPane:g=>Gi.getPart(g,e,"pane"),getOnShow:g=>e.viewConfig.onShow,getOnHide:g=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:n,behaviours:Co([Vn.config({}),Ho.config({mode:"cyclic",focusInside:ad.OnEnterOrSpaceMode})]),apis:u}},apis:{getPane:(e,n)=>e.getPane(n),getOnShow:(e,n)=>e.getOnShow(n),getOnHide:(e,n)=>e.getOnHide(n)}});const cM=(e,n,a)=>_n(n,(l,u)=>{const g=qi(os("view",P6,l));return e.slot(u,p_.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[p_.parts.header({buttons:g.buttons,providers:a})]:[],p_.parts.pane({})]}))}),dM=(e,n)=>Xl.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:cM(a,e,n),slotBehaviours:e0([Ia(l=>Xl.hideAllSlots(l))])})),jO=e=>xo(Xl.getSlotNames(e),n=>Xl.isShowing(e,n)),$O=(e,n,a)=>{Xl.getSlot(e,n).each(l=>{p_.getPane(l).each(u=>{var g;a(l)((g=u.element.dom,{getContainer:he(g)}))})})};var NT=Td({factory:(e,n)=>{const a={setViews:(l,u)=>{or.set(l,[dM(u,n.backstage.shared.providers)])},whichView:l=>$r.getCurrent(l).bind(jO),toggleView:(l,u,g,h)=>$r.getCurrent(l).exists(x=>{const w=jO(x),C=w.exists(A=>h===A),T=Xl.getSlot(x,h).isSome();return T&&(Xl.hideAllSlots(x),C?((A=>{const L=A.element;er(L,"display","none"),An(L,"aria-hidden","true")})(l),u()):(g(),(A=>{const L=A.element;br(L,"display"),ya(L,"aria-hidden")})(l),Xl.showSlot(x,h),((A,L)=>{$O(A,L,p_.getOnShow)})(x,h)),w.each(A=>((L,U)=>$O(L,U,p_.getOnHide))(x,A))),T})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Co([or.config({}),$r.config({find:l=>{const u=or.contents(l);return Ee(u)}})]),apis:a}},name:"silver.ViewWrapper",configFields:[ho("backstage")],apis:{setViews:(e,n,a)=>e.setViews(n,a),toggleView:(e,n,a,l,u)=>e.toggleView(n,a,l,u),whichView:(e,n)=>e.whichView(n)}});const uM=lm.optional({factory:g_,name:"menubar",schema:[ho("backstage")]}),mM=lm.optional({factory:{sketch:e=>O2.sketch({uid:e.uid,dom:e.dom,listBehaviours:Co([Ho.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Q6({type:e.type,uid:se("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),D.some(!0))}),setupItem:(n,a,l,u)=>{xl.setGroups(a,l)},shell:!0})},name:"multiple-toolbar",schema:[ho("dom"),ho("onEscape")]}),gM=lm.optional({factory:{sketch:e=>(a=>a.type===Ou.sliding?sM:a.type===Ou.floating?aM:Q6)(e)({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),D.some(!0)),onToggled:(a,l)=>e.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})},name:"toolbar",schema:[ho("dom"),ho("onEscape"),ho("getSink")]}),pM=lm.optional({factory:{sketch:e=>{const n=e.editor,a=e.sticky?Dc:MS;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Co(a(n,e.sharedBackstage))}}},name:"header",schema:[ho("dom")]}),fM=lm.optional({factory:{sketch:e=>{const n=e.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝Get all features"}}]:[];return{uid:e.uid,dom:e.dom,components:n}}},name:"promotion",schema:[ho("dom"),ho("promotionLink")]}),hM=lm.optional({name:"socket",schema:[ho("dom")]}),bM=lm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Co([Ma.config({}),Vn.config({}),Zc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:n=>{$r.getCurrent(n).each(Xl.hideAllSlots),Mr(n,J6)},onGrown:n=>{Mr(n,J6)},onStartGrow:n=>{Nn(n,X6,{width:ra(n.element,"width").getOr("")})},onStartShrink:n=>{Nn(n,X6,{width:Fi(n.element)+"px"})}}),or.config({}),$r.config({find:n=>{const a=or.contents(n);return Ee(a)}})])}],behaviours:Co([e_(0),Yn("sidebar-sliding-events",[Wt(X6,(n,a)=>{er(n.element,"width",a.event.width)}),Wt(J6,(n,a)=>{br(n.element,"width")})])])})},name:"sidebar",schema:[ho("dom")]}),yM=lm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Co([or.config({}),Um.config({focus:!1}),$r.config({find:n=>Ee(n.components())})]),components:[]})},name:"throbber",schema:[ho("dom")]}),vM=lm.optional({factory:NT,name:"viewWrapper",schema:[ho("backstage")]}),xM=lm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var ys=cc({name:"OuterContainer",factory:(e,n,a)=>{let l=!1;const u=h=>{ag(h,".tox-statusbar").each(x=>{Ds(x,"display")==="none"&&Qa(x,"aria-hidden")==="true"?(br(x,"display"),ya(x,"aria-hidden")):(er(x,"display","none"),An(x,"aria-hidden","true"))})},g={getSocket:h=>Gi.getPart(h,e,"socket"),setSidebar:(h,x,w)=>{Gi.getPart(h,e,"sidebar").each(C=>((T,A,L)=>{$r.getCurrent(T).each(U=>{or.set(U,[oM(A)]);const Z=L==null?void 0:L.toLowerCase();ro(Z)&&bo(A,Z)&&$r.getCurrent(U).each(ue=>{Xl.showSlot(ue,Z),Zc.immediateGrow(U),br(U.element,"width"),TT(T.element,"region")})})})(C,x,w))},toggleSidebar:(h,x)=>{Gi.getPart(h,e,"sidebar").each(w=>((C,T)=>{$r.getCurrent(C).each(A=>{$r.getCurrent(A).each(L=>{Zc.hasGrown(A)?Xl.isShowing(L,T)?(Zc.shrink(A),TT(C.element,"presentation")):(Xl.hideAllSlots(L),Xl.showSlot(L,T),TT(C.element,"region")):(Xl.hideAllSlots(L),Xl.showSlot(L,T),Zc.grow(A),TT(C.element,"region"))})})})(w,x))},whichSidebar:h=>Gi.getPart(h,e,"sidebar").bind(nM).getOrNull(),getHeader:h=>Gi.getPart(h,e,"header"),getToolbar:h=>Gi.getPart(h,e,"toolbar"),setToolbar:(h,x)=>{Gi.getPart(h,e,"toolbar").each(w=>{const C=R(x,OT);w.getApis().setGroups(w,C)})},setToolbars:(h,x)=>{Gi.getPart(h,e,"multiple-toolbar").each(w=>{const C=R(x,T=>R(T,OT));O2.setItems(w,C)})},refreshToolbar:h=>{Gi.getPart(h,e,"toolbar").each(x=>x.getApis().refresh(x))},toggleToolbarDrawer:h=>{Gi.getPart(h,e,"toolbar").each(x=>{Fs(x.getApis().toggle,w=>w(x))})},toggleToolbarDrawerWithoutFocusing:h=>{Gi.getPart(h,e,"toolbar").each(x=>{Fs(x.getApis().toggleWithoutFocusing,w=>w(x))})},isToolbarDrawerToggled:h=>Gi.getPart(h,e,"toolbar").bind(x=>D.from(x.getApis().isOpen).map(w=>w(x))).getOr(!1),getThrobber:h=>Gi.getPart(h,e,"throbber"),focusToolbar:h=>{Gi.getPart(h,e,"toolbar").orThunk(()=>Gi.getPart(h,e,"multiple-toolbar")).each(x=>{Ho.focusIn(x)})},setMenubar:(h,x)=>{Gi.getPart(h,e,"menubar").each(w=>{g_.setMenus(w,x)})},focusMenubar:h=>{Gi.getPart(h,e,"menubar").each(x=>{g_.focus(x)})},setViews:(h,x)=>{Gi.getPart(h,e,"viewWrapper").each(w=>{NT.setViews(w,x)})},toggleView:(h,x)=>Gi.getPart(h,e,"viewWrapper").exists(w=>NT.toggleView(w,()=>g.showMainView(h),()=>g.hideMainView(h),x)),whichView:h=>Gi.getPart(h,e,"viewWrapper").bind(NT.whichView).getOrNull(),hideMainView:h=>{l=g.isToolbarDrawerToggled(h),l&&g.toggleToolbarDrawer(h),Gi.getPart(h,e,"editorContainer").each(x=>{const w=x.element;u(w),er(w,"display","none"),An(w,"aria-hidden","true")})},showMainView:h=>{l&&g.toggleToolbarDrawer(h),Gi.getPart(h,e,"editorContainer").each(x=>{const w=x.element;u(w),br(w,"display"),ya(w,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:n,apis:g,behaviours:e.behaviours}},configFields:[ho("dom"),ho("behaviours")],partFields:[pM,uM,gM,mM,hM,bM,fM,yM,vM,xM],apis:{getSocket:(e,n)=>e.getSocket(n),setSidebar:(e,n,a,l)=>{e.setSidebar(n,a,l)},toggleSidebar:(e,n,a)=>{e.toggleSidebar(n,a)},whichSidebar:(e,n)=>e.whichSidebar(n),getHeader:(e,n)=>e.getHeader(n),getToolbar:(e,n)=>e.getToolbar(n),setToolbar:(e,n,a)=>{e.setToolbar(n,a)},setToolbars:(e,n,a)=>{e.setToolbars(n,a)},refreshToolbar:(e,n)=>e.refreshToolbar(n),toggleToolbarDrawer:(e,n)=>{e.toggleToolbarDrawer(n)},toggleToolbarDrawerWithoutFocusing:(e,n)=>{e.toggleToolbarDrawerWithoutFocusing(n)},isToolbarDrawerToggled:(e,n)=>e.isToolbarDrawerToggled(n),getThrobber:(e,n)=>e.getThrobber(n),setMenubar:(e,n,a)=>{e.setMenubar(n,a)},focusMenubar:(e,n)=>{e.focusMenubar(n)},focusToolbar:(e,n)=>{e.focusToolbar(n)},setViews:(e,n,a)=>{e.setViews(n,a)},toggleView:(e,n,a)=>e.toggleView(n,a),whichView:(e,n)=>e.whichView(n)}});const UO={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},eO=e=>e.split(" "),ZO=(e,n)=>{const a={...UO,...n.menus},l=dt(n.menus).length>0,u=n.menubar===void 0||n.menubar===!0?eO("file edit view insert format tools table help"):eO(n.menubar===!1?"":n.menubar),g=Bt(u,x=>{const w=bo(UO,x);return l?w||ft(n.menus,x).exists(C=>bo(C,"items")):w}),h=R(g,x=>{const w=a[x];return((C,T,A)=>{const L=zC(A).split(/[ ,]/);return{text:C.title,getItems:()=>Ft(C.items,U=>{const Z=U.toLowerCase();return Z.trim().length===0||so(L,ue=>ue===Z)?[]:Z==="separator"||Z==="|"?[{type:"separator"}]:T.menuItems[Z]?[T.menuItems[Z]]:[]})}})({title:w.title,items:eO(w.items)},n,e)});return Bt(h,x=>x.getItems().length>0&&so(x.getItems(),w=>ro(w)||w.type!=="separator"))},qO=(e,n,a)=>(e.on("remove",()=>a.unload(n)),a.load(n)),DT=(e,n,a,l)=>(e.on("remove",()=>l.unloadRawCss(n)),l.loadRawCss(n,a)),wM=e=>D.from(tinymce.Resource.get(e)).filter(ro),tO=(e,n,a="")=>{const l=(g=>{const h=Jw(g);return h?D.from(h):D.none()})(e).map(g=>((h,x)=>"ui/"+h+"/"+x)(g,`${n}.css`)),u=l.bind(wM);return Dr(l,u,(g,h)=>({_kind:"load-raw",key:g,css:h})).getOrThunk(()=>{const g=e.editorManager.suffix;return{_kind:"load-stylesheet",url:a+`/${n}${g}.css`}})},kM=(e,n)=>{const a=e.ui.styleSheetLoader,l=tO(e,"skin",n);switch(l._kind){case"load-raw":const{key:u,css:g}=l;return DT(e,u,g,a),Promise.resolve();case"load-stylesheet":const{url:h}=l;return qO(e,h,a);default:return Promise.resolve()}},_M=(e,n)=>{var a;if(a=eo(e.getElement()),!pr(a).isSome())return Promise.resolve();{const l=Wh.DOM.styleSheetLoader,u=tO(e,"skin.shadowdom",n);switch(u._kind){case"load-raw":const{key:g,css:h}=u;return DT(e,g,h,l),Promise.resolve();case"load-stylesheet":const{url:x}=u;return qO(e,x,l);default:return Promise.resolve()}}},WO=(e,n)=>(async(a,l)=>{const u=FC(l);if(await((g,h,x)=>{const w=tO(g,h?"content.inline":"content",x);switch(w._kind){case"load-raw":const{key:C,css:T}=w;return h?DT(g,C,T,g.ui.styleSheetLoader):g.on("PostRender",()=>{DT(g,C,T,g.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:A}=w;return x&&g.contentCSS.push(A),Promise.resolve();default:return Promise.resolve()}})(l,a,u),!Rf(l)&&ro(u))return Promise.all([kM(l,u),_M(l,u)]).then()})(e,n).then((a=>{const l=()=>{a._skinLoaded=!0,(u=>{u.dispatch("SkinLoaded")})(a)};return()=>{a.initialized?l():a.on("init",l)}})(n),(a=>()=>((l,u)=>{l.dispatch("SkinLoadError",u)})(a,{message:"Skin could not be loaded"}))(n)),CM=pt(WO,!1),SM=pt(WO,!0),GO=e=>({isEnabled:()=>!En.isDisabled(e),setEnabled:n=>En.set(e,!n),setText:n=>Nn(e,Ru,{text:n}),setIcon:n=>Nn(e,gb,{icon:n})}),EM=e=>({setActive:n=>{vr.set(e,n)},isActive:()=>vr.isOn(e),isEnabled:()=>!En.isDisabled(e),setEnabled:n=>En.set(e,!n),setText:n=>Nn(e,Ru,{text:n}),setIcon:n=>Nn(e,gb,{icon:n})}),KO=(e,n)=>e.map(a=>({"aria-label":n.translate(a)})).getOr({}),YO=se("focus-button"),oO=(e,n,a,l,u,g,h)=>{const x=n.map(C=>Gr(mb(C,"tox-tbtn",u))),w=e.map(C=>Gr(Lp(C,u.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(n.isSome()?["tox-tbtn--select"]:[]),attributes:{...KO(a,u),...Je(h)?{"data-mce-name":h}:{}}},components:ab([w.map(C=>C.asSpec()),x.map(C=>C.asSpec())]),eventOrder:{[Ke()]:["focusing","alloy.base.behaviour",Fd],[Zl()]:[Fd,"toolbar-group-button-events"],[wd()]:[Fd,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:Co([Ev(()=>u.checkUiComponentContext(g).shouldDisable),Zs(()=>u.checkUiComponentContext(g)),Yn(Fd,[Ia((C,T)=>u_(C)),Wt(Ru,(C,T)=>{x.bind(A=>A.getOpt(C)).each(A=>{or.set(A,[gs(u.translate(T.event.text))])})}),Wt(gb,(C,T)=>{w.bind(A=>A.getOpt(C)).each(A=>{or.set(A,[Lp(T.event.icon,u.icons)])})}),Wt(Ke(),(C,T)=>{T.event.prevent(),Mr(C,YO)})])].concat(l.getOr([])))}},XO=(e,n,a,l)=>{var u;const g=fo(Te),h=oO(e.icon,e.text,e.tooltip,D.none(),a,e.context,l);return vl.sketch({dom:h.dom,components:h.components,eventOrder:wT,buttonBehaviours:{...Co([Yn("toolbar-button-events",[(x={onAction:e.onAction,getApi:n.getApi},vu((w,C)=>{t0(x,w)(T=>{Nn(w,ES,{buttonApi:T}),x.onAction(T)})})),pm(n,g),Vg(n,g)]),...e.tooltip.map(w=>hs.config(a.tooltips.getConfig({tooltipText:a.translate(w)+e.shortcut.map(C=>` (${Pk(C)})`).getOr("")}))).toArray(),Ev(()=>!e.enabled||a.checkUiComponentContext(e.context).shouldDisable),Zs(()=>a.checkUiComponentContext(e.context))].concat(n.toolbarButtonBehaviours)),[Fd]:(u=h.buttonBehaviours)===null||u===void 0?void 0:u[Fd]}});var x},nO=(e,n,a,l)=>XO(e,{toolbarButtonBehaviours:a.length>0?[Yn("toolbarButtonWith",a)]:[],getApi:GO,onSetup:e.onSetup},n,l),JO=(e,n,a,l)=>XO(e,{toolbarButtonBehaviours:[or.config({}),vr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Yn("toolbarToggleButtonWith",a)]:[]),getApi:EM,onSetup:e.onSetup},n,l),zM=(e,n,a)=>l=>on(u=>n.fetch(u)).map(u=>D.from(Bp(Yo(Iv(se("menu-value"),u,g=>{n.onItemAction(e(l),g)},n.columns,n.presets,Du.CLOSE_ON_EXECUTE,n.select.getOr(Vo),a),{movement:Pv(n.columns,n.presets),menuBehaviours:e0(n.columns!=="auto"?[]:[Ia((g,h)=>{Lk(g,4,i4(n.presets)).each(({numRows:x,numColumns:w})=>{Ho.setGridSize(g,x,w)})})])})))),QO=e=>{ia.getContent(e).each(n=>{qr(n.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>Ho.focusIn(n),lt)})},e8=se("forward-slide"),MT=se("backward-slide"),rO=se("change-slide-event"),aO="tox-pop--resizing",f_=(e,n,a)=>Kt(a)?e.translate(n):e.translate([n,e.translate(a)]),AM=(e,n)=>{const a=(g,h,x,w)=>{const C=e.shared.providers.translate(g.title);if(g.type==="separator")return D.some({type:"separator",text:C});if(g.type==="submenu"){const T=Ft(g.getStyleItems(),A=>l(A,h,w));return h===0&&T.length<=0?D.none():D.some({type:"nestedmenuitem",text:C,enabled:T.length>0,getSubmenuItems:()=>Ft(g.getStyleItems(),A=>l(A,h,w))})}return D.some({type:"togglemenuitem",text:C,icon:g.icon,active:g.isSelected(w),enabled:!x,onAction:n.onAction(g),...g.getStylePreview().fold(()=>({}),T=>({meta:{style:T}}))})},l=(g,h,x)=>{const w=g.type==="formatter"&&n.isInvalid(g);return h===0?w?[]:a(g,h,!1,x).toArray():a(g,h,w,x).toArray()},u=g=>{const h=n.getCurrentValue(),x=n.shouldHide?0:1;return Ft(g,w=>l(w,x,h))};return{validateItems:u,getFetch:(g,h)=>(x,w)=>{const C=h(),T=u(C);w(r(T,Du.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:D.none()}))}}},h_=(e,n)=>{const a=n.dataset,l=a.type==="basic"?()=>R(a.data,u=>Kf(u,n.isSelectedFor,n.getPreviewFor)):a.getData;return{items:AM(e,n),getStyleItems:l}},RS=(e,n,a,l,u,g)=>{const{items:h,getStyleItems:x}=h_(n,a),w=fo(a.tooltip);return zS({context:"mode:design",text:a.icon.isSome()?D.none():a.text,icon:a.icon,ariaLabel:D.some(a.tooltip),tooltip:D.none(),role:D.none(),fetch:h.getFetch(n,x),onSetup:C=>{const T=A=>C.setTooltip(f_(e,l(A.value),A.value));return e.on(u,T),Zf(lb(e,"NodeChange",A=>{const L=A.getComponent();a.updateText(L),En.set(A.getComponent(),!e.selection.isEditable()||x().length===0)})(C),()=>e.off(u,T))},getApi:C=>({getComponent:he(C),setTooltip:T=>{const A=n.shared.providers.translate(T);An(C.element,"aria-label",A),w.set(T)}}),columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[hs.config({...n.shared.providers.tooltips.getConfig({tooltipText:n.shared.providers.translate(a.tooltip),onShow:C=>{if(a.tooltip!==w.get()){const T=n.shared.providers.translate(w.get());hs.setComponents(C,n.shared.providers.tooltips.getComponents({tooltipText:T}))}}})})]},"tox-tbtn",n.shared,g)};var b_;(function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"})(b_||(b_={}));const sO=(e,n,a)=>{const l=(u=((g,h)=>h===b_.SemiColon?g.replace(/;$/,"").split(";"):g.split(" "))(e.options.get(n),a),R(u,g=>{let h=g,x=g;const w=g.split("=");return w.length>1&&(h=w[0],x=w[1]),{title:h,format:x}}));var u;return{type:"basic",data:l}},t8=he("Alignment {0}"),o8="left",iO=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],n8=e=>{const n={type:"basic",data:iO};return{tooltip:f_(e,t8(),o8),text:D.none(),icon:D.some("align-left"),isSelectedFor:a=>()=>e.formatter.match(a),getCurrentValue:D.none,getPreviewFor:a=>D.none,onAction:a=>()=>xo(iO,l=>l.format===a.format).each(l=>e.execCommand(l.command)),updateText:a=>{const l=xo(iO,u=>e.formatter.match(u.format)).fold(he(o8),u=>u.title.toLowerCase());Nn(a,gb,{icon:`align-${l}`}),((u,g)=>{u.dispatch("AlignTextUpdate",g)})(e,{value:l})},dataset:n,shouldHide:!1,isInvalid:a=>!e.formatter.canApply(a.format)}},r8=(e,n)=>{const a=n(),l=R(a,u=>u.format);return D.from(e.formatter.closest(l)).bind(u=>xo(a,g=>g.format===u))},a8=he("Block {0}"),lO="Paragraph",s8=e=>{const n=sO(e,"block_formats",b_.SemiColon);return{tooltip:f_(e,a8(),lO),text:D.some(lO),icon:D.none(),isSelectedFor:a=>()=>e.formatter.match(a),getCurrentValue:D.none,getPreviewFor:a=>()=>{const l=e.formatter.get(a);return l?D.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(a))}):D.none()},onAction:lS(e),updateText:a=>{const l=r8(e,()=>n.data).fold(he(lO),u=>u.title);Nn(a,Ru,{text:l}),((u,g)=>{u.dispatch("BlocksTextUpdate",g)})(e,{value:l})},dataset:n,shouldHide:!1,isInvalid:a=>!e.formatter.canApply(a.format)}},i8=he("Font {0}"),cO="System Font",TM=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],l8=e=>{const n=e.split(/\s*,\s*/);return R(n,a=>a.replace(/^['"]+|['"]+$/g,""))},c8=(e,n)=>n.length>0&&Uo(n,a=>e.indexOf(a.toLowerCase())>-1),d8=e=>{const n=()=>{const l=C=>C?l8(C)[0]:"",u=e.queryCommandValue("FontName"),g=a.data,h=u?u.toLowerCase():"",x=Xw(e);return{matchOpt:xo(g,C=>{const T=C.format;return T.toLowerCase()===h||l(T).toLowerCase()===l(h).toLowerCase()}).orThunk(()=>De(((C,T)=>{if(C.indexOf("-apple-system")===0||T.length>0){const A=l8(C.toLowerCase());return c8(A,TM)||c8(A,T)}return!1})(h,x),{title:cO,format:h})),font:u}},a=sO(e,"font_family_formats",b_.SemiColon);return{tooltip:f_(e,i8(),cO),text:D.some(cO),icon:D.none(),isSelectedFor:l=>u=>u.exists(g=>g.format===l),getCurrentValue:()=>{const{matchOpt:l}=n();return l},getPreviewFor:l=>()=>D.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:u,font:g}=n(),h=u.fold(he(g),x=>x.title);Nn(l,Ru,{text:h}),((x,w)=>{x.dispatch("FontFamilyTextUpdate",w)})(e,{value:h})},dataset:a,shouldHide:!1,isInvalid:Vo}};var RT=tinymce.util.Tools.resolve("tinymce.util.VK");const u8=he("Font size {0}"),m8="12pt",OM={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},NM={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},DM=(e,n)=>/[0-9.]+px$/.test(e)?((a,l)=>{const u=Math.pow(10,l);return Math.round(a*u)/u})(72*parseInt(e,10)/96,n||0)+"pt":ft(NM,e).getOr(e),MM=e=>ft(OM,e).getOr(""),g8=e=>{const n=()=>{let u=D.none();const g=l.data,h=e.queryCommandValue("FontSize");if(h)for(let x=3;u.isNone()&&x>=0;x--){const w=DM(h,x),C=MM(w);u=xo(g,T=>T.format===h||T.format===w||T.format===C)}return{matchOpt:u,size:h}},a=he(D.none),l=sO(e,"font_size_formats",b_.Space);return{tooltip:f_(e,u8(),m8),text:D.some(m8),icon:D.none(),isSelectedFor:u=>g=>g.exists(h=>h.format===u),getPreviewFor:a,getCurrentValue:()=>{const{matchOpt:u}=n();return u},onAction:u=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontSize",!1,u.format)})},updateText:u=>{const{matchOpt:g,size:h}=n(),x=g.fold(he(h),w=>w.title);Nn(u,Ru,{text:x}),((w,C)=>{w.dispatch("FontSizeTextUpdate",C)})(e,{value:x})},dataset:l,shouldHide:!1,isInvalid:Vo}},p8=e=>Kt(e)?"Formats":"Format {0}",f8=(e,n)=>{const a="Formats";return{tooltip:f_(e,p8(""),""),text:D.some(a),icon:D.none(),isSelectedFor:l=>()=>e.formatter.match(l),getCurrentValue:D.none,getPreviewFor:l=>()=>{const u=e.formatter.get(l);return u!==void 0?D.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(l))}):D.none()},onAction:lS(e),updateText:l=>{const u=x=>Ml(x)?Ft(x.items,u):bm(x)?[{title:x.title,format:x.format}]:[],g=Ft(il(e),u),h=r8(e,he(g)).fold(he({title:a,tooltipLabel:""}),x=>({title:x.title,tooltipLabel:x.title}));Nn(l,Ru,{text:h.title}),((x,w)=>{x.dispatch("StylesTextUpdate",w)})(e,{value:h.tooltipLabel})},shouldHide:az(e),isInvalid:l=>!e.formatter.canApply(l.format),dataset:n}},RM=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],BS=(e,n)=>(a,l,u,g)=>{const h=e(a).mapError(x=>gu(x)).getOrDie();return n(h,l,u,g)},BM={button:BS(L4,(e,n,a,l)=>((u,g,h)=>nO(u,g,[],h))(e,n.shared.providers,l)),togglebutton:BS(P4,(e,n,a,l)=>((u,g,h)=>JO(u,g,[],h))(e,n.shared.providers,l)),menubutton:BS(N4,(e,n,a,l)=>N(e,"tox-tbtn",n,D.none(),!1,l)),splitbutton:BS(e=>os("SplitButton",I6,e),(e,n,a,l)=>((u,g,h)=>{const x=fo(u.tooltip.getOr("")),w=A=>({isEnabled:()=>!En.isDisabled(A),setEnabled:L=>En.set(A,!L),setIconFill:(L,U)=>{qr(A.element,`svg path[class="${L}"], rect[class="${L}"]`).each(Z=>{An(Z,"fill",U)})},setActive:L=>{An(A.element,"aria-pressed",L),qr(A.element,"span").each(U=>{A.getSystem().getByDom(U).each(Z=>vr.set(Z,L))})},isActive:()=>qr(A.element,"span").exists(L=>A.getSystem().getByDom(L).exists(vr.isOn)),setText:L=>qr(A.element,"span").each(U=>A.getSystem().getByDom(U).each(Z=>Nn(Z,Ru,{text:L}))),setIcon:L=>qr(A.element,"span").each(U=>A.getSystem().getByDom(U).each(Z=>Nn(Z,gb,{icon:L}))),setTooltip:L=>{const U=g.providers.translate(L);An(A.element,"aria-label",U),x.set(L)}}),C=fo(Te),T={getApi:w,onSetup:u.onSetup};return $h.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...KO(u.tooltip,g.providers),...Je(h)?{"data-mce-name":h}:{}}},onExecute:A=>{const L=w(A);L.isEnabled()&&u.onAction(L)},onItemExecute:(A,L,U)=>{},splitDropdownBehaviours:Co([Yn("split-dropdown-events",[Ia((A,L)=>u_(A)),Wt(YO,Vn.focus),pm(T,C),Vg(T,C)]),Z4(()=>g.providers.isDisabled()||g.providers.checkUiComponentContext(u.context).shouldDisable),Zs(()=>g.providers.checkUiComponentContext(u.context)),Yd.config({}),...u.tooltip.map(A=>hs.config({...g.providers.tooltips.getConfig({tooltipText:g.providers.translate(A),onShow:L=>{if(x.get()!==A){const U=g.providers.translate(x.get());hs.setComponents(L,g.providers.tooltips.getComponents({tooltipText:U}))}}})})).toArray()]),eventOrder:{[Zl()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[wd()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:g.getSink,fetch:zM(w,u,g.providers),parts:{menu:mv(0,u.columns,u.presets)},components:[$h.parts.button(oO(u.icon,u.text,D.none(),D.some([vr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),Ev(Vo),Zs(he({contextType:"any",shouldDisable:!1}))]),g.providers,u.context)),$h.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:o4("chevron-down",g.providers.icons)},buttonBehaviours:Co([Z4(Vo),Zs(he({contextType:"any",shouldDisable:!1}))])}),$h.parts["aria-descriptor"]({text:g.providers.translate("To open the popup, press Shift+Enter")})]})})(e,n.shared,l)),grouptoolbarbutton:BS(e=>os("GroupToolbarButton",L6,e),(e,n,a,l)=>{const u=a.ui.registry.getAll().buttons,g={[vh]:n.shared.header.isPositionedAtTop()?om.TopToBottom:om.BottomToTop};if(Gh(a)===Ou.floating)return((h,x,w,C,T)=>{const A=x.shared,L=fo(Te),U={toolbarButtonBehaviours:[],getApi:GO,onSetup:h.onSetup},Z=[Yn("toolbar-group-button-events",[pm(U,L),Vg(U,L)]),...h.tooltip.map(ue=>hs.config(x.shared.providers.tooltips.getConfig({tooltipText:x.shared.providers.translate(ue)}))).toArray()];return cm.sketch({lazySink:A.getSink,fetch:()=>on(ue=>{ue(R(w(h.items),OT))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:oO(h.icon,h.text,h.tooltip,D.some(Z),A.providers,h.context,T),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:C}}}})})(e,n,h=>BT(a,{buttons:u,toolbar:h,allowToolbarGroups:!1},n,D.none()),g,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},h8={styles:(e,n)=>{const a={type:"advanced",...n.styles};return RS(e,n,f8(e,a),p8,"StylesTextUpdate","styles")},fontsize:(e,n)=>RS(e,n,g8(e),u8,"FontSizeTextUpdate","fontsize"),fontsizeinput:(e,n)=>((a,l,u,g)=>{let h=D.none();const x=lb(a,"NodeChange SwitchMode DisabledStateChange",fe=>{const be=fe.getComponent();h=D.some(be),u.updateInputValue(be),En.set(be,!a.selection.isEditable()||Hw(a))}),w=fe=>({getComponent:he(fe)}),C=fo(Te),T=se("custom-number-input-events"),A=(fe,be,Re)=>{const Ge=h.map(uo=>Go.getValue(uo)).getOr(""),mt=u.getNewValue(Ge,fe),Rt=Ge.length-`${mt}`.length,Xt=h.map(uo=>uo.element.dom.selectionStart-Rt),qt=h.map(uo=>uo.element.dom.selectionEnd-Rt);u.onAction(mt,Re),h.each(uo=>{Go.setValue(uo,mt),be&&(Xt.each(Mo=>uo.element.dom.selectionStart=Mo),qt.each(Mo=>uo.element.dom.selectionEnd=Mo))})},L=(fe,be)=>A((Re,Ge)=>Re-Ge,fe,be),U=(fe,be)=>A((Re,Ge)=>Re+Ge,fe,be),Z=fe=>Oa(fe.element).fold(D.none,be=>(lt(be),D.some(!0))),ue=fe=>rn(fe.element)?(md(fe.element).each(be=>lt(be)),D.some(!0)):D.none(),re=(fe,be,Re,Ge)=>{const mt=fo(Te),Rt=l.shared.providers.translate(Re),Xt=se("altExecuting"),qt=lb(a,"NodeChange SwitchMode DisabledStateChange",Mo=>{En.set(Mo.getComponent(),!a.selection.isEditable()||Hw(a))}),uo=Mo=>{En.isDisabled(Mo)||fe(!0)};return vl.sketch({dom:{tag:"button",attributes:{"aria-label":Rt,"data-mce-name":be},classes:Ge.concat(be)},components:[p0(be,l.shared.providers.icons)],buttonBehaviours:Co([En.config({}),hs.config(l.shared.providers.tooltips.getConfig({tooltipText:Rt})),Yn(Xt,[pm({onSetup:qt,getApi:w},mt),Vg({getApi:w},mt),Wt(sa(),(Mo,yn)=>{yn.event.raw.keyCode!==RT.SPACEBAR&&yn.event.raw.keyCode!==RT.ENTER||En.isDisabled(Mo)||fe(!1)}),Wt(Ul(),uo),Wt(G(),uo)])]),eventOrder:{[sa()]:[Xt,"keying"],[Ul()]:[Xt,"alloy.base.behaviour"],[G()]:[Xt,"alloy.base.behaviour"],[Zl()]:["alloy.base.behaviour",Xt,"tooltipping"],[wd()]:[Xt,"tooltipping"]}})},ge=Gr(re(fe=>L(!1,fe),"minus","Decrease font size",[])),Q=Gr(re(fe=>U(!1,fe),"plus","Increase font size",[])),ee=Gr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[kp.sketch({inputBehaviours:Co([En.config({}),Yn(T,[pm({onSetup:x,getApi:w},C),Vg({getApi:w},C)]),Yn("input-update-display-text",[Wt(Ru,(fe,be)=>{Go.setValue(fe,be.event.text)}),Wt(Sa(),fe=>{u.onAction(Go.getValue(fe))}),Wt($l(),fe=>{u.onAction(Go.getValue(fe))})]),Ho.config({mode:"special",onEnter:fe=>(A(Xe,!0,!0),D.some(!0)),onEscape:Z,onUp:fe=>(U(!0,!1),D.some(!0)),onDown:fe=>(L(!0,!1),D.some(!0)),onLeft:(fe,be)=>(be.cut(),D.none()),onRight:(fe,be)=>(be.cut(),D.none())})])})],behaviours:Co([Vn.config({}),Ho.config({mode:"special",onEnter:ue,onSpace:ue,onEscape:Z}),Yn("input-wrapper-events",[Wt(Hn(),fe=>{ut([ge,Q],be=>{const Re=eo(be.get(fe).element.dom);rn(Re)&&Zt(Re)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Je(g)?{"data-mce-name":g}:{}}},components:[ge.asSpec(),ee.asSpec(),Q.asSpec()],behaviours:Co([Vn.config({}),Ho.config({mode:"flow",focusInside:ad.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:fe=>rn(fe.element)?D.none():(lt(fe.element),D.some(!0))})])}})(e,n,(a=>{const l=()=>a.queryCommandValue("FontSize");return{updateInputValue:u=>Nn(u,Ru,{text:l()}),onAction:(u,g)=>a.execCommand("FontSize",!1,u,{skip_focus:!g}),getNewValue:(u,g)=>{Hl(u,["unsupportedLength","empty"]);const h=l(),x=Hl(u,["unsupportedLength","empty"]).or(Hl(h,["unsupportedLength","empty"])),w=x.map(U=>U.value).getOr(16),C=TC(a),T=x.map(U=>U.unit).filter(U=>U!=="").getOr(C),A=g(w,(U=>{var Z;return(Z={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[U])!==null&&Z!==void 0?Z:{step:1}})(T).step),L=`${(U=>U>=0)(A)?A:w}${T}`;return L!==h&&((U,Z)=>{U.dispatch("FontSizeInputTextUpdate",Z)})(a,{value:L}),L}}})(e),"fontsizeinput"),fontfamily:(e,n)=>RS(e,n,d8(e),i8,"FontFamilyTextUpdate","fontfamily"),blocks:(e,n)=>RS(e,n,s8(e),a8,"BlocksTextUpdate","blocks"),align:(e,n)=>RS(e,n,n8(e),t8,"AlignTextUpdate","align"),navigateback:(e,n)=>{const a=qi(L4({type:"button",icon:"chevron-left",tooltip:"Back",onAction:Te}));return nO(a,n.shared.providers,[Wt(ES,l=>{Mr(l,MT)})])}},BT=(e,n,a,l)=>{const u=(h=>{const x=h.toolbar,w=h.buttons;return x===!1?[]:x===void 0||x===!0?(C=>{const T=R(RM,A=>{const L=Bt(A.items,U=>bo(C,U)||bo(h8,U));return{name:A.name,items:L}});return Bt(T,A=>A.items.length>0)})(w):ro(x)?(C=>{const T=C.split("|");return R(T,A=>({items:A.trim().split(" ")}))})(x):(C=>ao(C,T=>(bo(T,"name")||bo(T,"label"))&&bo(T,"items")))(x)?x:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(n),g=R(u,h=>{const x=Ft(h.items,w=>w.trim().length===0?[]:((C,T,A,L,U,Z)=>ft(T,A.toLowerCase()).orThunk(()=>Z.bind(ue=>We(ue,re=>ft(T,re+A.toLowerCase())))).fold(()=>ft(h8,A.toLowerCase()).map(ue=>ue(C,U)),ue=>ue.type!=="grouptoolbarbutton"||L?((re,ge,Q,ee)=>ft(BM,re.type).fold(()=>(console.error("skipping button defined by",re),D.none()),fe=>D.some(fe(re,ge,Q,ee))))(ue,U,C,A.toLowerCase()):(console.warn(`Ignoring the '${A}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none())))(e,n.buttons,w,n.allowToolbarGroups,a,l).toArray());return{title:D.from(e.translate(h.name)),label:De(h.label!==void 0,e.translate(h.label)),items:x}});return Bt(g,h=>h.items.length>0)},b8=(e,n,a,l)=>{const u=n.mainUi.outerContainer,g=a.toolbar,h=a.buttons;if(ao(g,ro)){const x=g.map(w=>{const C={toolbar:w,buttons:h,allowToolbarGroups:a.allowToolbarGroups};return BT(e,C,l,D.none())});ys.setToolbars(u,x)}else ys.setToolbar(u,BT(e,a,l,D.none()))},y8=st(),FM=y8.os.isiOS()&&y8.os.version.major<=12;var LM=Object.freeze({__proto__:null,render:(e,n,a,l,u)=>{const{mainUi:g,uiMotherships:h}=n,x=fo(0),w=g.outerContainer;CM(e);const C=eo(u.targetNode),T=bc(Na(C));c1(C,g.mothership),((Z,ue,re)=>{Ff(Z)&&c1(re.mainUi.mothership.element,re.popupUi.mothership),bx(ue,re.dialogUi.mothership)})(e,T,n),e.on("PostRender",()=>{ys.setSidebar(w,a.sidebar,MC(e))}),e.on("SkinLoaded",()=>{b8(e,n,a,l),x.set(e.getWin().innerWidth),ys.setMenubar(w,ZO(e,a)),ys.setViews(w,a.views),((Z,ue)=>{const{uiMotherships:re}=ue,ge=Z.dom;let Q=Z.getWin();const ee=Z.getDoc().documentElement,fe=fo(ca(Q.innerWidth,Q.innerHeight)),be=fo(ca(ee.offsetWidth,ee.offsetHeight)),Re=()=>{const Xt=fe.get();Xt.left===Q.innerWidth&&Xt.top===Q.innerHeight||(fe.set(ca(Q.innerWidth,Q.innerHeight)),sS(Z))},Ge=()=>{const Xt=Z.getDoc().documentElement,qt=be.get();qt.left===Xt.offsetWidth&&qt.top===Xt.offsetHeight||(be.set(ca(Xt.offsetWidth,Xt.offsetHeight)),sS(Z))},mt=Xt=>{((qt,uo)=>{qt.dispatch("ScrollContent",uo)})(Z,Xt)};ge.bind(Q,"resize",Re),ge.bind(Q,"scroll",mt);const Rt=Cl(eo(Z.getBody()),"load",Ge);Z.on("hide",()=>{ut(re,Xt=>{er(Xt.element,"display","none")})}),Z.on("show",()=>{ut(re,Xt=>{br(Xt.element,"display")})}),Z.on("NodeChange",Ge),Z.on("remove",()=>{Rt.unbind(),ge.unbind(Q,"resize",Re),ge.unbind(Q,"scroll",mt),Q=null})})(e,n)});const A=ys.getSocket(w).getOrDie("Could not find expected socket element");if(FM){Aa(A.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Z=(re=>{let ge=null;return{cancel:()=>{At(ge)||(clearTimeout(ge),ge=null)},throttle:(...Q)=>{At(ge)&&(ge=setTimeout(()=>{ge=null,re.apply(null,Q)},20))}}})(()=>{e.dispatch("ScrollContent")}),ue=ds(A.element,"scroll",Z.throttle);e.on("remove",ue.unbind)}Tv(e,n),e.addCommand("ToggleSidebar",(Z,ue)=>{ys.toggleSidebar(w,ue),(re=>{re.dispatch("ToggleSidebar")})(e)}),e.addQueryValueHandler("ToggleSidebar",()=>{var Z;return(Z=ys.whichSidebar(w))!==null&&Z!==void 0?Z:""}),e.addCommand("ToggleView",(Z,ue)=>{if(ys.toggleView(w,ue)){const re=w.element;g.mothership.broadcastOn([Wm()],{target:re}),ut(h,ge=>{ge.broadcastOn([Wm()],{target:re})}),At(ys.whichView(w))&&(e.focus(),e.nodeChanged(),ys.refreshToolbar(w)),(ge=>{ge.dispatch("ToggleView")})(e)}}),e.addQueryValueHandler("ToggleView",()=>{var Z;return(Z=ys.whichView(w))!==null&&Z!==void 0?Z:""});const L=Gh(e);L!==Ou.sliding&&L!==Ou.floating||e.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Z=e.getWin().innerWidth;Z!==x.get()&&(ys.refreshToolbar(n.mainUi.outerContainer),x.set(Z))});const U={setEnabled:Z=>{o0(n,Z?"setEnabled":"setDisabled")},isEnabled:()=>!En.isDisabled(w)};return{iframeContainer:A.element.dom,editorContainer:w.element.dom,api:U}}});const dO=e=>no(e)?e+"px":e,FT=(e,n,a)=>{const l=n.filter(g=>e<g),u=a.filter(g=>e>g);return l.or(u).getOr(e)},v8=e=>{const n=jw(e),a=$w(e),l=$y(e);return(u=n,/^[0-9\.]+(|px)$/i.test(""+u)?D.some(parseInt(""+u,10)):D.none()).map(g=>FT(g,a,l));var u},{ToolbarLocation:uO,ToolbarMode:x8}=mz,IM=(e,n,a,l,u)=>{const{mainUi:g,uiMotherships:h}=a,x=Wh.DOM,w=Bf(e),C=Yh(e),T=$y(e).or(v8(e)),A=l.shared.header,L=A.isPositionedAtTop,U=Gh(e),Z=U===x8.sliding||U===x8.floating,ue=fo(!1),re=()=>ue.get()&&!e.removed,ge=be=>Z?be.fold(he(0),Re=>Re.components().length>1?Fa(Re.components()[1].element):0):0,Q=()=>{ut(h,be=>{be.broadcastOn([Mg()],{})})},ee=be=>{if(!re())return;w||u.on(mt=>{const Rt=T.getOrThunk(()=>nd().width-pd(n).left-10);er(mt.element,"max-width",Rt+"px")});const Re=Ui(),Ge=!(w||w||!(Ji(g.outerContainer.element).left+Ks(g.outerContainer.element)>=window.innerWidth-40||ra(g.outerContainer.element,"width").isSome())||(er(g.outerContainer.element,"position","absolute"),er(g.outerContainer.element,"left","0px"),br(g.outerContainer.element,"width"),0));if(Z&&ys.refreshToolbar(g.outerContainer),!w){const mt=Ui(),Rt=De(Re.left!==mt.left,Re);((Xt,qt)=>{u.on(uo=>{const Mo=ys.getToolbar(g.outerContainer),yn=ge(Mo),Bn=js(n),Un=((da,Ir)=>Ff(da)?O(Ir):D.none())(e,g.outerContainer.element),Cr=Un.fold(()=>Bn.x,da=>{const Ir=js(da);return zr(da,vc())?Bn.x:Bn.x-Ir.x}),rs=De(Xt,Math.ceil(g.outerContainer.element.dom.getBoundingClientRect().width)).filter(da=>da>150).map(da=>{const Ir=qt.getOr(Ui()),Fn=window.innerWidth-(Cr-Ir.left),Ka=Math.max(Math.min(da,Fn),150);return Fn<da&&er(g.outerContainer.element,"width",Ka+"px"),{width:Ka+"px"}}).getOr({width:"max-content"}),Cs={position:"absolute",left:Math.round(Cr)+"px",top:Un.fold(()=>L()?Math.max(Bn.y-Fa(uo.element)+yn,0):Bn.bottom,da=>{var Ir;const Fn=js(da),Ka=(Ir=da.dom.scrollTop)!==null&&Ir!==void 0?Ir:0,xa=zr(da,vc())?Math.max(Bn.y-Fa(uo.element)+yn,0):Bn.y-Fn.y+Ka-Fa(uo.element)+yn;return L()?xa:Bn.bottom})+"px"};Aa(g.outerContainer.element,{...Cs,...rs})})})(Ge,Rt),Rt.each(Xt=>{Qi(Xt.left,mt.top)})}C&&u.on(be),Q()},fe=()=>!(w||!C||!re())&&u.get().exists(be=>{const Re=A.getDockingMode(),Ge=(Rt=>{switch(rv(e)){case uO.auto:const Xt=ys.getToolbar(g.outerContainer),qt=ge(Xt),uo=Fa(Rt.element)-qt,Mo=js(n);if(Mo.y>uo)return"top";{const yn=Wn(n),Bn=Math.max(yn.dom.scrollHeight,Fa(yn));return Mo.bottom<Bn-uo||bi().bottom<Mo.bottom-uo?"bottom":"top"}case uO.bottom:return"bottom";case uO.top:default:return"top"}})(be);return Ge!==Re&&(mt=Ge,u.on(Rt=>{fs.setModes(Rt,[mt]),A.setDockingMode(mt);const Xt=L()?om.TopToBottom:om.BottomToTop;An(Rt.element,vh,Xt)}),!0);var mt});return{isVisible:re,isPositionedAtTop:L,show:()=>{ue.set(!0),er(g.outerContainer.element,"display","flex"),x.addClass(e.getBody(),"mce-edit-focus"),ut(h,be=>{br(be.element,"display")}),fe(),Ff(e)?ee(be=>fs.isDocked(be)?fs.reset(be):fs.refresh(be)):ee(fs.refresh)},hide:()=>{ue.set(!1),er(g.outerContainer.element,"display","none"),x.removeClass(e.getBody(),"mce-edit-focus"),ut(h,be=>{er(be.element,"display","none")})},update:ee,updateMode:()=>{fe()&&ee(fs.reset)},repositionPopups:Q}},w8=(e,n)=>{const a=js(e);return{pos:n?a.y:a.bottom,bounds:a}};var PM=Object.freeze({__proto__:null,render:(e,n,a,l,u)=>{const{mainUi:g}=n,h=ko(),x=eo(u.targetNode),w=IM(e,x,n,l,h),C=Zw(e);SM(e);const T=()=>{if(h.isSet())return void w.show();h.set(ys.getHeader(g.outerContainer).getOrDie());const L=ek(e);Ff(e)?(c1(x,g.mothership),c1(x,n.popupUi.mothership)):bx(L,g.mothership),bx(L,n.dialogUi.mothership);const U=()=>{b8(e,n,a,l),ys.setMenubar(g.outerContainer,ZO(e,a)),w.show(),((Z,ue,re,ge)=>{const Q=fo(w8(ue,re.isPositionedAtTop())),ee=Ge=>{const{pos:mt,bounds:Rt}=w8(ue,re.isPositionedAtTop()),{pos:Xt,bounds:qt}=Q.get(),uo=Rt.height!==qt.height||Rt.width!==qt.width;Q.set({pos:mt,bounds:Rt}),uo&&sS(Z,Ge),re.isVisible()&&(Xt!==mt?re.update(fs.reset):uo&&(re.updateMode(),re.repositionPopups()))};ge||(Z.on("activate",re.show),Z.on("deactivate",re.hide)),Z.on("SkinLoaded ResizeWindow",()=>re.update(fs.reset)),Z.on("NodeChange keydown",Ge=>{requestAnimationFrame(()=>ee(Ge))});let fe=0;const be=Po(()=>re.update(fs.refresh),33);Z.on("ScrollWindow",()=>{const Ge=Ui().left;Ge!==fe&&(fe=Ge,be.throttle()),re.updateMode()}),Ff(Z)&&Z.on("ElementScroll",Ge=>{re.update(fs.refresh)});const Re=Tt();Re.set(Cl(eo(Z.getBody()),"load",Ge=>ee(Ge.raw))),Z.on("remove",()=>{Re.clear()})})(e,x,w,C),e.nodeChanged()};C?e.once("SkinLoaded",U):U()};e.on("show",T),e.on("hide",w.hide),C||(e.on("focus",T),e.on("blur",w.hide)),e.on("init",()=>{(e.hasFocus()||C)&&T()}),Tv(e,n);const A={show:T,hide:w.hide,setEnabled:L=>{o0(n,L?"setEnabled":"setDisabled")},isEnabled:()=>!En.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:A}}});const k8="contexttoolbar-hide",y_=(e,n,a)=>({setInputEnabled:l=>{!l&&a&&lt(a),En.set(e,!l)},isInputEnabled:()=>!En.isDisabled(e),hide:()=>{Mr(e,dg())},back:()=>{Mr(e,MT)},getValue:()=>n.get().getOrThunk(()=>Go.getValue(e)),setValue:l=>{e.getSystem().isConnected()?Go.setValue(e,l):n.set(l)}}),_8=(e,n,a)=>Wt(ES,(l,u)=>{const g=e.get(l),h=y_(g,a,l.element);n.onAction(h,u.event.buttonApi)}),C8=(e,n,a,l)=>{const u=R(n,g=>Gr(((h,x,w,C)=>(T=>T.type==="contextformtogglebutton")(x)?((T,A,L,U)=>{const{primary:Z,...ue}=A.original,re=qi(P4({...ue,type:"togglebutton",onAction:Te}));return JO(re,L,[_8(T,A,U)])})(h,x,w,C):((T,A,L,U)=>{const{primary:Z,...ue}=A.original,re=qi(L4({...ue,type:"button",onAction:Te}));return nO(re,L,[_8(T,A,U)])})(h,x,w,C))(e,g,a,l)));return{asSpecs:()=>R(u,g=>g.asSpec()),findPrimary:g=>We(n,(h,x)=>h.primary?D.from(u[x]).bind(w=>w.getOpt(g)).filter(sn(En.isDisabled)):D.none())}},HM=(e,n,a,l)=>{const{width:u,height:g}=e.initValue();let h=v;const x=se("ratio-event"),w=Ge=>y_(Ge,l),C=Ge=>Oc(Ge,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Ge]},n.icons),T=()=>!1,A=e.label.getOr("Constrain proportions"),L=n.translate(A),U=ui.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":L,"data-mce-name":A}},components:[C("lock"),C("unlock")],buttonBehaviours:Co([En.config({disabled:T}),Ma.config({}),hs.config(n.tooltips.getConfig({tooltipText:L}))])}),Z=Ge=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Ge}),ue=Ge=>es(Ge.element,"div.tox-focusable-wrapper").fold(D.none,mt=>(lt(mt),D.some(!0))),re=Ge=>_r.parts.field({factory:kp,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Ge?u:g,inputBehaviours:Co([En.config({disabled:T}),Ma.config({}),Yn("size-input-toolbar-events",[Wt(sr(),(mt,Rt)=>{Nn(mt,x,{isField1:Ge})})]),Ho.config({mode:"special",onEnter:a,onEscape:ue})]),selectOnFocus:!1}),ge=Ge=>({dom:{tag:"label",classes:["tox-label"]},components:[gs(n.translate(Ge))]}),Q=Ge=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Ge],behaviours:Co([Ma.config({}),Vn.config({}),Ho.config({mode:"special",onEnter:mt=>qr(mt.element,"input").fold(D.none,Rt=>(lt(Rt),D.some(!0)))})])}),ee=Q(ui.parts.field1(Z([_r.parts.label(ge("Width:")),re(!0)]))),fe=Q(ui.parts.field2(Z([_r.parts.label(ge("Height:")),re(!1)]))),be=fo(Te),Re=[pm({onBeforeSetup:Ge=>qr(Ge.element,"input").each(lt),onSetup:e.onSetup,getApi:w},be),zv({getApi:w},be,l)];return ui.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[ee,Z([U]),fe],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Ge,mt,Rt)=>{f(Go.getValue(Ge)).each(Xt=>{h(Xt).each(qt=>{Go.setValue(mt,m(qt))})})},onInput:Ge=>Mr(Ge,Qk),coupledFieldBehaviours:Co([Vn.config({}),Ho.config({mode:"flow",focusInside:ad.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),En.config({disabled:T,onDisabled:Ge=>{ui.getField1(Ge).bind(_r.getField).each(En.disable),ui.getField2(Ge).bind(_r.getField).each(En.disable),ui.getLock(Ge).each(En.disable)},onEnabled:Ge=>{ui.getField1(Ge).bind(_r.getField).each(En.enable),ui.getField2(Ge).bind(_r.getField).each(En.enable),ui.getLock(Ge).each(En.enable)}}),Zs(()=>n.checkUiComponentContext("mode:design")),Yn("size-input-toolbar-events2",[Wt(x,(Ge,mt)=>{const Rt=mt.event.isField1,Xt=Rt?ui.getField1(Ge):ui.getField2(Ge),qt=Rt?ui.getField2(Ge):ui.getField1(Ge),uo=Xt.map(Go.getValue).getOr(""),Mo=qt.map(Go.getValue).getOr("");h=k(uo,Mo)}),Wt(Qk,Ge=>e.onInput(w(Ge))),...Re])])})},S8=(e,n,a)=>_r.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...e.toArray(),n],fieldBehaviours:Co([En.config({disabled:()=>a.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(u=>{Nr(u.element).each(g=>{es(g,'[tabindex="-1"]').each(h=>{lt(h)})})})(l),_r.getField(l).each(En.disable)},onEnabled:l=>{_r.getField(l).each(En.enable)}})])}),VM=(e,n,a,l)=>{const u=fo(Te),g=w=>y_(w,l),h=e.label.map(w=>_r.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[gs(n.translate(w))]})),x=_r.parts.field({factory:kp,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(e.min()),max:String(e.max())},data:e.initValue().toString(),fromInputValue:w=>(C=>{const T=parseFloat(C);return isNaN(T)?D.none():D.some(T)})(w).getOr(e.min()),toInputValue:w=>String(w),inputBehaviours:Co([En.config({disabled:()=>n.checkUiComponentContext("mode:design").shouldDisable}),Zs(()=>n.checkUiComponentContext("mode:design")),Ho.config({mode:"special",onEnter:a,onLeft:(w,C)=>(C.cut(),D.none()),onRight:(w,C)=>(C.cut(),D.none())}),Yn("slider-events",[pm({onSetup:e.onSetup,getApi:g,onBeforeSetup:Ho.focusIn},u),zv({getApi:g},u,l),Wt(ms(),w=>{e.onInput(g(w))})])])});return S8(h,x,n)},jM=(e,n,a,l)=>{const u=fo(Te),g=C=>y_(C,l),h=e.label.map(C=>_r.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[gs(n.translate(C))]})),x={...e.placeholder.map(C=>({placeholder:n.translate(C)})).getOr({})},w=_r.parts.field({factory:kp,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:x,data:e.initValue(),selectOnFocus:!0,inputBehaviours:Co([En.config({disabled:()=>n.checkUiComponentContext("mode:design").shouldDisable}),Zs(()=>n.checkUiComponentContext("mode:design")),Ho.config({mode:"special",onEnter:a,onLeft:(C,T)=>(T.cut(),D.none()),onRight:(C,T)=>(T.cut(),D.none())}),Yn("input-events",[pm({onSetup:e.onSetup,getApi:C=>es(C.element,".tox-toolbar").bind(T=>qr(T,"button:enabled")).fold(()=>y_(C,l),T=>y_(C,l,T)),onBeforeSetup:Ho.focusIn},u),zv({getApi:g},u,l),Wt(ms(),C=>{e.onInput(g(C))})])])});return S8(h,w,n)},mO=(e,n,a)=>{const l=ko(),u=Gr(e(a,w=>h.findPrimary(w).orThunk(()=>x.findPrimary(w)).map(C=>(ip(C),!0)),l)),g=tt(n.commands,w=>w.align==="start"),h=C8(u,g.pass,a,l),x=C8(u,g.fail,a,l);return Bt([{title:D.none(),label:D.none(),items:h.asSpecs()},{title:D.none(),label:D.none(),items:[u.asSpec()]},{title:D.none(),label:D.none(),items:x.asSpecs()}],w=>w.items.length>0)},$M=(e,n)=>{switch(e.type){case"contextform":return mO(pt(jM,e),e,n);case"contextsliderform":return mO(pt(VM,e),e,n);case"contextsizeinputform":return mO(pt(HM,e),e,n)}},E8=(e,n,a)=>n.bottom-e.y>=a&&e.bottom-n.y>=a,gO=e=>{const n=(a=>{const l=a.getBoundingClientRect();if(l.height<=0&&l.width<=0){const u=ai(eo(a.startContainer),a.startOffset).element;return($(u)?Se(u):D.some(u)).filter(lo).map(g=>g.dom.getBoundingClientRect()).getOr(l)}return l})(e.selection.getRng());if(e.inline){const a=Ui();return Xs(a.left+n.left,a.top+n.top,n.width,n.height)}{const a=vd(eo(e.getBody()));return Xs(a.x+n.left,a.y+n.top,n.width,n.height)}},z8=(e,n,a,l=0)=>{const u=nd(window),g=js(eo(e.getContentAreaContainer())),h=av(e)||Kh(e)||sv(e),{x,width:w}=((C,T,A)=>{const L=Math.max(C.x+A,T.x);return{x:L,width:Math.min(C.right-A,T.right)-L}})(g,u,l);if(e.inline&&!h)return Xs(x,u.y,w,u.height);{const C=n.header.isPositionedAtTop(),{y:T,bottom:A}=((L,U,Z,ue,re,ge)=>{const Q=eo(L.getContainer()),ee=qr(Q,".tox-editor-header").getOr(Q),fe=js(ee),be=fe.y>=U.bottom,Re=ue&&!be;if(L.inline&&Re)return{y:Math.max(fe.bottom+ge,Z.y),bottom:Z.bottom};if(L.inline&&!Re)return{y:Z.y,bottom:Math.min(fe.y-ge,Z.bottom)};const Ge=re==="line"?js(Q):U;return Re?{y:Math.max(fe.bottom+ge,Z.y),bottom:Math.min(Ge.bottom-ge,Z.bottom)}:{y:Math.max(Ge.y+ge,Z.y),bottom:Math.min(fe.y-ge,Z.bottom)}})(e,g,u,C,a,l);return Xs(x,T,w,A-T)}},A8={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},T8={maxHeightFunction:sp(),maxWidthFunction:yh()},O8=e=>e==="node",UM=(e,n,a,l,u)=>{const g=gO(e),h=l.lastElement().exists(x=>zr(a,x));return((x,w)=>{const C=x.selection.getRng(),T=ai(eo(C.startContainer),C.startOffset);return C.startContainer===C.endContainer&&C.startOffset===C.endOffset-1&&zr(T.element,w)})(e,a)?h?V0:jc:h?((x,w)=>{const C=ra(x,"position");er(x,"position",w);const T=E8(g,js(n),-20)&&!l.isReposition()?Zb:V0;return C.each(A=>er(x,"position",A)),T})(n,l.getMode()):(l.getMode()==="fixed"?u.y+Ui().top:u.y)+(Fa(n)+12)<=g.y?jc:nf},ZM=(e,n,a,l)=>{const u=h=>(x,w,C,T,A)=>({...UM(e,T,h,a,A)({...x,y:A.y,height:A.height},w,C,T,A),alwaysFit:!0}),g=h=>O8(l)?[u(h)]:[];return n?{onLtr:h=>[Qs,di,xi,tl,ol,Hi].concat(g(h)),onRtl:h=>[Qs,xi,di,ol,tl,Hi].concat(g(h))}:{onLtr:h=>[Hi,Qs,tl,di,ol,xi].concat(g(h)),onRtl:h=>[Hi,Qs,ol,xi,tl,di].concat(g(h))}},pO=(e,n)=>{const a=Bt(n,g=>g.predicate(e.dom)),{pass:l,fail:u}=tt(a,g=>g.type==="contexttoolbar");return{contextToolbars:l,contextForms:u}},qM=(e,n)=>{const a={},l=[],u=[],g={},h={},x=dt(e);return ut(x,w=>{const C=e[w];C.type==="contextform"||C.type==="contextsliderform"||C.type==="contextsizeinputform"?((T,A)=>{const L=qi(os("ContextForm",Cv,A));a[T]=L,L.launch.map(U=>{g["form:"+T]={...A.launch,type:U.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{n(L)}}}),L.scope==="editor"?u.push(L):l.push(L),h[T]=L})(w,C):C.type==="contexttoolbar"&&((T,A)=>{var L;(L=A,os("ContextToolbar",N6,L)).each(U=>{U.launch.isSome()&&(g["toolbar:"+T]={...A.launch,type:"button",onAction:()=>{n(U)}}),A.scope==="editor"?u.push(U):l.push(U),h[T]=U})})(w,C)}),{forms:a,inNodeScope:l,inEditorScope:u,lookupTable:h,formNavigators:g}},fO="tox-pop--transition",WM=(e,n,a,l)=>{const u=l.backstage,g=u.shared,h=st().deviceType.isTouch,x=ko(),w=ko(),C=ko(),T=(mt=>{const Rt=fo([]);return{sketch:ia.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:qt=>{Rt.set([]),ia.getContent(qt).each(uo=>{br(uo.element,"visibility")}),ma(qt.element,aO),br(qt.element,"width")},onHide:()=>{Rt.set([]),mt.onHide()},inlineBehaviours:Co([Yn("context-toolbar-events",[am(hu(),(qt,uo)=>{uo.event.raw.propertyName==="width"&&(ma(qt.element,aO),br(qt.element,"width"))}),Wt(rO,(qt,uo)=>{const Mo=qt.element;br(Mo,"width");const yn=Fi(Mo),Bn=Nr(qt.element).isSome();br(Mo,"left"),br(Mo,"right"),br(Mo,"max-width"),ia.setContent(qt,uo.event.contents),Jr(Mo,aO);const Un=Fi(Mo);er(Mo,"transition","none"),ia.reposition(qt),br(Mo,"transition"),er(Mo,"width",yn+"px"),uo.event.focus.fold(()=>{Bn&&QO(qt)},Cr=>{lr(Na(qt.element)).fold(()=>lt(Cr),rs=>{zr(rs,Cr)||lt(Cr)})}),setTimeout(()=>{er(qt.element,"width",Un+"px")},0)}),Wt(e8,(qt,uo)=>{ia.getContent(qt).each(Mo=>{Rt.set(Rt.get().concat([{bar:Mo,focus:lr(Na(qt.element))}]))}),Nn(qt,rO,{contents:uo.event.forwardContents,focus:D.none()})}),Wt(MT,(qt,uo)=>{mt.onBack(),ot(Rt.get()).each(Mo=>{Rt.set(Rt.get().slice(0,Rt.get().length-1)),Nn(qt,rO,{contents:Gd(Mo.bar),focus:Mo.focus})})})]),Ho.config({mode:"special",onEscape:qt=>ot(Rt.get()).fold(()=>mt.onEscape(),uo=>(Mr(qt,MT),D.some(!0)))})]),lazySink:()=>Gn.value(mt.sink)}),inSubtoolbar:()=>Rt.get().length>0}})({sink:a,onEscape:()=>(e.focus(),VA(e),D.some(!0)),onHide:()=>{VA(e)},onBack:()=>{(mt=>{mt.dispatch("ContextFormSlideBack")})(e)}}),A=Kl(T.sketch),L=()=>{const mt=C.get().getOr("node"),Rt=O8(mt)?1:0;return z8(e,g,mt,Rt)},U=()=>!(e.removed||h()&&u.isContextMenuOpen()),Z=()=>{if(U()){const mt=L(),Rt=kr(C.get(),"node")?((Xt,qt)=>qt.filter(uo=>si(uo)&&mo(uo)).map(vd).getOrThunk(()=>gO(Xt)))(e,x.get()):gO(e);return mt.height<=0||!E8(Rt,mt,.01)}return!0},ue=()=>{x.clear(),w.clear(),C.clear(),ia.hide(A)},re=()=>{if(ia.isOpen(A)){const mt=A.element;br(mt,"display"),Z()?er(mt,"display","none"):(w.set(0),ia.reposition(A))}},ge=mt=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[mt],behaviours:Co([Ho.config({mode:"acyclic"}),Yn("pop-dialog-wrap-events",[Ia(Rt=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>Ho.focusIn(Rt))}),Zd(Rt=>{e.shortcuts.remove("ctrl+F9")})])])}),Q=mt=>{const Rt=fe([mt]);Nn(A,e8,{forwardContents:ge(Rt)})},ee=Do(()=>qM(n,Q)),fe=mt=>{const{buttons:Rt}=e.ui.registry.getAll(),Xt={...Rt,...ee().formNavigators},qt=Gh(e)===Ou.scrolling?Ou.scrolling:Ou.default,uo=ke(R(mt,Mo=>{return Mo.type==="contexttoolbar"?((Bn,Un)=>BT(e,{buttons:Bn,toolbar:Un.items,allowToolbarGroups:!1},l.backstage,D.some(["form:","toolbar:"])))(Xt,(yn=Mo,{...yn,launch:yn.launch.getOrUndefined(),items:ro(yn.items)?yn.items:R(yn.items,Rk)})):((Bn,Un)=>$M(Bn,Un))(Mo,g.providers);var yn}));return Q6({type:qt,uid:se("context-toolbar"),initGroups:uo,onEscape:D.none,cyclicKeying:!0,providers:g.providers})},be=(mt,Rt)=>{if(Ge.cancel(),!U())return;const Xt=fe(mt),qt=mt[0].position,uo=((yn,Bn)=>{const Un=yn==="node"?g.anchors.node(Bn):g.anchors.cursor(),Cr=((rs,Cs,da,Ir)=>Cs==="line"?{bubble:Nl(12,0,A8),layouts:{onLtr:()=>[fh],onRtl:()=>[Jp]},overrides:T8}:{bubble:Nl(0,12,A8,1/12),layouts:ZM(rs,da,Ir,Cs),overrides:T8})(e,yn,h(),{lastElement:x.get,isReposition:()=>kr(w.get(),0),getMode:()=>Yl.getMode(a)});return Yo(Un,Cr)})(qt,Rt);C.set(qt),w.set(1);const Mo=A.element;br(Mo,"display"),(yn=>kr(Dr(yn,x.get(),zr),!0))(Rt)||(ma(Mo,fO),Yl.reset(a,A)),ia.showWithinBounds(A,ge(Xt),{anchor:uo,transition:{classes:[fO],mode:"placement"}},()=>D.some(L())),Rt.fold(x.clear,x.set),Z()&&er(Mo,"display","none")};let Re=!1;const Ge=Po(()=>{!e.hasFocus()||e.removed||Re||(fi(A.element,fO)?Ge.throttle():((mt,Rt)=>{const Xt=eo(Rt.getBody()),qt=Mo=>zr(Mo,Xt),uo=eo(Rt.selection.getNode());return(Mo=>!qt(Mo)&&!oi(Xt,Mo))(uo)?D.none():((Mo,yn,Bn)=>{const Un=pO(Mo,yn);if(Un.contextForms.length>0)return D.some({elem:Mo,toolbars:[Un.contextForms[0]]});{const Cr=pO(Mo,Bn);if(Cr.contextForms.length>0)return D.some({elem:Mo,toolbars:[Cr.contextForms[0]]});if(Un.contextToolbars.length>0||Cr.contextToolbars.length>0){const rs=(Cs=>{if(Cs.length<=1)return Cs;{const da=xa=>so(Cs,ji=>ji.position===xa),Ir=xa=>Bt(Cs,ji=>ji.position===xa),Fn=da("selection"),Ka=da("node");if(Fn||Ka){if(Ka&&Fn){const xa=Ir("node"),ji=R(Ir("selection"),Pa=>({...Pa,position:"node"}));return xa.concat(ji)}return Ir(Fn?"selection":"node")}return Ir("line")}})(Un.contextToolbars.concat(Cr.contextToolbars));return D.some({elem:Mo,toolbars:rs})}return D.none()}})(uo,mt.inNodeScope,mt.inEditorScope).orThunk(()=>((Mo,yn,Bn)=>Mo(yn)?D.none():km(yn,Un=>{if(lo(Un)){const{contextToolbars:Cr,contextForms:rs}=pO(Un,Bn.inNodeScope),Cs=rs.length>0?rs:(da=>{if(da.length<=1)return da;{const Ir=Fn=>xo(da,Ka=>Ka.position===Fn);return Ir("selection").orThunk(()=>Ir("node")).orThunk(()=>Ir("line")).map(Fn=>Fn.position).fold(()=>[],Fn=>Bt(da,Ka=>Ka.position===Fn))}})(Cr);return Cs.length>0?D.some({elem:Un,toolbars:Cs}):D.none()}return D.none()},Mo))(qt,uo,mt))})(ee(),e).fold(ue,mt=>{be(mt.toolbars,D.some(mt.elem))}))},17);e.on("init",()=>{e.on("remove",ue),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",re),e.on("click focus SetContent",Ge.throttle),e.on("keyup",mt=>{var Rt;((Rt=mt.keyCode)!==RT.ENTER&&Rt!==RT.SPACEBAR||!T.inSubtoolbar())&&Ge.throttle()}),e.on(k8,ue),e.on("contexttoolbar-show",mt=>{const Rt=ee();ft(Rt.lookupTable,mt.toolbarKey).each(Xt=>{be([Xt],De(mt.target!==e,mt.target)),QO(A)})}),e.on("focusout",mt=>{sd.setEditorTimeout(e,()=>{Nr(a.element).isNone()&&Nr(A.element).isNone()&&!e.hasFocus()&&ue()},0)}),e.on("SwitchMode",()=>{e.mode.isReadOnly()&&ue()}),e.on("DisabledStateChange",mt=>{mt.state&&ue()}),e.on("ExecCommand",({command:mt})=>{mt.toLowerCase()==="toggleview"&&ue()}),e.on("AfterProgressState",mt=>{mt.state?ue():e.hasFocus()&&Ge.throttle()}),e.on("dragstart",()=>{Re=!0}),e.on("dragend drop",()=>{Re=!1}),e.on("NodeChange",mt=>{T.inSubtoolbar()?(er(A.element,"transition","none"),re(),br(A.element,"transition")):Nr(A.element).fold(Ge.throttle,Te)})})},N8=(e,n)=>{const a=()=>{const l=n.getOptions(e),u=n.getCurrent(e).map(n.hash),g=ko();return R(l,h=>({type:"togglemenuitem",text:n.display(h),onSetup:x=>{const w=T=>{T&&(g.on(A=>A.setActive(!1)),g.set(x)),x.setActive(T)};w(kr(u,n.hash(h)));const C=n.watcher(e,h,w);return()=>{g.clear(),C()}},onAction:()=>n.setCurrent(e,h)}))};e.ui.registry.addMenuButton(n.name,{tooltip:n.text,icon:n.icon,fetch:l=>l(a()),onSetup:n.onToolbarSetup}),e.ui.registry.addNestedMenuItem(n.name,{type:"nestedmenuitem",text:n.text,getSubmenuItems:a,onSetup:n.onMenuSetup})},GM=e=>{N8(e,(n=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:LC,hash:a=>(l=>Hl(l,["fixed","relative","empty"]).map(({value:u,unit:g})=>u+g))(a).getOr(a),display:Xe,watcher:(a,l,u)=>a.formatter.formatChanged("lineheight",u,!1,{value:l}).unbind,getCurrent:a=>D.from(a.queryCommandValue("LineHeight")),setCurrent:(a,l)=>a.execCommand("LineHeight",!1,l),onToolbarSetup:mc(n),onMenuSetup:mc(n)}))(e)),(n=>D.from(sz(n)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:he(a),hash:l=>tn(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,u,g)=>{var h;return l.formatter.formatChanged("lang",g,!1,{value:u.code,customValue:(h=u.customCode)!==null&&h!==void 0?h:null}).unbind},getCurrent:l=>{const u=eo(l.selection.getNode());return od(u,g=>D.some(g).filter(lo).bind(h=>ba(h,"lang").map(x=>({code:x,customCode:ba(h,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,u)=>l.execCommand("Lang",!1,u),onToolbarSetup:l=>{const u=Tt();return l.setActive(n.formatter.match("lang",{},void 0,!0)),u.set(n.formatter.formatChanged("lang",l.setActive,!0)),Zf(u.clear,mc(n)(l))},onMenuSetup:mc(n)})))(e).each(n=>N8(e,n))},KM=e=>lb(e,"NodeChange",n=>{n.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}),D8=(e,n)=>a=>{a.setActive(n.get());const l=u=>{n.set(u.state),a.setActive(u.state)};return e.on("PastePlainTextToggle",l),Zf(()=>e.off("PastePlainTextToggle",l),mc(e)(a))},hO=(e,n)=>()=>{e.execCommand("mceToggleFormat",!1,n)},YM=e=>{(n=>{(a=>{Ug.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,u)=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:$k(a,l.name),onAction:hO(a,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const u="h"+l,g=`Access+${l}`;a.ui.registry.addToggleButton(u,{text:u.toUpperCase(),tooltip:"Heading "+l,onSetup:$k(a,u),onAction:hO(a,u),shortcut:g})}})(n),(a=>{Ug.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Wc(a,l.action),shortcut:l.shortcut,context:l.context})}),Ug.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:mc(a),onAction:Wc(a,l.action)})})})(n),(a=>{Ug.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Wc(a,l.action),onSetup:$k(a,l.name)})})})(n)})(e),(n=>{Ug.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],a=>{n.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onAction:Wc(n,a.action),context:a.context})}),Ug.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],a=>{n.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onSetup:mc(n),onAction:Wc(n,a.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:mc(n),onAction:hO(n,"code")})})(e)},LT=(e,n)=>lb(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!e.mode.isReadOnly()&&e.undoManager[n]())}),XM=e=>lb(e,"VisualAid",n=>{n.setActive(e.hasVisual)}),JM=(e,n)=>{(a=>{ut([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Wc(a,l.cmd),onSetup:$k(a,l.name)})}),a.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:mc(a),onAction:Wc(a,"JustifyNone")})})(e),YM(e),((a,l)=>{((u,g)=>{const h=h_(g,n8(u));u.ui.registry.addNestedMenuItem("align",{text:g.shared.providers.translate("Align"),onSetup:mc(u),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(a,l),((u,g)=>{const h=h_(g,d8(u));u.ui.registry.addNestedMenuItem("fontfamily",{text:g.shared.providers.translate("Fonts"),onSetup:mc(u),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(a,l),((u,g)=>{const h={type:"advanced",...g.styles},x=h_(g,f8(u,h));u.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:mc(u,()=>x.getStyleItems().length>0),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(a,l),((u,g)=>{const h=h_(g,s8(u));u.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:mc(u),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(a,l),((u,g)=>{const h=h_(g,g8(u));u.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:mc(u),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(a,l)})(e,n),(a=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:LT(l,"hasUndo"),onAction:Wc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:LT(l,"hasRedo"),onAction:Wc(l,"redo")})})(a),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:LT(l,"hasUndo"),onAction:Wc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:LT(l,"hasRedo"),onAction:Wc(l,"redo"),shortcut:"Meta+Y"})})(a)})(e),(a=>{(x=>{x.addCommand("mceApplyTextcolor",(w,C)=>{((T,A,L)=>{T.undoManager.transact(()=>{T.focus(),T.formatter.apply(A,{value:L}),T.nodeChanged()})})(x,w,C)}),x.addCommand("mceRemoveTextcolor",w=>{((C,T)=>{C.undoManager.transact(()=>{C.focus(),C.formatter.remove(T,{value:null},void 0,!0),C.nodeChanged()})})(x,w)})})(a);const l=Wk(a),u=$A(a),g=fo(l),h=fo(u);qA(a,"forecolor","forecolor",g),qA(a,"backcolor","hilitecolor",h),WA(a,"forecolor","forecolor","Text color",g),WA(a,"backcolor","hilitecolor","Background color",h)})(e),(a=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Wc(l,"mceToggleVisualAid"),context:"any"})})(a),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:XM(l),onAction:Wc(l,"mceToggleVisualAid"),context:"any"})})(a)})(e),(a=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:KM(l),onAction:Wc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:mc(l),onAction:Wc(l,"indent")})})(a)})(e),GM(e),(a=>{const l=fo(DC(a)),u=()=>a.execCommand("mceTogglePlainTextPaste");a.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:u,onSetup:D8(a,l)}),a.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:u,onSetup:D8(a,l)})})(e),(a=>{a.ui.registry.addContext("editable",()=>a.selection.isEditable()),a.ui.registry.addContext("mode",l=>a.mode.get()===l),a.ui.registry.addContext("any",Nt),a.ui.registry.addContext("formatting",l=>a.formatter.canApply(l)),a.ui.registry.addContext("insert",l=>a.schema.isValidChild(a.selection.getNode().tagName,l))})(e)},QM=e=>ro(e)?e.split(/[ ,]/):e,M8=e=>n=>n.options.get(e),R8=M8("contextmenu_never_use_native"),eR=M8("contextmenu_avoid_overlap"),B8=e=>{const n=e.ui.registry.getAll().contextMenus,a=e.options.get("contextmenu");return e.options.isSet("contextmenu")?a:Bt(a,l=>bo(n,l))},FS=(e,n)=>({type:"makeshift",x:e,y:n}),F8=e=>e.type==="longpress"||e.type.indexOf("touch")===0,tR=(e,n)=>n.type==="contextmenu"||n.type==="longpress"?e.inline?(a=>{if(F8(a)){const l=a.touches[0];return FS(l.pageX,l.pageY)}return FS(a.pageX,a.pageY)})(n):((a,l)=>{const u=Wh.DOM.getPos(a);return((g,h,x)=>FS(g.x+h,g.y+x))(l,u.x,u.y)})(e.getContentAreaContainer(),(a=>{if(F8(a)){const l=a.touches[0];return FS(l.clientX,l.clientY)}return FS(a.clientX,a.clientY)})(n)):L8(e),L8=e=>({type:"selection",root:eo(e.selection.getNode())}),I8=(e,n,a)=>{switch(a){case"node":return(l=>({type:"node",node:D.some(eo(l.selection.getNode())),root:eo(l.getBody())}))(e);case"point":return tR(e,n);case"selection":return L8(e)}},oR=(e,n,a,l,u,g)=>{const h=a(),x=I8(e,n,g);r(h,Du.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:D.none()}).map(w=>{n.preventDefault(),ia.showMenuAt(u,{anchor:x},{menu:{markers:Pf("normal")},data:w})})},nR={onLtr:()=>[Qs,di,xi,tl,ol,Hi,jc,nf,kg,of,ap,rp],onRtl:()=>[Qs,xi,di,ol,tl,Hi,jc,nf,ap,rp,kg,of]},rR={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},aR=(e,n,a,l,u,g)=>{const h=st(),x=h.os.isiOS(),w=h.os.isMacOS(),C=h.os.isAndroid(),T=h.deviceType.isTouch(),A=()=>{const L=a();((U,Z,ue,re,ge,Q,ee)=>{const fe=((be,Re,Ge)=>{const mt=I8(be,Re,Ge);return{bubble:Nl(0,Ge==="point"?12:0,rR),layouts:nR,overrides:{maxWidthFunction:yh(),maxHeightFunction:sp()},...mt}})(U,Z,Q);r(ue,Du.CLOSE_ON_EXECUTE,re,{isHorizontalMenu:!0,search:D.none()}).map(be=>{Z.preventDefault();const Re=ee?Gl.HighlightMenuAndItem:Gl.HighlightNone;ia.showMenuWithinBounds(ge,{anchor:fe},{menu:{markers:Pf("normal"),highlightOnOpen:Re},data:be,type:"horizontal"},()=>D.some(z8(U,re.shared,Q==="node"?"node":"selection"))),U.dispatch(k8)})})(e,n,L,l,u,g,!(C||x||w&&T))};if((w||x)&&g!=="node"){const L=()=>{(U=>{const Z=U.selection.getRng(),ue=()=>{sd.setEditorTimeout(U,()=>{U.selection.setRng(Z)},10),Q()};U.once("touchend",ue);const re=ee=>{ee.preventDefault(),ee.stopImmediatePropagation()};U.on("mousedown",re,!0);const ge=()=>Q();U.once("longpresscancel",ge);const Q=()=>{U.off("touchend",ue),U.off("longpresscancel",ge),U.off("mousedown",re)}})(e),A()};((U,Z)=>{const ue=U.selection;if(ue.isCollapsed()||Z.touches.length<1)return!1;{const re=Z.touches[0],ge=ue.getRng();return du(U.getWin(),tc.domRange(ge)).exists(Q=>Q.left<=re.clientX&&Q.right>=re.clientX&&Q.top<=re.clientY&&Q.bottom>=re.clientY)}})(e,n)?L():(e.once("selectionchange",L),e.once("touchend",()=>e.off("selectionchange",L)))}else A()},P8=e=>ro(e)?e==="|":e.type==="separator",bO={type:"separator"},H8=e=>{const n=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(ro(e))return e;switch(e.type){case"separator":return bO;case"submenu":return{type:"nestedmenuitem",...n(e),getSubmenuItems:()=>{const l=e.getSubmenuItems();return ro(l)?l:R(l,H8)}};default:const a=e;return{type:"menuitem",...n(a),onAction:St(a.onAction)}}},V8=(e,n)=>{if(n.length===0)return e;const a=ot(e).filter(l=>!P8(l)).fold(()=>[],l=>[bO]);return e.concat(a).concat(n).concat([bO])},j8=(e,n)=>!(a=>a.type==="longpress"||bo(a,"touches"))(n)&&(n.button!==2||n.target===e.getBody()&&n.pointerType===""),$8=(e,n)=>j8(e,n)?e.selection.getStart(!0):n.target,sR=(e,n,a)=>{const l=st().deviceType.isTouch,u=Kl(ia.sketch({dom:{tag:"div"},lazySink:n,onEscape:()=>e.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Co([Yn("dismissContextMenu",[Wt(tp(),(x,w)=>{Wr.close(x),e.focus()})])])})),g=()=>ia.hide(u),h=x=>{if(R8(e)&&x.preventDefault(),((C,T)=>T.ctrlKey&&!R8(C))(e,x)||(C=>B8(C).length===0)(e))return;const w=((C,T)=>{const A=eR(C),L=j8(C,T)?"selection":"point";if(Be(A)){const U=$8(C,T);return cu(eo(U),A)?"node":L}return L})(e,x);(l()?aR:oR)(e,x,()=>{const C=$8(e,x),T=e.ui.registry.getAll(),A=B8(e);return((L,U,Z)=>{const ue=co(U,(re,ge)=>ft(L,ge.toLowerCase()).map(Q=>{const ee=Q.update(Z);if(ro(ee)&&Be(Le(ee)))return V8(re,ee.split(" "));if(go(ee)&&ee.length>0){const fe=R(ee,H8);return V8(re,fe)}return re}).getOrThunk(()=>re.concat([ge])),[]);return ue.length>0&&P8(ue[ue.length-1])&&ue.pop(),ue})(T.contextMenus,A,C)},a,u,w)};e.on("init",()=>{const x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");e.on(x,g),e.on("longpress contextmenu",h)})},U8=(e,n,a,l,u,g)=>e.fold(()=>Fh.snap({sensor:Dg(a-20,l-20),range:ca(u,g),output:Dg(D.some(a),D.some(l)),extra:{td:n}}),h=>{const x=a-20,w=l-20,C=h.element.dom.getBoundingClientRect();return Fh.snap({sensor:Dg(x,w),range:ca(40,40),output:Dg(D.some(a-C.width/2),D.some(l-C.height/2)),extra:{td:n}})}),Z8=(e,n,a)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,u)=>{const g=u.td;((h,x)=>h.exists(w=>zr(w,x)))(n.get(),g)||(n.set(g),a(g))},mustSnap:!0}),q8=e=>Gr(vl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Co([Fh.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Yd.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),iR=(e,n)=>{const a=fo([]),l=fo([]),u=fo(!1),g=ko(),h=ko(),x=Q=>{const ee=vd(Q);return U8(A.getOpt(n),Q,ee.x,ee.y,ee.width,ee.height)},w=Q=>{const ee=vd(Q);return U8(L.getOpt(n),Q,ee.right,ee.bottom,ee.width,ee.height)},C=Z8(()=>R(a.get(),Q=>x(Q)),g,Q=>{h.get().each(ee=>{e.dispatch("TableSelectorChange",{start:Q,finish:ee})})}),T=Z8(()=>R(l.get(),Q=>w(Q)),h,Q=>{g.get().each(ee=>{e.dispatch("TableSelectorChange",{start:ee,finish:Q})})}),A=q8(C),L=q8(T),U=Kl(A.asSpec()),Z=Kl(L.asSpec()),ue=(Q,ee,fe,be)=>{const Re=fe(ee);Fh.snapTo(Q,Re),((Ge,mt)=>{const Rt=mt.dom.getBoundingClientRect();br(Ge.element,"display");const Xt=ka(eo(e.getBody())).dom.innerHeight,qt=Rt[be]<0,uo=((Mo,yn)=>Mo[be]>yn)(Rt,Xt);(qt||uo)&&er(Ge.element,"display","none")})(Q,ee)},re=Q=>ue(U,Q,x,"top"),ge=Q=>ue(Z,Q,w,"bottom");if(st().deviceType.isTouch()){const Q=ee=>R(ee,eo);e.on("TableSelectionChange",ee=>{u.get()||(Su(n,U),Su(n,Z),u.set(!0));const fe=eo(ee.start),be=eo(ee.finish);g.set(fe),h.set(be),D.from(ee.otherCells).each(Re=>{a.set(Q(Re.upOrLeftCells)),l.set(Q(Re.downOrRightCells)),re(fe),ge(be)})}),e.on("ResizeEditor ResizeWindow ScrollContent",()=>{g.get().each(re),h.get().each(ge)}),e.on("TableSelectionClear",()=>{u.get()&&(Tg(U),Tg(Z),u.set(!1)),g.clear(),h.clear()})}},lR=(e,n,a)=>{var l;const u=(l=n.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Co([Ho.config({mode:"flow",selector:"div[role=button]"}),En.config({disabled:a.isDisabled}),Zs(()=>a.checkUiComponentContext("any")),Ma.config({}),or.config({}),Yn("elementPathEvents",[Ia((g,h)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Ho.focusIn(g)),e.on("NodeChange",x=>{const w=(T=>{const A=[];let L=T.length;for(;L-- >0;){const Z=T[L];if(Z.nodeType===1&&(U=Z).nodeName!=="BR"&&!U.getAttribute("data-mce-bogus")&&U.getAttribute("data-mce-type")!=="bookmark"){const ue=HA(e,Z);if(ue.isDefaultPrevented()||A.push({name:ue.name,element:Z}),ue.isPropagationStopped())break}}var U;return A})(x.parents),C=w.length>0?co(w,(T,A,L)=>{const U=((Z,ue,re)=>vl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":re}},components:[gs(Z)],action:ge=>{e.focus(),e.selection.select(ue),e.nodeChanged()},buttonBehaviours:Co([hs.config({...a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",ue.nodeName.toLowerCase()]),onShow:(ge,Q)=>{((ee,fe)=>{const be=D.from(Qa(ee,"id")).getOrThunk(()=>{const Re=se("aria");return An(fe,"id",Re),Re});An(ee,"aria-describedby",be)})(ge.element,Q.element)},onHide:ge=>{var Q;Q=ge.element,ya(Q,"aria-describedby")}})}),Sv(a.isDisabled),Zs(()=>a.checkUiComponentContext("any"))])}))(A.name,A.element,L);return L===0?T.concat([U]):T.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[gs(` ${u} `)]},U])},[]):[];or.set(g,C)})})])]),components:[]}};var pb;(function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"})(pb||(pb={}));const W8=(e,n,a)=>{const l=eo(e.getContainer()),u=((g,h,x,w,C)=>{const T={height:FT(w+h.top,CC(g),Uw(g))};return x===pb.Both&&(T.width=FT(C+h.left,$w(g),$y(g))),T})(e,n,a,Fa(l),Fi(l));Fo(u,(g,h)=>{no(g)&&er(l,h,dO(g))}),(g=>{g.dispatch("ResizeEditor")})(e)},IT=(e,n,a,l)=>{const u=ca(20*a,20*l);return W8(e,u,n),D.some(!0)},cR=(e,n)=>{const a=()=>{const l=[],u=BC(e),g=dz(e),h=Kw(e)||e.hasPlugin("wordcount");return g&&l.push(lR(e,{},n)),u&&l.push((()=>{const x=Pk("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[gs(Jd.translate(["Press {0} for help",x]))]}})()),h&&l.push((()=>{const x=[];return e.hasPlugin("wordcount")&&x.push(((w,C)=>{const T=(A,L,U)=>or.set(A,[gs(C.translate(["{0} "+U,L[U]]))]);return vl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Co([Sv(C.isDisabled),Zs(()=>C.checkUiComponentContext("any")),Ma.config({}),or.config({}),Go.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Yn("wordcount-events",[vu(A=>{const L=Go.getValue(A),U=L.mode==="words"?"characters":"words";Go.setValue(A,{mode:U,count:L.count}),T(A,L.count,U)}),Ia(A=>{w.on("wordCountUpdate",L=>{const{mode:U}=Go.getValue(A);Go.setValue(A,{mode:U,count:L.wordCount}),T(A,L.wordCount,U)})})])]),eventOrder:{[yr()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,n)),Kw(e)&&x.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":e.translate(["Build with {0}","TinyMCE"])},innerHtml:e.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Co([Vn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const x="tox-statusbar__text-container--flex-start",w="tox-statusbar__text-container--flex-end";if(u){const C="tox-statusbar__text-container-3-cols";return h||g?h&&!g?[C,w]:[C,x]:[C,"tox-statusbar__text-container--space-around"]}return[h&&!g?w:x]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=a(),u=((g,h)=>{const x=(T=>{const A=Yw(T);return A===!1?pb.None:A==="both"?pb.Both:pb.Vertical})(g);if(x===pb.None)return D.none();const w=x===pb.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.",C=x===pb.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return D.some(Oc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",C],attributes:{"aria-label":h.translate(w),"data-mce-name":"resize-handle"},behaviours:[Fh.config({mode:"mouse",repositionTarget:!1,onDrag:(T,A,L)=>W8(g,L,x),blockerClass:"tox-blocker"}),Ho.config({mode:"special",onLeft:()=>IT(g,x,-1,0),onRight:()=>IT(g,x,1,0),onUp:()=>IT(g,x,0,-1),onDown:()=>IT(g,x,0,1)}),Ma.config({}),Vn.config({}),hs.config(h.tooltips.getConfig({tooltipText:h.translate("Resize")}))]},h.icons))})(e,n);return l.concat(u.toArray())})()}},G8=(e,n)=>n.get().getOrDie(`UI for ${e} has not been rendered`),dR=(e,n)=>{const a=e.inline,l=a?PM:LM,u=Yh(e)?Y6:Ct,g=(()=>{const Re=ko(),Ge=ko(),mt=ko();return{dialogUi:Re,popupUi:Ge,mainUi:mt,getUiMotherships:()=>{const Rt=Re.get().map(qt=>qt.mothership),Xt=Ge.get().map(qt=>qt.mothership);return Rt.fold(()=>Xt.toArray(),qt=>Xt.fold(()=>[qt],uo=>zr(qt.element,uo.element)?[qt]:[qt,uo]))},lazyGetInOuterOrDie:(Rt,Xt)=>()=>mt.get().bind(qt=>Xt(qt.outerContainer)).getOrDie(`Could not find ${Rt} element in OuterContainer`)}})(),h=ko(),x=ko(),w=ko(),C=st().deviceType.isTouch()?["tox-platform-touch"]:[],T=Qw(e),A=Gh(e),L=Gr({dom:{tag:"div",classes:["tox-anchorbar"]}}),U=Gr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Z=()=>g.mainUi.get().map(Re=>Re.outerContainer).bind(ys.getHeader),ue=g.lazyGetInOuterOrDie("anchor bar",L.getOpt),re=g.lazyGetInOuterOrDie("bottom anchor bar",U.getOpt),ge=g.lazyGetInOuterOrDie("toolbar",ys.getToolbar),Q=g.lazyGetInOuterOrDie("throbber",ys.getThrobber),ee=((Re,Ge,mt,Rt)=>{const Xt=fo(!1),qt=(Ir=>{const Fn=fo(Qw(Ir)?"bottom":"top");return{isPositionedAtTop:()=>Fn.get()==="top",getDockingMode:Fn.get,setDockingMode:Fn.set}})(Ge),uo={icons:()=>Ge.ui.registry.getAll().icons,menuItems:()=>Ge.ui.registry.getAll().menuItems,translate:Jd.translate,isDisabled:()=>!Ge.ui.isEnabled(),getOption:Ge.options.get,tooltips:qg(Re.dialog),checkUiComponentContext:Ir=>{if(Hw(Ge))return{contextType:"disabled",shouldDisable:!0};const[Fn,Ka=""]=Ir.split(":"),xa=Ge.ui.registry.getAll().contexts;return{contextType:Fn,shouldDisable:!ft(xa,Fn).fold(()=>ft(xa,"mode").map(ji=>ji("design")).getOr(!1),ji=>Ka.charAt(0)==="!"?!ji(Ka.slice(1)):ji(Ka))}}},Mo=CT(Ge),yn=(Ir=>{const Fn=$i=>()=>Ir.formatter.match($i),Ka=$i=>()=>{const ll=Ir.formatter.get($i);return ll!==void 0?D.some({tag:ll.length>0&&(ll[0].inline||ll[0].block)||"div",styles:Ir.dom.parseStyle(Ir.formatter.getCssText($i))}):D.none()},xa=fo([]),ji=fo([]),Pa=fo(!1);return Ir.on("PreInit",$i=>{const ll=il(Ir),y0=Ip(Ir,ll,Fn,Ka);xa.set(y0)}),Ir.on("addStyleModifications",$i=>{const ll=Ip(Ir,$i.items,Fn,Ka);ji.set(ll),Pa.set($i.replace)}),{getData:()=>{const $i=Pa.get()?[]:xa.get(),ll=ji.get();return $i.concat(ll)}}})(Ge),Bn=(Ir=>({colorPicker:ln(Ir),hasCustomColors:tr(Ir),getColors:as(Ir),getColorCols:ss(Ir)}))(Ge),Un=(Ir=>({isDraggableModal:_i(Ir)}))(Ge),Cr={shared:{providers:uo,anchors:bs(Ge,mt,Rt,qt.isPositionedAtTop),header:qt},urlinput:Mo,styles:yn,colorinput:Bn,dialog:Un,isContextMenuOpen:()=>Xt.get(),setContextMenuState:Ir=>Xt.set(Ir)},rs=Ir=>D.none(),Cs={...Cr,shared:{...Cr.shared,interpreter:Ir=>_s(Ir,{},Cs,rs),getSink:Re.popup}},da={...Cr,shared:{...Cr.shared,interpreter:Ir=>_s(Ir,{},da,rs),getSink:Re.dialog}};return{popup:Cs,dialog:da}})({popup:()=>Gn.fromOption(g.popupUi.get().map(Re=>Re.sink),"(popup) UI has not been rendered"),dialog:()=>Gn.fromOption(g.dialogUi.get().map(Re=>Re.sink),"UI has not been rendered")},e,ue,re),fe=()=>{const Re=(()=>{const Cr={attributes:{[vh]:T?om.BottomToTop:om.TopToBottom}},rs=ys.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ee.popup,onEscape:()=>{e.focus()}}),Cs=ys.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ee.popup.shared.getSink,providers:ee.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:ll=>{((y0,Yv)=>{y0.dispatch("ToggleToolbarDrawer",{state:Yv})})(e,ll)},type:A,lazyToolbar:ge,lazyHeader:()=>Z().getOrDie("Could not find header element"),...Cr}),da=ys.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ee.popup.shared.providers,onEscape:()=>{e.focus()},type:A}),Ir=sv(e),Fn=Kh(e),Ka=av(e),xa=RC(e),ji=Ir||Fn||Ka,Pa=[($i=xa,ys.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:$i})),rs];var $i;return ys.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(ji?[]:["tox-editor-header--empty"]),...Cr},components:ke([Ka?Pa:[],Ir?[da]:Fn?[Cs]:[],Bf(e)?[]:[L.asSpec()]]),sticky:Yh(e),editor:e,sharedBackstage:ee.popup.shared})})(),Ge={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ys.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ys.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},mt=ys.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ee.popup}),Rt=ys.parts.viewWrapper({backstage:ee.popup}),Xt=NC(e)&&!a?D.some(cR(e,ee.popup.shared.providers)):D.none(),qt=ke([T?[]:[Re],a?[]:[Ge],T?[Re]:[]]),uo=ys.parts.editorContainer({components:ke([qt,a?[]:[U.asSpec()]])}),Mo=uc(e),yn={role:"application",...Jd.isRtl()?{dir:"rtl"}:{},...Mo?{"aria-hidden":"true"}:{}},Bn=Kl(ys.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(T?["tox-tinymce--toolbar-bottom"]:[]).concat(C),styles:{visibility:"hidden",...Mo?{opacity:"0",border:"0"}:{}},attributes:yn},components:[uo,...a?[]:[Rt,...Xt.toArray()],mt],behaviours:Co([Zs(()=>ee.popup.shared.providers.checkUiComponentContext("any")),En.config({disableClass:"tox-tinymce--disabled"}),Ho.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Un=Hh(Bn);return h.set(Un),{mothership:Un,outerContainer:Bn}},be=Re=>{const Ge=dO((Rt=>(Xt=>{const qt=((yn,Bn)=>{if(typeof Bn=="number")return D.from(Bn);const Un=/^([0-9.]+)(pt|em|px)$/.exec(Bn.trim());if(Un){const Cr=Un[2],rs=Number.parseFloat(Un[1]);if(Number.isNaN(rs)||rs<0)return D.none();if(Cr==="em")return D.from(rs*Number.parseFloat(window.getComputedStyle(yn.dom).fontSize));if(Cr==="pt")return D.from(.75*rs);if(Cr==="px")return D.from(rs)}return D.none()})(eo(Xt.targetElm),Vw(Xt)),uo=CC(Xt),Mo=Uw(Xt);return qt.map(yn=>FT(yn,uo,Mo))})(Rt).getOr(Vw(Rt)))(e)),mt=dO((Rt=>v8(Rt).getOr(jw(Rt)))(e));return e.inline||(gi("div","width",mt)&&er(Re.element,"width",mt),gi("div","height",Ge)?er(Re.element,"height",Ge):er(Re.element,"height","400px")),Ge};return{popups:{backstage:ee.popup,getMothership:()=>G8("popups",w)},dialogs:{backstage:ee.dialog,getMothership:()=>G8("dialogs",x)},renderUI:()=>{const Re=fe(),Ge=(()=>{const Rt=ek(e),Xt=zr(vc(),Rt)&&Ds(Rt,"display")==="grid",qt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(C),attributes:{...Jd.isRtl()?{dir:"rtl"}:{}}},behaviours:Co([Yl.config({useFixed:()=>u.isDocked(Z)})])},uo={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ea([Wt(mg(),Bn=>{er(Bn.element,"width",document.body.clientWidth+"px")})])},Mo=Kl(Yo(qt,Xt?uo:{})),yn=Hh(Mo);return x.set(yn),{sink:Mo,mothership:yn}})(),mt=Ff(e)?(()=>{const Rt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(C),attributes:{...Jd.isRtl()?{dir:"rtl"}:{}}},behaviours:Co([Yl.config({useFixed:()=>u.isDocked(Z),getBounds:()=>n.getPopupSinkBounds()})])},Xt=Kl(Rt),qt=Hh(Xt);return w.set(qt),{sink:Xt,mothership:qt}})():(Rt=>(w.set(Rt.mothership),Rt))(Ge);return g.dialogUi.set(Ge),g.popupUi.set(mt),g.mainUi.set(Re),(Rt=>{const{mainUi:Xt,popupUi:qt,uiMotherships:uo}=Rt;rt(AC(e),(Fn,Ka)=>{e.ui.registry.addGroupToolbarButton(Ka,Fn)});const{buttons:Mo,menuItems:yn,contextToolbars:Bn,sidebars:Un,views:Cr}=e.ui.registry.getAll(),rs=IC(e),Cs={menuItems:yn,menus:uz(e),menubar:Uy(e),toolbar:rs.getOrThunk(()=>Zy(e)),allowToolbarGroups:A===Ou.floating,buttons:Mo,sidebar:Un,views:Cr};var da;da=Xt.outerContainer,e.addShortcut("alt+F9","focus menubar",()=>{ys.focusMenubar(da)}),e.addShortcut("alt+F10","focus toolbar",()=>{ys.focusToolbar(da)}),e.addCommand("ToggleToolbarDrawer",(Fn,Ka)=>{Ka!=null&&Ka.skipFocus?ys.toggleToolbarDrawerWithoutFocusing(da):ys.toggleToolbarDrawer(da)}),e.addQueryStateHandler("ToggleToolbarDrawer",()=>ys.isToolbarDrawerToggled(da)),((Fn,Ka,xa)=>{const ji=(Qr,k0)=>{ut([Ka,...xa],$p=>{$p.broadcastEvent(Qr,k0)})},Pa=(Qr,k0)=>{ut([Ka,...xa],$p=>{$p.broadcastOn([Qr],k0)})},$i=Qr=>Pa(Wm(),{target:Qr.target}),ll=Ce(),y0=ds(ll,"touchstart",$i),Yv=ds(ll,"touchmove",Qr=>ji(Nm(),Qr)),jT=ds(ll,"touchend",Qr=>ji(oh(),Qr)),$T=ds(ll,"mousedown",$i),v0=ds(ll,"mouseup",Qr=>{Qr.raw.button===0&&Pa(iw(),{target:Qr.target})}),x0=Qr=>Pa(Wm(),{target:eo(Qr.target)}),Xf=Qr=>{Qr.button===0&&Pa(iw(),{target:eo(Qr.target)})},v_=()=>{ut(Fn.editorManager.get(),Qr=>{Fn!==Qr&&Qr.dispatch("DismissPopups",{relatedTarget:Fn})})},x_=Qr=>ji(ug(),de(Qr)),fb=Qr=>{Pa(Mg(),{}),ji(mg(),de(Qr))},w_=Na(eo(Fn.getElement())),k_=Cl(w_,"scroll",Qr=>{requestAnimationFrame(()=>{if(Fn.getContainer()!=null){const k0=qc(Fn,Ka.element).map($p=>[$p.element,...$p.others]).getOr([]);so(k0,$p=>zr($p,Qr.target))&&(Fn.dispatch("ElementScroll",{target:Qr.target.dom}),ji(nh(),Qr))}})}),LS=()=>Pa(Mg(),{}),IS=Qr=>{Qr.state&&Pa(Wm(),{target:eo(Fn.getContainer())})},__=Qr=>{Pa(Wm(),{target:eo(Qr.relatedTarget.getContainer())})},w0=Qr=>Fn.dispatch("focusin",Qr),hb=Qr=>Fn.dispatch("focusout",Qr);Fn.on("PostRender",()=>{Fn.on("click",x0),Fn.on("tap",x0),Fn.on("mouseup",Xf),Fn.on("mousedown",v_),Fn.on("ScrollWindow",x_),Fn.on("ResizeWindow",fb),Fn.on("ResizeEditor",LS),Fn.on("AfterProgressState",IS),Fn.on("DismissPopups",__),ut([Ka,...xa],Qr=>{Qr.element.dom.addEventListener("focusin",w0),Qr.element.dom.addEventListener("focusout",hb)})}),Fn.on("remove",()=>{Fn.off("click",x0),Fn.off("tap",x0),Fn.off("mouseup",Xf),Fn.off("mousedown",v_),Fn.off("ScrollWindow",x_),Fn.off("ResizeWindow",fb),Fn.off("ResizeEditor",LS),Fn.off("AfterProgressState",IS),Fn.off("DismissPopups",__),ut([Ka,...xa],Qr=>{Qr.element.dom.removeEventListener("focusin",w0),Qr.element.dom.removeEventListener("focusout",hb)}),$T.unbind(),y0.unbind(),Yv.unbind(),jT.unbind(),v0.unbind(),k_.unbind()}),Fn.on("detach",()=>{ut([Ka,...xa],$S),ut([Ka,...xa],Qr=>Qr.destroy())})})(e,Xt.mothership,uo),u.setup(e,ee.popup.shared,Z),JM(e,ee.popup),sR(e,ee.popup.shared.getSink,ee.popup),(Fn=>{const{sidebars:Ka}=Fn.ui.registry.getAll();ut(dt(Ka),xa=>{const ji=Ka[xa],Pa=()=>kr(D.from(Fn.queryCommandValue("ToggleSidebar")),xa);Fn.ui.registry.addToggleButton(xa,{icon:ji.icon,tooltip:ji.tooltip,onAction:$i=>{Fn.execCommand("ToggleSidebar",!1,xa),$i.setActive(Pa())},onSetup:$i=>{$i.setActive(Pa());const ll=()=>$i.setActive(Pa());return Fn.on("ToggleSidebar",ll),()=>{Fn.off("ToggleSidebar",ll)}},context:"any"})})})(e),rM(e,Q,ee.popup.shared),WM(e,Bn,qt.sink,{backstage:ee.popup}),iR(e,qt.sink);const Ir={targetNode:e.getElement(),height:be(Xt.outerContainer)};return l.render(e,Rt,Cs,ee.popup,Ir)})({popupUi:mt,dialogUi:Ge,mainUi:Re,uiMotherships:g.getUiMotherships()})}}},K8=e=>{const n=[],a={};return Fo(e,(l,u)=>{l.fold(()=>{n.push(u)},g=>{a[u]=g})}),n.length>0?Gn.error(n):Gn.value(a)},uR=(e,n,a,l)=>{const u=Gr(Ty.sketch(h=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:R(e.items,x=>fr(h,x,n,a,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:Co([Ho.config({mode:"acyclic",useTabstopAt:sn(m0)}),(g=u,$r.config({find:g.getOpt})),uT(u,{postprocess:h=>K8(h).fold(x=>(console.error(x),{}),Xe)}),Yn("dialog-body-panel",[Wt(sr(),(h,x)=>{h.getSystem().broadcastOn([c_],{newFocus:D.some(x.event.target)})})])])};var g},Y8=(e,n)=>{er(e,"height",n+"px"),er(e,"flex-basis",n+"px")},PT=(e,n,a)=>{es(e,'[role="dialog"]').each(l=>{qr(l,'[role="tablist"]').each(u=>{a.get().map(g=>(er(n,"height","0"),er(n,"flex-basis","0"),Math.min(g,((h,x,w)=>{const C=Wn(h).dom,T=es(h,".tox-dialog-wrap").getOr(h);let A;A=Ds(T,"position")==="fixed"?Math.max(C.clientHeight,window.innerHeight):Math.max(C.offsetHeight,C.scrollHeight);const L=Fa(x),U=x.dom.offsetLeft>=w.dom.offsetLeft+Fi(w)?Math.max(Fa(w),L):L,Z=parseInt(Ds(h,"margin-top"),10)||0,ue=parseInt(Ds(h,"margin-bottom"),10)||0;return A-(Fa(h)+Z+ue-U)})(l,n,u)))).each(g=>{Y8(n,g)})})})},yO=e=>qr(e,'[role="tabpanel"]'),X8="send-data-to-section",J8="send-data-to-view",mR=(e,n,a,l)=>{const u=fo({}),g=T=>{const A=Go.getValue(T),L=K8(A).getOr({}),U=u.get(),Z=Yo(U,L);u.set(Z)},h=T=>{const A=u.get();Go.setValue(T,A)},x=fo(null),w=R(e.tabs,T=>({value:T.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[gs(a.shared.providers.translate(T.title))],view:()=>[Ty.sketch(A=>({dom:{tag:"div",classes:["tox-form"]},components:R(T.items,L=>fr(A,L,n,a,l)),formBehaviours:Co([Ho.config({mode:"acyclic",useTabstopAt:sn(m0)}),Yn("TabView.form.events",[Ia(h),Zd(g)]),Uc.config({channels:pu([{key:X8,value:{onReceive:g}},{key:J8,value:{onReceive:h}}])})])}))]})),C=(T=>{const A=ko();return{extraEvents:[Ia(U=>{const Z=U.element;yO(Z).each(ue=>{er(ue,"visibility","hidden"),U.getSystem().getByDom(ue).toOptional().each(re=>{const ge=((ee,fe,be)=>R(ee,(Re,Ge)=>{or.set(be,ee[Ge].view());const mt=fe.dom.getBoundingClientRect();return or.set(be,[]),mt.height}))(T,ue,re);(ee=>Ee(Ie(ee,(fe,be)=>fe>be?-1:fe<be?1:0)))(ge).fold(A.clear,A.set)}),PT(Z,ue,A),br(ue,"visibility"),((re,ge)=>{Ee(re).each(Q=>qh.showTab(ge,Q.value))})(T,U),requestAnimationFrame(()=>{PT(Z,ue,A)})})}),Wt(mg(),U=>{const Z=U.element;yO(Z).each(ue=>{PT(Z,ue,A)})}),Wt(sT,(U,Z)=>{const ue=U.element;yO(ue).each(re=>{const ge=lr(Na(re));er(re,"visibility","hidden");const Q=ra(re,"height").map(fe=>parseInt(fe,10));br(re,"height"),br(re,"flex-basis");const ee=re.dom.getBoundingClientRect().height;Q.forall(fe=>ee>fe)?(A.set(ee),PT(ue,re,A)):Q.each(fe=>{Y8(re,fe)}),br(re,"visibility"),ge.each(lt)})})],selectFirst:!1}})(w);return qh.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(T,A,L)=>{const U=Go.getValue(A);Nn(T,aT,{name:U,oldName:x.get()}),x.set(U)},tabs:w,components:[qh.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[vC.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Co([Ma.config({})])}),qh.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:C.selectFirst,tabSectionBehaviours:Co([Yn("tabpanel",C.extraEvents),Ho.config({mode:"acyclic"}),$r.config({find:T=>Ee(qh.getViewItems(T))}),db(D.none(),T=>(T.getSystem().broadcastOn([X8],{}),u.get()),(T,A)=>{u.set(A),T.getSystem().broadcastOn([J8],{})})])})},Q8=(e,n,a,l,u,g)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(h=>({id:h})).getOr({}),...u?{"aria-live":"polite"}:{}}},components:[],behaviours:Co([e_(0),Tc.config({channel:`${yT}-${n}`,updateState:(h,x)=>D.some({isTabPanel:()=>x.body.type==="tabpanel"}),renderComponents:h=>{const x=h.body;return x.type==="tabpanel"?[mR(x,h.initialData,l,g)]:[uR(x,h.initialData,l,g)]},initialData:e})])}),gR=Vy.deviceType.isTouch(),e7=(e,n)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,n]}),t7=(e,n)=>Oi.parts.close(vl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close")}},action:e,buttonBehaviours:Co([Ma.config({})])})),o7=()=>Oi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),n7=(e,n)=>Oi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:qm(`<p>${ik(n.translate(e))}</p>`)}]}]}),r7=e=>Oi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),a7=(e,n)=>[im.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),im.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:n})],vO=e=>{const n="tox-dialog",a=n+"-wrap",l=a+"__backdrop",u=n+"__disable-scroll";return Oi.sketch({lazySink:e.lazySink,onEscape:g=>(e.onEscape(g),D.some(!0)),useTabstopAt:g=>!m0(g),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:qm(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:gR?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:a,modalBehaviours:Co([Vn.config({}),Yn("dialog-events",e.dialogEvents.concat([am(sr(),(g,h)=>{Um.isBlocked(g)||Ho.focusIn(g)}),Wt(Cb(),(g,h)=>{g.getSystem().broadcastOn([c_],{newFocus:h.event.newFocus})})])),Yn("scroll-lock",[Ia(()=>{Jr(vc(),u)}),Zd(()=>{ma(vc(),u)})]),...e.extraBehaviours]),eventOrder:{[yr()]:["dialog-events"],[Zl()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[wd()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},s7=e=>vl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Co([Ma.config({}),hs.config(e.tooltips.getConfig({tooltipText:e.translate("Close")}))]),components:[Oc("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:n=>{Mr(n,Wf)}}),i7=(e,n,a,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...a.map(u=>({id:u})).getOr({})}},components:[],behaviours:Co([Tc.config({channel:`${_S}-${n}`,initialData:e,renderComponents:u=>[gs(l.translate(u.title))]})])}),l7=()=>({dom:qm('<div class="tox-dialog__draghandle"></div>')}),c7=(e,n,a)=>((l,u,g)=>{const h=Oi.parts.title(i7(l,u,D.none(),g)),x=Oi.parts.draghandle(l7()),w=Oi.parts.close(s7(g)),C=[h].concat(l.draggable?[x]:[]).concat([w]);return im.sketch({dom:qm('<div class="tox-dialog__header"></div>'),components:C})})({title:a.shared.providers.translate(e),draggable:a.dialog.isDraggableModal()},n,a.shared.providers),d7=(e,n,a,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:n,components:[{dom:qm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),u7=(e,n,a)=>({onClose:()=>a.closeWindow(),onBlock:l=>{const u=qr(e().element,".tox-dialog__header").map(g=>Fa(g));Oi.setBusy(e(),(g,h)=>d7(l.message,h,n,u))},onUnblock:()=>{Oi.setIdle(e())}}),m7="tox-dialog--fullscreen",xO="tox-dialog--width-lg",wO="tox-dialog--width-md",HT=e=>{switch(e){case"large":return D.some(xO);case"medium":return D.some(wO);default:return D.none()}},g7=(e,n)=>{const a=eo(n.element.dom);fi(a,m7)||(ii(a,[xO,wO]),HT(e).each(l=>Jr(a,l)))},p7=(e,n)=>{const a=eo(e.element.dom),l=Hu(a),u=xo(l,g=>g===xO||g===wO).or(HT(n));((g,h)=>{ut(h,x=>{((w,C)=>{pi(w)?w.dom.classList.toggle(C):((T,A)=>vt(lu(T),A)?Ei(T,A):xm(T,A))(w,C),wm(w)})(g,x)})})(a,[m7,...u.toArray()])},f7=(e,n,a)=>Kl(vO({...e,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[$v({}),...e.extraBehaviours],onEscape:l=>{Mr(l,Wf)},dialogEvents:n,eventOrder:{[bu()]:[Tc.name(),Uc.name()],[Zl()]:["scroll-lock",Tc.name(),"messages","dialog-events","alloy.base.behaviour"],[wd()]:["alloy.base.behaviour","dialog-events","messages",Tc.name(),"scroll-lock"]}})),kO=(e,n={})=>R(e,a=>a.type==="menu"?(l=>{const u=R(l.items,g=>{const h=ft(n,g.name).getOr(fo(!1));return{...g,storage:h}});return{...l,items:u}})(a):a),h7=e=>co(e,(n,a)=>a.type==="menu"?co(a.items,(l,u)=>(l[u.name]=u.storage,l),n):n,{}),b7=(e,n)=>[kh(sr(),W6),e(Vv,(a,l,u,g)=>{rn(g.element)&&lr(Na(g.element)).each(Zt),n.onClose(),l.onClose()}),e(Wf,(a,l,u,g)=>{l.onCancel(a),Mr(g,Vv)}),Wt(c0,(a,l)=>n.onUnblock()),Wt(xS,(a,l)=>n.onBlock(l.event))],y7=(e,n,a)=>{const l=(g,h)=>Wt(g,(x,w)=>{u(x,(C,T)=>{h(e(),C,w.event,x)})}),u=(g,h)=>{Tc.getState(g).get().each(x=>{h(x.internalDialog,g)})};return[...b7(l,n),l(jv,(g,h)=>h.onSubmit(g)),l(ld,(g,h,x)=>{h.onChange(g,{name:x.name})}),l(jg,(g,h,x,w)=>{const C=()=>w.getSystem().isConnected()?Ho.focusIn(w):void 0,T=U=>mi(U,"disabled")||ba(U,"aria-disabled").exists(Z=>Z==="true"),A=Na(w.element),L=lr(A);h.onAction(g,{name:x.name,value:x.value}),lr(A).fold(C,U=>{T(U)||L.exists(Z=>oi(U,Z)&&T(Z))?C():a().toOptional().filter(Z=>!oi(Z.element,U)).each(C)})}),l(aT,(g,h,x)=>{h.onTabChange(g,{newTabName:x.name,oldTabName:x.oldName})}),Zd(g=>{const h=e();Go.setValue(g,h.getData())})]},pR=(e,n)=>{const a=n.map(g=>g.footerButtons).getOr([]),l=tt(a,g=>g.align==="start"),u=(g,h)=>im.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${g}`]},components:R(h,x=>x.memento.asSpec())});return[u("start",l.pass),u("end",l.fail)]},v7=(e,n,a)=>({dom:qm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Co([Tc.config({channel:`${Gf}-${n}`,initialData:e,updateState:(l,u)=>{const g=R(u.buttons,h=>{const x=Gr(((w,C)=>wn(w,w.type,C))(h,a));return{name:h.name,align:h.align,memento:x}});return D.some({lookupByName:h=>((x,w,C)=>xo(w,T=>T.name===C).bind(T=>T.memento.getOpt(x)))(l,g,h),footerButtons:g})},renderComponents:pR})])}),x7=(e,n,a)=>Oi.parts.footer(v7(e,n,a)),VT=(e,n)=>{if(e.getRoot().getSystem().isConnected()){const a=$r.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return Ty.getField(a,n).orThunk(()=>e.getFooter().bind(u=>Tc.getState(u).get()).bind(u=>u.lookupByName(n)))}return D.none()},w7=(e,n,a)=>{const l=g=>{const h=e.getRoot();h.getSystem().isConnected()&&g(h)},u={getData:()=>{const g=e.getRoot(),h=g.getSystem().isConnected()?e.getFormWrapper():g;return{...Go.getValue(h),...rt(a,x=>x.get())}},setData:g=>{l(h=>{const x=u.getData(),w=Yo(x,g),C=((A,L)=>{const U=A.getRoot();return Tc.getState(U).get().map(Z=>qi(os("data",Z.dataValidator,L))).getOr(L)})(e,w),T=e.getFormWrapper();Go.setValue(T,C),Fo(a,(A,L)=>{bo(w,L)&&A.set(w[L])})})},setEnabled:(g,h)=>{VT(e,g).each(h?En.enable:En.disable)},focus:g=>{VT(e,g).each(Vn.focus)},block:g=>{if(!ro(g))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(h=>{Nn(h,xS,{message:g})})},unblock:()=>{l(g=>{Mr(g,c0)})},showTab:g=>{l(h=>{const x=e.getBody();Tc.getState(x).get().exists(w=>w.isTabPanel())&&$r.getCurrent(x).each(w=>{qh.showTab(w,g)})})},redial:g=>{l(h=>{const x=e.getId(),w=n(g),C=kO(w.internalDialog.buttons,a);h.getSystem().broadcastOn([`${l_}-${x}`],w),h.getSystem().broadcastOn([`${_S}-${x}`],w.internalDialog),h.getSystem().broadcastOn([`${yT}-${x}`],w.internalDialog),h.getSystem().broadcastOn([`${Gf}-${x}`],{...w.internalDialog,buttons:C}),u.setData(w.initialData)})},close:()=>{l(g=>{Mr(g,Vv)})},toggleFullscreen:e.toggleFullscreen};return u},k7=(e,n,a,l=!1,u)=>{const g=se("dialog"),h=se("dialog-label"),x=se("dialog-content"),w=e.internalDialog,C=fo(w.size),T=HT(C.get()).toArray(),A=Gr(((be,Re,Ge,mt)=>im.sketch({dom:qm('<div class="tox-dialog__header"></div>'),components:[i7(be,Re,D.some(Ge),mt),l7(),s7(mt)],containerBehaviours:Co([Fh.config({mode:"mouse",blockerClass:"blocker",getTarget:Rt=>Il(Rt,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(Rt,Xt)=>{Rt.getSystem().broadcastOn([Mg()],{target:Xt})}})])}))({title:w.title,draggable:!0},g,h,a.shared.providers)),L=Gr(((be,Re,Ge,mt,Rt,Xt)=>Q8(be,Re,D.some(Ge),mt,Rt,Xt))({body:w.body,initialData:w.initialData},g,x,a,l,be=>VT(ee,be))),U=kO(w.buttons),Z=h7(U),ue=De(U.length!==0,Gr(((be,Re,Ge)=>v7(be,Re,Ge))({buttons:U},g,a))),re=y7(()=>fe,{onBlock:be=>{Um.block(Q,(Re,Ge)=>{const mt=A.getOpt(Q).map(Rt=>Fa(Rt.element));return d7(be.message,Ge,a.shared.providers,mt)})},onUnblock:()=>{Um.unblock(Q)},onClose:()=>n.closeWindow()},a.shared.getSink),ge=st().os,Q=Kl({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...T],attributes:{role:"dialog",...ge.isMacOS()?{"aria-label":w.title}:{"aria-labelledby":h}}},eventOrder:{[bu()]:[Tc.name(),Uc.name()],[yr()]:["execute-on-form"],[Zl()]:["reflecting","execute-on-form"]},behaviours:Co([Ho.config({mode:"cyclic",onEscape:be=>(Mr(be,Vv),D.some(!0)),useTabstopAt:be=>!m0(be)&&(ce(be)!=="button"||Qa(be,"disabled")!=="disabled"),firstTabstop:1}),Tc.config({channel:`${l_}-${g}`,updateState:(be,Re)=>(C.set(Re.internalDialog.size),g7(Re.internalDialog.size,be),u(),D.some(Re)),initialData:e}),Vn.config({}),Yn("execute-on-form",re.concat([am(sr(),(be,Re)=>{Ho.focusIn(be)}),Wt(Cb(),(be,Re)=>{be.getSystem().broadcastOn([c_],{newFocus:Re.event.newFocus})})])),Um.config({getRoot:()=>D.some(Q)}),or.config({}),$v({})]),components:[A.asSpec(),L.asSpec(),...ue.map(be=>be.asSpec()).toArray()]}),ee={getId:he(g),getRoot:he(Q),getFooter:()=>ue.map(be=>be.get(Q)),getBody:()=>L.get(Q),getFormWrapper:()=>{const be=L.get(Q);return $r.getCurrent(be).getOr(be)},toggleFullscreen:()=>{p7(Q,C.get())}},fe=w7(ee,n.redial,Z);return{dialog:Q,instanceApi:fe}};var _O=tinymce.util.Tools.resolve("tinymce.util.URI");const fR=["insertContent","setContent","execCommand","close","block","unblock"],_7=e=>gn(e)&&fR.indexOf(e.mceAction)!==-1,hR=(e,n,a,l)=>{const u=se("dialog"),g=c7(e.title,u,l),h=(ge=>{const Q={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[s_(D.none(),{dom:{tag:"iframe",attributes:{src:ge.url}},behaviours:Co([Ma.config({}),Vn.config({})])})]}],behaviours:Co([Ho.config({mode:"acyclic",useTabstopAt:sn(m0)})])};return Oi.parts.body(Q)})(e),x=e.buttons.bind(ge=>ge.length===0?D.none():D.some(x7({buttons:ge},u,l))),w=((ge,Q)=>{const ee=(be,Re)=>Wt(be,(Ge,mt)=>{fe(Ge,(Rt,Xt)=>{Re(re,Rt,mt.event,Ge)})}),fe=(be,Re)=>{Tc.getState(be).get().each(Ge=>{Re(Ge,be)})};return[...b7(ee,Q),ee(jg,(be,Re,Ge)=>{Re.onAction(be,{name:Ge.name})})]})(0,u7(()=>ue,l.shared.providers,n)),C={...e.height.fold(()=>({}),ge=>({height:ge+"px","max-height":ge+"px"})),...e.width.fold(()=>({}),ge=>({width:ge+"px","max-width":ge+"px"}))},T=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],A=new _O(e.url,{base_uri:new _O(window.location.href)}),L=`${A.protocol}://${A.host}${A.port?":"+A.port:""}`,U=Tt(),Z=[Tc.config({channel:`${l_}-${u}`,updateState:(ge,Q)=>D.some(Q),initialData:e}),Yn("messages",[Ia(()=>{const ge=ds(eo(window),"message",Q=>{if(A.isSameOrigin(new _O(Q.raw.origin))){const ee=Q.raw.data;_7(ee)?((fe,be,Re)=>{switch(Re.mceAction){case"insertContent":fe.insertContent(Re.content);break;case"setContent":fe.setContent(Re.content);break;case"execCommand":const Ge=!!kn(Re.ui)&&Re.ui;fe.execCommand(Re.cmd,Ge,Re.value);break;case"close":be.close();break;case"block":be.block(Re.message);break;case"unblock":be.unblock()}})(a,re,ee):(fe=>!_7(fe)&&gn(fe)&&bo(fe,"mceAction"))(ee)&&e.onMessage(re,ee)}});U.set(ge)}),Zd(U.clear)]),Uc.config({channels:{[CS]:{onReceive:(ge,Q)=>{qr(ge.element,"iframe").each(ee=>{const fe=ee.dom.contentWindow;Je(fe)&&fe.postMessage(Q,L)})}}}})],ue=f7({id:u,header:g,body:h,footer:x,extraClasses:T,extraBehaviours:Z,extraStyles:C},w,l),re=(ge=>{const Q=ee=>{ge.getSystem().isConnected()&&ee(ge)};return{block:ee=>{if(!ro(ee))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");Q(fe=>{Nn(fe,xS,{message:ee})})},unblock:()=>{Q(ee=>{Mr(ee,c0)})},close:()=>{Q(ee=>{Mr(ee,Vv)})},sendMessage:ee=>{Q(fe=>{fe.getSystem().broadcastOn([CS],ee)})}}})(ue);return{dialog:ue,instanceApi:re}},C7=(e,n)=>qi(os("data",n,e)),S7=e=>cu(e,".tox-alert-dialog")||cu(e,".tox-confirm-dialog"),bR=(e,n,a,l)=>n&&a?[]:[fs.config({contextual:{lazyContext:()=>D.some(js(eo(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:l},modes:["top"],lazyViewport:u=>qc(e,u.element).map(g=>({bounds:Ap(g),optScrollEnv:D.some({currentScrollTop:g.element.dom.scrollTop,scrollElmTop:Ji(g.element).top})})).getOrThunk(()=>({bounds:bi(),optScrollEnv:D.none()}))})],yR=e=>{const n=e.editor,a=Yh(n),l=(w=>{const C=w.shared;return{open:(T,A)=>{const L=()=>{Oi.hide(re),A()},U=Gr(wn({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",w)),Z=o7(),ue=t7(L,C.providers),re=Kl(vO({lazySink:()=>C.getSink(),header:e7(Z,ue),body:n7(T,C.providers),footer:D.some(r7(a7([],[U.asSpec()]))),onEscape:L,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Wt(Wf,L)],eventOrder:{}}));Oi.show(re);const ge=U.get(re);Vn.focus(ge)}}})(e.backstages.dialog),u=(w=>{const C=w.shared;return{open:(T,A)=>{const L=ee=>{Oi.hide(ge),A(ee)},U=Gr(wn({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",w)),Z=wn({context:"any",name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",w),ue=o7(),re=t7(()=>L(!1),C.providers),ge=Kl(vO({lazySink:()=>C.getSink(),header:e7(ue,re),body:n7(T,C.providers),footer:D.some(r7(a7([],[Z,U.asSpec()]))),onEscape:()=>L(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Wt(Wf,()=>L(!1)),Wt(jv,()=>L(!0))],eventOrder:{}}));Oi.show(ge);const Q=U.get(ge);Vn.focus(Q)}}})(e.backstages.dialog),g=(w,C)=>Mp.open((T,A,L)=>{const U=A,Z=((ue,re,ge)=>{const Q=se("dialog"),ee=ue.internalDialog,fe=c7(ee.title,Q,ge),be=fo(ee.size),Re=HT(be.get()).toArray(),Ge=((Un,Cr,rs,Cs)=>{const da=Q8(Un,Cr,D.none(),rs,!1,Cs);return Oi.parts.body(da)})({body:ee.body,initialData:ee.initialData},Q,ge,Un=>VT(yn,Un)),mt=kO(ee.buttons),Rt=h7(mt),Xt=De(mt.length!==0,x7({buttons:mt},Q,ge)),qt=y7(()=>Bn,u7(()=>Mo,ge.shared.providers,re),ge.shared.getSink),uo={id:Q,header:fe,body:Ge,footer:Xt,extraClasses:Re,extraBehaviours:[Tc.config({channel:`${l_}-${Q}`,updateState:(Un,Cr)=>(be.set(Cr.internalDialog.size),g7(Cr.internalDialog.size,Un),D.some(Cr)),initialData:ue})],extraStyles:{}},Mo=f7(uo,qt,ge),yn={getId:he(Q),getRoot:he(Mo),getBody:()=>Oi.getBody(Mo),getFooter:()=>Oi.getFooter(Mo),getFormWrapper:()=>{const Un=Oi.getBody(Mo);return $r.getCurrent(Un).getOr(Un)},toggleFullscreen:()=>{p7(Mo,be.get())}},Bn=w7(yn,re.redial,Rt);return{dialog:Mo,instanceApi:Bn}})({dataValidator:L,initialData:U,internalDialog:T},{redial:Mp.redial,closeWindow:()=>{Oi.hide(Z.dialog),C(Z.instanceApi)}},e.backstages.dialog);return Oi.show(Z.dialog),Z.instanceApi.setData(U),Z.instanceApi},w),h=(w,C,T,A)=>Mp.open((L,U,Z)=>{const ue=C7(U,Z),re=ko(),ge=e.backstages.popup.shared.header.isPositionedAtTop(),Q=()=>re.on(Re=>{ia.reposition(Re),a&&ge||fs.refresh(Re)}),ee=k7({dataValidator:Z,initialData:ue,internalDialog:L},{redial:Mp.redial,closeWindow:()=>{re.on(ia.hide),n.off("ResizeEditor",Q),n.off("ScrollWindow",fe),re.clear(),T(ee.instanceApi)}},e.backstages.popup,A.ariaAttrs,Q),fe=()=>ee.dialog.getSystem().broadcastOn([Mg()],{target:ee.dialog.element}),be=Kl(ia.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:A.persistent?{event:"doNotDismissYet"}:{},...ge?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Co([Yn("window-manager-inline-events",[Wt(tp(),(Re,Ge)=>{Mr(ee.dialog,Wf)})]),...bR(n,a,ge,()=>ee.dialog.getSystem().broadcastOn([Wm()],{target:ee.dialog.element}))]),isExtraPart:(Re,Ge)=>S7(Ge)}));return re.set(be),ia.showWithinBounds(be,Gd(ee.dialog),{anchor:C},()=>{const Re=n.inline?vc():eo(n.getContainer()),Ge=js(Re);return D.some(Ge)}),a&&ge||(fs.refresh(be),n.on("ResizeEditor",Q)),n.on("ScrollWindow",fe),ee.instanceApi.setData(ue),Ho.focusIn(ee.dialog),ee.instanceApi},w),x=(w,C,T,A)=>Mp.open((L,U,Z)=>{const ue=C7(U,Z),re=ko(),ge=e.backstages.popup.shared.header.isPositionedAtTop(),Q=()=>re.on(be=>{ia.reposition(be),fs.refresh(be)}),ee=k7({dataValidator:Z,initialData:ue,internalDialog:L},{redial:Mp.redial,closeWindow:()=>{re.on(ia.hide),n.off("ResizeEditor ScrollWindow ElementScroll",Q),re.clear(),T(ee.instanceApi)}},e.backstages.popup,A.ariaAttrs,Q),fe=Kl(ia.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:A.persistent?{event:"doNotDismissYet"}:{},...ge?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Co([Yn("window-manager-inline-events",[Wt(tp(),(be,Re)=>{Mr(ee.dialog,Wf)})]),fs.config({contextual:{lazyContext:()=>D.some(js(eo(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:be=>qc(n,be.element).map(Re=>({bounds:Ap(Re),optScrollEnv:D.some({currentScrollTop:Re.element.dom.scrollTop,scrollElmTop:Ji(Re.element).top})})).getOrThunk(()=>({bounds:bi(),optScrollEnv:D.none()}))})]),isExtraPart:(be,Re)=>S7(Re)}));return re.set(fe),ia.showWithinBounds(fe,Gd(ee.dialog),{anchor:C},()=>e.backstages.popup.shared.getSink().toOptional().bind(be=>{const Re=qc(n,be.element).map(Rt=>Ap(Rt)).getOr(bi()),Ge=js(eo(n.getContentAreaContainer())),mt=$u(Ge,Re);return D.some(Xs(mt.x,mt.y,mt.width,mt.height-15))})),fs.refresh(fe),n.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Q),ee.instanceApi.setData(ue),Ho.focusIn(ee.dialog),ee.instanceApi},w);return{open:(w,C,T)=>{if(!tn(C)){if(C.inline==="toolbar")return h(w,e.backstages.popup.shared.anchors.inlineDialog(),T,C);if(C.inline==="bottom")return x(w,e.backstages.popup.shared.anchors.inlineBottomDialog(),T,C);if(C.inline==="cursor")return h(w,e.backstages.popup.shared.anchors.cursor(),T,C)}return g(w,T)},openUrl:(w,C)=>((T,A)=>Mp.openUrl(L=>{const U=hR(L,{closeWindow:()=>{Oi.hide(U.dialog),A(U.instanceApi)}},n,e.backstages.dialog);return Oi.show(U.dialog),U.instanceApi},T))(w,C),alert:(w,C)=>{l.open(w,C)},close:w=>{w.close()},confirm:(w,C)=>{u.open(w,C)}}},vR=e=>{kC(e),(n=>{const a=n.options.register,l=g=>{return ao(g,ro)?{value:(h=g,Uk(h.map((x,w)=>w%2==0?"#"+(C=>{return(T=C,sb(T)?D.some({value:IA(T)}):D.none()).orThunk(()=>jk(C).map(Ov)).getOrThunk(()=>{const A=document.createElement("canvas");A.height=1,A.width=1;const L=A.getContext("2d");L.clearRect(0,0,A.width,A.height),L.fillStyle="#FFFFFF",L.fillStyle=C,L.fillRect(0,0,1,1);const U=L.getImageData(0,0,1,1).data,Z=U[0],ue=U[1],re=U[2],ge=U[3];return Ov(ib(Z,ue,re,ge))});var T})(x).value:x))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var h},u=g=>no(g)&&g>0?{value:g,valid:!0}:{valid:!1,message:"Must be a positive number."};a("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),a("color_map_raw",{processor:g=>ao(g,ro)?{value:Uk(g),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),a("color_map_background",{processor:l}),a("color_map_foreground",{processor:l}),a("color_cols",{processor:u,default:Zk(n)}),a("color_cols_foreground",{processor:u,default:qk(n,s0)}),a("color_cols_background",{processor:u,default:qk(n,Fv)}),a("custom_colors",{processor:"boolean",default:!0}),a("color_default_foreground",{processor:"string",default:i0}),a("color_default_background",{processor:"string",default:i0})})(e),(n=>{const a=n.options.register;a("contextmenu_avoid_overlap",{processor:"string",default:""}),a("contextmenu_never_use_native",{processor:"boolean",default:!1}),a("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:ro(l)||ao(l,ro)?{value:QM(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)};Pw.add("silver",e=>{vR(e);let n=()=>bi();const{dialogs:a,popups:l,renderUI:u}=dR(e,{getPopupSinkBounds:()=>n()});oT(e,l.backstage.shared);const g=yR({editor:e,backstages:{popup:l.backstage,dialog:a.backstage}}),h=ko();return{renderUI:()=>{const x=u();return qc(e,l.getMothership().element).each(w=>{n=()=>Ap(w)}),x},getWindowManagerImpl:he(g),getNotificationManagerImpl:()=>r4(e,{backstage:l.backstage},l.getMothership(),h),getPromotionElement:()=>qr(eo(e.getContainer()),".tox-promotion").map(x=>x.dom).getOrNull()}})})();(function(){var Oo=tinymce.util.Tools.resolve("tinymce.ModelManager");const an=p=>b=>(_=>{const E=typeof _;return _===null?"null":E==="object"&&Array.isArray(_)?"array":E==="object"&&(I=H=_,(q=String).prototype.isPrototypeOf(I)||((J=H.constructor)===null||J===void 0?void 0:J.name)===q.name)?"string":E;var I,H,q,J})(b)===p,Ko=p=>b=>typeof b===p,cn=p=>b=>p===b,en=an("string"),ro=an("object"),gn=an("array"),$o=cn(null),go=Ko("boolean"),At=cn(void 0),kn=p=>!(b=>b==null)(p),tn=Ko("function"),Gt=Ko("number"),Je=()=>{},bt=p=>()=>p,no=p=>p,ao=(p,b)=>p===b;function Te(p,...b){return(..._)=>{const E=b.concat(_);return p.apply(null,E)}}const St=p=>b=>!p(b),wo=p=>p(),he=bt(!1),Xe=bt(!0);class ae{constructor(b,_){this.tag=b,this.value=_}static some(b){return new ae(!0,b)}static none(){return ae.singletonNone}fold(b,_){return this.tag?_(this.value):b()}isSome(){return this.tag}isNone(){return!this.tag}map(b){return this.tag?ae.some(b(this.value)):ae.none()}bind(b){return this.tag?b(this.value):ae.none()}exists(b){return this.tag&&b(this.value)}forall(b){return!this.tag||b(this.value)}filter(b){return!this.tag||b(this.value)?this:ae.none()}getOr(b){return this.tag?this.value:b}or(b){return this.tag?this:b}getOrThunk(b){return this.tag?this.value:b()}orThunk(b){return this.tag?this:b()}getOrDie(b){if(this.tag)return this.value;throw new Error(b??"Called getOrDie on None")}static from(b){return kn(b)?ae.some(b):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(b){this.tag&&b(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const pt=Array.prototype.slice,sn=Array.prototype.indexOf,Ro=Array.prototype.push,pn=(p,b)=>{return _=p,E=b,sn.call(_,E)>-1;var _,E},Vo=(p,b)=>{for(let _=0,E=p.length;_<E;_++)if(b(p[_],_))return!0;return!1},Nt=(p,b)=>{const _=[];for(let E=0;E<p;E++)_.push(b(E));return _},D=(p,b)=>{const _=p.length,E=new Array(_);for(let I=0;I<_;I++){const H=p[I];E[I]=b(H,I)}return E},zt=(p,b)=>{for(let _=0,E=p.length;_<E;_++)b(p[_],_)},Ot=(p,b)=>{const _=[],E=[];for(let I=0,H=p.length;I<H;I++){const q=p[I];(b(q,I)?_:E).push(q)}return{pass:_,fail:E}},Lt=(p,b)=>{const _=[];for(let E=0,I=p.length;E<I;E++){const H=p[E];b(H,E)&&_.push(H)}return _},po=(p,b,_)=>(((E,I)=>{for(let H=E.length-1;H>=0;H--)I(E[H],H)})(p,(E,I)=>{_=b(_,E,I)}),_),vt=(p,b,_)=>(zt(p,(E,I)=>{_=b(_,E,I)}),_),so=(p,b)=>((_,E,I)=>{for(let H=0,q=_.length;H<q;H++){const J=_[H];if(E(J,H))return ae.some(J);if(I(J,H))break}return ae.none()})(p,b,he),Bo=(p,b)=>{for(let _=0,E=p.length;_<E;_++)if(b(p[_],_))return ae.some(_);return ae.none()},je=p=>{const b=[];for(let _=0,E=p.length;_<E;++_){if(!gn(p[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+p);Ro.apply(b,p[_])}return b},R=(p,b)=>je(D(p,b)),ut=(p,b)=>{for(let _=0,E=p.length;_<E;++_)if(b(p[_],_)!==!0)return!1;return!0},tt=(p,b)=>{const _={};for(let E=0,I=p.length;E<I;E++){const H=p[E];_[String(H)]=b(H,E)}return _},Bt=(p,b)=>b>=0&&b<p.length?ae.some(p[b]):ae.none(),Vt=p=>Bt(p,0),co=p=>Bt(p,p.length-1),xo=(p,b)=>{for(let _=0;_<p.length;_++){const E=b(p[_],_);if(E.isSome())return E}return ae.none()},No=Object.keys,ke=Object.hasOwnProperty,Ft=(p,b)=>{const _=No(p);for(let E=0,I=_.length;E<I;E++){const H=_[E];b(p[H],H)}},Uo=(p,b)=>Ue(p,(_,E)=>({k:E,v:b(_,E)})),Ue=(p,b)=>{const _={};return Ft(p,(E,I)=>{const H=b(E,I);_[H.k]=H.v}),_},me=(p,b)=>{const _=[];return Ft(p,(E,I)=>{_.push(b(E,I))}),_},xe=p=>me(p,no),Pe=(p,b)=>ke.call(p,b),Ie=p=>{if(!gn(p))throw new Error("cases must be an array");if(p.length===0)throw new Error("there must be at least one case");const b=[],_={};return zt(p,(E,I)=>{const H=No(E);if(H.length!==1)throw new Error("one and only one name per case");const q=H[0],J=E[q];if(_[q]!==void 0)throw new Error("duplicate key detected:"+q);if(q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!gn(J))throw new Error("case arguments must be an array");b.push(q),_[q]=(...pe)=>{const Oe=pe.length;if(Oe!==J.length)throw new Error("Wrong number of arguments to case "+q+". Expected "+J.length+" ("+J+"), got "+Oe);return{fold:(...Qe)=>{if(Qe.length!==p.length)throw new Error("Wrong number of arguments to fold. Expected "+p.length+", got "+Qe.length);return Qe[I].apply(null,pe)},match:Qe=>{const Me=No(Qe);if(b.length!==Me.length)throw new Error("Wrong number of arguments to match. Expected: "+b.join(",")+`
Actual: `+Me.join(","));if(!ut(b,$e=>pn(Me,$e)))throw new Error("Not all branches were specified when using match. Specified: "+Me.join(", ")+`
Required: `+b.join(", "));return Qe[q].apply(null,pe)},log:Qe=>{}}}}),_},ye=p=>{let b=p;return{get:()=>b,set:_=>{b=_}}},Ee=p=>p.slice(0).sort(),ot=(p,b)=>{const _=Lt(b,E=>!pn(p,E));_.length>0&&(E=>{throw new Error("Unsupported keys for object: "+Ee(E).join(", "))})(_)},_t=p=>((b,_)=>((E,I,H)=>{if(I.length===0)throw new Error("You must specify at least one required field.");return((q,J)=>{if(!gn(J))throw new Error("The "+q+" fields must be an array. Was: "+J+".");zt(J,pe=>{if(!en(pe))throw new Error("The value "+pe+" in the "+q+" fields was not a string.")})})("required",I),(q=>{const J=Ee(q);so(J,(pe,Oe)=>Oe<J.length-1&&pe===J[Oe+1]).each(pe=>{throw new Error("The field: "+pe+" occurs more than once in the combined fields: ["+J.join(", ")+"].")})})(I),q=>{const J=No(q);ut(I,Oe=>pn(J,Oe))||((Oe,Qe)=>{throw new Error("All required keys ("+Ee(Oe).join(", ")+") were not specified. Specified keys were: "+Ee(Qe).join(", ")+".")})(I,J),E(I,J);const pe=Lt(I,Oe=>!H.validate(q[Oe],Oe));return pe.length>0&&((Oe,Qe)=>{throw new Error("All values need to be of type: "+Qe+". Keys ("+Ee(Oe).join(", ")+") were not.")})(pe,H.label),q}})(b,_,{validate:tn,label:"function"}))(ot,p),We=p=>{const b=H=>H(p),_=bt(p),E=()=>I,I={tag:!0,inner:p,fold:(H,q)=>q(p),isValue:Xe,isError:he,map:H=>io.value(H(p)),mapError:E,bind:b,exists:b,forall:b,getOr:_,or:E,getOrThunk:_,orThunk:E,getOrDie:_,each:H=>{H(p)},toOptional:()=>ae.some(p)};return I},dt=p=>{const b=()=>_,_={tag:!1,inner:p,fold:(I,H)=>I(p),isValue:he,isError:Xe,map:b,mapError:I=>io.error(I(p)),bind:b,exists:he,forall:Xe,getOr:no,or:no,getOrThunk:wo,orThunk:wo,getOrDie:(E=String(p),()=>{throw new Error(E)}),each:Je,toOptional:ae.none};var E;return _},io={value:We,error:dt,fromOption:(p,b)=>p.fold(()=>dt(b),We)},Fo=typeof window<"u"?window:Function("return this;")(),rt=p=>{const b=p.replace(/\./g,"-");return{resolve:_=>b+"-"+_}},xt=(p,b,_=ao)=>p.exists(E=>_(E,b)),oo=p=>{const b=[],_=E=>{b.push(E)};for(let E=0;E<p.length;E++)p[E].each(_);return b},qo=(p,b)=>p?ae.some(b):ae.none(),Mn=(p,b)=>((_,E)=>{let I=E??Fo;for(let H=0;H<_.length&&I!=null;++H)I=I[_[H]];return I})(p.split("."),b),_n=()=>{const p=(b=>{const _=ye(ae.none()),E=()=>_.get().each(b);return{clear:()=>{E(),_.set(ae.none())},isSet:()=>_.get().isSome(),get:()=>_.get(),set:I=>{E(),_.set(ae.some(I))}}})(Je);return{...p,on:b=>p.get().each(b)}},Dt=(p,b,_)=>b===""||p.length>=b.length&&p.substr(_,_+b.length)===b,Pt=(p,b,_=0,E)=>{const I=p.indexOf(b,_);return I!==-1&&(!!At(E)||I+b.length<=E)},ft=(p,b)=>Dt(p,b,0),bo=(p,b)=>Dt(p,b,p.length-b.length),Rn=(p=>b=>b.replace(p,""))(/^\s+|\s+$/g),On=p=>p.length>0,fo=p=>{let b,_=!1;return(...E)=>(_||(_=!0,b=p.apply(null,E)),b)},gr=["tfoot","thead","tbody","colgroup"],Ur=(p,b,_)=>({element:p,rowspan:b,colspan:_}),Ha=(p,b,_)=>({element:p,cells:b,section:_}),Cn=(p,b,_)=>({element:p,isNew:b,isLocked:_}),on=(p,b,_,E)=>({element:p,cells:b,section:_,isNew:E}),ea=(p,b,_)=>{const E=p.cells,I=E.slice(0,b),H=E.slice(b),q=I.concat(_).concat(H);return Gn(p,q)},Ya=(p,b,_)=>ea(p,b,[_]),Tr=(p,b,_)=>{p.cells[b]=_},Gn=(p,b)=>on(p.element,b,p.section,p.isNew),Qn=(p,b)=>p.cells[b],ta=(p,b)=>Qn(p,b).element,Ba=p=>p.cells.length,Or=p=>{const b=Ot(p,_=>_.section==="colgroup");return{rows:b.fail,cols:b.pass}},Va=(p,b,_)=>{const E=D(p.cells,_);return on(b(p.element),E,p.section,!0)},gt=p=>{if(p==null)throw new Error("Node cannot be null or undefined");return{dom:p}},se={fromHtml:(p,b)=>{const _=(b||document).createElement("div");if(_.innerHTML=p,!_.hasChildNodes()||_.childNodes.length>1){const E="HTML does not have a single root node";throw console.error(E,p),new Error(E)}return gt(_.childNodes[0])},fromTag:(p,b)=>{const _=(b||document).createElement(p);return gt(_)},fromText:(p,b)=>{const _=(b||document).createTextNode(p);return gt(_)},fromDom:gt,fromPoint:(p,b,_)=>ae.from(p.dom.elementFromPoint(b,_)).map(gt)},Io=(p,b)=>{const _=p.document.createRange();return _.selectNode(b.dom),_},Yo=(p,b)=>{const _=p.document.createRange();return Er(_,b),_},Er=(p,b)=>p.selectNodeContents(b.dom),kr=(p,b,_)=>{const E=p.document.createRange();var I;return I=E,b.fold(H=>{I.setStartBefore(H.dom)},(H,q)=>{I.setStart(H.dom,q)},H=>{I.setStartAfter(H.dom)}),((H,q)=>{q.fold(J=>{H.setEndBefore(J.dom)},(J,pe)=>{H.setEnd(J.dom,pe)},J=>{H.setEndAfter(J.dom)})})(E,_),E},Rr=(p,b,_,E,I)=>{const H=p.document.createRange();return H.setStart(b.dom,_),H.setEnd(E.dom,I),H},Dr=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom,width:p.width,height:p.height}),Fs=Ie([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),De=(p,b,_)=>b(se.fromDom(_.startContainer),_.startOffset,se.fromDom(_.endContainer),_.endOffset),Fe=(p,b)=>{const _=((E,I)=>I.match({domRange:H=>({ltr:bt(H),rtl:ae.none}),relative:(H,q)=>({ltr:fo(()=>kr(E,H,q)),rtl:fo(()=>ae.some(kr(E,q,H)))}),exact:(H,q,J,pe)=>({ltr:fo(()=>Rr(E,H,q,J,pe)),rtl:fo(()=>ae.some(Rr(E,J,pe,H,q)))})}))(p,b);return((E,I)=>{const H=I.ltr();return H.collapsed?I.rtl().filter(q=>q.collapsed===!1).map(q=>Fs.rtl(se.fromDom(q.endContainer),q.endOffset,se.fromDom(q.startContainer),q.startOffset)).getOrThunk(()=>De(0,Fs.ltr,H)):De(0,Fs.ltr,H)})(0,_)},wt=(p,b)=>Fe(p,b).match({ltr:(_,E,I,H)=>{const q=p.document.createRange();return q.setStart(_.dom,E),q.setEnd(I.dom,H),q},rtl:(_,E,I,H)=>{const q=p.document.createRange();return q.setStart(I.dom,H),q.setEnd(_.dom,E),q}});Fs.ltr,Fs.rtl;const Tt=(p,b)=>{const _=p.dom;if(_.nodeType!==1)return!1;{const E=_;if(E.matches!==void 0)return E.matches(b);if(E.msMatchesSelector!==void 0)return E.msMatchesSelector(b);if(E.webkitMatchesSelector!==void 0)return E.webkitMatchesSelector(b);if(E.mozMatchesSelector!==void 0)return E.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")}},ko=p=>p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11||p.childElementCount===0,Jo=(p,b)=>{const _=b===void 0?document:b.dom;return ko(_)?ae.none():ae.from(_.querySelector(p)).map(se.fromDom)},hn=(p,b)=>p.dom===b.dom,cr=(p,b)=>{const _=p.dom,E=b.dom;return _!==E&&_.contains(E)},ur=Tt,ir=()=>Le(0,0),Le=(p,b)=>({major:p,minor:b}),Be={nu:Le,detect:(p,b)=>{const _=String(b).toLowerCase();return p.length===0?ir():((E,I)=>{const H=((J,pe)=>{for(let Oe=0;Oe<J.length;Oe++){const Qe=J[Oe];if(Qe.test(pe))return Qe}})(E,I);if(!H)return{major:0,minor:0};const q=J=>Number(I.replace(H,"$"+J));return Le(q(1),q(2))})(p,_)},unknown:ir},Kt=(p,b)=>{const _=String(b).toLowerCase();return so(p,E=>E.search(_))},Po=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Do=p=>b=>Pt(b,p),vn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:p=>Pt(p,"edge/")&&Pt(p,"chrome")&&Pt(p,"safari")&&Pt(p,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Po],search:p=>Pt(p,"chrome")&&!Pt(p,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:p=>Pt(p,"msie")||Pt(p,"trident")},{name:"Opera",versionRegexes:[Po,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Do("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Do("firefox")},{name:"Safari",versionRegexes:[Po,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:p=>(Pt(p,"safari")||Pt(p,"mobile/"))&&Pt(p,"applewebkit")}],xn=[{name:"Windows",search:Do("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:p=>Pt(p,"iphone")||Pt(p,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Do("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Do("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Do("linux"),versionRegexes:[]},{name:"Solaris",search:Do("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Do("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Do("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],nn={browsers:bt(vn),oses:bt(xn)},zn="Edge",eo="Chromium",Pr="Opera",fa="Firefox",qs="Safari",cs=p=>{const b=p.current,_=p.version,E=I=>()=>b===I;return{current:b,version:_,isEdge:E(zn),isChromium:E(eo),isIE:E("IE"),isOpera:E(Pr),isFirefox:E(fa),isSafari:E(qs)}},Ci=()=>cs({current:void 0,version:Be.unknown()}),Kr=cs,Yr="Windows",Br="Android",Ls="Linux",cl="macOS",zr="Solaris",oi="FreeBSD",Jl="ChromeOS",Ni=p=>{const b=p.current,_=p.version,E=I=>()=>b===I;return{current:b,version:_,isWindows:E(Yr),isiOS:E("iOS"),isAndroid:E(Br),isMacOS:E(cl),isLinux:E(Ls),isSolaris:E(zr),isFreeBSD:E(oi),isChromeOS:E(Jl)}},Ws=()=>Ni({current:void 0,version:Be.unknown()}),Di=Ni,Bl=p=>window.matchMedia(p).matches;let Os=fo(()=>((p,b,_)=>{const E=nn.browsers(),I=nn.oses(),H=b.bind(pe=>((Oe,Qe)=>xo(Qe.brands,Me=>{const $e=Me.brand.toLowerCase();return so(Oe,He=>{var yt;return $e===((yt=He.brand)===null||yt===void 0?void 0:yt.toLowerCase())}).map(He=>({current:He.name,version:Be.nu(parseInt(Me.version,10),0)}))}))(E,pe)).orThunk(()=>((pe,Oe)=>Kt(pe,Oe).map(Qe=>{const Me=Be.detect(Qe.versionRegexes,Oe);return{current:Qe.name,version:Me}}))(E,p)).fold(Ci,Kr),q=((pe,Oe)=>Kt(pe,Oe).map(Qe=>{const Me=Be.detect(Qe.versionRegexes,Oe);return{current:Qe.name,version:Me}}))(I,p).fold(Ws,Di),J=((pe,Oe,Qe,Me)=>{const $e=pe.isiOS()&&/ipad/i.test(Qe)===!0,He=pe.isiOS()&&!$e,yt=pe.isiOS()||pe.isAndroid(),ht=yt||Me("(pointer:coarse)"),Qt=$e||!He&&yt&&Me("(min-device-width:768px)"),to=He||yt&&!Qt,Eo=Oe.isSafari()&&pe.isiOS()&&/safari/i.test(Qe)===!1,To=!to&&!Qt&&!Eo;return{isiPad:bt($e),isiPhone:bt(He),isTablet:bt(Qt),isPhone:bt(to),isTouch:bt(ht),isAndroid:pe.isAndroid,isiOS:pe.isiOS,isWebView:bt(Eo),isDesktop:bt(To)}})(q,H,p,_);return{browser:H,os:q,deviceType:J}})(window.navigator.userAgent,ae.from(window.navigator.userAgentData),Bl));const ni=()=>Os(),Fl=Object.getPrototypeOf,Is=p=>{const b=Mn("ownerDocument.defaultView",p);return ro(p)&&((_=>((E,I)=>{const H=((q,J)=>Mn(q,J))(E,I);if(H==null)throw new Error(E+" not available on this browser");return H})("HTMLElement",_))(b).prototype.isPrototypeOf(p)||/^HTML\w*Element$/.test(Fl(p).constructor.name))},wa=p=>p.dom.nodeName.toLowerCase(),wl=p=>p.dom.nodeType,Ki=p=>b=>wl(b)===p,Yi=p=>wl(p)===8||wa(p)==="#comment",Ql=p=>Xa(p)&&Is(p.dom),Xa=Ki(1),ri=Ki(3),ec=Ki(9),Ll=Ki(11),Ps=p=>b=>Xa(b)&&wa(b)===p,pc=p=>se.fromDom(p.dom.ownerDocument),Si=p=>ec(p)?p:pc(p),Mi=p=>ae.from(p.dom.parentNode).map(se.fromDom),fc=p=>ae.from(p.dom.parentElement).map(se.fromDom),Kc=(p,b)=>{const _=tn(b)?b:he;let E=p.dom;const I=[];for(;E.parentNode!==null&&E.parentNode!==void 0;){const H=E.parentNode,q=se.fromDom(H);if(I.push(q),_(q)===!0)break;E=H}return I},hc=p=>ae.from(p.dom.previousSibling).map(se.fromDom),kl=p=>ae.from(p.dom.nextSibling).map(se.fromDom),Ja=p=>D(p.dom.childNodes,se.fromDom),oe=(p,b)=>{const _=p.dom.childNodes;return ae.from(_[b]).map(se.fromDom)},_e=p=>Ll(p)&&kn(p.dom.host),st=p=>se.fromDom(p.dom.getRootNode()),Yt=p=>se.fromDom(p.dom.host),W=p=>{const b=se.fromDom((J=>{if(kn(J.target)){const pe=se.fromDom(J.target);if(Xa(pe)&&kn(pe.dom.shadowRoot)&&J.composed&&J.composedPath){const Oe=J.composedPath();if(Oe)return Vt(Oe)}}return ae.from(J.target)})(p).getOr(p.target)),_=()=>p.stopPropagation(),E=()=>p.preventDefault(),I=(H=E,q=_,(...J)=>H(q.apply(null,J)));var H,q;return((J,pe,Oe,Qe,Me,$e,He)=>({target:J,x:pe,y:Oe,stop:Qe,prevent:Me,kill:$e,raw:He}))(b,p.clientX,p.clientY,_,E,I,p)},ce=(p,b,_,E)=>{p.dom.removeEventListener(b,_,E)},it=Xe,mo=(p,b,_)=>((E,I,H,q)=>((J,pe,Oe,Qe,Me)=>{const $e=((He,yt)=>ht=>{He(ht)&&yt(W(ht))})(Oe,Qe);return J.dom.addEventListener(pe,$e,Me),{unbind:Te(ce,J,pe,$e,Me)}})(E,I,H,q,!1))(p,b,it,_),lo=W,$=(p,b)=>{Mi(p).each(_=>{_.dom.insertBefore(b.dom,p.dom)})},te=(p,b)=>{kl(p).fold(()=>{Mi(p).each(_=>{ve(_,b)})},_=>{$(_,b)})},ze=(p,b)=>{(E=>oe(E,0))(p).fold(()=>{ve(p,b)},E=>{p.dom.insertBefore(b.dom,E.dom)})},ve=(p,b)=>{p.dom.appendChild(b.dom)},vo=(p,b)=>{$(p,b),ve(b,p)},Kn=(p,b)=>{zt(b,(_,E)=>{const I=E===0?p:b[E-1];te(I,_)})},Wn=(p,b)=>{zt(b,_=>{ve(p,_)})},ka=(p,b,_)=>{if(!(en(_)||go(_)||Gt(_)))throw console.error("Invalid call to Attribute.set. Key ",b,":: Value ",_,":: Element ",p),new Error("Attribute value was not simple");p.setAttribute(b,_+"")},Se=(p,b,_)=>{ka(p.dom,b,_)},Oa=(p,b)=>{const _=p.dom;Ft(b,(E,I)=>{ka(_,I,E)})},vs=(p,b)=>{const _=p.dom.getAttribute(b);return _===null?void 0:_},xs=(p,b)=>ae.from(vs(p,b)),na=(p,b)=>{p.dom.removeAttribute(b)},md=p=>vt(p.dom.attributes,(b,_)=>(b[_.name]=_.value,b),{}),Ri=p=>{p.dom.textContent="",zt(Ja(p),b=>{ai(b)})},ai=p=>{const b=p.dom;b.parentNode!==null&&b.parentNode.removeChild(b)},wr=p=>{const b=Ja(p);b.length>0&&Kn(p,b),ai(p)},Na=(p,b)=>se.fromDom(p.dom.cloneNode(b)),bc=p=>Na(p,!1),pr=p=>Na(p,!0),Id=(p,b)=>{const _=se.fromTag(b),E=md(p);return Oa(_,E),_},_l=p=>p.style!==void 0&&tn(p.style.getPropertyValue),Xi=p=>{const b=ri(p)?p.dom.parentNode:p.dom;if(b==null||b.ownerDocument===null)return!1;const _=b.ownerDocument;return(H=>{const q=st(H);return _e(q)?ae.some(q):ae.none()})(se.fromDom(b)).fold(()=>_.body.contains(b),(E=Xi,I=Yt,H=>E(I(H))));var E,I},Gs=(p,b,_)=>{if(!en(_))throw console.error("Invalid call to CSS.set. Property ",b,":: Value ",_,":: Element ",p),new Error("CSS value must be a string: "+_);_l(p)&&p.style.setProperty(b,_)},la=(p,b,_)=>{const E=p.dom;Gs(E,b,_)},ds=(p,b)=>{const _=p.dom;Ft(b,(E,I)=>{Gs(_,I,E)})},Cl=(p,b)=>{const _=p.dom,E=window.getComputedStyle(_).getPropertyValue(b);return E!==""||Xi(p)?E:de(_,b)},de=(p,b)=>_l(p)?p.style.getPropertyValue(b):"",Ce=(p,b)=>{const _=p.dom,E=de(_,b);return ae.from(E).filter(I=>I.length>0)},lt=(p,b)=>{((_,E)=>{_l(_)&&_.style.removeProperty(E)})(p.dom,b),xt(xs(p,"style").map(Rn),"")&&na(p,"style")},Zt=(p,b)=>{const _=I=>{const H=b(I);if(H<=0||H===null){const q=Cl(I,p);return parseFloat(q)||0}return H},E=(I,H)=>vt(H,(q,J)=>{const pe=Cl(I,J),Oe=pe===void 0?0:parseInt(pe,10);return isNaN(Oe)?q:q+Oe},0);return{set:(I,H)=>{if(!Gt(H)&&!H.match(/^[0-9]+$/))throw new Error(p+".set accepts only positive integer values. Value was "+H);const q=I.dom;_l(q)&&(q.style[p]=H+"px")},get:_,getOuter:_,aggregate:E,max:(I,H,q)=>{const J=E(I,q);return H>J?H-J:0}}},rn=(p,b,_)=>((E,I)=>(H=>{const q=parseFloat(H);return isNaN(q)?ae.none():ae.some(q)})(E).getOr(I))(Cl(p,b),_),lr=Zt("height",p=>{const b=p.dom;return Xi(p)?b.getBoundingClientRect().height:b.offsetHeight}),Nr=p=>lr.get(p),us=p=>lr.getOuter(p),Ns=Zt("width",p=>p.dom.offsetWidth),Hs=p=>Ns.get(p),ks=p=>Ns.getOuter(p),ha=p=>((b,_)=>{const E=b.dom,I=E.getBoundingClientRect().width||E.offsetWidth;return((H,q,J,pe)=>q-rn(H,`padding-${J}`,0)-rn(H,`padding-${pe}`,0)-rn(H,`border-${J}-width`,0)-rn(H,`border-${pe}-width`,0))(b,I,"left","right")})(p),Sl=(p,b)=>({left:p,top:b,translate:(_,E)=>Sl(p+_,b+E)}),An=Sl,yc=(p,b)=>p!==void 0?p:b!==void 0?b:0,Qa=p=>{const b=p.dom.ownerDocument,_=b.body,E=b.defaultView,I=b.documentElement;if(_===p.dom)return An(_.offsetLeft,_.offsetTop);const H=yc(E==null?void 0:E.pageYOffset,I.scrollTop),q=yc(E==null?void 0:E.pageXOffset,I.scrollLeft),J=yc(I.clientTop,_.clientTop),pe=yc(I.clientLeft,_.clientLeft);return ba(p).translate(q-pe,H-J)},ba=p=>{const b=p.dom,_=b.ownerDocument.body;return _===b?An(_.offsetLeft,_.offsetTop):Xi(p)?(E=>{const I=E.getBoundingClientRect();return An(I.left,I.top)})(b):An(0,0)},mi=(p=>{const b=_=>p(_)?ae.from(_.dom.nodeValue):ae.none();return{get:_=>{if(!p(_))throw new Error("Can only get text value of a text node");return b(_).getOr("")},getOption:b,set:(_,E)=>{if(!p(_))throw new Error("Can only set raw text value of a text node");_.dom.nodeValue=E}}})(ri),ya=p=>mi.get(p),Fu=p=>mi.getOption(p),Yc=(p,b)=>mi.set(p,b),Up=(p,b)=>_=>Zp(_)==="rtl"?b:p,Zp=p=>Cl(p,"direction")==="rtl"?"rtl":"ltr";var Lu=(p,b,_,E,I)=>p(_,E)?ae.some(_):tn(I)&&I(_)?ae.none():b(_,E,I);const ym=(p,b,_)=>{let E=p.dom;const I=tn(_)?_:he;for(;E.parentNode;){E=E.parentNode;const H=se.fromDom(E);if(b(H))return ae.some(H);if(I(H))break}return ae.none()},dl=(p,b,_)=>Lu((E,I)=>I(E),ym,p,b,_),si=(p,b,_)=>ym(p,E=>Tt(E,b),_),vc=(p,b)=>(_=>so(_.dom.childNodes,E=>{return I=se.fromDom(E),Tt(I,b);var I}).map(se.fromDom))(p),nu=(p,b)=>Jo(b,p),ua=(p,b,_)=>Lu((E,I)=>Tt(E,I),si,p,b,_),xc=p=>p.dom.classList!==void 0,er=(p,b)=>((_,E,I)=>{const H=((q,J)=>{const pe=vs(q,J);return pe===void 0||pe===""?[]:pe.split(" ")})(_,E).concat([I]);return Se(_,E,H.join(" ")),!0})(p,"class",b),Aa=(p,b)=>{xc(p)?p.dom.classList.add(b):er(p,b)},gd=(p,b)=>xc(p)&&p.dom.classList.contains(b),Ds=p=>ua(p,"[contenteditable]"),ru=(p,b=!1)=>Xi(p)?p.dom.isContentEditable:Ds(p).fold(bt(b),_=>ra(_)==="true"),ra=p=>p.dom.contentEditable,Mc=(p,b)=>{let _=[];return zt(Ja(p),E=>{b(E)&&(_=_.concat([E])),_=_.concat(Mc(E,b))}),_},gi=(p,b,_)=>((E,I,H)=>Lt(Kc(E,H),q=>Tt(q,b)))(p,0,_),br=(p,b)=>(_=>Lt(Ja(_),E=>Tt(E,b)))(p),Bi=(p,b)=>((_,E)=>{const I=E===void 0?document:E.dom;return ko(I)?[]:D(I.querySelectorAll(_),se.fromDom)})(b,p),ja=p=>wa(p)==="img"?1:Fu(p).fold(()=>Ja(p).length,b=>b.length),ng=["img","br"],Fa=p=>Fu(p).filter(b=>b.trim().length!==0||b.indexOf(" ")>-1).isSome()||pn(ng,wa(p))||(b=>Ql(b)&&vs(b,"contenteditable")==="false")(p),Xr=p=>((b,_)=>{const E=I=>{for(let H=0;H<I.childNodes.length;H++){const q=se.fromDom(I.childNodes[H]);if(_(q))return ae.some(q);const J=E(I.childNodes[H]);if(J.isSome())return J}return ae.none()};return E(b.dom)})(p,Fa),El=p=>Xc(p,Fa),Xc=(p,b)=>{const _=E=>{const I=Ja(E);for(let H=I.length-1;H>=0;H--){const q=I[H];if(b(q))return ae.some(q);const J=_(q);if(J.isSome())return J}return ae.none()};return _(p)},Rc=(p,b,_,E)=>({start:p,soffset:b,finish:_,foffset:E}),Fi=Ie([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ks={before:Fi.before,on:Fi.on,after:Fi.after,cata:(p,b,_,E)=>p.fold(b,_,E),getStart:p=>p.fold(no,no,no)},Jc=Ie([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qc={domRange:Jc.domRange,relative:Jc.relative,exact:Jc.exact,exactFromRange:p=>Jc.exact(p.start,p.soffset,p.finish,p.foffset),getWin:p=>{const b=(_=>_.match({domRange:E=>se.fromDom(E.startContainer),relative:(E,I)=>Ks.getStart(E),exact:(E,I,H,q)=>E}))(p);return se.fromDom(Si(b).dom.defaultView)},range:Rc},ca=(p,b)=>{const _=wa(p);return _==="input"?Ks.after(p):pn(["br","img"],_)?b===0?Ks.before(p):Ks.after(p):Ks.on(p,b)},zl=p=>ae.from(p.getSelection()),Ji=(p,b)=>{zl(p).each(_=>{_.removeAllRanges(),_.addRange(b)})},pd=(p,b,_,E,I)=>{const H=Rr(p,b,_,E,I);Ji(p,H)},Ui=(p,b)=>Fe(p,b).match({ltr:(_,E,I,H)=>{pd(p,_,E,I,H)},rtl:(_,E,I,H)=>{zl(p).each(q=>{if(q.setBaseAndExtent)q.setBaseAndExtent(_.dom,E,I.dom,H);else if(q.extend)try{((J,pe,Oe,Qe,Me,$e)=>{pe.collapse(Oe.dom,Qe),pe.extend(Me.dom,$e)})(0,q,_,E,I,H)}catch{pd(p,I,H,_,E)}else pd(p,I,H,_,E)})}}),Qi=(p,b,_,E,I)=>{const H=((q,J,pe,Oe)=>{const Qe=ca(q,J),Me=ca(pe,Oe);return Qc.relative(Qe,Me)})(b,_,E,I);Ui(p,H)},Yg=(p,b,_)=>{const E=((I,H)=>{const q=I.fold(Ks.before,ca,Ks.after),J=H.fold(Ks.before,ca,Ks.after);return Qc.relative(q,J)})(b,_);Ui(p,E)},au=p=>{if(p.rangeCount>0){const b=p.getRangeAt(0),_=p.getRangeAt(p.rangeCount-1);return ae.some(Rc(se.fromDom(b.startContainer),b.startOffset,se.fromDom(_.endContainer),_.endOffset))}return ae.none()},Xg=p=>{if(p.anchorNode===null||p.focusNode===null)return au(p);{const b=se.fromDom(p.anchorNode),_=se.fromDom(p.focusNode);return((E,I,H,q)=>{const J=((Oe,Qe,Me,$e)=>{const He=pc(Oe).dom.createRange();return He.setStart(Oe.dom,Qe),He.setEnd(Me.dom,$e),He})(E,I,H,q),pe=hn(E,H)&&I===q;return J.collapsed&&!pe})(b,p.anchorOffset,_,p.focusOffset)?ae.some(Rc(b,p.anchorOffset,_,p.focusOffset)):au(p)}},Iu=(p,b,_=!0)=>{const E=(_?Yo:Io)(p,b);Ji(p,E)},Pu=p=>(b=>zl(b).filter(_=>_.rangeCount>0).bind(Xg))(p).map(b=>Qc.exact(b.start,b.soffset,b.finish,b.foffset)),rg=(p,b,_)=>((E,I,H)=>((q,J,pe)=>q.caretPositionFromPoint?((Oe,Qe,Me)=>{var $e;return ae.from(($e=Oe.caretPositionFromPoint)===null||$e===void 0?void 0:$e.call(Oe,Qe,Me)).bind(He=>{if(He.offsetNode===null)return ae.none();const yt=Oe.createRange();return yt.setStart(He.offsetNode,He.offset),yt.collapse(),ae.some(yt)})})(q,J,pe):q.caretRangeFromPoint?((Oe,Qe,Me)=>{var $e;return ae.from(($e=Oe.caretRangeFromPoint)===null||$e===void 0?void 0:$e.call(Oe,Qe,Me))})(q,J,pe):ae.none())(E.document,I,H).map(q=>Rc(se.fromDom(q.startContainer),q.startOffset,se.fromDom(q.endContainer),q.endOffset)))(p,b,_),su={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},vm=(()=>{const p="[0-9]+",b="[eE][+-]?"+p,_=I=>`(?:${I})?`,E=["Infinity",p+"\\."+_(p)+_(b),"\\."+p+_(b),p+_(b)].join("|");return new RegExp(`^([+-]?(?:${E}))(.*)$`)})(),es=p=>D(p,bt(0)),ag=(p,b,_,E,I)=>I(p.slice(0,b)).concat(E).concat(I(p.slice(_))),Pd=p=>(b,_,E,I)=>{if(p(E)){const H=Math.max(I,b[_]-Math.abs(E)),q=Math.abs(H-b[_]);return E>=0?q:-q}return E},qr=Pd(p=>p<0),Il=Pd(Xe),iu=()=>{const p=(_,E,I,H)=>{const q=(100+I)/100,J=Math.max(H,(_[E]+I)/q);return D(_,(pe,Oe)=>(Oe===E?J:pe/q)-pe)},b=(_,E,I,H,q,J)=>J?p(_,E,H,q):((pe,Oe,Qe,Me,$e)=>{const He=qr(pe,Oe,Me,$e);return ag(pe,Oe,Qe+1,[He,0],es)})(_,E,I,H,q);return{resizeTable:(_,E)=>_(E),clampTableDelta:qr,calcLeftEdgeDeltas:b,calcMiddleDeltas:(_,E,I,H,q,J,pe)=>b(_,I,H,q,J,pe),calcRightEdgeDeltas:(_,E,I,H,q,J)=>{if(J)return p(_,I,H,q);{const pe=qr(_,I,H,q);return es(_.slice(0,I)).concat([pe])}},calcRedestributedWidths:(_,E,I,H)=>{if(H){const q=(E+I)/E,J=D(_,pe=>pe/q);return{delta:100*q-100,newSizes:J}}return{delta:I,newSizes:_}}}},ed=()=>{const p=(b,_,E,I,H)=>{const q=Il(b,I>=0?E:_,I,H);return ag(b,_,E+1,[q,-q],es)};return{resizeTable:(b,_,E)=>{E&&b(_)},clampTableDelta:(b,_,E,I,H)=>{if(H){if(E>=0)return E;{const q=vt(b,(J,pe)=>J+pe-I,0);return Math.max(-q,E)}}return qr(b,_,E,I)},calcLeftEdgeDeltas:p,calcMiddleDeltas:(b,_,E,I,H,q)=>p(b,E,I,H,q),calcRightEdgeDeltas:(b,_,E,I,H,q)=>{if(q)return es(b);{const J=I/b.length;return D(b,bt(J))}},calcRedestributedWidths:(b,_,E,I)=>({delta:0,newSizes:b})}},pi=(p,b,_=0)=>xs(p,b).map(E=>parseInt(E,10)).getOr(_),lu=(p,b)=>pi(p,b,1),xm=p=>Ps("col")(p)?pi(p,"span",1)>1:lu(p,"colspan")>1,Ei=(p,b)=>parseInt(Cl(p,b),10),Jr=bt(10),wm=bt(10),ma=(p,b)=>fi(p,b,Xe),fi=(p,b,_)=>R(Ja(p),E=>Tt(E,b)?_(E)?[E]:[]:fi(E,b,_)),Pl=(p,b)=>((_,E,I=he)=>I(E)?ae.none():pn(_,wa(E))?ae.some(E):si(E,_.join(","),H=>Tt(H,"table")||I(H)))(["td","th"],p,b),ii=p=>ma(p,"th,td"),Hu=p=>Tt(p,"colgroup")?br(p,"col"):R(fd(p),b=>br(b,"col")),Vs=(p,b)=>ua(p,"table",b),Bc=p=>ma(p,"tr"),fd=p=>Vs(p).fold(bt([]),b=>br(b,"colgroup")),Ys=Ps("th"),hd=p=>ut(p,b=>Ys(b.element)),cu=(p,b)=>p&&b?"sectionCells":p?"section":"cells",td=p=>{const b=p.section==="thead",_=xt(km(p.cells),"th");return p.section==="tfoot"?{type:"footer"}:b||_?{type:"header",subType:cu(b,_)}:{type:"body"}},km=p=>{const b=Lt(p,_=>Ys(_.element));return b.length===0?ae.some("td"):b.length===p.length?ae.some("th"):ae.none()},od=(p,b)=>D(p,_=>{if(wa(_)==="colgroup"){const E=D(Hu(_),I=>{const H=pi(I,"span",1);return Ur(I,1,H)});return Ha(_,E,"colgroup")}{const E=D(ii(_),I=>{const H=pi(I,"rowspan",1),q=pi(I,"colspan",1);return Ur(I,H,q)});return Ha(_,E,b(_))}}),_m=p=>Mi(p).map(b=>{const _=wa(b);return(E=>pn(gr,E))(_)?_:"tbody"}).getOr("tbody"),hi=p=>{const b=Bc(p),_=[...fd(p),...b];return od(_,_m)},Cm="data-snooker-locked-cols",Sm=p=>xs(p,Cm).bind(b=>ae.from(b.match(/\d+/g))).map(b=>tt(b,Xe)),tc=p=>{const b=vt(Or(p).rows,(E,I)=>(zt(I.cells,(H,q)=>{H.isLocked&&(E[q]=!0)}),E),{}),_=me(b,(E,I)=>parseInt(I,10));return(E=>{const I=pt.call(E,0);return I.sort(void 0),I})(_)},Vu=(p,b)=>p+","+b,sg=(p,b)=>{const _=R(p.all,E=>E.cells);return Lt(_,b)},du=p=>{const b={},_=[],E=Vt(p).map($e=>$e.element).bind(Vs).bind(Sm).getOr({});let I=0,H=0,q=0;const{pass:J,fail:pe}=Ot(p,$e=>$e.section==="colgroup");zt(pe,$e=>{const He=[];zt($e.cells,yt=>{let ht=0;for(;b[Vu(q,ht)]!==void 0;)ht++;const Qt=((Eo,To)=>Pe(Eo,To)&&Eo[To]!==void 0&&Eo[To]!==null)(E,ht.toString()),to=((Eo,To,zo,Zo,Wo,Sn)=>({element:Eo,rowspan:To,colspan:zo,row:Zo,column:Wo,isLocked:Sn}))(yt.element,yt.rowspan,yt.colspan,q,ht,Qt);for(let Eo=0;Eo<yt.colspan;Eo++)for(let To=0;To<yt.rowspan;To++){const zo=ht+Eo,Zo=Vu(q+To,zo);b[Zo]=to,H=Math.max(H,zo+1)}He.push(to)}),I++,_.push(Ha($e.element,He,$e.section)),q++});const{columns:Oe,colgroups:Qe}=co(J).map($e=>{const He=(ht=>{const Qt={};let to=0;return zt(ht.cells,Eo=>{const To=Eo.colspan;Nt(To,zo=>{const Zo=to+zo;Qt[Zo]=((Wo,Sn,qn)=>({element:Wo,colspan:Sn,column:qn}))(Eo.element,To,Zo)}),to+=To}),Qt})($e);return{colgroups:[((ht,Qt)=>({element:ht,columns:Qt}))($e.element,xe(He))],columns:He}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:(($e,He)=>({rows:$e,columns:He}))(I,H),access:b,all:_,columns:Oe,colgroups:Qe}},Zi=p=>{const b=hi(p);return du(b)},ju=du,Hl=(p,b,_)=>ae.from(p.access[Vu(b,_)]),Al=(p,b,_)=>{const E=sg(p,I=>_(b,I.element));return E.length>0?ae.some(E[0]):ae.none()},nd=sg,bd=p=>R(p.all,b=>b.cells),yd=p=>xe(p.columns),uu=p=>No(p.columns).length>0,Xs=(p,b)=>ae.from(p.columns[b]),js=(p,b,_)=>Cn(_(p.element,b),!0,p.isLocked),vd=(p,b)=>p.section!==b?on(p.element,p.cells,b,p.isNew):p,$u=()=>({transformRow:vd,transformCell:(p,b,_)=>{const E=_(p.element,b),I=wa(E)!=="td"?(H=>{const q=Id(H,"td");te(H,q);const J=Ja(H);return Wn(q,J),ai(H),q})(E):E;return Cn(I,p.isNew,p.isLocked)}}),bi=()=>({transformRow:vd,transformCell:js}),Ms=()=>({transformRow:(p,b)=>vd(p,b==="thead"?"tbody":b),transformCell:js}),O=$u,V=bi,K=Ms,Ne=()=>({transformRow:no,transformCell:js}),qe=(p,b=Xe)=>{const _=p.grid,E=Nt(_.columns,no),I=Nt(_.rows,no);return D(E,H=>yo(()=>R(I,q=>Hl(p,q,H).filter(J=>J.column===H).toArray()),q=>q.colspan===1&&b(q.element),()=>Hl(p,0,H)))},yo=(p,b,_)=>{const E=p();return so(E,b).orThunk(()=>ae.from(E[0]).orThunk(_)).map(I=>I.element)},$t=p=>{const b=p.grid,_=Nt(b.rows,no),E=Nt(b.columns,no);return D(_,I=>yo(()=>R(E,H=>Hl(p,I,H).filter(q=>q.row===I).fold(bt([]),q=>[q])),H=>H.rowspan===1,()=>Hl(p,I,0)))},Zn=(p,b)=>({row:p,y:b}),ar=(p,b)=>({col:p,x:b}),bn=p=>Qa(p).left+ks(p),aa=p=>Qa(p).left,va=(p,b)=>ar(p,aa(b)),Rs=(p,b)=>ar(p,bn(b)),$a=p=>Qa(p).top,Hd=(p,b)=>Zn(p,$a(b)),Ao=(p,b)=>Zn(p,$a(b)+us(b)),Es=(p,b,_)=>{if(_.length===0)return[];const E=D(_.slice(1),(H,q)=>H.map(J=>p(q,J))),I=_[_.length-1].map(H=>b(_.length-1,H));return E.concat([I])},Uu={delta:no,positions:p=>Es(Hd,Ao,p),edge:$a},Fc=Up({delta:no,edge:aa,positions:p=>Es(va,Rs,p)},{delta:p=>-p,edge:bn,positions:p=>Es(Rs,va,p)}),mu={delta:(p,b)=>Fc(b).delta(p,b),positions:(p,b)=>Fc(b).positions(p,b),edge:p=>Fc(p).edge(p)},qp=/(\d+(\.\d+)?)%/,ts=/(\d+(\.\d+)?)px|em/,Em=Ps("col"),xb=Ps("tr"),Vl=(p,b,_)=>{const E=fc(p).getOrThunk(()=>(I=>{const H=I.dom.body;if(H==null)throw new Error("Body is not available yet");return se.fromDom(H)})(pc(p)));return b(p)/_(E)*100},_a=(p,b)=>{la(p,"width",b+"px")},zm=(p,b)=>{la(p,"width",b+"%")},Zu=(p,b)=>{la(p,"height",b+"px")},wb=p=>{const b=(_=>{return rn(E=_,"height",E.dom.offsetHeight)+"px";var E})(p);return b?((_,E,I,H)=>{const q=parseFloat(_);return bo(_,"%")&&wa(E)!=="table"?((J,pe,Oe,Qe)=>{const Me=Vs(J).map($e=>{const He=Oe($e);return Math.floor(pe/100*He)}).getOr(pe);return Qe(J,Me),Me})(E,q,I,H):q})(b,p,Nr,Zu):Nr(p)},wc=(p,b)=>Ce(p,b).orThunk(()=>xs(p,b).map(_=>_+"px")),ig=p=>wc(p,"width"),jl=p=>Vl(p,Hs,ha),Pn=p=>{return Em(p)?Hs(p):rn(b=p,"width",b.dom.offsetWidth);var b},Vd=p=>xb(p)?Nr(p):((b,_,E)=>E(b)/lu(b,"rowspan"))(p,0,wb),Jg=(p,b,_)=>{la(p,"width",b+_)},kb=p=>Vl(p,Hs,ha)+"%",Am=bt(qp),kc=Ps("col"),zi=p=>ig(p).getOrThunk(()=>Pn(p)+"px"),th=p=>{return(b=p,wc(b,"height")).getOrThunk(()=>Vd(p)+"px");var b},os=(p,b,_,E,I,H)=>p.filter(E).fold(()=>H(((q,J)=>{if(J<0||J>=q.length-1)return ae.none();const pe=q[J].fold(()=>{const Qe=(Me=>{const $e=pt.call(Me,0);return $e.reverse(),$e})(q.slice(0,J));return xo(Qe,(Me,$e)=>Me.map(He=>({value:He,delta:$e+1})))},Qe=>ae.some({value:Qe,delta:0})),Oe=q[J+1].fold(()=>{const Qe=q.slice(J+1);return xo(Qe,(Me,$e)=>Me.map(He=>({value:He,delta:$e+1})))},Qe=>ae.some({value:Qe,delta:1}));return pe.bind(Qe=>Oe.map(Me=>{const $e=Me.delta+Qe.delta;return Math.abs(Me.value-Qe.value)/$e}))})(_,b)),q=>I(q)),qi=(p,b,_,E)=>{const I=qe(p),H=uu(p)?(pe=>D(yd(pe),Oe=>ae.from(Oe.element)))(p):I,q=[ae.some(mu.edge(b))].concat(D(mu.positions(I,b),pe=>pe.map(Oe=>Oe.x))),J=St(xm);return D(H,(pe,Oe)=>os(pe,Oe,q,J,Qe=>{if(($e=>{const He=ni().browser,yt=He.isChromium()||He.isFirefox();return!kc($e)||yt})(Qe))return _(Qe);{const $e=(Me=I[Oe])!=null?no(Me):ae.none();return os($e,Oe,q,J,He=>E(ae.some(Hs(He))),E)}var Me},E))},el=p=>p.map(b=>b+"px").getOr(""),gu=(p,b,_)=>qi(p,b,Pn,E=>E.getOrThunk(_.minCellWidth)),Tl=(p,b,_,E)=>{const I=$t(p),H=D(p.all,J=>ae.some(J.element)),q=[ae.some(Uu.edge(b))].concat(D(Uu.positions(I,b),J=>J.map(pe=>pe.y)));return D(H,(J,pe)=>os(J,pe,q,Xe,_,E))},qu=(p,b)=>()=>Xi(p)?b(p):parseFloat(Ce(p,"width").getOr("0")),yi=p=>{const b=qu(p,E=>parseFloat(kb(E))),_=qu(p,Hs);return{width:b,pixelWidth:_,getWidths:(E,I)=>((H,q,J)=>qi(H,q,jl,pe=>pe.fold(()=>J.minCellWidth(),Oe=>Oe/J.pixelWidth()*100)))(E,p,I),getCellDelta:E=>E/_()*100,singleColumnWidth:(E,I)=>[100-E],minCellWidth:()=>Jr()/_()*100,setElementWidth:zm,adjustTableWidth:E=>{const I=b();zm(p,I+E/100*I)},isRelative:!0,label:"percent"}},Wi=p=>{const b=qu(p,Hs);return{width:b,pixelWidth:b,getWidths:(_,E)=>gu(_,p,E),getCellDelta:no,singleColumnWidth:(_,E)=>[Math.max(Jr(),_+E)-_],minCellWidth:Jr,setElementWidth:_a,adjustTableWidth:_=>{const E=b()+_;_a(p,E)},isRelative:!1,label:"pixel"}},Tm=p=>ig(p).fold(()=>(b=>{const _=qu(b,Hs),E=bt(0);return{width:_,pixelWidth:_,getWidths:(I,H)=>gu(I,b,H),getCellDelta:E,singleColumnWidth:bt([0]),minCellWidth:E,setElementWidth:Je,adjustTableWidth:Je,isRelative:!0,label:"none"}})(p),b=>((_,E)=>Am().exec(E)!==null?yi(_):Wi(_))(p,b)),ho=Wi,_c=yi,Wu=(p,b,_,E)=>{_===E?na(p,b):Se(p,b,_)},li=(p,b,_)=>{co(br(p,b)).fold(()=>ze(p,_),E=>te(E,_))},Cc=(p,b)=>{const _=[],E=[],I=$e=>D($e,He=>{He.isNew&&_.push(He.element);const yt=He.element;return Ri(yt),zt(He.cells,ht=>{ht.isNew&&E.push(ht.element),Wu(ht.element,"colspan",ht.colspan,1),Wu(ht.element,"rowspan",ht.rowspan,1),ve(yt,ht.element)}),yt}),H=$e=>R($e,He=>D(He.cells,yt=>(Wu(yt.element,"span",yt.colspan,1),yt.element))),q=($e,He)=>{const yt=((Qt,to)=>{const Eo=vc(Qt,to).getOrThunk(()=>{const To=se.fromTag(to,pc(Qt).dom);return to==="thead"?li(Qt,"caption,colgroup",To):to==="colgroup"?li(Qt,"caption",To):ve(Qt,To),To});return Ri(Eo),Eo})(p,He),ht=(He==="colgroup"?H:I)($e);Wn(yt,ht)},J=($e,He)=>{$e.length>0?q($e,He):(yt=>{vc(p,yt).each(ai)})(He)},pe=[],Oe=[],Qe=[],Me=[];return zt(b,$e=>{switch($e.section){case"thead":pe.push($e);break;case"tbody":Oe.push($e);break;case"tfoot":Qe.push($e);break;case"colgroup":Me.push($e)}}),J(Me,"colgroup"),J(pe,"thead"),J(Oe,"tbody"),J(Qe,"tfoot"),{newRows:_,newCells:E}},oc=(p,b)=>{if(p.length===0)return 0;const _=p[0];return Bo(p,E=>!b(_.element,E.element)).getOr(p.length)},xd=(p,b)=>{const _=D(p,E=>D(E.cells,he));return D(p,(E,I)=>{const H=R(E.cells,(q,J)=>{if(_[I][J]===!1){const $e=((He,yt,ht,Qt)=>{const to=((Zo,Wo)=>Zo[Wo])(He,yt),Eo=to.section==="colgroup",To=oc(to.cells.slice(ht),Qt),zo=Eo?1:oc(((Zo,Wo)=>D(Zo,Sn=>Qn(Sn,Wo)))(He.slice(yt),ht),Qt);return{colspan:To,rowspan:zo}})(p,I,J,b);return((He,yt,ht,Qt)=>{for(let to=He;to<He+ht;to++)for(let Eo=yt;Eo<yt+Qt;Eo++)_[to][Eo]=!0})(I,J,$e.rowspan,$e.colspan),[(pe=q.element,Oe=$e.rowspan,Qe=$e.colspan,Me=q.isNew,{element:pe,rowspan:Oe,colspan:Qe,isNew:Me})]}return[];var pe,Oe,Qe,Me});return((q,J,pe,Oe)=>({element:q,cells:J,section:pe,isNew:Oe}))(E.element,H,E.section,E.isNew)})},Lc=(p,b,_)=>{const E=[];zt(p.colgroups,I=>{const H=[];for(let q=0;q<p.grid.columns;q++){const J=Xs(p,q).map(pe=>Cn(pe.element,_,!1)).getOrThunk(()=>Cn(b.colGap(),!0,!1));H.push(J)}E.push(on(I.element,H,"colgroup",_))});for(let I=0;I<p.grid.rows;I++){const H=[];for(let pe=0;pe<p.grid.columns;pe++){const Oe=Hl(p,I,pe).map(Qe=>Cn(Qe.element,_,Qe.isLocked)).getOrThunk(()=>Cn(b.gap(),!0,!1));H.push(Oe)}const q=p.all[I],J=on(q.element,H,q.section,_);E.push(J)}return E},ul=p=>xd(p,hn),Hr=(p,b)=>xo(p.all,_=>so(_.cells,E=>hn(b,E.element))),Ic=(p,b,_)=>{const E=D(b.selection,H=>Pl(H).bind(q=>Hr(p,q)).filter(_)),I=oo(E);return qo(I.length>0,I)},Js=(p,b,_,E,I,H,q,J,pe)=>{const Oe=Zi(H),Qe=ae.from(pe==null?void 0:pe.section).getOrThunk(Ne);return b(Oe,q).map(Me=>{const $e=((ht,Qt)=>Lc(ht,Qt,!1))(Oe,J),He=p($e,Me,hn,I(J),Qe),yt=tc(He.grid);return{info:Me,grid:ul(He.grid),cursor:He.cursor,lockedColumns:yt}}).bind(Me=>{const $e=Cc(H,Me.grid),He=ae.from(pe==null?void 0:pe.sizing).getOrThunk(()=>Tm(H)),yt=ae.from(pe==null?void 0:pe.resize).getOrThunk(ed);return _(H,Me.grid,Me.info,{sizing:He,resize:yt,section:Qe}),E(H),na(H,Cm),Me.lockedColumns.length>0&&Se(H,Cm,Me.lockedColumns.join(",")),ae.some({cursor:Me.cursor,newRows:$e.newRows,newCells:$e.newCells})})},Bs=(p,b)=>Pl(b.element).bind(_=>Hr(p,_).map(E=>({...E,generators:b.generators,clipboard:b.clipboard}))),Qg=(p,b)=>Ic(p,b,Xe).map(_=>({cells:_,generators:b.generators,clipboard:b.clipboard})),Li=(p,b)=>Ic(p,b,Xe),Gu=(p,b)=>Ic(p,b,_=>!_.isLocked),ml=(p,b)=>ut(b,_=>((E,I)=>Hr(E,I).exists(H=>!H.isLocked))(p,_)),kt=(p,b)=>((_,E)=>E.mergable)(0,b).filter(_=>ml(p,_.cells)),Pc=(p,b)=>((_,E)=>E.unmergable)(0,b).filter(_=>ml(p,_)),rd={...Ie([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Ca=(p,b,_)=>{const E=((I,H)=>uu(I)?((q,J)=>{const pe=yd(q);return D(pe,(Oe,Qe)=>({element:Oe.element,width:J[Qe],colspan:Oe.colspan}))})(I,H):((q,J)=>{const pe=bd(q);return D(pe,Oe=>{const Qe=((Me,$e,He)=>{let yt=0;for(let ht=Me;ht<$e;ht++)yt+=He[ht]!==void 0?He[ht]:0;return yt})(Oe.column,Oe.column+Oe.colspan,J);return{element:Oe.element,width:Qe,colspan:Oe.colspan}})})(I,H))(p,b);zt(E,I=>{_.setElementWidth(I.element,I.width)})},nc=(p,b,_,E,I)=>{const H=Zi(p),q=I.getCellDelta(b),J=I.getWidths(H,I),pe=_===H.grid.columns-1,Oe=E.clampTableDelta(J,_,q,I.minCellWidth(),pe),Qe=(($e,He,yt,ht,Qt)=>{const to=$e.slice(0),Eo=((zo,Zo)=>zo.length===0?rd.none():zo.length===1?rd.only(0):Zo===0?rd.left(0,1):Zo===zo.length-1?rd.right(Zo-1,Zo):Zo>0&&Zo<zo.length-1?rd.middle(Zo-1,Zo,Zo+1):rd.none())($e,He),To=bt(D(to,bt(0)));return Eo.fold(To,zo=>ht.singleColumnWidth(to[zo],yt),(zo,Zo)=>Qt.calcLeftEdgeDeltas(to,zo,Zo,yt,ht.minCellWidth(),ht.isRelative),(zo,Zo,Wo)=>Qt.calcMiddleDeltas(to,zo,Zo,Wo,yt,ht.minCellWidth(),ht.isRelative),(zo,Zo)=>Qt.calcRightEdgeDeltas(to,zo,Zo,yt,ht.minCellWidth(),ht.isRelative))})(J,_,Oe,I,E),Me=D(Qe,($e,He)=>$e+J[He]);Ca(H,Me,I),E.resizeTable(I.adjustTableWidth,Oe,pe)},Ii=(p,b,_)=>{const E=Zi(p),I=((pe,Oe)=>Tl(pe,Oe,Vd,Qe=>Qe.getOrThunk(wm)))(E,p),H=D(I,(pe,Oe)=>_===Oe?Math.max(b+pe,wm()):pe),q=((pe,Oe)=>D(pe.all,(Qe,Me)=>({element:Qe.element,height:Oe[Me]})))(E,H);zt(q,pe=>{Zu(pe.element,pe.height)}),zt(bd(E),pe=>{(Oe=>{lt(Oe,"height")})(pe.element)});const J=po(H,(pe,Oe)=>pe+Oe,0);Zu(p,J)},La=(p,b)=>{xm(p)||(E=>ig(E).bind(I=>{return H=I,q=["fixed","relative","empty"],ae.from(vm.exec(H)).bind(J=>{const pe=Number(J[1]),Oe=J[2];return((Qe,Me)=>Vo(Me,$e=>Vo(su[$e],He=>Qe===He)))(Oe,q)?ae.some({value:pe,unit:Oe}):ae.none()});var H,q}))(p).each(E=>{const I=E.value/2;Jg(p,I,E.unit),Jg(b,I,E.unit)})},rc=(p,b,_)=>{const E=pi(p,b,1);_===1||E<=1?na(p,b):Se(p,b,Math.min(_,E))},lg=(p,b)=>_=>{const E=_.column+_.colspan-1,I=_.column;return E>=p&&I<b},Ku=(p,b,_)=>{const E=p[_].element,I=se.fromTag("td");ve(I,se.fromTag("br")),(b?ve:ze)(E,I)},pu=Ps("col"),Ai=Ps("colgroup"),S=p=>wa(p)==="tr"||Ai(p),B=p=>({element:p,colspan:pi(p,"colspan",1),rowspan:pi(p,"rowspan",1)}),G=p=>xs(p,"scope").map(b=>b.substr(0,3)),le=(p,b=B)=>{const _=I=>{if(S(I))return Ai((H={element:I}).element)?p.colgroup(H):p.row(H);{const q=I,J=(pe=>pu(pe.element)?p.col(pe):p.cell(pe))(b(q));return E=ae.some({item:q,replacement:J}),J}var H};let E=ae.none();return{getOrInit:(I,H)=>E.fold(()=>_(I),q=>H(I,q.item)?q.replacement:_(I))}},Ke=p=>b=>{const _=[],E=I=>{const H=p==="td"?{scope:null}:{},q=b.replace(I,p,H);return _.push({item:I,sub:q}),q};return{replaceOrInit:(I,H)=>{if(S(I)||pu(I))return I;{const q=I;return((J,pe)=>so(_,Oe=>pe(Oe.item,J)))(q,H).fold(()=>E(q),J=>H(I,J.item)?J.sub:E(q))}}}},Jt=p=>({unmerge:b=>{const _=G(b);return _.each(E=>Se(b,"scope",E)),()=>{const E=p.cell({element:b,colspan:1,rowspan:1});return lt(E,"width"),lt(b,"width"),_.each(I=>Se(E,"scope",I)),E}},merge:b=>(lt(b[0],"width"),(()=>{const _=oo(D(b,G));if(_.length===0)return ae.none();{const E=_[0],I=["row","col"];return Vo(_,H=>H!==E&&pn(I,H))?ae.none():ae.from(E)}})().fold(()=>na(b[0],"scope"),_=>Se(b[0],"scope",_+"group")),bt(b[0]))}),jo=Ie([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),fn=(p,b,_)=>{const E=_.substring(0,_.length-p.length),I=parseFloat(E);return E===I.toString()?b(I):jo.invalid(_)},Hn={...jo,from:p=>bo(p,"%")?fn("%",jo.percent,p):bo(p,"px")?fn("px",jo.pixels,p):jo.invalid(p)},sr=(p,b,_)=>{const E=Hn.from(_),I=ut(p,H=>H==="0px")?((H,q)=>{const J=H.fold(()=>bt(""),pe=>bt(pe/q+"px"),()=>bt(100/q+"%"));return Nt(q,J)})(E,p.length):((H,q,J)=>H.fold(()=>q,pe=>((Oe,Qe,Me)=>{const $e=Me/Qe;return D(Oe,He=>Hn.from(He).fold(()=>He,yt=>yt*$e+"px",yt=>yt/100*Me+"px"))})(q,J,pe),pe=>((Oe,Qe)=>D(Oe,Me=>Hn.from(Me).fold(()=>Me,$e=>$e/Qe*100+"%",$e=>$e+"%")))(q,J)))(E,p,b);return zs(I)},Sa=(p,b)=>p.length===0?b:po(p,(_,E)=>Hn.from(E).fold(bt(0),no,no)+_,0),sa=(p,b)=>Hn.from(p).fold(bt(p),_=>_+b+"px",_=>_+b+"%"),zs=p=>{if(p.length===0)return p;const b=po(p,(E,I)=>{const H=Hn.from(I).fold(()=>({value:I,remainder:0}),q=>(J=>{const pe=Math.floor(J);return{value:pe+"px",remainder:J-pe}})(q),q=>({value:q+"%",remainder:0}));return{output:[H.value].concat(E.output),remainder:E.remainder+H.remainder}},{output:[],remainder:0}),_=b.output;return _.slice(0,_.length-1).concat([sa(_[_.length-1],Math.round(b.remainder))])},ms=Hn.from,$l=(p,b,_)=>{const E=Zi(p),I=E.all,H=bd(E),q=yd(E);b.each(J=>{const pe=ms(J).fold(bt("px"),bt("px"),bt("%")),Oe=Hs(p),Qe=(($e,He)=>qi($e,He,zi,el))(E,p),Me=sr(Qe,Oe,J);uu(E)?(($e,He,yt)=>{zt(He,(ht,Qt)=>{const to=Sa([$e[Qt]],Jr());la(ht.element,"width",to+yt)})})(Me,q,pe):(($e,He,yt)=>{zt(He,ht=>{const Qt=$e.slice(ht.column,ht.colspan+ht.column),to=Sa(Qt,Jr());la(ht.element,"width",to+yt)})})(Me,H,pe),la(p,"width",J)}),_.each(J=>{const pe=Nr(p),Oe=((Qe,Me)=>Tl(Qe,Me,th,el))(E,p);((Qe,Me,$e)=>{zt($e,He=>{lt(He.element,"height")}),zt(Me,(He,yt)=>{la(He.element,"height",Qe[yt])})})(sr(Oe,pe,J),I,H),la(p,"height",J)})},Ul=p=>ig(p).exists(b=>qp.test(b)),fu=p=>ig(p).exists(b=>ts.test(b)),hu=p=>ig(p).isNone();var cg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ac=()=>({up:bt({selector:si,closest:ua,predicate:ym,all:Kc}),down:bt({selector:Bi,predicate:Mc}),styles:bt({get:Cl,getRaw:Ce,set:la,remove:lt}),attrs:bt({get:vs,set:Se,remove:na,copyTo:(p,b)=>{const _=md(p);Oa(b,_)}}),insert:bt({before:$,after:te,afterAll:Kn,append:ve,appendAll:Wn,prepend:ze,wrap:vo}),remove:bt({unwrap:wr,remove:ai}),create:bt({nu:se.fromTag,clone:p=>se.fromDom(p.dom.cloneNode(!1)),text:se.fromText}),query:bt({comparePosition:(p,b)=>p.dom.compareDocumentPosition(b.dom),prevSibling:hc,nextSibling:kl}),property:bt({children:Ja,name:wa,parent:Mi,document:p=>Si(p).dom,isText:ri,isComment:Yi,isElement:Xa,isSpecial:p=>{const b=wa(p);return pn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],b)},getLanguage:p=>Xa(p)?xs(p,"lang"):ae.none(),getText:ya,setText:Yc,isBoundary:p=>!!Xa(p)&&(wa(p)==="body"||pn(cg,wa(p))),isEmptyTag:p=>!!Xa(p)&&pn(["br","img","hr","input"],wa(p)),isNonEditable:p=>Xa(p)&&vs(p,"contenteditable")==="false"}),eq:hn,is:ur});const Ua=(p,b)=>({item:p,mode:b}),Wp=(p,b,_,E=Ol)=>p.property().parent(b).map(I=>Ua(I,E)),Ol=(p,b,_,E=Hc)=>_.sibling(p,b).map(I=>Ua(I,E)),Hc=(p,b,_,E=Hc)=>{const I=p.property().children(b);return _.first(I).map(H=>Ua(H,E))},Gp=[{current:Wp,next:Ol,fallback:ae.none()},{current:Ol,next:Hc,fallback:ae.some(Wp)},{current:Hc,next:Hc,fallback:ae.some(Ol)}],bu=(p,b,_,E,I=Gp)=>so(I,H=>H.current===_).bind(H=>H.current(p,b,E,H.next).orThunk(()=>H.fallback.bind(q=>bu(p,b,q,E)))),yr=(p,b,_,E,I,H)=>bu(p,b,E,I).bind(q=>H(q.item)?ae.none():_(q.item)?ae.some(q.item):yr(p,q.item,_,q.mode,I,H)),ga=(p,b)=>({element:p,offset:b}),vi=(p,b,_)=>p.property().isText(b)&&p.property().getText(b).trim().length===0||p.property().isComment(b)?_(b).bind(E=>vi(p,E,_).orThunk(()=>ae.some(E))):ae.none(),Sc=(p,b)=>p.property().isText(b)?p.property().getText(b).length:p.property().children(b).length,dg=(p,b)=>{const _=vi(p,b,p.query().prevSibling).getOr(b);if(p.property().isText(_))return ga(_,Sc(p,_));const E=p.property().children(_);return E.length>0?dg(p,E[E.length-1]):ga(_,Sc(p,_))},ep=dg,Om=ac(),Nm=p=>b=>p.property().children(b).length===0,oh=(p,b,_,E)=>yr(p,b,_,Ol,{sibling:(I,H)=>I.query().prevSibling(H),first:I=>I.length>0?ae.some(I[I.length-1]):ae.none()},E),ug=(p,b,_,E)=>yr(p,b,_,Ol,{sibling:(I,H)=>I.query().nextSibling(H),first:I=>I.length>0?ae.some(I[0]):ae.none()},E),mg=ac(),Zl=(p,b)=>((_,E,I)=>oh(_,E,Nm(_),I))(mg,p,b),wd=(p,b)=>((_,E,I)=>ug(_,E,Nm(_),I))(mg,p,b),tp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],_b=(p,b,_,E)=>{const I=b(p,_);return po(E,(H,q)=>{const J=b(p,q);return Cb(p,H,J)},I)},Cb=(p,b,_)=>b.bind(E=>_.filter(Te(p.eq,E))),gg=ac(),nh=(p,b)=>((_,E,I)=>I.length>0?((H,q,J,pe)=>pe(H,q,J[0],J.slice(1)))(_,E,I,_b):ae.none())(gg,(_,E)=>p(E),b),Dm=ac(),rh=p=>((b,_)=>{const E=b.property().name(_);return pn(tp,E)})(Dm,p),Sb=p=>((b,_)=>{const E=b.property().name(_);return pn(["ol","ul"],E)})(Dm,p),Za=p=>{const b=Ps("br"),_=I=>El(I).bind(H=>{const q=kl(H).map(J=>!!rh(J)||!!((pe,Oe)=>pn(["br","img","hr","input"],pe.property().name(Oe)))(Dm,J)&&wa(J)!=="img").getOr(!1);return Mi(H).map(J=>{return q===!0||wa(pe=J)==="li"||ym(pe,Sb).isSome()||b(H)||rh(J)&&!hn(I,J)?[]:[se.fromTag("br")];var pe})}).getOr([]),E=(()=>{const I=R(p,H=>{const q=Ja(H);return(J=>ut(J,pe=>b(pe)||ri(pe)&&ya(pe).trim().length===0))(q)?[]:q.concat(_(H))});return I.length===0?[se.fromTag("br")]:I})();Ri(p[0]),Wn(p[0],E)},jd=p=>{na(p,"width"),na(p,"height")},ql=p=>{const b=kb(p);$l(p,ae.some(b),ae.none()),jd(p)},Mm=p=>{const b=(_=>Hs(_)+"px")(p);$l(p,ae.some(b),ae.none()),jd(p)},Eb=p=>{lt(p,"width");const b=Hu(p),_=b.length>0?b:ii(p);zt(_,E=>{lt(E,"width"),jd(E)}),jd(p)},zb={scope:["row","col"]},kd=p=>()=>{const b=se.fromTag("td",p.dom);return ve(b,se.fromTag("br",p.dom)),b},gl=p=>()=>se.fromTag("col",p.dom),pg=p=>()=>se.fromTag("colgroup",p.dom),fg=p=>()=>se.fromTag("tr",p.dom),Kp=(p,b,_)=>{const E=((I,H)=>{const q=Id(I,H),J=Ja(pr(I));return Wn(q,J),q})(p,b);return Ft(_,(I,H)=>{I===null?na(E,H):Se(E,H,I)}),E},hg=p=>p,_d=(p,b,_)=>{const E=(I,H)=>{((q,J)=>{const pe=q.dom,Oe=J.dom;_l(pe)&&_l(Oe)&&(Oe.style.cssText=pe.style.cssText)})(I.element,H),lt(H,"height"),I.colspan!==1&&lt(H,"width")};return{col:I=>{const H=se.fromTag(wa(I.element),b.dom);return E(I,H),p(I.element,H),H},colgroup:pg(b),row:fg(b),cell:I=>{const H=se.fromTag(wa(I.element),b.dom),q=_.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),J=q.length>0?((pe,Oe,Qe)=>Xr(pe).map(Me=>{const $e=Qe.join(","),He=gi(Me,$e,yt=>hn(yt,pe));return po(He,(yt,ht)=>{const Qt=bc(ht);return ve(yt,Qt),Qt},Oe)}).getOr(Oe))(I.element,H,q):H;return ve(J,se.fromTag("br")),E(I,H),((pe,Oe)=>{Ft(zb,(Qe,Me)=>xs(pe,Me).filter($e=>pn(Qe,$e)).each($e=>Se(Oe,Me,$e)))})(I.element,H),p(I.element,H),H},replace:Kp,colGap:gl(b),gap:kd(b)}},Rm=p=>({col:gl(p),colgroup:pg(p),row:fg(p),cell:kd(p),replace:hg,colGap:gl(p),gap:kd(p)}),Fr=p=>Zi(p).grid,sc=(p,b,_,E)=>{const I=Or(p).rows;let H=!0;for(let q=0;q<I.length;q++)for(let J=0;J<Ba(I[0]);J++){const pe=I[q],Oe=Qn(pe,J),Qe=_(Oe.element,b);Qe&&!H?Tr(pe,J,Cn(E(),!0,Oe.isLocked)):Qe&&(H=!1)}return p},Bm=(p,b)=>({rowDelta:0,colDelta:Ba(p[0])-Ba(b[0])}),ah=(p,b)=>({rowDelta:p.length-b.length,colDelta:0}),qa=(p,b,_,E)=>{const I=b.section==="colgroup"?_.col:_.cell;return Nt(p,H=>Cn(I(),!0,E(H)))},_0=(p,b,_,E)=>{const I=p[p.length-1];return p.concat(Nt(b,()=>{const H=I.section==="colgroup"?_.colgroup:_.row,q=Va(I,H,no),J=qa(q.cells.length,q,_,pe=>Pe(E,pe.toString()));return Gn(q,J)}))},bg=(p,b,_,E)=>D(p,I=>{const H=qa(b,I,_,he);return ea(I,E,H)}),$d=(p,b,_)=>{const E=b.colDelta<0?bg:no,I=b.rowDelta<0?_0:no,H=tc(p),q=Ba(p[0]),J=Vo(H,Qe=>Qe===q-1),pe=E(p,Math.abs(b.colDelta),_,J?q-1:q),Oe=tc(pe);return I(pe,Math.abs(b.rowDelta),_,tt(Oe,Xe))},Fm=(p,b,_,E)=>{const I=Te(E,Qn(p[b],_).element),H=p[b];return p.length>1&&Ba(H)>1&&(_>0&&I(ta(H,_-1))||_<H.cells.length-1&&I(ta(H,_+1))||b>0&&I(ta(p[b-1],_))||b<p.length-1&&I(ta(p[b+1],_)))},Ab=(p,b,_)=>Lt(_,E=>E>=p.column&&E<=Ba(b[0])+p.column),sh=(p,b,_,E,I)=>{((Oe,Qe,Me,$e)=>{Qe>0&&Qe<Oe[0].cells.length&&zt(Oe,He=>{const yt=He.cells[Qe-1];let ht=0;const Qt=$e();for(;He.cells.length>Qe+ht&&Me(yt.element,He.cells[Qe+ht].element);)Tr(He,Qe+ht,Cn(Qt,!0,He.cells[Qe+ht].isLocked)),ht++})})(b,p,I,E.cell);const H=ah(_,b),q=$d(_,H,E),J=ah(b,q),pe=$d(b,J,E);return D(pe,(Oe,Qe)=>ea(Oe,p,q[Qe].cells))},ad=(p,b,_,E,I)=>{((Eo,To,zo,Zo)=>{const Wo=Or(Eo).rows;if(To>0&&To<Wo.length){const Sn=((qn,Lr)=>vt(qn,(Xn,Ar)=>Vo(Xn,mr=>Lr(mr.element,Ar.element))?Xn:Xn.concat([Ar]),[]))(Wo[To-1].cells,zo);zt(Sn,qn=>{let Lr=ae.none();for(let Xn=To;Xn<Wo.length;Xn++)for(let Ar=0;Ar<Ba(Wo[0]);Ar++){const mr=Wo[Xn],za=Qn(mr,Ar);zo(za.element,qn.element)&&(Lr.isNone()&&(Lr=ae.some(Zo())),Lr.each(Ho=>{Tr(mr,Ar,Cn(Ho,!0,za.isLocked))}))}})}})(b,p,I,E.cell);const H=tc(b),q=Bm(b,_),J={...q,colDelta:q.colDelta-H.length},pe=$d(b,J,E),{cols:Oe,rows:Qe}=Or(pe),Me=tc(pe),$e=Bm(_,b),He={...$e,colDelta:$e.colDelta+Me.length},yt=(Qt=E,to=Me,D(_,Eo=>vt(to,(To,zo)=>{const Zo=qa(1,Eo,Qt,Xe)[0];return Ya(To,zo,Zo)},Eo))),ht=$d(yt,He,E);var Qt,to;return[...Oe,...Qe.slice(0,p),...ht,...Qe.slice(p,Qe.length)]},C0=(p,b,_,E,I)=>{const{rows:H,cols:q}=Or(p),J=H.slice(0,b),pe=H.slice(b);return[...q,...J,((Oe,Qe,Me,$e)=>Va(Oe,He=>$e(He,Me),Qe))(H[_],(Oe,Qe)=>b>0&&b<H.length&&E(ta(H[b-1],Qe),ta(H[b],Qe))?Qn(H[b],Qe):Cn(I(Oe.element,E),!0,Oe.isLocked),E,I),...pe]},Lm=(p,b,_,E,I)=>D(p,H=>{const q=b>0&&b<Ba(H)&&E(ta(H,b-1),ta(H,b)),J=((pe,Oe,Qe,Me,$e,He,yt)=>{if(Qe!=="colgroup"&&Me)return Qn(pe,Oe);{const ht=Qn(pe,$e);return Cn(yt(ht.element,He),!0,!1)}})(H,b,H.section,q,_,E,I);return Ya(H,b,J)}),op=(p,b,_,E)=>((I,H,q,J)=>ta(I[H],q)!==void 0&&H>0&&J(ta(I[H-1],q),ta(I[H],q)))(p,b,_,E)||((I,H,q)=>H>0&&q(ta(I,H-1),ta(I,H)))(p[b],_,E),yg=(p,b,_,E)=>{const I=H=>(q=>q==="row"?(J=>lu(J,"rowspan")>1)(b):xm(b))(H)?`${H}group`:H;return p?Ys(b)?I(_):null:E&&Ys(b)?I(_==="row"?"col":"row"):null},Yu=(p,b,_)=>Cn(_(p.element,b),!0,p.isLocked),Pi=(p,b,_,E,I,H,q)=>D(p,(J,pe)=>(Oe=>{const Qe=Oe.cells,Me=D(Qe,($e,He)=>{if((yt=>Vo(b,ht=>_(yt.element,ht.element)))($e)){const yt=q($e,pe,He)?I($e,_,E):$e;return H(yt,pe,He).each(ht=>{var Qt,to;Qt=yt.element,to={scope:ae.from(ht)},Ft(to,(Eo,To)=>{Eo.fold(()=>{na(Qt,To)},zo=>{ka(Qt.dom,To,zo)})})}),yt}return $e});return on(Oe.element,Me,Oe.section,Oe.isNew)})(J)),Yp=(p,b,_)=>R(p,(E,I)=>op(p,I,b,_)?[]:[Qn(E,b)]),Wl=(p,b,_,E,I)=>{const H=Or(p).rows,q=R(b,Qe=>Yp(H,Qe,E)),J=D(H,Qe=>hd(Qe.cells)),pe=((Qe,Me)=>ut(Me,no)&&hd(Qe)?Xe:($e,He,yt)=>!(wa($e.element)==="th"&&Me[He]))(q,J);return Pi(p,q,E,I,Yu,((Qe,Me)=>($e,He)=>ae.some(yg(Qe,$e.element,"row",Me[He])))(_,J),pe)},ih=(p,b,_,E)=>{const I=Or(p).rows,H=D(b,q=>Qn(I[q.row],q.column));return Pi(p,H,_,E,Yu,ae.none,Xe)},Cd=p=>vt(p,(b,_)=>Vo(b,E=>E.column===_.column)?b:b.concat([_]),[]).sort((b,_)=>b.column-_.column),Xu=p=>ru(p,!0),yu=p=>{ii(p).length===0&&ai(p)},Ec=(p,b)=>({grid:p,cursor:b}),pl=(p,b,_)=>{const E=((I,H,q)=>{var J,pe;const Oe=Or(I).rows;return ae.from((pe=(J=Oe[H])===null||J===void 0?void 0:J.cells[q])===null||pe===void 0?void 0:pe.element).filter(Xu).orThunk(()=>(Qe=>xo(Qe,Me=>xo(Me.cells,$e=>{const He=$e.element;return qo(Xu(He),He)})))(Oe))})(p,b,_);return Ec(p,E)},Im=p=>vt(p,(b,_)=>Vo(b,E=>E.row===_.row)?b:b.concat([_]),[]).sort((b,_)=>b.row-_.row),S0=(p,b,_,E)=>{const I=b[0].row,H=Im(b),q=po(H,(J,pe)=>({grid:C0(J.grid,I,pe.row+J.delta,_,E.getOrInit),delta:J.delta+1}),{grid:p,delta:0}).grid;return pl(q,I,b[0].column)},Tb=(p,b,_,E)=>{const I=Im(b),H=I[I.length-1],q=H.row+H.rowspan,J=po(I,(pe,Oe)=>C0(pe,q,Oe.row,_,E.getOrInit),p);return pl(J,q,b[0].column)},Ob=(p,b,_,E)=>{const I=b.details,H=Cd(I),q=H[0].column,J=po(H,(pe,Oe)=>({grid:Lm(pe.grid,q,Oe.column+pe.delta,_,E.getOrInit),delta:pe.delta+1}),{grid:p,delta:0}).grid;return pl(J,I[0].row,q)},E0=(p,b,_,E)=>{const I=b.details,H=I[I.length-1],q=H.column+H.colspan,J=Cd(I),pe=po(J,(Oe,Qe)=>Lm(Oe,q,Qe.column,_,E.getOrInit),p);return pl(pe,I[0].row,q)},z0=(p,b,_,E)=>{const I=Cd(b),H=D(I,J=>J.column),q=Wl(p,H,!0,_,E.replaceOrInit);return pl(q,b[0].row,b[0].column)},np=(p,b,_,E)=>{const I=ih(p,b,_,E.replaceOrInit);return pl(I,b[0].row,b[0].column)},Ju=(p,b,_,E)=>{const I=Cd(b),H=D(I,J=>J.column),q=Wl(p,H,!1,_,E.replaceOrInit);return pl(q,b[0].row,b[0].column)},fl=(p,b,_,E)=>{const I=ih(p,b,_,E.replaceOrInit);return pl(I,b[0].row,b[0].column)},Vc=(p,b)=>(_,E,I,H,q)=>{const J=Im(E),pe=D(J,Qe=>Qe.row),Oe=((Qe,Me,$e,He,yt,ht,Qt)=>{const{cols:to,rows:Eo}=Or(Qe),To=Eo[Me[0]],zo=R(Me,Xn=>((Ar,mr,za)=>{const Ho=Ar[mr];return R(Ho.cells,(ei,Vi)=>op(Ar,mr,Vi,za)?[]:[ei])})(Eo,Xn,yt)),Zo=D(To.cells,(Xn,Ar)=>hd(Yp(Eo,Ar,yt))),Wo=[...Eo];zt(Me,Xn=>{Wo[Xn]=Qt.transformRow(Eo[Xn],$e)});const Sn=[...to,...Wo],qn=((Xn,Ar)=>ut(Ar,no)&&hd(Xn.cells)?Xe:(mr,za,Ho)=>!(wa(mr.element)==="th"&&Ar[Ho]))(To,Zo),Lr=((Xn,Ar)=>(mr,za,Ho)=>ae.some(yg(Xn,mr.element,"col",Ar[Ho])))(He,Zo);return Pi(Sn,zo,yt,ht,Qt.transformCell,Lr,qn)})(_,pe,p,b,I,H.replaceOrInit,q);return pl(Oe,E[0].row,E[0].column)},ic=Vc("thead",!0),vg=Vc("tbody",!1),Nb=Vc("tfoot",!1),Db=(p,b,_,E)=>{const I=Cd(b.details),H=((J,pe)=>R(J,Oe=>{const Qe=Oe.cells,Me=po(pe,($e,He)=>He>=0&&He<$e.length?$e.slice(0,He).concat($e.slice(He+1)):$e,Qe);return Me.length>0?[on(Oe.element,Me,Oe.section,Oe.isNew)]:[]}))(p,D(I,J=>J.column)),q=H.length>0?H[0].cells.length-1:0;return pl(H,I[0].row,Math.min(I[0].column,q))},Qu=(p,b,_,E)=>{const I=Im(b),H=((J,pe,Oe)=>{const{rows:Qe,cols:Me}=Or(J);return[...Me,...Qe.slice(0,pe),...Qe.slice(Oe+1)]})(p,I[0].row,I[I.length-1].row),q=Math.max(Or(H).rows.length-1,0);return pl(H,Math.min(b[0].row,q),b[0].column)},A0=(p,b,_,E)=>{const I=b.cells;Za(I);const H=((q,J,pe,Oe)=>{const Qe=Or(q).rows;if(Qe.length===0)return q;for(let Me=J.startRow;Me<=J.finishRow;Me++)for(let $e=J.startCol;$e<=J.finishCol;$e++){const He=Qe[Me],yt=Qn(He,$e).isLocked;Tr(He,$e,Cn(Oe(),!1,yt))}return q})(p,b.bounds,0,E.merge(I));return Ec(H,ae.from(I[0]))},Jv=(p,b,_,E)=>{const I=po(b,(H,q)=>sc(H,q,_,E.unmerge(q)),p);return Ec(I,ae.from(b[0]))},Mb=(p,b,_,E)=>{const I=((J,pe)=>{const Oe=Zi(J);return Lc(Oe,pe,!0)})(b.clipboard,b.generators);var H,q;return((J,pe,Oe,Qe,Me)=>{const $e=tc(pe),He=((to,Eo,To)=>{const zo=Ba(Eo[0]),Zo=Or(Eo).cols.length+to.row,Wo=Nt(zo-to.column,Sn=>Sn+to.column);return{row:Zo,column:so(Wo,Sn=>ut(To,qn=>qn!==Sn)).getOr(zo-1)}})(J,pe,$e),yt=Or(Oe).rows,ht=Ab(He,yt,$e);return((to,Eo,To)=>{if(to.row>=Eo.length||to.column>Ba(Eo[0]))return io.error("invalid start address out of table bounds, row: "+to.row+", column: "+to.column);const zo=Eo.slice(to.row),Zo=zo[0].cells.slice(to.column),Wo=Ba(To[0]),Sn=To.length;return io.value({rowDelta:zo.length-Sn,colDelta:Zo.length-Wo})})(He,pe,yt).map(to=>{const Eo={...to,colDelta:to.colDelta-ht.length},To=$d(pe,Eo,Qe),zo=tc(To),Zo=Ab(He,yt,zo);return((Wo,Sn,qn,Lr,Xn,Ar)=>{const mr=Wo.row,za=Wo.column,Ho=mr+qn.length,ei=za+Ba(qn[0])+Ar.length,Vi=tt(Ar,Xe);for(let hl=mr;hl<Ho;hl++){let ki=0;for(let ws=za;ws<ei;ws++){if(Vi[ws]){ki++;continue}Fm(Sn,hl,ws,Xn)&&sc(Sn,ta(Sn[hl],ws),Xn,Lr.cell);const $s=ws-za-ki,Dl=Qn(qn[hl-mr],$s),fp=Dl.element,lc=Lr.replace(fp);Tr(Sn[hl],ws,Cn(lc,!0,Dl.isLocked))}}return Sn})(He,To,yt,Qe,Me,Zo)})})((H=b.row,q=b.column,{row:H,column:q}),p,I,b.generators,_).fold(()=>Ec(p,ae.some(b.element)),J=>pl(J,b.row,b.column))},lh=(p,b,_)=>{const E=((H,q)=>od(H,()=>q))(p,_.section),I=ju(E);return Lc(I,b,!0)},Qv=(p,b,_,E)=>{const I=Or(p).rows,H=b.cells[0].column,q=I[b.cells[0].row],J=lh(b.clipboard,b.generators,q),pe=sh(H,p,J,b.generators,_);return pl(pe,b.cells[0].row,b.cells[0].column)},T0=(p,b,_,E)=>{const I=Or(p).rows,H=b.cells[b.cells.length-1].column+b.cells[b.cells.length-1].colspan,q=I[b.cells[0].row],J=lh(b.clipboard,b.generators,q),pe=sh(H,p,J,b.generators,_);return pl(pe,b.cells[0].row,H)},O0=(p,b,_,E)=>{const I=Or(p).rows,H=b.cells[0].row,q=I[H],J=lh(b.clipboard,b.generators,q),pe=ad(H,p,J,b.generators,_);return pl(pe,b.cells[0].row,b.cells[0].column)},Da=(p,b,_,E)=>{const I=Or(p).rows,H=b.cells[b.cells.length-1].row+b.cells[b.cells.length-1].rowspan,q=I[b.cells[0].row],J=lh(b.clipboard,b.generators,q),pe=ad(H,p,J,b.generators,_);return pl(pe,H,b.cells[0].column)},em=(p,b,_,E)=>((I,H,q,J)=>{const pe=ju(H),Oe=J.getWidths(pe,J);Ca(pe,Oe,J)})(0,b,0,E.sizing),Rb=(p,b,_,E)=>((I,H,q,J,pe)=>{const Oe=ju(H),Qe=J.getWidths(Oe,J),Me=J.pixelWidth(),{newSizes:$e,delta:He}=pe.calcRedestributedWidths(Qe,Me,q.pixelDelta,J.isRelative);Ca(Oe,$e,J),J.adjustTableWidth(He)})(0,b,_,E.sizing,E.resize),Sd=(p,b)=>Vo(b,_=>_.column===0&&_.isLocked),ch=(p,b)=>Vo(b,_=>_.column+_.colspan>=p.grid.columns&&_.isLocked),dh=(p,b)=>{const _=qe(p),E=Cd(b);return vt(E,(I,H)=>I+_[H.column].map(ks).getOr(0),0)},Bb=p=>(b,_)=>Li(b,_).filter(E=>!(p?Sd:ch)(b,E)).map(E=>({details:E,pixelDelta:dh(b,E)})),N0=(p,b)=>Gu(p,b).map(_=>({details:_,pixelDelta:-dh(p,_)})),D0=p=>(b,_)=>Qg(b,_).filter(E=>!(p?Sd:ch)(b,E.cells)),M0=Ke("th"),Nl=Ke("td"),Fb=(p,b,_,E)=>Js(S0,Li,Je,Je,le,p,b,_,E),Ti=(p,b,_,E)=>Js(Tb,Li,Je,Je,le,p,b,_,E),tm=(p,b,_,E)=>Js(Ob,Bb(!0),Rb,Je,le,p,b,_,E),uh=(p,b,_,E)=>Js(E0,Bb(!1),Rb,Je,le,p,b,_,E),Xp=(p,b,_,E)=>Js(Db,N0,Rb,yu,le,p,b,_,E),mh=(p,b,_,E)=>Js(Qu,Li,Je,yu,le,p,b,_,E),gh=(p,b,_,E)=>Js(z0,Gu,Je,Je,M0,p,b,_,E),R0=(p,b,_,E)=>Js(Ju,Gu,Je,Je,Nl,p,b,_,E),Lb=(p,b,_,E)=>Js(ic,Li,Je,Je,M0,p,b,_,E),B0=(p,b,_,E)=>Js(vg,Li,Je,Je,Nl,p,b,_,E),Pm=(p,b,_,E)=>Js(Nb,Li,Je,Je,Nl,p,b,_,E),ci=(p,b,_,E)=>Js(np,Gu,Je,Je,M0,p,b,_,E),It=(p,b,_,E)=>Js(fl,Gu,Je,Je,Nl,p,b,_,E),ph=(p,b,_,E)=>Js(A0,kt,em,Je,Jt,p,b,_,E),Ib=(p,b,_,E)=>Js(Jv,Pc,em,Je,Jt,p,b,_,E),Ud=(p,b,_,E)=>Js(Mb,Bs,em,Je,le,p,b,_,E),Pb=(p,b,_,E)=>Js(Qv,D0(!0),Je,Je,le,p,b,_,E),Hb=(p,b,_,E)=>Js(T0,D0(!1),Je,Je,le,p,b,_,E),F0=(p,b,_,E)=>Js(O0,Qg,Je,Je,le,p,b,_,E),di=(p,b,_,E)=>Js(Da,Qg,Je,Je,le,p,b,_,E),xi=(p,b)=>{const _=Zi(p);return Li(_,b).bind(E=>{const I=E[E.length-1],H=E[0].column,q=I.column+I.colspan,J=je(D(_.all,pe=>Lt(pe.cells,Oe=>Oe.column>=H&&Oe.column<q)));return km(J)}).getOr("")},tl=(p,b)=>{const _=Zi(p);return Li(_,b).bind(km).getOr("")},ol=(p,b)=>{const _=Zi(p);return Li(_,b).bind(E=>{const I=E[E.length-1],H=E[0].row,q=I.row+I.rowspan;return(J=>{const pe=D(J,Me=>td(Me).type),Oe=pn(pe,"header"),Qe=pn(pe,"footer");if(Oe||Qe){const Me=pn(pe,"body");return!Oe||Me||Qe?Oe||Me||!Qe?ae.none():ae.some("footer"):ae.some("header")}return ae.some("body")})(_.all.slice(H,q))}).getOr("")},Hi=(p,b)=>{const _=b.column,E=b.column+b.colspan-1,I=b.row,H=b.row+b.rowspan-1;return _<=p.finishCol&&E>=p.startCol&&I<=p.finishRow&&H>=p.startRow},Qs=(p,b)=>b.column>=p.startCol&&b.column+b.colspan-1<=p.finishCol&&b.row>=p.startRow&&b.row+b.rowspan-1<=p.finishRow,fh=(p,b,_)=>{const E=Al(p,b,hn),I=Al(p,_,hn);return E.bind(H=>I.map(q=>{return J=H,pe=q,{startRow:Math.min(J.row,pe.row),startCol:Math.min(J.column,pe.column),finishRow:Math.max(J.row+J.rowspan-1,pe.row+pe.rowspan-1),finishCol:Math.max(J.column+J.colspan-1,pe.column+pe.colspan-1)};var J,pe}))},Jp=(p,b,_)=>fh(p,b,_).map(E=>{const I=nd(p,Te(Hi,E));return D(I,H=>H.element)}),Vb=(p,b)=>Al(p,b,(_,E)=>cr(E,_)).map(_=>_.element),L0=(p,b,_)=>{const E=Qp(p);return Jp(E,b,_)},hh=(p,b,_,E,I)=>{const H=Qp(p),q=hn(p,_)?ae.some(b):Vb(H,b),J=hn(p,I)?ae.some(E):Vb(H,E);return q.bind(pe=>J.bind(Oe=>Jp(H,pe,Oe)))},Qp=Zi,jb={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},bh=(p,b,_,E)=>Nt(p,I=>((H,q,J,pe)=>{const Oe=se.fromTag("tr");for(let Qe=0;Qe<H;Qe++){const Me=se.fromTag(pe<q||Qe<J?"th":"td");Qe<J&&Se(Me,"scope","row"),pe<q&&Se(Me,"scope","col"),ve(Me,se.fromTag("br")),ve(Oe,Me)}return Oe})(b,_,E,I)),zc=p=>{let b=[];return{bind:_=>{if(_===void 0)throw new Error("Event bind error: undefined handler");b.push(_)},unbind:_=>{b=Lt(b,E=>E!==_)},trigger:(..._)=>{const E={};zt(p,(I,H)=>{E[I]=_[H]}),zt(b,I=>{I(E)})}}},xg=p=>({registry:Uo(p,b=>({bind:b.bind,unbind:b.unbind})),trigger:Uo(p,b=>b.trigger)}),wg=_t(["compare","extract","mutate","sink"]),I0=_t(["element","start","stop","destroy"]),P0=_t(["forceDrop","drop","move","delayDrop"]),$b=()=>{const p=(()=>{const E=xg({move:zc(["info"])});return{onEvent:Je,reset:Je,events:E.registry}})(),b=(()=>{let E=ae.none();const I=xg({move:zc(["info"])});return{onEvent:(H,q)=>{q.extract(H).each(J=>{((Oe,Qe)=>{const Me=E.map($e=>Oe.compare($e,Qe));return E=ae.some(Qe),Me})(q,J).each(Oe=>{I.trigger.move(Oe)})})},reset:()=>{E=ae.none()},events:I.registry}})();let _=p;return{on:()=>{_.reset(),_=b},off:()=>{_.reset(),_=p},isOn:()=>_===b,onEvent:(E,I)=>{_.onEvent(E,I)},events:b.events}},ef=rt("ephox-dragster").resolve;var Ub=wg({compare:(p,b)=>An(b.left-p.left,b.top-p.top),extract:p=>ae.some(An(p.x,p.y)),sink:(p,b)=>{const _=(J=>{const pe={layerClass:ef("blocker"),...J},Oe=se.fromTag("div");return Se(Oe,"role","presentation"),ds(Oe,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Aa(Oe,ef("blocker")),Aa(Oe,pe.layerClass),{element:bt(Oe),destroy:()=>{ai(Oe)}}})(b),E=mo(_.element(),"mousedown",p.forceDrop),I=mo(_.element(),"mouseup",p.drop),H=mo(_.element(),"mousemove",p.move),q=mo(_.element(),"mouseout",p.delayDrop);return I0({element:_.element,start:J=>{ve(J,_.element())},stop:()=>{ai(_.element())},destroy:()=>{_.destroy(),I.unbind(),H.unbind(),q.unbind(),E.unbind()}})},mutate:(p,b)=>{p.mutate(b.left,b.top)}});const tf=rt("ephox-snooker").resolve,rp=tf("resizer-bar"),of=tf("resizer-rows"),ap=tf("resizer-cols"),kg=p=>{const b=Bi(p.parent(),"."+rp);zt(b,ai)},jc=(p,b,_)=>{const E=p.origin();zt(b,I=>{I.each(H=>{const q=_(E,H);Aa(q,rp),ve(p.parent(),q)})})},nf=(p,b,_,E,I)=>{const H=Qa(_),q=b.isResizable,J=E.length>0?Uu.positions(E,_):[],pe=J.length>0?((Me,$e)=>R(Me.all,(He,yt)=>$e(He.element)?[yt]:[]))(p,q):[];((Me,$e,He,yt)=>{jc(Me,$e,(ht,Qt)=>{const to=((Eo,To,zo,Zo)=>{const Wo=se.fromTag("div");return ds(Wo,{position:"absolute",left:To+"px",top:zo-3.5+"px",height:"7px",width:Zo+"px"}),Oa(Wo,{"data-mce-bogus":"all","data-row":Eo,role:"presentation"}),Wo})(Qt.row,He.left-ht.left,Qt.y-ht.top,yt);return Aa(to,of),to})})(b,Lt(J,(Me,$e)=>Vo(pe,He=>$e===He)),H,ks(_));const Oe=I.length>0?mu.positions(I,_):[],Qe=Oe.length>0?((Me,$e)=>{const He=[];return Nt(Me.grid.columns,yt=>{Xs(Me,yt).map(ht=>ht.element).forall($e)&&He.push(yt)}),Lt(He,yt=>{const ht=nd(Me,Qt=>Qt.column===yt);return ut(ht,Qt=>$e(Qt.element))})})(p,q):[];((Me,$e,He,yt)=>{jc(Me,$e,(ht,Qt)=>{const to=((Eo,To,zo,Zo,Wo)=>{const Sn=se.fromTag("div");return ds(Sn,{position:"absolute",left:To-3.5+"px",top:zo+"px",height:Wo+"px",width:"7px"}),Oa(Sn,{"data-mce-bogus":"all","data-column":Eo,role:"presentation"}),Sn})(Qt.col,Qt.x-ht.left,He.top-ht.top,0,yt);return Aa(to,ap),to})})(b,Lt(Oe,(Me,$e)=>Vo(Qe,He=>$e===He)),H,us(_))},rf=(p,b)=>{if(kg(p),p.isResizable(b)){const _=Zi(b),E=$t(_),I=qe(_);nf(_,p,b,E,I)}},H0=(p,b)=>{const _=Bi(p.parent(),"."+rp);zt(_,b)},E_=p=>{H0(p,b=>{la(b,"display","none")})},V0=p=>{H0(p,b=>{la(b,"display","block")})},dn=tf("resizer-bar-dragging"),Zb=p=>{const b=(()=>{const Me=xg({drag:zc(["xDelta","yDelta","target"])});let $e=ae.none();const He=(()=>{const yt=xg({drag:zc(["xDelta","yDelta"])});return{mutate:(ht,Qt)=>{yt.trigger.drag(ht,Qt)},events:yt.registry}})();return He.events.drag.bind(yt=>{$e.each(ht=>{Me.trigger.drag(yt.xDelta,yt.yDelta,ht)})}),{assign:yt=>{$e=ae.some(yt)},get:()=>$e,mutate:He.mutate,events:Me.registry}})(),_=((Me,$e={})=>{var He;return((yt,ht,Qt)=>{let to=!1;const Eo=xg({start:zc([]),stop:zc([])}),To=$b(),zo=()=>{Sn.stop(),To.isOn()&&(To.off(),Eo.trigger.stop())},Zo=(qn=>{let Lr=null;const Xn=()=>{$o(Lr)||(clearTimeout(Lr),Lr=null)};return{cancel:Xn,throttle:(...Ar)=>{Xn(),Lr=setTimeout(()=>{Lr=null,qn.apply(null,Ar)},200)}}})(zo);To.events.move.bind(qn=>{ht.mutate(yt,qn.info)});const Wo=qn=>(...Lr)=>{to&&qn.apply(null,Lr)},Sn=ht.sink(P0({forceDrop:zo,drop:Wo(zo),move:Wo(qn=>{Zo.cancel(),To.onEvent(qn,ht)}),delayDrop:Wo(Zo.throttle)}),Qt);return{element:Sn.element,go:qn=>{Sn.start(qn),To.on(),Eo.trigger.start()},on:()=>{to=!0},off:()=>{to=!1},isActive:()=>to,destroy:()=>{Sn.destroy()},events:Eo.registry}})(Me,(He=$e.mode)!==null&&He!==void 0?He:Ub,$e)})(b,{});let E=ae.none();const I=(Me,$e)=>ae.from(vs(Me,$e));b.events.drag.bind(Me=>{I(Me.target,"data-row").each($e=>{const He=Ei(Me.target,"top");la(Me.target,"top",He+Me.yDelta+"px")}),I(Me.target,"data-column").each($e=>{const He=Ei(Me.target,"left");la(Me.target,"left",He+Me.xDelta+"px")})});const H=(Me,$e)=>Ei(Me,$e)-pi(Me,"data-initial-"+$e,0);_.events.stop.bind(()=>{b.get().each(Me=>{E.each($e=>{I(Me,"data-row").each(He=>{const yt=H(Me,"top");na(Me,"data-initial-top"),Qe.trigger.adjustHeight($e,yt,parseInt(He,10))}),I(Me,"data-column").each(He=>{const yt=H(Me,"left");na(Me,"data-initial-left"),Qe.trigger.adjustWidth($e,yt,parseInt(He,10))}),rf(p,$e)})})});const q=(Me,$e)=>{Qe.trigger.startAdjust(),b.assign(Me),Se(Me,"data-initial-"+$e,Ei(Me,$e)),Aa(Me,dn),la(Me,"opacity","0.2"),_.go(p.dragContainer())},J=mo(p.parent(),"mousedown",Me=>{var $e;$e=Me.target,gd($e,of)&&q(Me.target,"top"),(He=>gd(He,ap))(Me.target)&&q(Me.target,"left")}),pe=Me=>hn(Me,p.view()),Oe=mo(p.view(),"mouseover",Me=>{var $e;($e=Me.target,ua($e,"table",pe).filter(ru)).fold(()=>{Xi(Me.target)&&!(He=>gd(He,"ephox-snooker-resizer-bar")||gd(He,"ephox-dragster-blocker"))(Me.target)&&kg(p)},He=>{_.isActive()&&(E=ae.some(He),rf(p,He))})}),Qe=xg({adjustHeight:zc(["table","delta","row"]),adjustWidth:zc(["table","delta","column"]),startAdjust:zc([])});return{destroy:()=>{J.unbind(),Oe.unbind(),_.destroy(),kg(p)},refresh:Me=>{rf(p,Me)},on:_.on,off:_.off,hideBars:Te(E_,p),showBars:Te(V0,p),events:Qe.registry}},Hm=p=>b=>b.options.get(p),j0="100%",sp=p=>{var b;const _=p.dom,E=(b=_.getParent(p.selection.getStart(),_.isBlock))!==null&&b!==void 0?b:p.getBody();return ha(se.fromDom(E))+"px"},yh=p=>ae.from(p.options.get("table_clone_elements")),om=Hm("table_header_type"),vh=Hm("table_column_resizing"),$0=p=>vh(p)==="preservetable",Gl=p=>vh(p)==="resizetable",As=Hm("table_sizing_mode"),nl=p=>As(p)==="relative",af=p=>As(p)==="fixed",nm=p=>As(p)==="responsive",Mr=Hm("table_resize_bars"),Nn=Hm("table_style_by_css"),ip=Hm("table_merge_content_on_paste"),qb=p=>{const b=p.options,_=b.get("table_default_attributes");return b.isSet("table_default_attributes")?_:((E,I)=>nm(E)||Nn(E)?I:af(E)?{...I,width:sp(E)}:{...I,width:j0})(p,_)},Wb=Hm("table_use_colgroups"),xh=p=>se.fromDom(p.getBody()),Ea=p=>b=>hn(b,xh(p)),_g=p=>{na(p,"data-mce-style");const b=_=>na(_,"data-mce-style");zt(ii(p),b),zt(Hu(p),b),zt(Bc(p),b)},Gb=p=>se.fromDom(p.selection.getStart()),Wt=p=>p.getBoundingClientRect().width,Kb=p=>p.getBoundingClientRect().height,wh=p=>(b,_)=>{const E=b.dom.getStyle(_,p)||b.dom.getAttrib(_,p);return ae.from(E).filter(On)},sf=wh("width"),kh=wh("height"),rm=p=>dl(p,Ps("table")).exists(ru),U0=p=>si(p,"table"),am=(p,b,_)=>{const E=I=>H=>_!==void 0&&_(H)||hn(H,I);return hn(p,b)?ae.some({boxes:ae.some([p]),start:p,finish:b}):U0(p).bind(I=>U0(b).bind(H=>{if(hn(I,H))return ae.some({boxes:L0(I,p,b),start:p,finish:b});if(cr(I,H)){const q=gi(b,"td,th",E(I)),J=q.length>0?q[q.length-1]:b;return ae.some({boxes:hh(I,p,I,b,H),start:p,finish:J})}if(cr(H,I)){const q=gi(p,"td,th",E(H)),J=q.length>0?q[q.length-1]:p;return ae.some({boxes:hh(H,p,I,b,H),start:p,finish:J})}return((q,J)=>((pe,Oe,Qe,Me=he)=>{const $e=[Oe].concat(pe.up().all(Oe)),He=[Qe].concat(pe.up().all(Qe)),yt=Eo=>Bo(Eo,Me).fold(()=>Eo,To=>Eo.slice(0,To+1)),ht=yt($e),Qt=yt(He),to=so(ht,Eo=>Vo(Qt,((To,zo)=>Te(To.eq,zo))(pe,Eo)));return{firstpath:ht,secondpath:Qt,shared:to}})(gg,q,J,void 0))(p,b).shared.bind(q=>ua(q,"table",_).bind(J=>{const pe=gi(b,"td,th",E(J)),Oe=pe.length>0?pe[pe.length-1]:b,Qe=gi(p,"td,th",E(J)),Me=Qe.length>0?Qe[Qe.length-1]:p;return ae.some({boxes:hh(J,p,I,b,H),start:Me,finish:Oe})}))}))},Ia=(p,b)=>{const _=Bi(p,b);return _.length>0?ae.some(_):ae.none()},Zd=(p,b,_)=>nu(p,b).bind(E=>nu(p,_).bind(I=>nh(U0,[E,I]).map(H=>({first:E,last:I,table:H})))),ex=(p,b,_,E,I)=>((H,q)=>so(H,J=>Tt(J,q)))(p,I).bind(H=>((q,J,pe)=>Vs(q).bind(Oe=>((Qe,Me,$e,He)=>Al(Qe,Me,hn).bind(yt=>{const ht=$e>0?yt.row+yt.rowspan-1:yt.row,Qt=He>0?yt.column+yt.colspan-1:yt.column;return Hl(Qe,ht+$e,Qt+He).map(to=>to.element)}))(Qp(Oe),q,J,pe)))(H,b,_).bind(q=>((J,pe)=>si(J,"table").bind(Oe=>nu(Oe,pe).bind(Qe=>am(Qe,J).bind(Me=>Me.boxes.map($e=>({boxes:$e,start:Me.start,finish:Me.finish}))))))(q,E))),vu=(p,b)=>Ia(p,b),xu=(p,b,_)=>Zd(p,b,_).bind(E=>{const I=pe=>hn(p,pe),H="thead,tfoot,tbody,table",q=si(E.first,H,I),J=si(E.last,H,I);return q.bind(pe=>J.bind(Oe=>hn(pe,Oe)?((Qe,Me,$e)=>((He,yt,ht)=>fh(He,yt,ht).bind(Qt=>((to,Eo)=>{let To=!0;const zo=Te(Qs,Eo);for(let Zo=Eo.startRow;Zo<=Eo.finishRow;Zo++)for(let Wo=Eo.startCol;Wo<=Eo.finishCol;Wo++)To=To&&Hl(to,Zo,Wo).exists(zo);return To?ae.some(Eo):ae.none()})(He,Qt)))(Qp(Qe),Me,$e))(E.table,E.first,E.last):ae.none()))}),Yb=no,tx=p=>{const b=(_,E)=>xs(_,E).exists(I=>parseInt(I,10)>1);return p.length>0&&ut(p,_=>b(_,"rowspan")||b(_,"colspan"))?ae.some(p):ae.none()},ox=(p,b,_)=>b.length<=1?ae.none():xu(p,_.firstSelectedSelector,_.lastSelectedSelector).map(E=>({bounds:E,cells:b})),Co=(p,b)=>({selection:p,kill:b}),nx=()=>({tag:"none"}),rl=p=>({tag:"multiple",elements:p}),lf=p=>({tag:"single",element:p}),Z0=(p,b,_,E)=>({start:Ks.on(p,b),finish:Ks.on(_,E)}),Xb=(p,b)=>{const _=wt(p,b);return Rc(se.fromDom(_.startContainer),_.startOffset,se.fromDom(_.endContainer),_.endOffset)},Yn=Z0,lp=(p,b,_,E,I)=>hn(_,E)?ae.none():am(_,E,b).bind(H=>{const q=H.boxes.getOr([]);return q.length>1?(I(p,q,H.start,H.finish),ae.some(Co(ae.some(Yn(_,0,_,ja(_))),!0))):ae.none()}),Jb=Ie([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),z_=p=>ua(p,"tr"),cf={...Jb,verify:(p,b,_,E,I,H,q)=>ua(E,"td,th",q).bind(J=>ua(b,"td,th",q).map(pe=>hn(J,pe)?hn(E,J)&&ja(J)===I?H(pe):Jb.none("in same cell"):nh(z_,[J,pe]).fold(()=>((Oe,Qe,Me)=>{const $e=Oe.getRect(Qe),He=Oe.getRect(Me);return He.right>$e.left&&He.left<$e.right})(p,pe,J)?Jb.success():H(pe),Oe=>H(pe)))).getOr(Jb.none("default")),cata:(p,b,_,E,I)=>p.fold(b,_,E,I)},Vn=Ps("br"),q0=(p,b,_)=>b(p,_).bind(E=>ri(E)&&ya(E).trim().length===0?q0(E,b,_):ae.some(E)),wu=(p,b,_,E)=>((I,H)=>oe(I,H).filter(Vn).orThunk(()=>oe(I,H-1).filter(Vn)))(b,_).bind(I=>E.traverse(I).fold(()=>q0(I,E.gather,p).map(E.relative),H=>(q=>Mi(q).bind(J=>{const pe=Ja(J);return((Oe,Qe)=>Bo(Oe,Te(hn,Qe)))(pe,q).map(Oe=>((Qe,Me,$e,He)=>({parent:Qe,children:Me,element:$e,index:He}))(J,pe,q,Oe))}))(H).map(q=>Ks.on(q.parent,q.index)))),Ed=(p,b)=>({left:p.left,top:p.top+b,right:p.right,bottom:p.bottom+b}),cp=(p,b)=>({left:p.left,top:p.top-b,right:p.right,bottom:p.bottom-b}),Ac=(p,b,_)=>({left:p.left+b,top:p.top+_,right:p.right+b,bottom:p.bottom+_}),dp=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom}),df=(p,b)=>ae.some(p.getRect(b)),_h=(p,b,_)=>Xa(b)?df(p,b).map(dp):ri(b)?((E,I,H)=>H>=0&&H<ja(I)?E.getRangedRect(I,H,I,H+1):H>0?E.getRangedRect(I,H-1,I,H):ae.none())(p,b,_).map(dp):ae.none(),Cg=(p,b)=>Xa(b)?df(p,b).map(dp):ri(b)?p.getRangedRect(b,0,b,ja(b)).map(dp):ae.none(),Sg=Ie([{none:[]},{retry:["caret"]}]),W0=(p,b,_)=>dl(b,rh).fold(he,E=>Cg(p,E).exists(I=>((H,q)=>H.left<q.left||Math.abs(q.right-H.left)<1||H.left>q.right)(_,I))),Qb={point:p=>p.bottom,adjuster:(p,b,_,E,I)=>{const H=Ed(I,5);return Math.abs(_.bottom-E.bottom)<1||_.top>I.bottom?Sg.retry(H):_.top===I.bottom?Sg.retry(Ed(I,1)):W0(p,b,I)?Sg.retry(Ac(H,5,0)):Sg.none()},move:Ed,gather:wd},G0=(p,b,_,E,I)=>I===0?ae.some(E):((H,q,J)=>H.elementFromPoint(q,J).filter(pe=>wa(pe)==="table").isSome())(p,E.left,b.point(E))?((H,q,J,pe,Oe)=>G0(H,q,J,q.move(pe,5),Oe))(p,b,_,E,I-1):p.situsFromPoint(E.left,b.point(E)).bind(H=>H.start.fold(ae.none,q=>Cg(p,q).bind(J=>b.adjuster(p,q,J,_,E).fold(ae.none,pe=>G0(p,b,_,pe,I-1))).orThunk(()=>ae.some(E)),ae.none)),Vr=(p,b,_)=>{const E=p.move(_,5),I=G0(b,p,_,E,100).getOr(E);return((H,q,J)=>H.point(q)>J.getInnerHeight()?ae.some(H.point(q)-J.getInnerHeight()):H.point(q)<0?ae.some(-H.point(q)):ae.none())(p,I,b).fold(()=>b.situsFromPoint(I.left,p.point(I)),H=>(b.scrollBy(0,H),b.situsFromPoint(I.left,p.point(I)-H)))},zd={tryUp:Te(Vr,{point:p=>p.top,adjuster:(p,b,_,E,I)=>{const H=cp(I,5);return Math.abs(_.top-E.top)<1||_.bottom<I.top?Sg.retry(H):_.bottom===I.top?Sg.retry(cp(I,1)):W0(p,b,I)?Sg.retry(Ac(H,5,0)):Sg.none()},move:cp,gather:Zl}),tryDown:Te(Vr,Qb),getJumpSize:bt(5)},up=(p,b,_)=>p.getSelection().bind(E=>((I,H,q,J)=>(Vn(H)?((Oe,Qe,Me)=>Me.traverse(Qe).orThunk(()=>q0(Qe,Me.gather,Oe)).map(Me.relative))(I,H,J):wu(I,H,q,J)).map(Oe=>({start:Oe,finish:Oe})))(b,E.finish,E.foffset,_).fold(()=>ae.some(ga(E.finish,E.foffset)),I=>{const H=p.fromSitus(I);return q=cf.verify(p,E.finish,E.foffset,H.finish,H.foffset,_.failure,b),cf.cata(q,J=>ae.none(),()=>ae.none(),J=>ae.some(ga(J,0)),J=>ae.some(ga(J,ja(J))));var q})),ey=(p,b,_,E,I,H)=>H===0?ae.none():rx(p,b,_,E,I).bind(q=>{const J=p.fromSitus(q),pe=cf.verify(p,_,E,J.finish,J.foffset,I.failure,b);return cf.cata(pe,()=>ae.none(),()=>ae.some(q),Oe=>hn(_,Oe)&&E===0?mp(p,_,E,cp,I):ey(p,b,Oe,0,I,H-1),Oe=>hn(_,Oe)&&E===ja(Oe)?mp(p,_,E,Ed,I):ey(p,b,Oe,ja(Oe),I,H-1))}),mp=(p,b,_,E,I)=>_h(p,b,_).bind(H=>Zr(p,I,E(H,zd.getJumpSize()))),Zr=(p,b,_)=>{const E=ni().browser;return E.isChromium()||E.isSafari()||E.isFirefox()?b.retry(p,_):ae.none()},rx=(p,b,_,E,I)=>_h(p,_,E).bind(H=>Zr(p,I,H)),uf=(p,b,_,E,I)=>ua(E,"td,th",b).bind(H=>ua(H,"table",b).bind(q=>((J,pe)=>ym(J,Oe=>Mi(Oe).exists(Qe=>hn(Qe,pe)),void 0).isSome())(I,q)?((J,pe,Oe)=>up(J,pe,Oe).bind(Qe=>ey(J,pe,Qe.element,Qe.offset,Oe,20).map(J.fromSitus)))(p,b,_).bind(J=>ua(J.finish,"td,th",b).map(pe=>({start:H,finish:pe,range:J}))):ae.none())),ty=(p,b,_,E,I,H)=>H(E,b).orThunk(()=>uf(p,b,_,E,I).map(q=>{const J=q.range;return Co(ae.some(Yn(J.start,J.soffset,J.finish,J.foffset)),!0)})),ax=(p,b)=>ua(p,"tr",b).bind(_=>ua(_,"table",b).bind(E=>{const I=Bi(E,"tr");return hn(_,I[0])?((H,q,J)=>oh(mg,H,pe=>El(pe).isSome(),J))(E,0,b).map(H=>{const q=ja(H);return Co(ae.some(Yn(H,q,H,q)),!0)}):ae.none()})),sx=(p,b)=>ua(p,"tr",b).bind(_=>ua(_,"table",b).bind(E=>{const I=Bi(E,"tr");return hn(_,I[I.length-1])?((H,q,J)=>ug(mg,H,pe=>Xr(pe).isSome(),J))(E,0,b).map(H=>Co(ae.some(Yn(H,0,H,0)),!0)):ae.none()})),K0=(p,b,_,E,I,H,q)=>uf(p,_,E,I,H).bind(J=>lp(b,_,J.start,J.finish,q)),mf=(p,b)=>ua(p,"td,th",b),A_=p=>fc(p).exists(ru),ix={traverse:kl,gather:wd,relative:Ks.before,retry:zd.tryDown,failure:cf.failedDown},oa={traverse:hc,gather:Zl,relative:Ks.before,retry:zd.tryUp,failure:cf.failedUp},gp=p=>b=>b===p,Ch=gp(38),oy=gp(40),qd=p=>p>=37&&p<=40,lx={isBackward:gp(37),isForward:gp(39)},T_={isBackward:gp(39),isForward:gp(37)},Y0=p=>({elementFromPoint:(b,_)=>se.fromPoint(se.fromDom(p.document),b,_),getRect:b=>b.dom.getBoundingClientRect(),getRangedRect:(b,_,E,I)=>{const H=Qc.exact(b,_,E,I);return((q,J)=>(pe=>{const Oe=pe.getClientRects(),Qe=Oe.length>0?Oe[0]:pe.getBoundingClientRect();return Qe.width>0||Qe.height>0?ae.some(Qe).map(Dr):ae.none()})(wt(q,J)))(p,H)},getSelection:()=>Pu(p).map(b=>Xb(p,b)),fromSitus:b=>{const _=Qc.relative(b.start,b.finish);return Xb(p,_)},situsFromPoint:(b,_)=>rg(p,b,_).map(E=>Z0(E.start,E.soffset,E.finish,E.foffset)),clearSelection:()=>{(b=>{zl(b).each(_=>_.removeAllRanges())})(p)},collapseSelection:(b=!1)=>{Pu(p).each(_=>_.fold(E=>E.collapse(b),(E,I)=>{const H=b?E:I;Yg(p,H,H)},(E,I,H,q)=>{const J=b?E:H,pe=b?I:q;Qi(p,J,pe,J,pe)}))},setSelection:b=>{Qi(p,b.start,b.soffset,b.finish,b.foffset)},setRelativeSelection:(b,_)=>{Yg(p,b,_)},selectNode:b=>{Iu(p,b,!1)},selectContents:b=>{Iu(p,b)},getInnerHeight:()=>p.innerHeight,getScrollY:()=>(b=>{const _=b!==void 0?b.dom:document,E=_.body.scrollLeft||_.documentElement.scrollLeft,I=_.body.scrollTop||_.documentElement.scrollTop;return An(E,I)})(se.fromDom(p.document)).top,scrollBy:(b,_)=>{((E,I,H)=>{const q=(H!==void 0?H.dom:document).defaultView;q&&q.scrollBy(E,I)})(b,_,se.fromDom(p.document))}}),ku=(p,b)=>({rows:p,cols:b}),gf=p=>dl(p,Ql).exists(ru),Vm=(p,b)=>gf(p)||gf(b),ny="data-mce-selected",ry="data-mce-first-selected",X0="data-mce-last-selected",cx="["+ny+"]",Eg={selected:ny,selectedSelector:"td["+ny+"],th["+ny+"]",firstSelected:ry,firstSelectedSelector:"td["+ry+"],th["+ry+"]",lastSelected:X0,lastSelectedSelector:"td["+X0+"],th["+X0+"]"},Sh=(p,b,_)=>({element:_,mergable:ox(b,p,Eg),unmergable:tx(p),selection:Yb(p)}),Eh=p=>(b,_)=>{const E=wa(b),I=E==="col"||E==="colgroup"?Vs(H=b).bind(q=>vu(q,Eg.firstSelectedSelector)).fold(bt(H),q=>q[0]):b;var H;return ua(I,p,_)},J0=Eh("th,td,caption"),zh=Eh("th,td"),_u=p=>{return b=p.model.table.getSelectedCells(),D(b,se.fromDom);var b},Q0=(p,b)=>{p.on("BeforeGetContent",_=>{const E=I=>{_.preventDefault(),(H=>Vs(H[0]).map(q=>{const J=((pe,Oe)=>{const Qe=To=>Tt(To.element,Oe),Me=pr(pe),$e=hi(Me),He=Tm(pe),yt=ju($e),ht=((To,zo)=>{const Zo=To.grid.columns;let Wo=To.grid.rows,Sn=Zo,qn=0,Lr=0;const Xn=[],Ar=[];return Ft(To.access,mr=>{if(Xn.push(mr),zo(mr)){Ar.push(mr);const za=mr.row,Ho=za+mr.rowspan-1,ei=mr.column,Vi=ei+mr.colspan-1;za<Wo?Wo=za:Ho>qn&&(qn=Ho),ei<Sn?Sn=ei:Vi>Lr&&(Lr=Vi)}}),((mr,za,Ho,ei,Vi,hl)=>({minRow:mr,minCol:za,maxRow:Ho,maxCol:ei,allCells:Vi,selectedCells:hl}))(Wo,Sn,qn,Lr,Xn,Ar)})(yt,Qe),Qt="th:not("+Oe+"),td:not("+Oe+")",to=fi(Me,"th,td",To=>Tt(To,Qt));zt(to,ai),((To,zo,Zo,Wo)=>{const Sn=Lt(To,Xn=>Xn.section!=="colgroup"),qn=zo.grid.columns,Lr=zo.grid.rows;for(let Xn=0;Xn<Lr;Xn++){let Ar=!1;for(let mr=0;mr<qn;mr++)Xn<Zo.minRow||Xn>Zo.maxRow||mr<Zo.minCol||mr>Zo.maxCol||(Hl(zo,Xn,mr).filter(Wo).isNone()?Ku(Sn,Ar,Xn):Ar=!0)}})($e,yt,ht,Qe);const Eo=((To,zo,Zo,Wo)=>{if(Wo.minCol===0&&zo.grid.columns===Wo.maxCol+1)return 0;const Sn=gu(zo,To,Zo),qn=vt(Sn,(Ar,mr)=>Ar+mr,0),Lr=vt(Sn.slice(Wo.minCol,Wo.maxCol+1),(Ar,mr)=>Ar+mr,0),Xn=Lr/qn*Zo.pixelWidth()-Zo.pixelWidth();return Zo.getCellDelta(Xn)})(pe,Zi(pe),He,ht);return((To,zo,Zo,Wo)=>{Ft(Zo.columns,qn=>{(qn.column<zo.minCol||qn.column>zo.maxCol)&&ai(qn.element)});const Sn=Lt(ma(To,"tr"),qn=>qn.dom.childElementCount===0);zt(Sn,ai),zo.minCol!==zo.maxCol&&zo.minRow!==zo.maxRow||zt(ma(To,"th,td"),qn=>{na(qn,"rowspan"),na(qn,"colspan")}),na(To,Cm),na(To,"data-snooker-col-series"),Tm(To).adjustTableWidth(Wo)})(Me,ht,yt,Eo),Me})(q,cx);return _g(J),[J]}))(I).each(H=>{const q=_.format==="text"?((J,pe)=>{const Oe=J.getDoc(),Qe=st(se.fromDom(J.getBody())),Me=se.fromTag("div",Oe);Se(Me,"data-mce-bogus","all"),ds(Me,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const $e=(yt=>_e(yt)?yt:se.fromDom(Si(yt).dom.body))(Qe);Wn(Me,pe),ve($e,Me);const He=Me.dom.innerText;return ai(Me),He})(p,H):((J,pe)=>D(pe,Oe=>J.selection.serializer.serialize(Oe.dom,{})).join(""))(p,H);_.content=q})};if(_.selection===!0){const I=(H=>Lt(_u(H),q=>Tt(q,Eg.selectedSelector)))(p);I.length>=1&&E(I)}}),p.on("BeforeSetContent",_=>{if(_.selection===!0&&_.paste===!0){const E=_u(p);Vt(E).each(I=>{Vs(I).each(H=>{const q=Lt((pe=>{const Oe=document.createElement("div");return Oe.innerHTML=pe,Ja(se.fromDom(Oe))})(_.content),pe=>wa(pe)!=="meta"),J=Ps("table");if(ip(p)&&q.length===1&&J(q[0])){_.preventDefault();const pe=se.fromDom(p.getDoc()),Oe=Rm(pe),Qe=((Me,$e,He)=>({element:Me,clipboard:$e,generators:He}))(I,q[0],Oe);b.pasteCells(H,Qe).each(()=>{p.focus()})}})})}})},Ah=(p,b)=>p.dispatch("NewRow",{node:b}),Th=(p,b)=>p.dispatch("NewCell",{node:b}),zg=(p,b,_)=>{p.dispatch("TableModified",{..._,table:b})},Oh={structure:!1,style:!0},wi={structure:!0,style:!1},dx={structure:!0,style:!0},ay=(p,b)=>nl(p)?_c(b):af(p)?ho(b):Tm(b),ux=(p,b,_)=>{const E=Qe=>wa(xh(Qe))==="table",I=yh(p),H=Gl(p)?Je:La,q=Qe=>{switch(om(p)){case"section":return O();case"sectionCells":return V();case"cells":return K();default:return((Me,$e)=>{var He;switch((He=Zi(Me),xo(He.all,yt=>{const ht=td(yt);return ht.type==="header"?ae.from(ht.subType):ae.none()})).getOr($e)){case"section":return $u();case"sectionCells":return bi();case"cells":return Ms()}})(Qe,"section")}},J=(Qe,Me,$e,He)=>(yt,ht,Qt=!1)=>{_g(yt);const to=se.fromDom(p.getDoc()),Eo=_d($e,to,I),To={sizing:ay(p,yt),resize:Gl(p)?iu():ed(),section:q(yt)};return Me(yt)?Qe(yt,ht,Eo,To).bind(zo=>{b.refresh(yt.dom),zt(zo.newRows,Wo=>{Ah(p,Wo.dom)}),zt(zo.newCells,Wo=>{Th(p,Wo.dom)});const Zo=((Wo,Sn)=>Sn.cursor.fold(()=>{const qn=ii(Wo);return Vt(qn).filter(Xi).map(Lr=>{_.clearSelectedCells(Wo.dom);const Xn=p.dom.createRng();return Xn.selectNode(Lr.dom),p.selection.setRng(Xn),Se(Lr,"data-mce-selected","1"),Xn})},qn=>{const Lr=ep(Om,qn),Xn=p.dom.createRng();return Xn.setStart(Lr.element.dom,Lr.offset),Xn.setEnd(Lr.element.dom,Lr.offset),p.selection.setRng(Xn),_.clearSelectedCells(Wo.dom),ae.some(Xn)}))(yt,zo);return Xi(yt)&&(_g(yt),Qt||zg(p,yt.dom,He)),Zo.map(Wo=>({rng:Wo,effect:He}))}):ae.none()},pe=J(mh,Qe=>!E(p)||Fr(Qe).rows>1,Je,wi),Oe=J(Xp,Qe=>!E(p)||Fr(Qe).columns>1,Je,wi);return{deleteRow:pe,deleteColumn:Oe,insertRowsBefore:J(Fb,Xe,Je,wi),insertRowsAfter:J(Ti,Xe,Je,wi),insertColumnsBefore:J(tm,Xe,H,wi),insertColumnsAfter:J(uh,Xe,H,wi),mergeCells:J(ph,Xe,Je,wi),unmergeCells:J(Ib,Xe,Je,wi),pasteColsBefore:J(Pb,Xe,Je,wi),pasteColsAfter:J(Hb,Xe,Je,wi),pasteRowsBefore:J(F0,Xe,Je,wi),pasteRowsAfter:J(di,Xe,Je,wi),pasteCells:J(Ud,Xe,Je,dx),makeCellsHeader:J(ci,Xe,Je,wi),unmakeCellsHeader:J(It,Xe,Je,wi),makeColumnsHeader:J(gh,Xe,Je,wi),unmakeColumnsHeader:J(R0,Xe,Je,wi),makeRowsHeader:J(Lb,Xe,Je,wi),makeRowsBody:J(B0,Xe,Je,wi),makeRowsFooter:J(Pm,Xe,Je,wi),getTableRowType:ol,getTableCellType:tl,getTableColType:xi}},mx=(p,b)=>{p.selection.select(b.dom,!0),p.selection.collapse(!0)},Nh=(p,b,_,E,I)=>{const H=(J=>{const pe=J.options,Oe=pe.get("table_default_styles");return pe.isSet("table_default_styles")?Oe:((Qe,Me)=>nm(Qe)||!Nn(Qe)?Me:af(Qe)?{...Me,width:sp(Qe)}:{...Me,width:j0})(J,Oe)})(p),q={styles:H,attributes:qb(p),colGroups:Wb(p)};return p.undoManager.ignore(()=>{const J=((Oe,Qe,Me,$e,He,yt=jb)=>{const ht=se.fromTag("table"),Qt=He!=="cells";ds(ht,yt.styles),Oa(ht,yt.attributes),yt.colGroups&&ve(ht,(zo=>{const Zo=se.fromTag("colgroup");return Nt(zo,()=>ve(Zo,se.fromTag("col"))),Zo})(Qe));const to=Math.min(Oe,Me);if(Qt&&Me>0){const zo=se.fromTag("thead");ve(ht,zo);const Zo=bh(Me,Qe,He==="sectionCells"?to:0,$e);Wn(zo,Zo)}const Eo=se.fromTag("tbody");ve(ht,Eo);const To=bh(Qt?Oe-to:Oe,Qe,Qt?0:Me,$e);return Wn(Eo,To),ht})(_,b,I,E,om(p),q);Se(J,"data-mce-id","__mce");const pe=(Oe=>{const Qe=se.fromTag("div"),Me=se.fromDom(Oe.dom.cloneNode(!0));return ve(Qe,Me),($e=>$e.dom.innerHTML)(Qe)})(J);p.insertContent(pe),p.addVisual()}),nu(xh(p),'table[data-mce-id="__mce"]').map(J=>(af(p)?Mm(J):nm(p)?Eb(J):(nl(p)||(pe=>en(pe)&&pe.indexOf("%")!==-1)(H.width))&&ql(J),_g(J),na(J,"data-mce-id"),((pe,Oe)=>{zt(Bi(Oe,"tr"),Qe=>{Ah(pe,Qe.dom),zt(Bi(Qe,"th,td"),Me=>{Th(pe,Me.dom)})})})(p,J),((pe,Oe)=>{nu(Oe,"td,th").each(Te(mx,pe))})(p,J),J.dom)).getOrNull()};var pf=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const e1="x-tinymce/dom-table-",sm=e1+"rows",t1=e1+"columns",gx=p=>{const b=pf.FakeClipboardItem(p);pf.write([b])},o1=p=>{var b;const _=(b=pf.read())!==null&&b!==void 0?b:[];return xo(_,E=>ae.from(E.getType(p)))},n1=p=>{o1(p).isSome()&&pf.clear()},px=p=>{p.fold(ff,b=>gx({[sm]:b}))},sy=()=>o1(sm),ff=()=>n1(sm),jm=p=>{p.fold(Dh,b=>gx({[t1]:b}))},fx=()=>o1(t1),Dh=()=>n1(t1),r1=p=>J0(Gb(p),Ea(p)).filter(rm),a1=(p,b)=>{const _=Ea(p),E=Me=>Vs(Me,_),I=Me=>($e=>zh(Gb($e),Ea($e)).filter(rm))(p).bind($e=>E($e).map(He=>Me(He,$e))),H=Me=>{p.focus()},q=(Me,$e=!1)=>I((He,yt)=>{const ht=Sh(_u(p),He,yt);Me(He,ht,$e).each(H)}),J=()=>I((Me,$e)=>((He,yt,ht)=>{const Qt=Zi(He);return Li(Qt,yt).bind(to=>{const Eo=Lc(Qt,ht,!1),To=Or(Eo).rows.slice(to[0].row,to[to.length-1].row+to[to.length-1].rowspan),zo=R(To,Wo=>{const Sn=Lt(Wo.cells,qn=>!qn.isLocked);return Sn.length>0?[{...Wo,cells:Sn}]:[]}),Zo=ul(zo);return qo(Zo.length>0,Zo)}).map(to=>D(to,Eo=>{const To=bc(Eo.element);return zt(Eo.cells,zo=>{const Zo=pr(zo.element);Wu(Zo,"colspan",zo.colspan,1),Wu(Zo,"rowspan",zo.rowspan,1),ve(To,Zo)}),To}))})(Me,Sh(_u(p),Me,$e),_d(Je,se.fromDom(p.getDoc()),ae.none()))),pe=()=>I((Me,$e)=>((He,yt)=>{const ht=Zi(He);return Gu(ht,yt).map(Qt=>{const to=Qt[Qt.length-1],Eo=Qt[0].column,To=to.column+to.colspan,zo=((Wo,Sn,qn)=>{if(uu(Wo)){const Lr=Lt(yd(Wo),lg(Sn,qn)),Xn=D(Lr,mr=>{const za=pr(mr.element);return rc(za,"span",qn-Sn),za}),Ar=se.fromTag("colgroup");return Wn(Ar,Xn),[Ar]}return[]})(ht,Eo,To),Zo=((Wo,Sn,qn)=>D(Wo.all,Lr=>{const Xn=Lt(Lr.cells,lg(Sn,qn)),Ar=D(Xn,za=>{const Ho=pr(za.element);return rc(Ho,"colspan",qn-Sn),Ho}),mr=se.fromTag("tr");return Wn(mr,Ar),mr}))(ht,Eo,To);return[...zo,...Zo]})})(Me,Sh(_u(p),Me,$e))),Oe=(Me,$e)=>$e().each(He=>{const yt=D(He,ht=>pr(ht));I((ht,Qt)=>{const to=Rm(se.fromDom(p.getDoc())),Eo=((To,zo,Zo,Wo)=>({selection:Yb(To),clipboard:Zo,generators:Wo}))(_u(p),0,yt,to);Me(ht,Eo).each(H)})}),Qe=Me=>($e,He)=>((yt,ht)=>Pe(yt,ht)?ae.from(yt[ht]):ae.none())(He,"type").each(yt=>{q(Me(yt),He.no_events)});Ft({mceTableSplitCells:()=>q(b.unmergeCells),mceTableMergeCells:()=>q(b.mergeCells),mceTableInsertRowBefore:()=>q(b.insertRowsBefore),mceTableInsertRowAfter:()=>q(b.insertRowsAfter),mceTableInsertColBefore:()=>q(b.insertColumnsBefore),mceTableInsertColAfter:()=>q(b.insertColumnsAfter),mceTableDeleteCol:()=>q(b.deleteColumn),mceTableDeleteRow:()=>q(b.deleteRow),mceTableCutCol:()=>pe().each(Me=>{jm(Me),q(b.deleteColumn)}),mceTableCutRow:()=>J().each(Me=>{px(Me),q(b.deleteRow)}),mceTableCopyCol:()=>pe().each(Me=>jm(Me)),mceTableCopyRow:()=>J().each(Me=>px(Me)),mceTablePasteColBefore:()=>Oe(b.pasteColsBefore,fx),mceTablePasteColAfter:()=>Oe(b.pasteColsAfter,fx),mceTablePasteRowBefore:()=>Oe(b.pasteRowsBefore,sy),mceTablePasteRowAfter:()=>Oe(b.pasteRowsAfter,sy),mceTableDelete:()=>r1(p).each(Me=>{Vs(Me,_).filter(St(_)).each($e=>{const He=se.fromText("");if(te($e,He),ai($e),p.dom.isEmpty(p.getBody()))p.setContent(""),p.selection.setCursorLocation();else{const yt=p.dom.createRng();yt.setStart(He.dom,0),yt.setEnd(He.dom,0),p.selection.setRng(yt),p.nodeChanged()}})}),mceTableCellToggleClass:(Me,$e)=>{I(He=>{const yt=_u(p),ht=ut(yt,to=>p.formatter.match("tablecellclass",{value:$e},to.dom)),Qt=ht?p.formatter.remove:p.formatter.apply;zt(yt,to=>Qt("tablecellclass",{value:$e},to.dom)),zg(p,He.dom,Oh)})},mceTableToggleClass:(Me,$e)=>{I(He=>{p.formatter.toggle("tableclass",{value:$e},He.dom),zg(p,He.dom,Oh)})},mceTableToggleCaption:()=>{r1(p).each(Me=>{Vs(Me,_).each($e=>{vc($e,"caption").fold(()=>{const He=se.fromTag("caption");ve(He,se.fromText("Caption")),((yt,ht)=>{oe(yt,0).fold(()=>{ve(yt,ht)},Qt=>{$(Qt,ht)})})($e,He),p.selection.setCursorLocation(He.dom,0)},He=>{Ps("caption")(Me)&&Jo("td",$e).each(yt=>p.selection.setCursorLocation(yt.dom,0)),ai(He)}),zg(p,$e.dom,wi)})})},mceTableSizingMode:(Me,$e)=>(He=>r1(p).each(yt=>{nm(p)||af(p)||nl(p)||Vs(yt,_).each(ht=>{He!=="relative"||Ul(ht)?He!=="fixed"||fu(ht)?He!=="responsive"||hu(ht)||Eb(ht):Mm(ht):ql(ht),_g(ht),zg(p,ht.dom,wi)})}))($e),mceTableCellType:Qe(Me=>Me==="th"?b.makeCellsHeader:b.unmakeCellsHeader),mceTableColType:Qe(Me=>Me==="th"?b.makeColumnsHeader:b.unmakeColumnsHeader),mceTableRowType:Qe(Me=>{switch(Me){case"header":return b.makeRowsHeader;case"footer":return b.makeRowsFooter;default:return b.makeRowsBody}})},(Me,$e)=>p.addCommand($e,Me)),p.addCommand("mceInsertTable",(Me,$e)=>{((He,yt,ht,Qt={})=>{const to=Eo=>Gt(Eo)&&Eo>0;if(to(yt)&&to(ht)){const Eo=Qt.headerRows||0,To=Qt.headerColumns||0;return Nh(He,ht,yt,To,Eo)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(p,$e.rows,$e.columns,$e.options)}),p.addCommand("mceTableApplyCellStyle",(Me,$e)=>{const He=Qt=>"tablecell"+Qt.toLowerCase().replace("-","");if(!ro($e))return;const yt=Lt(_u(p),rm);if(yt.length===0)return;const ht=((Qt,to)=>{const Eo={};return((To,zo,Zo,Wo)=>{Ft(To,(Sn,qn)=>{(zo(Sn,qn)?Zo:Wo)(Sn,qn)})})(Qt,to,(To=>(zo,Zo)=>{To[Zo]=zo})(Eo),Je),Eo})($e,(Qt,to)=>p.formatter.has(He(to))&&en(Qt));(Qt=>{for(const to in Qt)if(ke.call(Qt,to))return!1;return!0})(ht)||(Ft(ht,(Qt,to)=>{const Eo=He(to);zt(yt,To=>{Qt===""?p.formatter.remove(Eo,{value:null},To.dom,!0):p.formatter.apply(Eo,{value:Qt},To.dom)})}),E(yt[0]).each(Qt=>zg(p,Qt.dom,Oh)))})},Mh=p=>!gd(se.fromDom(p.target),"ephox-snooker-resizer-bar"),s1=(p,b)=>{const _=(I=Eg.selectedSelector,{get:()=>vu(se.fromDom(p.getBody()),I).fold(()=>zh(Gb(p),Ea(p)).fold(nx,lf),rl)}),E=((H,q,J)=>{const pe=$e=>{na($e,H.selected),na($e,H.firstSelected),na($e,H.lastSelected)},Oe=$e=>{Se($e,H.selected,"1")},Qe=$e=>{Me($e),J()},Me=$e=>{const He=Bi($e,`${H.selectedSelector},${H.firstSelectedSelector},${H.lastSelectedSelector}`);zt(He,pe)};return{clearBeforeUpdate:Me,clear:Qe,selectRange:($e,He,yt,ht)=>{Qe($e),zt(He,Oe),Se(yt,H.firstSelected,"1"),Se(ht,H.lastSelected,"1"),q(He,yt,ht)},selectedSelector:H.selectedSelector,firstSelectedSelector:H.firstSelectedSelector,lastSelectedSelector:H.lastSelectedSelector}})(Eg,(H,q,J)=>{Vs(q).each(pe=>{const Oe=D(H,He=>He.dom),Qe=yh(p),Me=_d(Je,se.fromDom(p.getDoc()),Qe),$e=((He,yt,ht)=>{const Qt=Zi(He);return Li(Qt,yt).map(to=>{const Eo=Lc(Qt,ht,!1),{rows:To}=Or(Eo),zo=((Wo,Sn)=>{const qn=Wo.slice(0,Sn[Sn.length-1].row+1),Lr=ul(qn);return R(Lr,Xn=>{const Ar=Xn.cells.slice(0,Sn[Sn.length-1].column+1);return D(Ar,mr=>mr.element)})})(To,to),Zo=((Wo,Sn)=>{const qn=Wo.slice(Sn[0].row+Sn[0].rowspan-1,Wo.length),Lr=ul(qn);return R(Lr,Xn=>{const Ar=Xn.cells.slice(Sn[0].column+Sn[0].colspan-1,Xn.cells.length);return D(Ar,mr=>mr.element)})})(To,to);return{upOrLeftCells:zo,downOrRightCells:Zo}})})(pe,{selection:_u(p)},Me).map(He=>Uo(He,yt=>D(yt,ht=>ht.dom))).getOrUndefined();((He,yt,ht,Qt,to)=>{He.dispatch("TableSelectionChange",{cells:yt,start:ht,finish:Qt,otherCells:to})})(p,Oe,q.dom,J.dom,$e)})},()=>(H=>{H.dispatch("TableSelectionClear")})(p));var I;return p.on("init",H=>{const q=p.getWin(),J=xh(p),pe=Ea(p),Oe=((ht,Qt,to,Eo)=>{const To=((zo,Zo,Wo,Sn)=>{const qn=_n(),Lr=qn.clear,Xn=Ar=>{qn.on(mr=>{Sn.clearBeforeUpdate(Zo),mf(Ar.target,Wo).each(za=>{am(mr,za,Wo).each(Ho=>{const ei=Ho.boxes.getOr([]);if(ei.length===1){const Vi=ei[0],hl=ra(Vi)==="false",ki=xt(Ds(Ar.target),Vi,hn);hl&&ki&&Sn.selectRange(Zo,ei,Vi,Vi)}else ei.length>1&&(Sn.selectRange(Zo,ei,Ho.start,Ho.finish),zo.selectContents(za))})})})};return{clearstate:Lr,mousedown:Ar=>{Sn.clear(Zo),mf(Ar.target,Wo).filter(A_).each(qn.set)},mouseover:Ar=>{Xn(Ar)},mouseup:Ar=>{Xn(Ar),Lr()}}})(Y0(ht),Qt,to,Eo);return{clearstate:To.clearstate,mousedown:To.mousedown,mouseover:To.mouseover,mouseup:To.mouseup}})(q,J,pe,E),Qe=((ht,Qt,to,Eo)=>{const To=Y0(ht),zo=()=>(Eo.clear(Qt),ae.none());return{keydown:(Zo,Wo,Sn,qn,Lr,Xn)=>{const Ar=Zo.raw,mr=Ar.which,za=Ar.shiftKey===!0;return Ia(Qt,Eo.selectedSelector).fold(()=>(qd(mr)&&!za&&Eo.clearBeforeUpdate(Qt),qd(mr)&&za&&!Vm(Wo,qn)?ae.none:oy(mr)&&za?Te(K0,To,Qt,to,ix,qn,Wo,Eo.selectRange):Ch(mr)&&za?Te(K0,To,Qt,to,oa,qn,Wo,Eo.selectRange):oy(mr)?Te(ty,To,to,ix,qn,Wo,sx):Ch(mr)?Te(ty,To,to,oa,qn,Wo,ax):ae.none),ei=>{const Vi=hl=>()=>xo(hl,ws=>(($s,Dl,fp,lc,Cu)=>ex(lc,$s,Dl,Cu.firstSelectedSelector,Cu.lastSelectedSelector).map(Su=>(Cu.clearBeforeUpdate(fp),Cu.selectRange(fp,Su.boxes,Su.start,Su.finish),Su.boxes)))(ws.rows,ws.cols,Qt,ei,Eo)).fold(()=>Zd(Qt,Eo.firstSelectedSelector,Eo.lastSelectedSelector).map(ws=>{const $s=oy(mr)||Xn.isForward(mr)?Ks.after:Ks.before;return To.setRelativeSelection(Ks.on(ws.first,0),$s(ws.table)),Eo.clear(Qt),Co(ae.none(),!0)}),ws=>ae.some(Co(ae.none(),!0)));return qd(mr)&&za&&!Vm(Wo,qn)?ae.none:oy(mr)&&za?Vi([ku(1,0)]):Ch(mr)&&za?Vi([ku(-1,0)]):Xn.isBackward(mr)&&za?Vi([ku(0,-1),ku(-1,0)]):Xn.isForward(mr)&&za?Vi([ku(0,1),ku(1,0)]):qd(mr)&&!za?zo:ae.none})()},keyup:(Zo,Wo,Sn,qn,Lr)=>Ia(Qt,Eo.selectedSelector).fold(()=>{const Xn=Zo.raw,Ar=Xn.which;return Xn.shiftKey===!0&&qd(Ar)&&Vm(Wo,qn)?((mr,za,Ho,ei,Vi,hl,ki)=>hn(Ho,Vi)&&ei===hl?ae.none():ua(Ho,"td,th",za).bind(ws=>ua(Vi,"td,th",za).bind($s=>lp(mr,za,ws,$s,ki))))(Qt,to,Wo,Sn,qn,Lr,Eo.selectRange):ae.none()},ae.none)}})(q,J,pe,E),Me=((ht,Qt,to,Eo)=>{const To=Y0(ht);return(zo,Zo)=>{Eo.clearBeforeUpdate(Qt),am(zo,Zo,to).each(Wo=>{const Sn=Wo.boxes.getOr([]);Eo.selectRange(Qt,Sn,Wo.start,Wo.finish),To.selectContents(Zo),To.collapseSelection()})}})(q,J,pe,E);p.on("TableSelectorChange",ht=>Me(ht.start,ht.finish));const $e=(ht,Qt)=>{(to=>to.raw.shiftKey===!0)(ht)&&(Qt.kill&&ht.kill(),Qt.selection.each(to=>{const Eo=Qc.relative(to.start,to.finish),To=wt(q,Eo);p.selection.setRng(To)}))},He=ht=>ht.button===0,yt=(()=>{const ht=ye(se.fromDom(J)),Qt=ye(0);return{touchEnd:to=>{const Eo=se.fromDom(to.target);if(Ps("td")(Eo)||Ps("th")(Eo)){const To=ht.get(),zo=Qt.get();hn(To,Eo)&&to.timeStamp-zo<300&&(to.preventDefault(),Me(Eo,Eo))}ht.set(Eo),Qt.set(to.timeStamp)}}})();p.on("dragstart",ht=>{Oe.clearstate()}),p.on("mousedown",ht=>{He(ht)&&Mh(ht)&&Oe.mousedown(lo(ht))}),p.on("mouseover",ht=>{var Qt;((Qt=ht).buttons===void 0||1&Qt.buttons)&&Mh(ht)&&Oe.mouseover(lo(ht))}),p.on("mouseup",ht=>{He(ht)&&Mh(ht)&&Oe.mouseup(lo(ht))}),p.on("touchend",yt.touchEnd),p.on("keyup",ht=>{const Qt=lo(ht);if(Qt.raw.shiftKey&&qd(Qt.raw.which)){const to=p.selection.getRng(),Eo=se.fromDom(to.startContainer),To=se.fromDom(to.endContainer);Qe.keyup(Qt,Eo,to.startOffset,To,to.endOffset).each(zo=>{$e(Qt,zo)})}}),p.on("keydown",ht=>{const Qt=lo(ht);b.hide();const to=p.selection.getRng(),Eo=se.fromDom(to.startContainer),To=se.fromDom(to.endContainer),zo=Up(lx,T_)(se.fromDom(p.selection.getStart()));Qe.keydown(Qt,Eo,to.startOffset,To,to.endOffset,zo).each(Zo=>{$e(Qt,Zo)}),b.show()}),p.on("NodeChange",()=>{const ht=p.selection,Qt=se.fromDom(ht.getStart()),to=se.fromDom(ht.getEnd());nh(Vs,[Qt,to]).fold(()=>E.clear(J),Je)})}),p.on("PreInit",()=>{p.serializer.addTempAttr(Eg.firstSelected),p.serializer.addTempAttr(Eg.lastSelected)}),{getSelectedCells:()=>((H,q)=>{switch(H.tag){case"none":return q();case"single":return(J=>[J.dom])(H.element);case"multiple":return(J=>D(J,pe=>pe.dom))(H.elements)}})(_.get(),bt([])),clearSelectedCells:H=>E.clear(se.fromDom(H))}},hx=p=>kn(p)&&p.nodeName==="TABLE",i1="bar-",iy=p=>vs(p,"data-mce-resize")!=="false",pp=p=>{const b=_n(),_=_n(),E=_n();let I,H,q,J;const pe=He=>ay(p,He),Oe=()=>$0(p)?ed():iu(),Qe=(He,yt,ht,Qt)=>{const to=(zo=>{return ft(Zo=zo,"corner-")?(Wo=>Wo.substring(7))(Zo):Zo;var Zo})(yt),Eo=bo(to,"e"),To=ft(to,"n");if(H===""&&ql(He),J===""&&(zo=>{const Zo=(Wo=>Nr(Wo)+"px")(zo);$l(zo,ae.none(),ae.some(Zo)),jd(zo)})(He),ht!==I&&H!==""){la(He,"width",H);const zo=Oe(),Zo=pe(He),Wo=$0(p)||Eo?(Sn=>Fr(Sn).columns)(He)-1:0;nc(He,ht-I,Wo,zo,Zo)}else if((zo=>/^(\d+(\.\d+)?)%$/.test(zo))(H)){const zo=parseFloat(H.replace("%",""));la(He,"width",ht*zo/I+"%")}if((zo=>/^(\d+(\.\d+)?)px$/.test(zo))(H)&&(zo=>{const Zo=Zi(zo);uu(Zo)||zt(ii(zo),Wo=>{const Sn=Cl(Wo,"width");la(Wo,"width",Sn),na(Wo,"width")})})(He),Qt!==q&&J!==""){la(He,"height",J);const zo=To?0:(Zo=>Fr(Zo).rows)(He)-1;Ii(He,Qt-q,zo)}};p.on("init",()=>{const He=((yt,ht)=>((Qt,to)=>({parent:bt(Qt),view:bt(Qt),dragContainer:bt(Qt),origin:()=>Qa(Qt),isResizable:to}))(se.fromDom(yt.getBody()),ht))(p,iy);if(E.set(He),(yt=>{const ht=yt.options.get("object_resizing");return pn(ht.split(","),"table")})(p)&&Mr(p)){const yt=((ht,Qt,to)=>{const Eo=Uu,To=mu,zo=Zb(ht),Zo=xg({beforeResize:zc(["table","type"]),afterResize:zc(["table","type"]),startDrag:zc([])});return zo.events.adjustHeight.bind(Wo=>{const Sn=Wo.table;Zo.trigger.beforeResize(Sn,"row");const qn=Eo.delta(Wo.delta,Sn);Ii(Sn,qn,Wo.row),Zo.trigger.afterResize(Sn,"row")}),zo.events.startAdjust.bind(Wo=>{Zo.trigger.startDrag()}),zo.events.adjustWidth.bind(Wo=>{const Sn=Wo.table;Zo.trigger.beforeResize(Sn,"col");const qn=To.delta(Wo.delta,Sn),Lr=to(Sn);nc(Sn,qn,Wo.column,Qt,Lr),Zo.trigger.afterResize(Sn,"col")}),{on:zo.on,off:zo.off,refreshBars:zo.refresh,hideBars:zo.hideBars,showBars:zo.showBars,destroy:zo.destroy,events:Zo.registry}})(He,Oe(),pe);p.mode.isReadOnly()||yt.on(),yt.events.startDrag.bind(ht=>{b.set(p.selection.getRng())}),yt.events.beforeResize.bind(ht=>{const Qt=ht.table.dom;((to,Eo,To,zo,Zo)=>{to.dispatch("ObjectResizeStart",{target:Eo,width:To,height:zo,origin:Zo})})(p,Qt,Wt(Qt),Kb(Qt),i1+ht.type)}),yt.events.afterResize.bind(ht=>{const Qt=ht.table,to=Qt.dom;_g(Qt),b.on(Eo=>{p.selection.setRng(Eo),p.focus()}),((Eo,To,zo,Zo,Wo)=>{Eo.dispatch("ObjectResized",{target:To,width:zo,height:Zo,origin:Wo})})(p,to,Wt(to),Kb(to),i1+ht.type),p.undoManager.add()}),_.set(yt)}}),p.on("ObjectResizeStart",He=>{const yt=He.target;if(hx(yt)&&!p.mode.isReadOnly()){const ht=se.fromDom(yt);zt(p.dom.select(".mce-clonedresizable"),Qt=>{p.dom.addClass(Qt,"mce-"+vh(p)+"-columns")}),!fu(ht)&&af(p)?Mm(ht):!Ul(ht)&&nl(p)&&ql(ht),hu(ht)&&ft(He.origin,i1)&&ql(ht),I=He.width,H=nm(p)?"":sf(p,yt).getOr(""),q=He.height,J=kh(p,yt).getOr("")}}),p.on("ObjectResized",He=>{const yt=He.target;if(hx(yt)){const ht=se.fromDom(yt),Qt=He.origin;(to=>ft(to,"corner-"))(Qt)&&Qe(ht,Qt,He.width,He.height),_g(ht),zg(p,ht.dom,Oh)}});const Me=()=>{_.on(He=>{He.on(),He.showBars()})},$e=()=>{_.on(He=>{He.off(),He.hideBars()})};return p.on("DisabledStateChange",He=>{He.state?$e():Me()}),p.on("SwitchMode",()=>{p.mode.isReadOnly()?$e():Me()}),p.on("dragstart dragend",He=>{He.type==="dragstart"?$e():Me()}),p.on("remove",()=>{_.on(He=>{He.destroy()})}),{refresh:He=>{_.on(yt=>yt.refreshBars(se.fromDom(He)))},hide:()=>{_.on(He=>He.hideBars())},show:()=>{_.on(He=>He.showBars())}}},Ag=p=>{(I=>{const H=I.options.register;H("table_clone_elements",{processor:"string[]"}),H("table_use_colgroups",{processor:"boolean",default:!0}),H("table_header_type",{processor:q=>{const J=pn(["section","cells","sectionCells","auto"],q);return J?{value:q,valid:J}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),H("table_sizing_mode",{processor:"string",default:"auto"}),H("table_default_attributes",{processor:"object",default:{border:"1"}}),H("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),H("table_column_resizing",{processor:q=>{const J=pn(["preservetable","resizetable"],q);return J?{value:q,valid:J}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),H("table_resize_bars",{processor:"boolean",default:!0}),H("table_style_by_css",{processor:"boolean",default:!0}),H("table_merge_content_on_paste",{processor:"boolean",default:!0})})(p);const b=pp(p),_=s1(p,b),E=ux(p,b,_);return a1(p,E),((I,H)=>{const q=Ea(I),J=pe=>zh(Gb(I)).bind(Oe=>Vs(Oe,q).map(Qe=>{const Me=Sh(_u(I),Qe,Oe);return pe(Qe,Me)})).getOr("");Ft({mceTableRowType:()=>J(H.getTableRowType),mceTableCellType:()=>J(H.getTableCellType),mceTableColType:()=>J(H.getTableColType)},(pe,Oe)=>I.addQueryValueHandler(Oe,pe))})(p,E),Q0(p,E),{getSelectedCells:_.getSelectedCells,clearSelectedCells:_.clearSelectedCells}};Oo.add("dom",p=>({table:Ag(p)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);var q7={},W7={},G7;function sB(){return G7||(G7=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(W,ce,it)=>{var mo;return it(W,ce.prototype)?!0:((mo=W.constructor)===null||mo===void 0?void 0:mo.name)===ce.name},Ko=W=>{const ce=typeof W;return W===null?"null":ce==="object"&&Array.isArray(W)?"array":ce==="object"&&an(W,String,(it,mo)=>mo.isPrototypeOf(it))?"string":ce},cn=W=>ce=>Ko(ce)===W,en=W=>ce=>typeof ce===W,ro=cn("string"),gn=en("boolean"),$o=W=>W==null,go=W=>!$o(W),At=en("function"),kn=en("number"),tn=(W,ce)=>it=>W(ce(it)),Gt=W=>()=>W,Je=(W,ce)=>W===ce,bt=Gt(!1);class no{constructor(ce,it){this.tag=ce,this.value=it}static some(ce){return new no(!0,ce)}static none(){return no.singletonNone}fold(ce,it){return this.tag?it(this.value):ce()}isSome(){return this.tag}isNone(){return!this.tag}map(ce){return this.tag?no.some(ce(this.value)):no.none()}bind(ce){return this.tag?ce(this.value):no.none()}exists(ce){return this.tag&&ce(this.value)}forall(ce){return!this.tag||ce(this.value)}filter(ce){return!this.tag||ce(this.value)?this:no.none()}getOr(ce){return this.tag?this.value:ce}or(ce){return this.tag?this:ce}getOrThunk(ce){return this.tag?this.value:ce()}orThunk(ce){return this.tag?this:ce()}getOrDie(ce){if(this.tag)return this.value;throw new Error(ce??"Called getOrDie on None")}static from(ce){return go(ce)?no.some(ce):no.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ce){this.tag&&ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}no.singletonNone=new no(!1);const ao=Array.prototype.indexOf,Te=(W,ce)=>ao.call(W,ce),St=(W,ce)=>Te(W,ce)>-1,wo=(W,ce)=>{const it=W.length,mo=new Array(it);for(let lo=0;lo<it;lo++){const $=W[lo];mo[lo]=ce($,lo)}return mo},he=(W,ce)=>{for(let it=0,mo=W.length;it<mo;it++){const lo=W[it];ce(lo,it)}},Xe=(W,ce)=>{const it=[];for(let mo=0,lo=W.length;mo<lo;mo++){const $=W[mo];ce($,mo)&&it.push($)}return it},ae=(W,ce,it)=>(he(W,(mo,lo)=>{it=ce(it,mo,lo)}),it),pt=Object.keys,sn=(W,ce)=>{const it=pt(W);for(let mo=0,lo=it.length;mo<lo;mo++){const $=it[mo],te=W[$];ce(te,$)}},Ro=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let pn=0;const Vo=W=>{const it=new Date().getTime(),mo=Math.floor(Ro()*1e9);return pn++,W+"_"+mo+pn+String(it)},Nt=(W,ce,it=Je)=>W.exists(mo=>it(mo,ce)),zt=(W=>ce=>ce.replace(W,""))(/^\s+|\s+$/g),Ot=(W,ce)=>({element:W,offset:ce}),Lt=(W,ce)=>{const mo=(ce||document).createElement("div");if(mo.innerHTML=W,!mo.hasChildNodes()||mo.childNodes.length>1){const lo="HTML does not have a single root node";throw console.error(lo,W),new Error(lo)}return so(mo.childNodes[0])},po=(W,ce)=>{const mo=(ce||document).createElement(W);return so(mo)},vt=(W,ce)=>{const mo=(ce||document).createTextNode(W);return so(mo)},so=W=>{if(W==null)throw new Error("Node cannot be null or undefined");return{dom:W}},je={fromHtml:Lt,fromTag:po,fromText:vt,fromDom:so,fromPoint:(W,ce,it)=>no.from(W.dom.elementFromPoint(ce,it)).map(so)},R=8,ut=9,tt=11,Bt=1,Vt=3,co=(W,ce)=>{const it=W.dom;if(it.nodeType!==Bt)return!1;{const mo=it;if(mo.matches!==void 0)return mo.matches(ce);if(mo.msMatchesSelector!==void 0)return mo.msMatchesSelector(ce);if(mo.webkitMatchesSelector!==void 0)return mo.webkitMatchesSelector(ce);if(mo.mozMatchesSelector!==void 0)return mo.mozMatchesSelector(ce);throw new Error("Browser lacks native selectors")}},xo=W=>W.nodeType!==Bt&&W.nodeType!==ut&&W.nodeType!==tt||W.childElementCount===0,No=(W,ce)=>{const it=ce===void 0?document:ce.dom;return xo(it)?[]:wo(it.querySelectorAll(W),je.fromDom)},ke=(W,ce)=>{const it=ce===void 0?document:ce.dom;return xo(it)?no.none():no.from(it.querySelector(W)).map(je.fromDom)},Ft=(W,ce)=>W.dom===ce.dom,Uo=co,Ue=W=>W.dom.nodeName.toLowerCase(),me=W=>W.dom.nodeType,xe=W=>ce=>me(ce)===W,Pe=W=>me(W)===R||Ue(W)==="#comment",Ie=xe(Bt),ye=xe(Vt),Ee=xe(ut),ot=xe(tt),_t=W=>je.fromDom(W.dom.ownerDocument),We=W=>Ee(W)?W:_t(W),dt=W=>no.from(W.dom.parentNode).map(je.fromDom),io=(W,ce)=>{const it=At(ce)?ce:bt;let mo=W.dom;const lo=[];for(;mo.parentNode!==null&&mo.parentNode!==void 0;){const $=mo.parentNode,te=je.fromDom($);if(lo.push(te),it(te)===!0)break;mo=$}return lo},Fo=W=>no.from(W.dom.previousSibling).map(je.fromDom),rt=W=>no.from(W.dom.nextSibling).map(je.fromDom),xt=W=>wo(W.dom.childNodes,je.fromDom),oo=(W,ce)=>{const it=W.dom.childNodes;return no.from(it[ce]).map(je.fromDom)},qo=W=>oo(W,0),Mn=W=>ot(W)&&go(W.dom.host),_n=W=>je.fromDom(W.dom.getRootNode()),Dt=W=>{const ce=_n(W);return Mn(ce)?no.some(ce):no.none()},Pt=W=>je.fromDom(W.dom.host),ft=(W,ce)=>{dt(W).each(mo=>{mo.dom.insertBefore(ce.dom,W.dom)})},bo=(W,ce)=>{rt(W).fold(()=>{dt(W).each(lo=>{On(lo,ce)})},mo=>{ft(mo,ce)})},Rn=(W,ce)=>{qo(W).fold(()=>{On(W,ce)},mo=>{W.dom.insertBefore(ce.dom,mo.dom)})},On=(W,ce)=>{W.dom.appendChild(ce.dom)},fo=(W,ce)=>{ft(W,ce),On(ce,W)},gr=(W,ce)=>{he(ce,(it,mo)=>{const lo=mo===0?W:ce[mo-1];bo(lo,it)})},Ur=(W,ce)=>{he(ce,it=>{On(W,it)})},Ha=(W,ce,it)=>{if(ro(it)||gn(it)||kn(it))W.setAttribute(ce,it+"");else throw console.error("Invalid call to Attribute.set. Key ",ce,":: Value ",it,":: Element ",W),new Error("Attribute value was not simple")},Cn=(W,ce,it)=>{Ha(W.dom,ce,it)},on=(W,ce)=>{const it=W.dom;sn(ce,(mo,lo)=>{Ha(it,lo,mo)})},ea=(W,ce)=>{const it=W.dom.getAttribute(ce);return it===null?void 0:it},Ya=(W,ce)=>no.from(ea(W,ce)),Tr=(W,ce)=>{W.dom.removeAttribute(ce)},Gn=W=>ae(W.dom.attributes,(ce,it)=>(ce[it.name]=it.value,ce),{}),Qn=W=>{const ce=W.dom;ce.parentNode!==null&&ce.parentNode.removeChild(ce)},ta=W=>{const ce=xt(W);ce.length>0&&gr(W,ce),Qn(W)},Ba=W=>W.style!==void 0&&At(W.style.getPropertyValue),Or=W=>{const ce=ye(W)?W.dom.parentNode:W.dom;if(ce==null||ce.ownerDocument===null)return!1;const it=ce.ownerDocument;return Dt(je.fromDom(ce)).fold(()=>it.body.contains(ce),tn(Or,Pt))},Va=(W,ce,it)=>{if(!ro(it))throw console.error("Invalid call to CSS.set. Property ",ce,":: Value ",it,":: Element ",W),new Error("CSS value must be a string: "+it);Ba(W)&&W.style.setProperty(ce,it)},gt=(W,ce)=>{Ba(W)&&W.style.removeProperty(ce)},se=(W,ce,it)=>{const mo=W.dom;Va(mo,ce,it)},Io=(W,ce)=>{const it=W.dom,lo=window.getComputedStyle(it).getPropertyValue(ce);return lo===""&&!Or(W)?Yo(it,ce):lo},Yo=(W,ce)=>Ba(W)?W.style.getPropertyValue(ce):"",Er=(W,ce)=>{const it=W.dom,mo=Yo(it,ce);return no.from(mo).filter(lo=>lo.length>0)},kr=(W,ce)=>{const it=W.dom;gt(it,ce),Nt(Ya(W,"style").map(zt),"")&&Tr(W,"style")},Dr=((W,ce)=>{const it=$=>{if(!W($))throw new Error("Can only get "+ce+" value of a "+ce+" node");return mo($).getOr("")},mo=$=>W($)?no.from($.dom.nodeValue):no.none();return{get:it,getOption:mo,set:($,te)=>{if(!W($))throw new Error("Can only set raw "+ce+" value of a "+ce+" node");$.dom.nodeValue=te}}})(ye,"text"),Fs=W=>Dr.get(W),De=(W,ce)=>Dr.set(W,ce);var Fe=(W,ce,it,mo,lo)=>W(it,mo)?no.some(it):At(lo)&&lo(it)?no.none():ce(it,mo,lo);const wt=(W,ce,it)=>{let mo=W.dom;const lo=At(it)?it:bt;for(;mo.parentNode;){mo=mo.parentNode;const $=je.fromDom(mo);if(ce($))return no.some($);if(lo($))break}return no.none()},Tt=(W,ce,it)=>wt(W,mo=>co(mo,ce),it),ko=(W,ce)=>ke(ce,W),Jo=(W,ce,it)=>Fe((lo,$)=>co(lo,$),Tt,W,ce,it),hn=(W,ce)=>{let it=[];return he(xt(W),mo=>{ce(mo)&&(it=it.concat([mo])),it=it.concat(hn(mo,ce))}),it},cr=(W,ce)=>No(ce,W);var ur=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ir=()=>{const W=vo=>je.fromDom(vo.dom.cloneNode(!1)),ce=vo=>We(vo).dom,it=vo=>Ie(vo)?Ue(vo)==="body"?!0:St(ur,Ue(vo)):!1,mo=vo=>Ie(vo)?St(["br","img","hr","input"],Ue(vo)):!1,lo=vo=>Ie(vo)&&ea(vo,"contenteditable")==="false",$=(vo,Kn)=>vo.dom.compareDocumentPosition(Kn.dom),te=(vo,Kn)=>{const Wn=Gn(vo);on(Kn,Wn)},ze=vo=>{const Kn=Ue(vo);return St(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Kn)},ve=vo=>Ie(vo)?Ya(vo,"lang"):no.none();return{up:Gt({selector:Tt,closest:Jo,predicate:wt,all:io}),down:Gt({selector:cr,predicate:hn}),styles:Gt({get:Io,getRaw:Er,set:se,remove:kr}),attrs:Gt({get:ea,set:Cn,remove:Tr,copyTo:te}),insert:Gt({before:ft,after:bo,afterAll:gr,append:On,appendAll:Ur,prepend:Rn,wrap:fo}),remove:Gt({unwrap:ta,remove:Qn}),create:Gt({nu:je.fromTag,clone:W,text:je.fromText}),query:Gt({comparePosition:$,prevSibling:Fo,nextSibling:rt}),property:Gt({children:xt,name:Ue,parent:dt,document:ce,isText:ye,isComment:Pe,isElement:Ie,isSpecial:ze,getLanguage:ve,getText:Fs,setText:De,isBoundary:it,isEmptyTag:mo,isNonEditable:lo}),eq:Ft,is:Uo}};const Le=(W,ce,it)=>W.property().isText(ce)&&W.property().getText(ce).trim().length===0||W.property().isComment(ce)?it(ce).bind(mo=>Le(W,mo,it).orThunk(()=>no.some(mo))):no.none(),Be=(W,ce)=>W.property().isText(ce)?W.property().getText(ce).length:W.property().children(ce).length,Kt=(W,ce)=>{const it=Le(W,ce,W.query().prevSibling).getOr(ce);if(W.property().isText(it))return Ot(it,Be(W,it));const mo=W.property().children(it);return mo.length>0?Kt(W,mo[mo.length-1]):Ot(it,Be(W,it))},Po=Kt,Do=ir(),vn=W=>Po(Do,W),xn=(W,ce,it)=>W.dispatch("ToggledAccordion",{element:ce,state:it}),nn=(W,ce,it)=>W.dispatch("ToggledAllAccordions",{elements:ce,state:it}),zn="details",eo="mce-accordion",Pr="mce-accordion-summary",fa="mce-accordion-body",qs="div";var cs=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ci=W=>(W==null?void 0:W.nodeName)==="SUMMARY",Kr=W=>(W==null?void 0:W.nodeName)==="DETAILS",Yr=W=>W.hasAttribute("open"),Br=W=>{const ce=W.selection.getNode();return Ci(ce)||!!W.dom.getParent(ce,Ci)},Ls=W=>{const ce=W.selection.getRng();return Kr(ce.startContainer)&&ce.collapsed&&ce.startOffset===0},cl=W=>!Br(W)&&W.dom.isEditable(W.selection.getNode())&&!W.mode.isReadOnly(),zr=W=>no.from(W.dom.getParent(W.selection.getNode(),Kr)),oi=W=>zr(W).isSome(),Jl=W=>(W.innerHTML='<br data-mce-bogus="1" />',W),Ni=W=>Jl(W.dom.create("p")),Ws=W=>Jl(W.dom.create("summary")),Di=(W,ce)=>{const it=Ni(W);ce.insertAdjacentElement("afterend",it),W.selection.setCursorLocation(it,0)},Bl=(W,ce)=>{if(Ci(ce==null?void 0:ce.lastChild)){const it=Ni(W);ce.appendChild(it),W.selection.setCursorLocation(it,0)}},Os=(W,ce)=>{if(!Ci(ce==null?void 0:ce.firstChild)){const it=Ws(W);ce.prepend(it),W.selection.setCursorLocation(it,0)}},ni=W=>ce=>{Bl(W,ce),Os(W,ce)},Fl=W=>{cs.each(cs.grep(W.dom.select("details",W.getBody())),ni(W))},Is=W=>{if(!cl(W))return;const ce=je.fromDom(W.getBody()),it=Vo("acc"),mo=W.dom.encode(W.selection.getRng().toString()||W.translate("Accordion summary...")),lo=W.dom.encode(W.translate("Accordion body...")),$=`<summary class="${Pr}">${mo}</summary>`,te=`<${qs} class="${fa}"><p>${lo}</p></${qs}>`;W.undoManager.transact(()=>{W.insertContent([`<details data-mce-id="${it}" class="${eo}" open="open">`,$,te,"</details>"].join("")),ko(ce,`[data-mce-id="${it}"]`).each(ze=>{Tr(ze,"data-mce-id"),ko(ze,"summary").each(ve=>{const vo=W.dom.createRng(),Kn=vn(ve);vo.setStart(Kn.element.dom,Kn.offset),vo.setEnd(Kn.element.dom,Kn.offset),W.selection.setRng(vo)})})})},wa=(W,ce)=>{const it=ce??!Yr(W);return it?W.setAttribute("open","open"):W.removeAttribute("open"),it},wl=(W,ce)=>{zr(W).each(it=>{xn(W,it,wa(it,ce))})},Ki=W=>{W.mode.isReadOnly()||zr(W).each(ce=>{const{nextSibling:it}=ce;it?(W.selection.select(it,!0),W.selection.collapse(!0)):Di(W,ce),ce.remove()})},Yi=(W,ce)=>{const it=Array.from(W.getBody().querySelectorAll("details"));it.length!==0&&(he(it,mo=>wa(mo,ce??!Yr(mo))),nn(W,it,ce))},Ql=W=>{W.addCommand("InsertAccordion",()=>Is(W)),W.addCommand("ToggleAccordion",(ce,it)=>wl(W,it)),W.addCommand("ToggleAllAccordions",(ce,it)=>Yi(W,it)),W.addCommand("RemoveAccordion",()=>Ki(W))};var Xa=tinymce.util.Tools.resolve("tinymce.html.Node");const ri=W=>{var ce,it;return(it=(ce=W.attr("class"))===null||ce===void 0?void 0:ce.split(" "))!==null&&it!==void 0?it:[]},ec=(W,ce)=>{const it=new Set([...ri(W),...ce]),mo=Array.from(it);mo.length>0&&W.attr("class",mo.join(" "))},Ll=(W,ce)=>{const it=Xe(ri(W),mo=>!ce.has(mo));W.attr("class",it.length>0?it.join(" "):null)},Ps=W=>W.name===zn&&St(ri(W),eo),pc=W=>W.name===qs&&St(ri(W),fa),Si=W=>{const ce=W.children();let it,mo;const lo=[];for(let $=0;$<ce.length;$++){const te=ce[$];te.name==="summary"&&$o(it)?it=te:pc(te)&&$o(mo)?mo=te:lo.push(te)}return{summaryNode:it,wrapperNode:mo,otherNodes:lo}},Mi=W=>{const ce=new Xa("br",1);ce.attr("data-mce-bogus","1"),W.empty(),W.append(ce)},fc=W=>{W.on("PreInit",()=>{const{serializer:ce,parser:it}=W;it.addNodeFilter(zn,mo=>{for(let lo=0;lo<mo.length;lo++){const $=mo[lo];if(Ps($)){const te=$,{summaryNode:ze,wrapperNode:ve,otherNodes:vo}=Si(te),Kn=go(ze),Wn=Kn?ze:new Xa("summary",1);$o(Wn.firstChild)&&Mi(Wn),ec(Wn,[Pr]),Kn||(go(te.firstChild)?te.insert(Wn,te.firstChild,!0):te.append(Wn));const ka=go(ve),Se=ka?ve:new Xa(qs,1);if(Se.attr("data-mce-bogus","1"),ec(Se,[fa]),vo.length>0)for(let Oa=0;Oa<vo.length;Oa++){const vs=vo[Oa];Se.append(vs)}if($o(Se.firstChild)){const Oa=new Xa("p",1);Mi(Oa),Se.append(Oa)}ka||te.append(Se)}}}),ce.addNodeFilter(zn,mo=>{const lo=new Set([Pr]);for(let $=0;$<mo.length;$++){const te=mo[$];if(Ps(te)){const ze=te,{summaryNode:ve,wrapperNode:vo}=Si(ze);go(ve)&&Ll(ve,lo),go(vo)&&vo.unwrap()}}})})};var Kc=tinymce.util.Tools.resolve("tinymce.util.VK");const hc=W=>{W.on("keydown",ce=>{(!ce.shiftKey&&ce.keyCode===Kc.ENTER&&Br(W)||Ls(W))&&(ce.preventDefault(),W.execCommand("ToggleAccordion"))})},kl=W=>{hc(W),W.on("ExecCommand",ce=>{const it=ce.command.toLowerCase();(it==="delete"||it==="forwarddelete")&&oi(W)&&Fl(W)})};var Ja=tinymce.util.Tools.resolve("tinymce.Env");const oe=W=>{Ja.browser.isSafari()&&W.on("click",ce=>{if(Ci(ce.target)){const it=ce.target,mo=W.selection.getRng();mo.collapsed&&mo.startContainer===it.parentNode&&mo.startOffset===0&&W.selection.setCursorLocation(it,0)}})},_e=W=>ce=>{const it=()=>ce.setEnabled(cl(W));return W.on("NodeChange",it),()=>W.off("NodeChange",it)},st=W=>{const ce=()=>W.execCommand("InsertAccordion");W.ui.registry.addButton("accordion",{icon:"accordion",tooltip:"Insert accordion",onSetup:_e(W),onAction:ce}),W.ui.registry.addMenuItem("accordion",{icon:"accordion",text:"Accordion",onSetup:_e(W),onAction:ce}),W.ui.registry.addToggleButton("accordiontoggle",{icon:"accordion-toggle",tooltip:"Toggle accordion",onAction:()=>W.execCommand("ToggleAccordion")}),W.ui.registry.addToggleButton("accordionremove",{icon:"remove",tooltip:"Delete accordion",onAction:()=>W.execCommand("RemoveAccordion")}),W.ui.registry.addContextToolbar("accordion",{predicate:it=>W.dom.is(it,"details")&&W.getBody().contains(it)&&W.dom.isEditable(it.parentNode),items:"accordiontoggle accordionremove",scope:"node",position:"node"})};var Yt=()=>{Oo.add("accordion",W=>{st(W),Ql(W),kl(W),fc(W),oe(W)})};Yt()}()),W7}var K7;function iB(){return K7||(K7=1,sB()),q7}iB();var Y7={},X7={},J7;function lB(){return J7||(J7=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(je,R,ut)=>{const tt=R==="UL"?"InsertUnorderedList":"InsertOrderedList";je.execCommand(tt,!1,ut===!1?null:{"list-style-type":ut})},Ko=je=>{je.addCommand("ApplyUnorderedListStyle",(R,ut)=>{an(je,"UL",ut["list-style-type"])}),je.addCommand("ApplyOrderedListStyle",(R,ut)=>{an(je,"OL",ut["list-style-type"])})},cn=je=>R=>R.options.get(je),en=je=>{const R=je.options.register;R("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),R("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},ro=cn("advlist_number_styles"),gn=cn("advlist_bullet_styles"),$o=je=>je==null,go=je=>!$o(je);class At{constructor(R,ut){this.tag=R,this.value=ut}static some(R){return new At(!0,R)}static none(){return At.singletonNone}fold(R,ut){return this.tag?ut(this.value):R()}isSome(){return this.tag}isNone(){return!this.tag}map(R){return this.tag?At.some(R(this.value)):At.none()}bind(R){return this.tag?R(this.value):At.none()}exists(R){return this.tag&&R(this.value)}forall(R){return!this.tag||R(this.value)}filter(R){return!this.tag||R(this.value)?this:At.none()}getOr(R){return this.tag?this.value:R}or(R){return this.tag?this:R}getOrThunk(R){return this.tag?this.value:R()}orThunk(R){return this.tag?this:R()}getOrDie(R){if(this.tag)return this.value;throw new Error(R??"Called getOrDie on None")}static from(R){return go(R)?At.some(R):At.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(R){this.tag&&R(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}At.singletonNone=new At(!1);const kn=Array.prototype.indexOf,tn=(je,R)=>kn.call(je,R),Gt=(je,R)=>tn(je,R)>-1,Je=(je,R,ut)=>{for(let tt=0,Bt=je.length;tt<Bt;tt++){const Vt=je[tt];if(R(Vt,tt))return At.some(Vt);if(ut(Vt,tt))break}return At.none()},bt=Object.keys,no=(je,R)=>{const ut=bt(je);for(let tt=0,Bt=ut.length;tt<Bt;tt++){const Vt=ut[tt],co=je[Vt];R(co,Vt)}},ao=(je,R)=>Te(je,(ut,tt)=>({k:tt,v:R(ut,tt)})),Te=(je,R)=>{const ut={};return no(je,(tt,Bt)=>{const Vt=R(tt,Bt);ut[Vt.k]=Vt.v}),ut};var St=tinymce.util.Tools.resolve("tinymce.util.Tools");const wo=je=>/\btox\-/.test(je.className),he=(je,R)=>je.dom.isChildOf(R,je.getBody()),Xe=je=>R=>go(R)&&je.test(R.nodeName),ae=Xe(/^(OL|UL|DL)$/),pt=Xe(/^(TH|TD)$/),sn=(je,R,ut)=>Je(R,tt=>ae(tt)&&!wo(tt),pt).exists(tt=>tt.nodeName===ut&&he(je,tt)),Ro=je=>{const R=je.dom.getParent(je.selection.getNode(),"ol,ul"),ut=je.dom.getStyle(R,"listStyleType");return At.from(ut)},pn=(je,R)=>R!==null&&!je.dom.isEditable(R),Vo=(je,R)=>{const ut=je.dom.getParent(R,"ol,ul,dl");return pn(je,ut)||!je.selection.isEditable()},Nt=(je,R)=>{const ut=je.selection.getNode();return R({parents:je.dom.getParents(ut),element:ut}),je.on("NodeChange",R),()=>je.off("NodeChange",R)},D=je=>je.replace(/\-/g," ").replace(/\b\w/g,R=>R.toUpperCase()),zt=je=>$o(je)||je==="default"?"":je,Ot=(je,R)=>ut=>{const tt=(Vt,co)=>{const xo=Vt.selection.getStart(!0);ut.setActive(sn(Vt,co,R)),ut.setEnabled(!Vo(Vt,xo))};return Nt(je,Vt=>tt(je,Vt.parents))},Lt=(je,R,ut,tt,Bt,Vt)=>{const co={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},xo=ao(co,No=>Gt(Vt,No));je.ui.registry.addSplitButton(R,{tooltip:ut,icon:Bt==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:Bt==="OL"?3:4,fetch:No=>{const ke=St.map(Vt,Ft=>{const Uo=Bt==="OL"?"num":"bull",Ue=Ft==="decimal"?"default":Ft,me=zt(Ft),xe=D(Ft);return{type:"choiceitem",value:me,icon:"list-"+Uo+"-"+Ue,text:xe}});No(ke)},onAction:()=>je.execCommand(tt),onItemAction:(No,ke)=>{an(je,Bt,ke)},select:No=>Ro(je).exists(Ft=>No===Ft||co[Ft]===No&&!xo[No]),onSetup:Ot(je,Bt)})},po=(je,R,ut,tt,Bt,Vt)=>{je.ui.registry.addToggleButton(R,{active:!1,tooltip:ut,icon:Bt==="OL"?"ordered-list":"unordered-list",onSetup:Ot(je,Bt),onAction:()=>je.queryCommandState(tt)||Vt===""?je.execCommand(tt):an(je,Bt,Vt)})},vt=(je,R,ut,tt,Bt,Vt)=>{Vt.length>1?Lt(je,R,ut,tt,Bt,Vt):po(je,R,ut,tt,Bt,zt(Vt[0]))},so=je=>{vt(je,"numlist","Numbered list","InsertOrderedList","OL",ro(je)),vt(je,"bullist","Bullet list","InsertUnorderedList","UL",gn(je))};var Bo=()=>{Oo.add("advlist",je=>{je.hasPlugin("lists")?(en(je),so(je),Ko(je)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};Bo()}()),X7}var Q7;function cB(){return Q7||(Q7=1,lB()),Y7}cB();var eN={},tN={},oN;function dB(){return oN||(oN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager"),an=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ko=tinymce.util.Tools.resolve("tinymce.util.Tools");const cn=zt=>Ot=>Ot.options.get(zt),en=zt=>{const Ot=zt.options.register;Ot("allow_html_in_named_anchor",{processor:"boolean",default:!1})},ro=cn("allow_html_in_named_anchor"),gn="a:not([href])",$o=zt=>!zt,go=zt=>zt.getAttribute("id")||zt.getAttribute("name")||"",At=zt=>zt.nodeName.toLowerCase()==="a",kn=zt=>At(zt)&&!zt.getAttribute("href")&&go(zt)!=="",tn=zt=>kn(zt)&&!zt.firstChild,Gt=zt=>{const Ot=zt.dom;an(Ot).walk(zt.selection.getRng(),Lt=>{Ko.each(Lt,po=>{tn(po)&&Ot.remove(po,!1)})})},Je=zt=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(zt),bt=zt=>zt.dom.getParent(zt.selection.getStart(),gn),no=zt=>{const Ot=bt(zt);return Ot?go(Ot):""},ao=(zt,Ot)=>{zt.undoManager.transact(()=>{ro(zt)||zt.selection.collapse(!0),zt.selection.isCollapsed()?zt.insertContent(zt.dom.createHTML("a",{id:Ot})):(Gt(zt),zt.formatter.remove("namedAnchor",void 0,void 0,!0),zt.formatter.apply("namedAnchor",{value:Ot}),zt.addVisual())})},Te=(zt,Ot,Lt)=>{Lt.removeAttribute("name"),Lt.id=Ot,zt.addVisual(),zt.undoManager.add()},St=(zt,Ot)=>{const Lt=bt(zt);Lt?Te(zt,Ot,Lt):ao(zt,Ot),zt.focus()},wo=(zt,Ot)=>Je(Ot)?(St(zt,Ot),!0):(zt.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),he=zt=>{const Ot=no(zt);zt.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Ot},onSubmit:Lt=>{wo(zt,Lt.getData().id)&&Lt.close()}})},Xe=zt=>{zt.addCommand("mceAnchor",()=>{he(zt)})},ae=zt=>$o(zt.attr("href"))&&!$o(zt.attr("id")||zt.attr("name")),pt=zt=>ae(zt)&&!zt.firstChild,sn=zt=>Ot=>{for(let Lt=0;Lt<Ot.length;Lt++){const po=Ot[Lt];pt(po)&&po.attr("contenteditable",zt)}},Ro=zt=>{zt.on("PreInit",()=>{zt.parser.addNodeFilter("a",sn("false")),zt.serializer.addNodeFilter("a",sn(null))})},pn=zt=>{zt.formatter.register("namedAnchor",{inline:"a",selector:gn,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Ot,Lt,po)=>kn(Ot)})},Vo=zt=>Ot=>{const Lt=()=>{Ot.setEnabled(zt.selection.isEditable())};return zt.on("NodeChange",Lt),Lt(),()=>{zt.off("NodeChange",Lt)}},Nt=zt=>{const Ot=()=>zt.execCommand("mceAnchor");zt.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Ot,onSetup:Lt=>{const po=zt.selection.selectorChangedWithUnbind("a:not([href])",Lt.setActive).unbind,vt=Vo(zt)(Lt);return()=>{po(),vt()}}}),zt.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Ot,onSetup:Vo(zt)})};var D=()=>{Oo.add("anchor",zt=>{en(zt),Ro(zt),Xe(zt),Nt(zt),zt.on("PreInit",()=>{pn(zt)})})};D()}()),tN}var nN;function uB(){return nN||(nN=1,dB()),eN}uB();var rN={},aN={},sN;function mB(){return sN||(sN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(tt,Bt,Vt)=>{var co;return Vt(tt,Bt.prototype)?!0:((co=tt.constructor)===null||co===void 0?void 0:co.name)===Bt.name},Ko=tt=>{const Bt=typeof tt;return tt===null?"null":Bt==="object"&&Array.isArray(tt)?"array":Bt==="object"&&an(tt,String,(Vt,co)=>co.isPrototypeOf(Vt))?"string":Bt},cn=tt=>Bt=>Ko(Bt)===tt,en=tt=>Bt=>tt===Bt,ro=cn("string"),gn=en(void 0),$o=tt=>tt==null,go=tt=>!$o(tt),At=tt=>Bt=>!tt(Bt),kn=Object.hasOwnProperty,tn=(tt,Bt)=>kn.call(tt,Bt),Gt=(tt,Bt,Vt)=>tt.length>=Bt.length&&tt.substr(Vt,Vt+Bt.length)===Bt,Je=(tt,Bt,Vt=0,co)=>{const xo=tt.indexOf(Bt,Vt);return xo!==-1?gn(co)?!0:xo+Bt.length<=co:!1},bt=(tt,Bt)=>Gt(tt,Bt,0),no="\uFEFF",ao=tt=>tt===no,Te=tt=>tt.replace(/\uFEFF/g,""),St=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,wo=tt=>Bt=>Bt.options.get(tt),he=tt=>{const Bt=tt.options.register;Bt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+St().source+"$","i")}),Bt("link_default_target",{processor:"string"}),Bt("link_default_protocol",{processor:"string",default:"https"})},Xe=wo("autolink_pattern"),ae=wo("link_default_target"),pt=wo("link_default_protocol"),sn=wo("allow_unsafe_link_target");var Ro=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const pn=tt=>tt.nodeType===3,Vo=tt=>tt.nodeType===1,Nt=tt=>/^[(\[{ \u00a0]$/.test(tt),D=tt=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(tt),zt=tt=>/[?!,.;:]/.test(tt),Ot=(tt,Bt,Vt)=>{for(let co=Bt-1;co>=0;co--){const xo=tt.charAt(co);if(!ao(xo)&&Vt(xo))return co}return-1},Lt=(tt,Bt)=>{let Vt=tt,co=Bt;for(;Vo(Vt)&&Vt.childNodes[co];)Vt=Vt.childNodes[co],co=pn(Vt)?Vt.data.length:Vt.childNodes.length;return{container:Vt,offset:co}},po=(tt,Bt)=>{var Vt;const co=tt.schema.getVoidElements(),xo=Xe(tt),{dom:No,selection:ke}=tt;if(No.getParent(ke.getNode(),"a[href]")!==null||tt.mode.isReadOnly())return null;const Ft=ke.getRng(),Uo=Ro(No,We=>No.isBlock(We)||tn(co,We.nodeName.toLowerCase())||No.getContentEditable(We)==="false"||No.getParent(We,"a[href]")!==null),{container:Ue,offset:me}=Lt(Ft.endContainer,Ft.endOffset),xe=(Vt=No.getParent(Ue,No.isBlock))!==null&&Vt!==void 0?Vt:No.getRoot(),Pe=Uo.backwards(Ue,me+Bt,(We,dt)=>{const io=We.data,Fo=Ot(io,dt,At(Nt));return Fo===-1||zt(io[Fo])?Fo:Fo+1},xe);if(!Pe)return null;let Ie=Pe.container;const ye=Uo.backwards(Pe.container,Pe.offset,(We,dt)=>{Ie=We;const io=Ot(We.data,dt,Nt);return io===-1?io:io+1},xe),Ee=No.createRng();ye?Ee.setStart(ye.container,ye.offset):Ee.setStart(Ie,0),Ee.setEnd(Pe.container,Pe.offset);const _t=Te(Ee.toString()).match(xo);if(_t){let We=_t[0];return bt(We,"www.")?We=pt(tt)+"://"+We:Je(We,"@")&&!D(We)&&(We="mailto:"+We),{rng:Ee,url:We}}else return null},vt=(tt,Bt)=>{const{dom:Vt,selection:co}=tt,{rng:xo,url:No}=Bt,ke=co.getBookmark();co.setRng(xo);const Ft="createlink",Uo={command:Ft,ui:!1,value:No};if(!tt.dispatch("BeforeExecCommand",Uo).isDefaultPrevented()){tt.getDoc().execCommand(Ft,!1,No),tt.dispatch("ExecCommand",Uo);const me=ae(tt);if(ro(me)){const xe=co.getNode();Vt.setAttrib(xe,"target",me),me==="_blank"&&!sn(tt)&&Vt.setAttrib(xe,"rel","noopener")}}co.moveToBookmark(ke),tt.nodeChanged()},so=tt=>{const Bt=po(tt,-1);go(Bt)&&vt(tt,Bt)},Bo=so,je=tt=>{const Bt=po(tt,0);go(Bt)&&vt(tt,Bt)},R=tt=>{tt.on("keydown",Bt=>{Bt.keyCode===13&&!Bt.isDefaultPrevented()&&je(tt)}),tt.on("keyup",Bt=>{Bt.keyCode===32?so(tt):(Bt.keyCode===48&&Bt.shiftKey||Bt.keyCode===221)&&Bo(tt)})};var ut=()=>{Oo.add("autolink",tt=>{he(tt),R(tt)})};ut()}()),aN}var iN;function gB(){return iN||(iN=1,mB()),rN}gB();var lN={},cN={},dN;function pB(){return dN||(dN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(vt,so,Bo)=>{var je;return Bo(vt,so.prototype)?!0:((je=vt.constructor)===null||je===void 0?void 0:je.name)===so.name},Ko=vt=>{const so=typeof vt;return vt===null?"null":so==="object"&&Array.isArray(vt)?"array":so==="object"&&an(vt,String,(Bo,je)=>je.isPrototypeOf(Bo))?"string":so},cn=vt=>so=>Ko(so)===vt,en=vt=>so=>vt===so,ro=cn("string"),gn=en(void 0);var $o=tinymce.util.Tools.resolve("tinymce.util.Delay"),go=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),At=tinymce.util.Tools.resolve("tinymce.util.Tools");const kn=vt=>vt.dispatch("RestoreDraft"),tn=vt=>vt.dispatch("StoreDraft"),Gt=vt=>vt.dispatch("RemoveDraft"),Je=vt=>{const so={s:1e3,m:6e4},Bo=/^(\d+)([ms]?)$/.exec(vt);return(Bo&&Bo[2]?so[Bo[2]]:1)*parseInt(vt,10)},bt=vt=>so=>so.options.get(vt),no=vt=>{const so=vt.options.register,Bo=je=>{const R=ro(je);return R?{value:Je(je),valid:R}:{valid:!1,message:"Must be a string."}};so("autosave_ask_before_unload",{processor:"boolean",default:!0}),so("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),so("autosave_restore_when_empty",{processor:"boolean",default:!1}),so("autosave_interval",{processor:Bo,default:"30s"}),so("autosave_retention",{processor:Bo,default:"20m"})},ao=bt("autosave_ask_before_unload"),Te=bt("autosave_restore_when_empty"),St=bt("autosave_interval"),wo=bt("autosave_retention"),he=vt=>{const so=document.location;return vt.options.get("autosave_prefix").replace(/{path}/g,so.pathname).replace(/{query}/g,so.search).replace(/{hash}/g,so.hash).replace(/{id}/g,vt.id)},Xe=(vt,so)=>{if(gn(so))return vt.dom.isEmpty(vt.getBody());{const Bo=At.trim(so);if(Bo==="")return!0;{const je=new DOMParser().parseFromString(Bo,"text/html");return vt.dom.isEmpty(je)}}},ae=vt=>{var so;const Bo=parseInt((so=go.getItem(he(vt)+"time"))!==null&&so!==void 0?so:"0",10)||0;return new Date().getTime()-Bo>wo(vt)?(pt(vt,!1),!1):!0},pt=(vt,so)=>{const Bo=he(vt);go.removeItem(Bo+"draft"),go.removeItem(Bo+"time"),so!==!1&&Gt(vt)},sn=vt=>{const so=he(vt);!Xe(vt)&&vt.isDirty()&&(go.setItem(so+"draft",vt.getContent({format:"raw",no_events:!0})),go.setItem(so+"time",new Date().getTime().toString()),tn(vt))},Ro=vt=>{var so;const Bo=he(vt);ae(vt)&&(vt.setContent((so=go.getItem(Bo+"draft"))!==null&&so!==void 0?so:"",{format:"raw"}),kn(vt))},pn=vt=>{const so=St(vt);$o.setEditorInterval(vt,()=>{sn(vt)},so)},Vo=vt=>{vt.undoManager.transact(()=>{Ro(vt),pt(vt)}),vt.focus()},Nt=vt=>({hasDraft:()=>ae(vt),storeDraft:()=>sn(vt),restoreDraft:()=>Ro(vt),removeDraft:so=>pt(vt,so),isEmpty:so=>Xe(vt,so)});var D=tinymce.util.Tools.resolve("tinymce.EditorManager");const zt=vt=>{vt.editorManager.on("BeforeUnload",so=>{let Bo;At.each(D.get(),je=>{je.plugins.autosave&&je.plugins.autosave.storeDraft(),!Bo&&je.isDirty()&&ao(je)&&(Bo=je.translate("You have unsaved changes are you sure you want to navigate away?"))}),Bo&&(so.preventDefault(),so.returnValue=Bo)})},Ot=vt=>so=>{const Bo=()=>ae(vt)&&!vt.mode.isReadOnly();so.setEnabled(Bo());const je=()=>so.setEnabled(Bo());return vt.on("StoreDraft RestoreDraft RemoveDraft",je),()=>vt.off("StoreDraft RestoreDraft RemoveDraft",je)},Lt=vt=>{pn(vt);const so=()=>{Vo(vt)};vt.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:so,onSetup:Ot(vt)}),vt.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:so,onSetup:Ot(vt)})};var po=()=>{Oo.add("autosave",vt=>(no(vt),zt(vt),Lt(vt),vt.on("init",()=>{Te(vt)&&vt.dom.isEmpty(vt.getBody())&&Ro(vt)}),Nt(vt)))};po()}()),cN}var uN;function fB(){return uN||(uN=1,pB()),lN}fB();var mN={},gN={},pN;function hB(){return pN||(pN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(me,xe)=>me.dispatch("insertCustomChar",{chr:xe}),Ko=(me,xe)=>{const Pe=an(me,xe).chr;me.execCommand("mceInsertContent",!1,Pe)},cn=(me,xe,Pe)=>{var Ie;return Pe(me,xe.prototype)?!0:((Ie=me.constructor)===null||Ie===void 0?void 0:Ie.name)===xe.name},en=me=>{const xe=typeof me;return me===null?"null":xe==="object"&&Array.isArray(me)?"array":xe==="object"&&cn(me,String,(Pe,Ie)=>Ie.isPrototypeOf(Pe))?"string":xe},ro=me=>xe=>en(xe)===me,gn=me=>xe=>typeof xe===me,$o=me=>xe=>me===xe,go=ro("array"),At=$o(null),kn=$o(void 0),tn=me=>me==null,Gt=me=>!tn(me),Je=gn("function"),no=(me=>()=>me)(!1);class ao{constructor(xe,Pe){this.tag=xe,this.value=Pe}static some(xe){return new ao(!0,xe)}static none(){return ao.singletonNone}fold(xe,Pe){return this.tag?Pe(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?ao.some(xe(this.value)):ao.none()}bind(xe){return this.tag?xe(this.value):ao.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:ao.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return Gt(xe)?ao.some(xe):ao.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ao.singletonNone=new ao(!1);const Te=Array.prototype.push,St=(me,xe)=>{const Pe=me.length,Ie=new Array(Pe);for(let ye=0;ye<Pe;ye++){const Ee=me[ye];Ie[ye]=xe(Ee,ye)}return Ie},wo=(me,xe)=>{for(let Pe=0,Ie=me.length;Pe<Ie;Pe++){const ye=me[Pe];xe(ye,Pe)}},he=(me,xe,Pe)=>{for(let Ie=0,ye=me.length;Ie<ye;Ie++){const Ee=me[Ie];if(xe(Ee,Ie))return ao.some(Ee);if(Pe(Ee,Ie))break}return ao.none()},Xe=(me,xe)=>he(me,xe,no),ae=me=>{const xe=[];for(let Pe=0,Ie=me.length;Pe<Ie;++Pe){if(!go(me[Pe]))throw new Error("Arr.flatten item "+Pe+" was not an array, input: "+me);Te.apply(xe,me[Pe])}return xe},pt=(me,xe)=>ae(St(me,xe)),sn=me=>{let xe=me;return{get:()=>xe,set:ye=>{xe=ye}}},Ro=(me,xe,Pe=0,Ie)=>{const ye=me.indexOf(xe,Pe);return ye!==-1?kn(Ie)?!0:ye+xe.length<=Ie:!1},pn=String.fromCodePoint,Vo=(me,xe)=>{let Pe=null;const Ie=()=>{At(Pe)||(clearTimeout(Pe),Pe=null)};return{cancel:Ie,throttle:(...Ee)=>{Ie(),Pe=setTimeout(()=>{Pe=null,me.apply(null,Ee)},xe)}}};var Nt=tinymce.util.Tools.resolve("tinymce.util.Tools");const D=me=>xe=>xe.options.get(me),zt=me=>{const xe=me.options.register,Pe=Ie=>Je(Ie)||go(Ie);xe("charmap",{processor:Pe}),xe("charmap_append",{processor:Pe})},Ot=D("charmap"),Lt=D("charmap_append"),po=Nt.isArray,vt="User Defined",so=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],Bo=me=>Nt.grep(me,xe=>po(xe)&&xe.length===2),je=me=>po(me)?Bo(me):typeof me=="function"?me():[],R=(me,xe)=>{const Pe=Ot(me);Pe&&(xe=[{name:vt,characters:je(Pe)}]);const Ie=Lt(me);if(Ie){const ye=Nt.grep(xe,Ee=>Ee.name===vt);return ye.length?(ye[0].characters=[...ye[0].characters,...je(Ie)],xe):xe.concat({name:vt,characters:je(Ie)})}return xe},ut=me=>{const xe=R(me,so());return xe.length>1?[{name:"All",characters:pt(xe,Pe=>Pe.characters)}].concat(xe):xe},tt=me=>({getCharMap:()=>ut(me),insertChar:Ie=>{Ko(me,Ie)}}),Bt=(me,xe,Pe)=>Ro(pn(me).toLowerCase(),Pe)?!0:Ro(xe.toLowerCase(),Pe)||Ro(xe.toLowerCase().replace(/\s+/g,""),Pe),Vt=(me,xe)=>{const Pe=[],Ie=xe.toLowerCase();return wo(me.characters,ye=>{Bt(ye[0],ye[1],Ie)&&Pe.push(ye)}),St(Pe,ye=>({text:ye[1],value:pn(ye[0]),icon:pn(ye[0])}))},co="pattern",xo=(me,xe)=>{const Pe=()=>[{label:"Search",type:"input",name:co},{type:"collection",name:"results"}],Ie=()=>St(xe,oo=>({title:oo.name,name:oo.name,items:Pe()})),ye=()=>({type:"panel",items:Pe()}),Ee=()=>({type:"tabpanel",tabs:Ie()}),ot=xe.length===1?sn(vt):sn("All"),_t=(oo,qo)=>{Xe(xe,Mn=>Mn.name===ot.get()).each(Mn=>{const _n=Vt(Mn,qo);oo.setData({results:_n})})},dt=Vo(oo=>{const qo=oo.getData().pattern;_t(oo,qo)},40),io=xe.length===1?ye():Ee(),Fo={pattern:"",results:Vt(xe[0],"")},rt={title:"Special Character",size:"normal",body:io,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Fo,onAction:(oo,qo)=>{qo.name==="results"&&(Ko(me,qo.value),oo.close())},onTabChange:(oo,qo)=>{ot.set(qo.newTabName),dt.throttle(oo)},onChange:(oo,qo)=>{qo.name===co&&dt.throttle(oo)}};me.windowManager.open(rt).focus(co)},No=(me,xe)=>{me.addCommand("mceShowCharmap",()=>{xo(me,xe)})},ke=(me,xe)=>{me.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Pe,Ie)=>new Promise((ye,Ee)=>{ye(Vt(xe,Pe))}),onAction:(Pe,Ie,ye)=>{me.selection.setRng(Ie),me.insertContent(ye),Pe.hide()}})},Ft=me=>xe=>{const Pe=()=>{xe.setEnabled(me.selection.isEditable())};return me.on("NodeChange",Pe),Pe(),()=>{me.off("NodeChange",Pe)}},Uo=me=>{const xe=()=>me.execCommand("mceShowCharmap");me.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:xe,onSetup:Ft(me)}),me.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:xe,onSetup:Ft(me)})};var Ue=()=>{Oo.add("charmap",me=>{zt(me);const xe=ut(me);return No(me,xe),Uo(me),ke(me,xe[0]),tt(me)})};Ue()}()),gN}var fN;function bB(){return fN||(fN=1,hB()),mN}bB();var hN={},bN={},yN;function yB(){return yN||(yN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=($o,go)=>{$o.focus(),$o.undoManager.transact(()=>{$o.setContent(go)}),$o.selection.setCursorLocation(),$o.nodeChanged()},Ko=$o=>$o.getContent({source_view:!0}),cn=$o=>{const go=Ko($o);$o.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:go},onSubmit:At=>{an($o,At.getData().code),At.close()}})},en=$o=>{$o.addCommand("mceCodeEditor",()=>{cn($o)})},ro=$o=>{const go=()=>$o.execCommand("mceCodeEditor");$o.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:go}),$o.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:go})};var gn=()=>{Oo.add("code",$o=>(en($o),ro($o),{}))};gn()}()),bN}var vN;function vB(){return vN||(vN=1,yB()),hN}vB();var xN={},wN={},kN;function xB(){return kN||(kN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=ye=>Ee=>ye===Ee,Ko=an(null),cn=an(void 0),en=ye=>ye==null,ro=ye=>!en(ye),gn=()=>{},go=(ye=>()=>ye)(!1);class At{constructor(Ee,ot){this.tag=Ee,this.value=ot}static some(Ee){return new At(!0,Ee)}static none(){return At.singletonNone}fold(Ee,ot){return this.tag?ot(this.value):Ee()}isSome(){return this.tag}isNone(){return!this.tag}map(Ee){return this.tag?At.some(Ee(this.value)):At.none()}bind(Ee){return this.tag?Ee(this.value):At.none()}exists(Ee){return this.tag&&Ee(this.value)}forall(Ee){return!this.tag||Ee(this.value)}filter(Ee){return!this.tag||Ee(this.value)?this:At.none()}getOr(Ee){return this.tag?this.value:Ee}or(Ee){return this.tag?this:Ee}getOrThunk(Ee){return this.tag?this.value:Ee()}orThunk(Ee){return this.tag?this:Ee()}getOrDie(Ee){if(this.tag)return this.value;throw new Error(Ee??"Called getOrDie on None")}static from(Ee){return ro(Ee)?At.some(Ee):At.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ee){this.tag&&Ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}At.singletonNone=new At(!1);const kn=(ye,Ee)=>{for(let ot=0,_t=ye.length;ot<_t;ot++){const We=ye[ot];if(Ee(We,ot))return!0}return!1},tn=(ye,Ee)=>{const ot=ye.length,_t=new Array(ot);for(let We=0;We<ot;We++){const dt=ye[We];_t[We]=Ee(dt,We)}return _t},Gt=(ye,Ee)=>{for(let ot=0,_t=ye.length;ot<_t;ot++){const We=ye[ot];Ee(We,ot)}},Je=Object.keys,bt=Object.hasOwnProperty,no=(ye,Ee)=>{const ot=Je(ye);for(let _t=0,We=ot.length;_t<We;_t++){const dt=ot[_t],io=ye[dt];Ee(io,dt)}},ao=(ye,Ee)=>Te(ye,(ot,_t)=>({k:_t,v:Ee(ot,_t)})),Te=(ye,Ee)=>{const ot={};return no(ye,(_t,We)=>{const dt=Ee(_t,We);ot[dt.k]=dt.v}),ot},St=(ye,Ee)=>bt.call(ye,Ee),wo=ye=>{let Ee=ye;return{get:()=>Ee,set:We=>{Ee=We}}},ae=(ye=>(...Ee)=>{if(Ee.length===0)throw new Error("Can't merge zero objects");const ot={};for(let _t=0;_t<Ee.length;_t++){const We=Ee[_t];for(const dt in We)St(We,dt)&&(ot[dt]=ye(ot[dt],We[dt]))}return ot})((ye,Ee)=>Ee),pt=ye=>{const Ee=wo(At.none()),ot=()=>Ee.get().each(ye);return{clear:()=>{ot(),Ee.set(At.none())},isSet:()=>Ee.get().isSome(),get:()=>Ee.get(),set:Fo=>{ot(),Ee.set(At.some(Fo))}}},sn=()=>{const ye=pt(gn);return{...ye,on:ot=>ye.get().each(ot)}},Ro=(ye,Ee,ot)=>Ee===""||ye.length>=Ee.length&&ye.substr(ot,ot+Ee.length)===Ee,pn=(ye,Ee,ot=0,_t)=>{const We=ye.indexOf(Ee,ot);return We!==-1?cn(_t)?!0:We+Ee.length<=_t:!1},Vo=(ye,Ee)=>Ro(ye,Ee,0),Nt=(ye,Ee)=>{let ot=null;const _t=()=>{Ko(ot)||(clearTimeout(ot),ot=null)};return{cancel:_t,throttle:(...dt)=>{_t(),ot=setTimeout(()=>{ot=null,ye.apply(null,dt)},Ee)}}},D=(ye,Ee)=>{ye.insertContent(Ee)};var zt=tinymce.util.Tools.resolve("tinymce.Resource");const Ot="tinymce.plugins.emoticons",Lt=ye=>Ee=>Ee.options.get(ye),po=(ye,Ee)=>{const ot=ye.options.register;ot("emoticons_database",{processor:"string",default:"emojis"}),ot("emoticons_database_url",{processor:"string",default:`${Ee}/js/${vt(ye)}${ye.suffix}.js`}),ot("emoticons_database_id",{processor:"string",default:Ot}),ot("emoticons_append",{processor:"object",default:{}}),ot("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},vt=Lt("emoticons_database"),so=Lt("emoticons_database_url"),Bo=Lt("emoticons_database_id"),je=Lt("emoticons_append"),R=Lt("emoticons_images_url"),ut="All",tt={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Bt=(ye,Ee)=>St(ye,Ee)?ye[Ee]:Ee,Vt=ye=>{const Ee=je(ye);return ao(Ee,ot=>({keywords:[],category:"user",...ot}))},co=(ye,Ee,ot)=>{const _t=sn(),We=sn(),dt=R(ye),io=_n=>Vo(_n.char,"<img")?_n.char.replace(/src="([^"]+)"/,(Dt,Pt)=>`src="${dt}${Pt}"`):_n.char,Fo=_n=>{const Dt={},Pt=[];no(_n,(ft,bo)=>{const Rn={title:bo,keywords:ft.keywords,char:io(ft),category:Bt(tt,ft.category)},On=Dt[Rn.category]!==void 0?Dt[Rn.category]:[];Dt[Rn.category]=On.concat([Rn]),Pt.push(Rn)}),_t.set(Dt),We.set(Pt)};ye.on("init",()=>{zt.load(ot,Ee).then(_n=>{const Dt=Vt(ye);Fo(ae(_n,Dt))},_n=>{`${_n}`,_t.set({}),We.set([])})});const rt=_n=>_n===ut?xt():_t.get().bind(Dt=>At.from(Dt[_n])).getOr([]),xt=()=>We.get().getOr([]),oo=()=>[ut].concat(Je(_t.get().getOr({}))),qo=()=>Mn()?Promise.resolve(!0):new Promise((_n,Dt)=>{let Pt=15;const ft=setInterval(()=>{Mn()?(clearInterval(ft),_n(!0)):(Pt--,Pt<0&&(""+Ee,clearInterval(ft),Dt(!1)))},100)}),Mn=()=>_t.isSet()&&We.isSet();return{listCategories:oo,hasLoaded:Mn,waitForLoad:qo,listAll:xt,listCategory:rt}},xo=(ye,Ee)=>pn(ye.title.toLowerCase(),Ee)||kn(ye.keywords,ot=>pn(ot.toLowerCase(),Ee)),No=(ye,Ee,ot)=>{const _t=[],We=Ee.toLowerCase(),dt=ot.fold(()=>go,io=>Fo=>Fo>=io);for(let io=0;io<ye.length&&!((Ee.length===0||xo(ye[io],We))&&(_t.push({value:ye[io].char,text:ye[io].title,icon:ye[io].char}),dt(_t.length)));io++);return _t},ke="pattern",Ft=(ye,Ee)=>{const ot={pattern:"",results:No(Ee.listAll(),"",At.some(300))},_t=wo(ut),We=oo=>{const qo=oo.getData(),Mn=_t.get(),_n=Ee.listCategory(Mn),Dt=No(_n,qo[ke],Mn===ut?At.some(300):At.none());oo.setData({results:Dt})},dt=Nt(oo=>{We(oo)},200),io={label:"Search",type:"input",name:ke},Fo={type:"collection",name:"results"},rt=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:tn(Ee.listCategories(),qo=>({title:qo,name:qo,items:[io,Fo]}))},initialData:ot,onTabChange:(qo,Mn)=>{_t.set(Mn.newTabName),dt.throttle(qo)},onChange:dt.throttle,onAction:(qo,Mn)=>{Mn.name==="results"&&(D(ye,Mn.value),qo.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),xt=ye.windowManager.open(rt());xt.focus(ke),Ee.hasLoaded()||(xt.block("Loading emojis..."),Ee.waitForLoad().then(()=>{xt.redial(rt()),dt.throttle(xt),xt.focus(ke),xt.unblock()}).catch(oo=>{xt.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),xt.focus(ke),xt.unblock()}))},Uo=(ye,Ee)=>{ye.addCommand("mceEmoticons",()=>Ft(ye,Ee))},Ue=ye=>{ye.on("PreInit",()=>{ye.parser.addAttributeFilter("data-emoticon",Ee=>{Gt(Ee,ot=>{ot.attr("data-mce-resize","false"),ot.attr("data-mce-placeholder","1")})})})},me=(ye,Ee)=>{ye.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(ot,_t)=>Ee.waitForLoad().then(()=>{const We=Ee.listAll();return No(We,ot,At.some(_t))}),onAction:(ot,_t,We)=>{ye.selection.setRng(_t),ye.insertContent(We),ot.hide()}})},xe=ye=>Ee=>{const ot=()=>{Ee.setEnabled(ye.selection.isEditable())};return ye.on("NodeChange",ot),ot(),()=>{ye.off("NodeChange",ot)}},Pe=ye=>{const Ee=()=>ye.execCommand("mceEmoticons");ye.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Ee,onSetup:xe(ye)}),ye.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Ee,onSetup:xe(ye)})};var Ie=()=>{Oo.add("emoticons",(ye,Ee)=>{po(ye,Ee);const ot=so(ye),_t=Bo(ye),We=co(ye,ot,_t);return Uo(ye,We),Pe(ye),me(ye,We),Ue(ye),{getAllEmojis:()=>We.waitForLoad().then(()=>We.listAll())}})};Ie()}()),wN}var _N;function wB(){return _N||(_N=1,xB()),xN}wB();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});var CN={},SN={},EN;function kB(){return EN||(EN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=Lt=>Lt==null,Ko=Lt=>!an(Lt),cn=()=>{},en=Lt=>()=>Lt;class ro{constructor(po,vt){this.tag=po,this.value=vt}static some(po){return new ro(!0,po)}static none(){return ro.singletonNone}fold(po,vt){return this.tag?vt(this.value):po()}isSome(){return this.tag}isNone(){return!this.tag}map(po){return this.tag?ro.some(po(this.value)):ro.none()}bind(po){return this.tag?po(this.value):ro.none()}exists(po){return this.tag&&po(this.value)}forall(po){return!this.tag||po(this.value)}filter(po){return!this.tag||po(this.value)?this:ro.none()}getOr(po){return this.tag?this.value:po}or(po){return this.tag?this:po}getOrThunk(po){return this.tag?this.value:po()}orThunk(po){return this.tag?this:po()}getOrDie(po){if(this.tag)return this.value;throw new Error(po??"Called getOrDie on None")}static from(po){return Ko(po)?ro.some(po):ro.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(po){this.tag&&po(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ro.singletonNone=new ro(!1);const gn=(Lt,po)=>po>=0&&po<Lt.length?ro.some(Lt[po]):ro.none(),$o=Lt=>gn(Lt,0),go=typeof window<"u"?window:Function("return this;")(),kn=(Lt=>po=>po.replace(Lt,""))(/^\s+|\s+$/g);var tn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const Gt=function(Lt,po,vt){const so=window.Prism;window.Prism={manual:!0};var Bo=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var je=function(R){var ut=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,tt=0,Bt={},Vt={manual:R.Prism&&R.Prism.manual,disableWorkerMessageHandler:R.Prism&&R.Prism.disableWorkerMessageHandler,util:{encode:function Ie(ye){return ye instanceof co?new co(ye.type,Ie(ye.content),ye.alias):Array.isArray(ye)?ye.map(Ie):ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Ie){return Object.prototype.toString.call(Ie).slice(8,-1)},objId:function(Ie){return Ie.__id||Object.defineProperty(Ie,"__id",{value:++tt}),Ie.__id},clone:function Ie(ye,Ee){Ee=Ee||{};var ot,_t;switch(Vt.util.type(ye)){case"Object":if(_t=Vt.util.objId(ye),Ee[_t])return Ee[_t];ot={},Ee[_t]=ot;for(var We in ye)ye.hasOwnProperty(We)&&(ot[We]=Ie(ye[We],Ee));return ot;case"Array":return _t=Vt.util.objId(ye),Ee[_t]?Ee[_t]:(ot=[],Ee[_t]=ot,ye.forEach(function(dt,io){ot[io]=Ie(dt,Ee)}),ot);default:return ye}},getLanguage:function(Ie){for(;Ie;){var ye=ut.exec(Ie.className);if(ye)return ye[1].toLowerCase();Ie=Ie.parentElement}return"none"},setLanguage:function(Ie,ye){Ie.className=Ie.className.replace(RegExp(ut,"gi"),""),Ie.classList.add("language-"+ye)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(ot){var Ie=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(ot.stack)||[])[1];if(Ie){var ye=document.getElementsByTagName("script");for(var Ee in ye)if(ye[Ee].src==Ie)return ye[Ee]}return null}},isActive:function(Ie,ye,Ee){for(var ot="no-"+ye;Ie;){var _t=Ie.classList;if(_t.contains(ye))return!0;if(_t.contains(ot))return!1;Ie=Ie.parentElement}return!!Ee}},languages:{plain:Bt,plaintext:Bt,text:Bt,txt:Bt,extend:function(Ie,ye){var Ee=Vt.util.clone(Vt.languages[Ie]);for(var ot in ye)Ee[ot]=ye[ot];return Ee},insertBefore:function(Ie,ye,Ee,ot){ot=ot||Vt.languages;var _t=ot[Ie],We={};for(var dt in _t)if(_t.hasOwnProperty(dt)){if(dt==ye)for(var io in Ee)Ee.hasOwnProperty(io)&&(We[io]=Ee[io]);Ee.hasOwnProperty(dt)||(We[dt]=_t[dt])}var Fo=ot[Ie];return ot[Ie]=We,Vt.languages.DFS(Vt.languages,function(rt,xt){xt===Fo&&rt!=Ie&&(this[rt]=We)}),We},DFS:function Ie(ye,Ee,ot,_t){_t=_t||{};var We=Vt.util.objId;for(var dt in ye)if(ye.hasOwnProperty(dt)){Ee.call(ye,dt,ye[dt],ot||dt);var io=ye[dt],Fo=Vt.util.type(io);Fo==="Object"&&!_t[We(io)]?(_t[We(io)]=!0,Ie(io,Ee,null,_t)):Fo==="Array"&&!_t[We(io)]&&(_t[We(io)]=!0,Ie(io,Ee,dt,_t))}}},plugins:{},highlightAll:function(Ie,ye){Vt.highlightAllUnder(document,Ie,ye)},highlightAllUnder:function(Ie,ye,Ee){var ot={callback:Ee,container:Ie,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Vt.hooks.run("before-highlightall",ot),ot.elements=Array.prototype.slice.apply(ot.container.querySelectorAll(ot.selector)),Vt.hooks.run("before-all-elements-highlight",ot);for(var _t=0,We;We=ot.elements[_t++];)Vt.highlightElement(We,ye===!0,ot.callback)},highlightElement:function(Ie,ye,Ee){var ot=Vt.util.getLanguage(Ie),_t=Vt.languages[ot];Vt.util.setLanguage(Ie,ot);var We=Ie.parentElement;We&&We.nodeName.toLowerCase()==="pre"&&Vt.util.setLanguage(We,ot);var dt=Ie.textContent,io={element:Ie,language:ot,grammar:_t,code:dt};function Fo(xt){io.highlightedCode=xt,Vt.hooks.run("before-insert",io),io.element.innerHTML=io.highlightedCode,Vt.hooks.run("after-highlight",io),Vt.hooks.run("complete",io),Ee&&Ee.call(io.element)}if(Vt.hooks.run("before-sanity-check",io),We=io.element.parentElement,We&&We.nodeName.toLowerCase()==="pre"&&!We.hasAttribute("tabindex")&&We.setAttribute("tabindex","0"),!io.code){Vt.hooks.run("complete",io),Ee&&Ee.call(io.element);return}if(Vt.hooks.run("before-highlight",io),!io.grammar){Fo(Vt.util.encode(io.code));return}if(ye&&R.Worker){var rt=new Worker(Vt.filename);rt.onmessage=function(xt){Fo(xt.data)},rt.postMessage(JSON.stringify({language:io.language,code:io.code,immediateClose:!0}))}else Fo(Vt.highlight(io.code,io.grammar,io.language))},highlight:function(Ie,ye,Ee){var ot={code:Ie,grammar:ye,language:Ee};if(Vt.hooks.run("before-tokenize",ot),!ot.grammar)throw new Error('The language "'+ot.language+'" has no grammar.');return ot.tokens=Vt.tokenize(ot.code,ot.grammar),Vt.hooks.run("after-tokenize",ot),co.stringify(Vt.util.encode(ot.tokens),ot.language)},tokenize:function(Ie,ye){var Ee=ye.rest;if(Ee){for(var ot in Ee)ye[ot]=Ee[ot];delete ye.rest}var _t=new ke;return Ft(_t,_t.head,Ie),No(Ie,_t,ye,_t.head,0),Ue(_t)},hooks:{all:{},add:function(Ie,ye){var Ee=Vt.hooks.all;Ee[Ie]=Ee[Ie]||[],Ee[Ie].push(ye)},run:function(Ie,ye){var Ee=Vt.hooks.all[Ie];if(!(!Ee||!Ee.length))for(var ot=0,_t;_t=Ee[ot++];)_t(ye)}},Token:co};R.Prism=Vt;function co(Ie,ye,Ee,ot){this.type=Ie,this.content=ye,this.alias=Ee,this.length=(ot||"").length|0}co.stringify=function Ie(ye,Ee){if(typeof ye=="string")return ye;if(Array.isArray(ye)){var ot="";return ye.forEach(function(Fo){ot+=Ie(Fo,Ee)}),ot}var _t={type:ye.type,content:Ie(ye.content,Ee),tag:"span",classes:["token",ye.type],attributes:{},language:Ee},We=ye.alias;We&&(Array.isArray(We)?Array.prototype.push.apply(_t.classes,We):_t.classes.push(We)),Vt.hooks.run("wrap",_t);var dt="";for(var io in _t.attributes)dt+=" "+io+'="'+(_t.attributes[io]||"").replace(/"/g,"&quot;")+'"';return"<"+_t.tag+' class="'+_t.classes.join(" ")+'"'+dt+">"+_t.content+"</"+_t.tag+">"};function xo(Ie,ye,Ee,ot){Ie.lastIndex=ye;var _t=Ie.exec(Ee);if(_t&&ot&&_t[1]){var We=_t[1].length;_t.index+=We,_t[0]=_t[0].slice(We)}return _t}function No(Ie,ye,Ee,ot,_t,We){for(var dt in Ee)if(!(!Ee.hasOwnProperty(dt)||!Ee[dt])){var io=Ee[dt];io=Array.isArray(io)?io:[io];for(var Fo=0;Fo<io.length;++Fo){if(We&&We.cause==dt+","+Fo)return;var rt=io[Fo],xt=rt.inside,oo=!!rt.lookbehind,qo=!!rt.greedy,Mn=rt.alias;if(qo&&!rt.pattern.global){var _n=rt.pattern.toString().match(/[imsuy]*$/)[0];rt.pattern=RegExp(rt.pattern.source,_n+"g")}for(var Dt=rt.pattern||rt,Pt=ot.next,ft=_t;Pt!==ye.tail&&!(We&&ft>=We.reach);ft+=Pt.value.length,Pt=Pt.next){var bo=Pt.value;if(ye.length>Ie.length)return;if(!(bo instanceof co)){var Rn=1,On;if(qo){if(On=xo(Dt,ft,Ie,oo),!On||On.index>=Ie.length)break;var Ha=On.index,fo=On.index+On[0].length,gr=ft;for(gr+=Pt.value.length;Ha>=gr;)Pt=Pt.next,gr+=Pt.value.length;if(gr-=Pt.value.length,ft=gr,Pt.value instanceof co)continue;for(var Ur=Pt;Ur!==ye.tail&&(gr<fo||typeof Ur.value=="string");Ur=Ur.next)Rn++,gr+=Ur.value.length;Rn--,bo=Ie.slice(ft,gr),On.index-=ft}else if(On=xo(Dt,0,bo,oo),!On)continue;var Ha=On.index,Cn=On[0],on=bo.slice(0,Ha),ea=bo.slice(Ha+Cn.length),Ya=ft+bo.length;We&&Ya>We.reach&&(We.reach=Ya);var Tr=Pt.prev;on&&(Tr=Ft(ye,Tr,on),ft+=on.length),Uo(ye,Tr,Rn);var Gn=new co(dt,xt?Vt.tokenize(Cn,xt):Cn,Mn,Cn);if(Pt=Ft(ye,Tr,Gn),ea&&Ft(ye,Pt,ea),Rn>1){var Qn={cause:dt+","+Fo,reach:Ya};No(Ie,ye,Ee,Pt.prev,ft,Qn),We&&Qn.reach>We.reach&&(We.reach=Qn.reach)}}}}}}function ke(){var Ie={value:null,prev:null,next:null},ye={value:null,prev:Ie,next:null};Ie.next=ye,this.head=Ie,this.tail=ye,this.length=0}function Ft(Ie,ye,Ee){var ot=ye.next,_t={value:Ee,prev:ye,next:ot};return ye.next=_t,ot.prev=_t,Ie.length++,_t}function Uo(Ie,ye,Ee){for(var ot=ye.next,_t=0;_t<Ee&&ot!==Ie.tail;_t++)ot=ot.next;ye.next=ot,ot.prev=ye,Ie.length-=_t}function Ue(Ie){for(var ye=[],Ee=Ie.head.next;Ee!==Ie.tail;)ye.push(Ee.value),Ee=Ee.next;return ye}if(!R.document)return R.addEventListener&&(Vt.disableWorkerMessageHandler||R.addEventListener("message",function(Ie){var ye=JSON.parse(Ie.data),Ee=ye.language,ot=ye.code,_t=ye.immediateClose;R.postMessage(Vt.highlight(ot,Vt.languages[Ee],Ee)),_t&&R.close()},!1)),Vt;var me=Vt.util.currentScript();me&&(Vt.filename=me.src,me.hasAttribute("data-manual")&&(Vt.manual=!0));function xe(){Vt.manual||Vt.highlightAll()}if(!Vt.manual){var Pe=document.readyState;Pe==="loading"||Pe==="interactive"&&me&&me.defer?document.addEventListener("DOMContentLoaded",xe):window.requestAnimationFrame?window.requestAnimationFrame(xe):window.setTimeout(xe,16)}return Vt}(Bo);return je.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(R){function ut(tt,Bt){return"___"+tt.toUpperCase()+Bt+"___"}Object.defineProperties(R.languages["markup-templating"]={},{buildPlaceholders:{value:function(tt,Bt,Vt,co){if(tt.language===Bt){var xo=tt.tokenStack=[];tt.code=tt.code.replace(Vt,function(No){if(typeof co=="function"&&!co(No))return No;for(var ke=xo.length,Ft;tt.code.indexOf(Ft=ut(Bt,ke))!==-1;)++ke;return xo[ke]=No,Ft}),tt.grammar=R.languages.markup}}},tokenizePlaceholders:{value:function(tt,Bt){if(tt.language!==Bt||!tt.tokenStack)return;tt.grammar=R.languages[Bt];var Vt=0,co=Object.keys(tt.tokenStack);function xo(No){for(var ke=0;ke<No.length&&!(Vt>=co.length);ke++){var Ft=No[ke];if(typeof Ft=="string"||Ft.content&&typeof Ft.content=="string"){var Uo=co[Vt],Ue=tt.tokenStack[Uo],me=typeof Ft=="string"?Ft:Ft.content,xe=ut(Bt,Uo),Pe=me.indexOf(xe);if(Pe>-1){++Vt;var Ie=me.substring(0,Pe),ye=new R.Token(Bt,R.tokenize(Ue,tt.grammar),"language-"+Bt,Ue),Ee=me.substring(Pe+xe.length),ot=[];Ie&&ot.push.apply(ot,xo([Ie])),ot.push(ye),Ee&&ot.push.apply(ot,xo([Ee])),typeof Ft=="string"?No.splice.apply(No,[ke,1].concat(ot)):Ft.content=ot}}else Ft.content&&xo(Ft.content)}return No}xo(tt.tokens)}}})}(je),je.languages.c=je.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),je.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),je.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},je.languages.c.string],char:je.languages.c.char,comment:je.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:je.languages.c}}}}),je.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete je.languages.c.boolean,function(R){var ut=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,tt=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return ut.source});R.languages.cpp=R.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return ut.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:ut,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),R.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return tt})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),R.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:R.languages.cpp}}}}),R.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),R.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:R.languages.extend("cpp",{})}}),R.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},R.languages.cpp["base-clause"])}(je),function(R){function ut(On,fo){return On.replace(/<<(\d+)>>/g,function(gr,Ur){return"(?:"+fo[+Ur]+")"})}function tt(On,fo,gr){return RegExp(ut(On,fo),"")}function Bt(On,fo){for(var gr=0;gr<fo;gr++)On=On.replace(/<<self>>/g,function(){return"(?:"+On+")"});return On.replace(/<<self>>/g,"[^\\s\\S]")}var Vt={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function co(On){return"\\b(?:"+On.trim().replace(/ /g,"|")+")\\b"}var xo=co(Vt.typeDeclaration),No=RegExp(co(Vt.type+" "+Vt.typeDeclaration+" "+Vt.contextual+" "+Vt.other)),ke=co(Vt.typeDeclaration+" "+Vt.contextual+" "+Vt.other),Ft=co(Vt.type+" "+Vt.typeDeclaration+" "+Vt.other),Uo=Bt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Ue=Bt(/\((?:[^()]|<<self>>)*\)/.source,2),me=/@?\b[A-Za-z_]\w*\b/.source,xe=ut(/<<0>>(?:\s*<<1>>)?/.source,[me,Uo]),Pe=ut(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[ke,xe]),Ie=/\[\s*(?:,\s*)*\]/.source,ye=ut(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Pe,Ie]),Ee=ut(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[Uo,Ue,Ie]),ot=ut(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Ee]),_t=ut(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[ot,Pe,Ie]),We={keyword:No,punctuation:/[<>()?,.:[\]]/},dt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,io=/"(?:\\.|[^\\"\r\n])*"/.source,Fo=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;R.languages.csharp=R.languages.extend("clike",{string:[{pattern:tt(/(^|[^$\\])<<0>>/.source,[Fo]),lookbehind:!0,greedy:!0},{pattern:tt(/(^|[^@$\\])<<0>>/.source,[io]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:tt(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Pe]),lookbehind:!0,inside:We},{pattern:tt(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[me,_t]),lookbehind:!0,inside:We},{pattern:tt(/(\busing\s+)<<0>>(?=\s*=)/.source,[me]),lookbehind:!0},{pattern:tt(/(\b<<0>>\s+)<<1>>/.source,[xo,xe]),lookbehind:!0,inside:We},{pattern:tt(/(\bcatch\s*\(\s*)<<0>>/.source,[Pe]),lookbehind:!0,inside:We},{pattern:tt(/(\bwhere\s+)<<0>>/.source,[me]),lookbehind:!0},{pattern:tt(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[ye]),lookbehind:!0,inside:We},{pattern:tt(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[_t,Ft,me]),inside:We}],keyword:No,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),R.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),R.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:tt(/([(,]\s*)<<0>>(?=\s*:)/.source,[me]),lookbehind:!0,alias:"punctuation"}}),R.languages.insertBefore("csharp","class-name",{namespace:{pattern:tt(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[me]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:tt(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Ue]),lookbehind:!0,alias:"class-name",inside:We},"return-type":{pattern:tt(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[_t,Pe]),inside:We,alias:"class-name"},"constructor-invocation":{pattern:tt(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[_t]),lookbehind:!0,inside:We,alias:"class-name"},"generic-method":{pattern:tt(/<<0>>\s*<<1>>(?=\s*\()/.source,[me,Uo]),inside:{function:tt(/^<<0>>/.source,[me]),generic:{pattern:RegExp(Uo),alias:"class-name",inside:We}}},"type-list":{pattern:tt(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[xo,xe,me,_t,No.source,Ue,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:tt(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[xe,Ue]),lookbehind:!0,greedy:!0,inside:R.languages.csharp},keyword:No,"class-name":{pattern:RegExp(_t),greedy:!0,inside:We},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var rt=io+"|"+dt,xt=ut(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[rt]),oo=Bt(ut(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[xt]),2),qo=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Mn=ut(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Pe,oo]);R.languages.insertBefore("csharp","class-name",{attribute:{pattern:tt(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[qo,Mn]),lookbehind:!0,greedy:!0,inside:{target:{pattern:tt(/^<<0>>(?=\s*:)/.source,[qo]),alias:"keyword"},"attribute-arguments":{pattern:tt(/\(<<0>>*\)/.source,[oo]),inside:R.languages.csharp},"class-name":{pattern:RegExp(Pe),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var _n=/:[^}\r\n]+/.source,Dt=Bt(ut(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[xt]),2),Pt=ut(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Dt,_n]),ft=Bt(ut(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[rt]),2),bo=ut(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[ft,_n]);function Rn(On,fo){return{interpolation:{pattern:tt(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[On]),lookbehind:!0,inside:{"format-string":{pattern:tt(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[fo,_n]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:R.languages.csharp}}},string:/[\s\S]+/}}R.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:tt(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Pt]),lookbehind:!0,greedy:!0,inside:Rn(Pt,Dt)},{pattern:tt(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[bo]),lookbehind:!0,greedy:!0,inside:Rn(bo,ft)}],char:{pattern:RegExp(dt),greedy:!0}}),R.languages.dotnet=R.languages.cs=R.languages.csharp}(je),function(R){var ut=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;R.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+ut.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+ut.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+ut.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+ut.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:ut,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},R.languages.css.atrule.inside.rest=R.languages.css;var tt=R.languages.markup;tt&&(tt.tag.addInlined("style","css"),tt.tag.addAttribute("style","css"))}(je),function(R){var ut=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,tt=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Bt={pattern:RegExp(/(^|[^\w.])/.source+tt+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};R.languages.java=R.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Bt,{pattern:RegExp(/(^|[^\w.])/.source+tt+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Bt.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+tt+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Bt.inside}],keyword:ut,function:[R.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),R.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),R.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Bt,keyword:ut,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+tt+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Bt.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+tt+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Bt.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return ut.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(je),je.languages.javascript=je.languages.extend("clike",{"class-name":[je.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),je.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,je.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:je.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:je.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:je.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:je.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:je.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),je.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:je.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),je.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),je.languages.markup&&(je.languages.markup.tag.addInlined("script","javascript"),je.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),je.languages.js=je.languages.javascript,je.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},je.languages.markup.tag.inside["attr-value"].inside.entity=je.languages.markup.entity,je.languages.markup.doctype.inside["internal-subset"].inside=je.languages.markup,je.hooks.add("wrap",function(R){R.type==="entity"&&(R.attributes.title=R.content.replace(/&amp;/,"&"))}),Object.defineProperty(je.languages.markup.tag,"addInlined",{value:function(ut,tt){var Bt={};Bt["language-"+tt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:je.languages[tt]},Bt.cdata=/^<!\[CDATA\[|\]\]>$/i;var Vt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Bt}};Vt["language-"+tt]={pattern:/[\s\S]+/,inside:je.languages[tt]};var co={};co[ut]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return ut}),"i"),lookbehind:!0,greedy:!0,inside:Vt},je.languages.insertBefore("markup","cdata",co)}}),Object.defineProperty(je.languages.markup.tag,"addAttribute",{value:function(R,ut){je.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+R+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[ut,"language-"+ut],inside:je.languages[ut]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),je.languages.html=je.languages.markup,je.languages.mathml=je.languages.markup,je.languages.svg=je.languages.markup,je.languages.xml=je.languages.extend("markup",{}),je.languages.ssml=je.languages.xml,je.languages.atom=je.languages.xml,je.languages.rss=je.languages.xml,function(R){var ut=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,tt=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Bt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Vt=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,co=/[{}\[\](),:;]/;R.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:ut,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:tt,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Bt,operator:Vt,punctuation:co};var xo={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:R.languages.php},No=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:xo}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:xo}}];R.languages.insertBefore("php","variable",{string:No,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:ut,string:No,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:tt,number:Bt,operator:Vt,punctuation:co}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),R.hooks.add("before-tokenize",function(ke){if(/<\?/.test(ke.code)){var Ft=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;R.languages["markup-templating"].buildPlaceholders(ke,"php",Ft)}}),R.hooks.add("after-tokenize",function(ke){R.languages["markup-templating"].tokenizePlaceholders(ke,"php")})}(je),je.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},je.languages.python["string-interpolation"].inside.interpolation.inside.rest=je.languages.python,je.languages.py=je.languages.python,function(R){R.languages.ruby=R.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),R.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var ut={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:R.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete R.languages.ruby.function;var tt="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Bt=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;R.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+tt+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:ut,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:ut,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Bt),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Bt+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),R.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+tt),greedy:!0,inside:{interpolation:ut,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:ut,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:ut,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+tt),greedy:!0,inside:{interpolation:ut,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:ut,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete R.languages.ruby.string,R.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),R.languages.rb=R.languages.ruby}(je),window.Prism=so,je}(),Je=Lt=>po=>po.options.get(Lt),bt=Lt=>{const po=Lt.options.register;po("codesample_languages",{processor:"object[]"}),po("codesample_global_prismjs",{processor:"boolean",default:!1})},no=Je("codesample_languages"),ao=Je("codesample_global_prismjs"),Te=Lt=>go.Prism&&ao(Lt)?go.Prism:Gt,St=Lt=>Ko(Lt)&&Lt.nodeName==="PRE"&&Lt.className.indexOf("language-")!==-1,wo=Lt=>{const po=Lt.selection?Lt.selection.getNode():null;return St(po)?ro.some(po):ro.none()},he=(Lt,po,vt)=>{const so=Lt.dom;Lt.undoManager.transact(()=>{const Bo=wo(Lt);return vt=tn.DOM.encode(vt),Bo.fold(()=>{Lt.insertContent('<pre id="__new" class="language-'+po+'">'+vt+"</pre>");const je=so.select("#__new")[0];so.setAttrib(je,"id",null),Lt.selection.select(je)},je=>{so.setAttrib(je,"class","language-"+po),je.innerHTML=vt,Te(Lt).highlightElement(je),Lt.selection.select(je)})})},Xe=Lt=>wo(Lt).bind(vt=>ro.from(vt.textContent)).getOr(""),ae=Lt=>{const po=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],vt=no(Lt);return vt||po},pt=(Lt,po)=>wo(Lt).fold(()=>po,so=>{const Bo=so.className.match(/language-(\w+)/);return Bo?Bo[1]:po}),sn=Lt=>{const po=ae(Lt),vt=$o(po).fold(en(""),je=>je.value),so=pt(Lt,vt),Bo=Xe(Lt);Lt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:po},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:so,code:Bo},onSubmit:je=>{const R=je.getData();he(Lt,R.language,R.code),je.close()}})},Ro=Lt=>{Lt.addCommand("codesample",()=>{const po=Lt.selection.getNode();Lt.selection.isCollapsed()||St(po)?sn(Lt):Lt.formatter.toggle("code")})};var pn=tinymce.util.Tools.resolve("tinymce.util.Tools");const Vo=Lt=>{Lt.on("PreProcess",po=>{const vt=Lt.dom,so=vt.select("pre[contenteditable=false]",po.node);pn.each(pn.grep(so,St),Bo=>{const je=Bo.textContent;vt.setAttrib(Bo,"class",kn(vt.getAttrib(Bo,"class"))),vt.setAttrib(Bo,"contentEditable",null),vt.setAttrib(Bo,"data-mce-highlighted",null);let R;for(;R=Bo.firstChild;)Bo.removeChild(R);const ut=vt.add(Bo,"code");ut.textContent=je})}),Lt.on("SetContent",()=>{const po=Lt.dom,vt=pn.grep(po.select("pre"),so=>St(so)&&po.getAttrib(so,"data-mce-highlighted")!=="true");vt.length&&Lt.undoManager.transact(()=>{pn.each(vt,so=>{var Bo;pn.each(po.select("br",so),je=>{po.replace(Lt.getDoc().createTextNode(`
`),je)}),so.innerHTML=po.encode((Bo=so.textContent)!==null&&Bo!==void 0?Bo:""),Te(Lt).highlightElement(so),po.setAttrib(so,"data-mce-highlighted",!0),so.className=kn(so.className)})})}),Lt.on("PreInit",()=>{Lt.parser.addNodeFilter("pre",po=>{var vt;for(let so=0,Bo=po.length;so<Bo;so++){const je=po[so];((vt=je.attr("class"))!==null&&vt!==void 0?vt:"").indexOf("language-")!==-1&&(je.attr("contenteditable","false"),je.attr("data-mce-highlighted","false"))}})})},Nt=(Lt,po=cn)=>vt=>{const so=()=>{vt.setEnabled(Lt.selection.isEditable()),po(vt)};return Lt.on("NodeChange",so),so(),()=>{Lt.off("NodeChange",so)}},D=Lt=>{const po=Lt.selection.getStart();return Lt.dom.is(po,'pre[class*="language-"]')},zt=Lt=>{const po=()=>Lt.execCommand("codesample");Lt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:po,onSetup:Nt(Lt,vt=>{vt.setActive(D(Lt))})}),Lt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:po,onSetup:Nt(Lt)})};var Ot=()=>{Oo.add("codesample",Lt=>{bt(Lt),Vo(Lt),zt(Lt),Ro(Lt),Lt.on("dblclick",po=>{St(po.target)&&sn(Lt)})})};Ot()}()),SN}var zN;function _B(){return zN||(zN=1,kB()),CN}_B();var AN={},TN={},ON;function CB(){return ON||(ON=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(rt,xt,oo)=>{var qo;return oo(rt,xt.prototype)?!0:((qo=rt.constructor)===null||qo===void 0?void 0:qo.name)===xt.name},Ko=rt=>{const xt=typeof rt;return rt===null?"null":xt==="object"&&Array.isArray(rt)?"array":xt==="object"&&an(rt,String,(oo,qo)=>qo.isPrototypeOf(oo))?"string":xt},cn=rt=>xt=>Ko(xt)===rt,en=rt=>xt=>typeof xt===rt,ro=cn("string"),gn=en("boolean"),$o=rt=>rt==null,go=rt=>!$o(rt),At=en("function"),kn=en("number"),tn=(rt,xt)=>oo=>rt(xt(oo)),Je=(rt=>()=>rt)(!1);class bt{constructor(xt,oo){this.tag=xt,this.value=oo}static some(xt){return new bt(!0,xt)}static none(){return bt.singletonNone}fold(xt,oo){return this.tag?oo(this.value):xt()}isSome(){return this.tag}isNone(){return!this.tag}map(xt){return this.tag?bt.some(xt(this.value)):bt.none()}bind(xt){return this.tag?xt(this.value):bt.none()}exists(xt){return this.tag&&xt(this.value)}forall(xt){return!this.tag||xt(this.value)}filter(xt){return!this.tag||xt(this.value)?this:bt.none()}getOr(xt){return this.tag?this.value:xt}or(xt){return this.tag?this:xt}getOrThunk(xt){return this.tag?this.value:xt()}orThunk(xt){return this.tag?this:xt()}getOrDie(xt){if(this.tag)return this.value;throw new Error(xt??"Called getOrDie on None")}static from(xt){return go(xt)?bt.some(xt):bt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xt){this.tag&&xt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}bt.singletonNone=new bt(!1);const no=(rt,xt)=>{const oo=rt.length,qo=new Array(oo);for(let Mn=0;Mn<oo;Mn++){const _n=rt[Mn];qo[Mn]=xt(_n,Mn)}return qo},ao=(rt,xt)=>{for(let oo=0,qo=rt.length;oo<qo;oo++){const Mn=rt[oo];xt(Mn,oo)}},Te=(rt,xt)=>{const oo=[];for(let qo=0,Mn=rt.length;qo<Mn;qo++){const _n=rt[qo];xt(_n,qo)&&oo.push(_n)}return oo},St=(rt,xt)=>{const qo=(xt||document).createElement("div");if(qo.innerHTML=rt,!qo.hasChildNodes()||qo.childNodes.length>1){const Mn="HTML does not have a single root node";throw console.error(Mn,rt),new Error(Mn)}return Xe(qo.childNodes[0])},wo=(rt,xt)=>{const qo=(xt||document).createElement(rt);return Xe(qo)},he=(rt,xt)=>{const qo=(xt||document).createTextNode(rt);return Xe(qo)},Xe=rt=>{if(rt==null)throw new Error("Node cannot be null or undefined");return{dom:rt}},pt={fromHtml:St,fromTag:wo,fromText:he,fromDom:Xe,fromPoint:(rt,xt,oo)=>bt.from(rt.dom.elementFromPoint(xt,oo)).map(Xe)},sn=11,Ro=1,pn=3,Vo=(rt,xt)=>{const oo=rt.dom;if(oo.nodeType!==Ro)return!1;{const qo=oo;if(qo.matches!==void 0)return qo.matches(xt);if(qo.msMatchesSelector!==void 0)return qo.msMatchesSelector(xt);if(qo.webkitMatchesSelector!==void 0)return qo.webkitMatchesSelector(xt);if(qo.mozMatchesSelector!==void 0)return qo.mozMatchesSelector(xt);throw new Error("Browser lacks native selectors")}},Nt=rt=>rt.dom.nodeName.toLowerCase(),D=rt=>rt.dom.nodeType,zt=rt=>xt=>D(xt)===rt,Ot=zt(Ro),Lt=zt(pn),po=zt(sn),vt=rt=>xt=>Ot(xt)&&Nt(xt)===rt,so=rt=>bt.from(rt.dom.parentNode).map(pt.fromDom),Bo=rt=>no(rt.dom.childNodes,pt.fromDom),je=rt=>po(rt)&&go(rt.dom.host),R=rt=>pt.fromDom(rt.dom.getRootNode()),ut=rt=>{const xt=R(rt);return je(xt)?bt.some(xt):bt.none()},tt=rt=>pt.fromDom(rt.dom.host),Bt=(rt,xt,oo)=>{if(ro(oo)||gn(oo)||kn(oo))rt.setAttribute(xt,oo+"");else throw console.error("Invalid call to Attribute.set. Key ",xt,":: Value ",oo,":: Element ",rt),new Error("Attribute value was not simple")},Vt=(rt,xt,oo)=>{Bt(rt.dom,xt,oo)},co=(rt,xt)=>{rt.dom.removeAttribute(xt)},xo=rt=>rt.style!==void 0&&At(rt.style.getPropertyValue),No=rt=>{const xt=Lt(rt)?rt.dom.parentNode:rt.dom;if(xt==null||xt.ownerDocument===null)return!1;const oo=xt.ownerDocument;return ut(pt.fromDom(xt)).fold(()=>oo.body.contains(xt),tn(No,tt))},ke=(rt,xt)=>{const oo=rt.dom,Mn=window.getComputedStyle(oo).getPropertyValue(xt);return Mn===""&&!No(rt)?Ft(oo,xt):Mn},Ft=(rt,xt)=>xo(rt)?rt.style.getPropertyValue(xt):"",Uo=rt=>ke(rt,"direction")==="rtl"?"rtl":"ltr",Ue=(rt,xt,oo)=>{let qo=rt.dom;const Mn=At(oo)?oo:Je;for(;qo.parentNode;){qo=qo.parentNode;const _n=pt.fromDom(qo);if(xt(_n))return bt.some(_n);if(Mn(_n))break}return bt.none()},me=(rt,xt,oo)=>Ue(rt,qo=>Vo(qo,xt),oo),xe=(rt,xt)=>Te(Bo(rt),xt),Pe=(rt,xt)=>xe(rt,oo=>Vo(oo,xt)),Ie=rt=>so(rt).filter(Ot),ye=(rt,xt)=>(xt?me(rt,"ol,ul"):bt.some(rt)).getOr(rt),Ee=vt("li"),ot=(rt,xt,oo)=>{ao(xt,qo=>{const Mn=pt.fromDom(qo),_n=Ee(Mn),Dt=ye(Mn,_n);Ie(Dt).each(ft=>{if(rt.setStyle(Dt.dom,"direction",null),Uo(ft)===oo?co(Dt,"dir"):Vt(Dt,"dir",oo),Uo(Dt)!==oo&&rt.setStyle(Dt.dom,"direction",oo),_n){const Rn=Pe(Dt,"li[dir],li[style]");ao(Rn,On=>{co(On,"dir"),rt.setStyle(On.dom,"direction",null)})}})})},_t=(rt,xt)=>{rt.selection.isEditable()&&(ot(rt.dom,rt.selection.getSelectedBlocks(),xt),rt.nodeChanged())},We=rt=>{rt.addCommand("mceDirectionLTR",()=>{_t(rt,"ltr")}),rt.addCommand("mceDirectionRTL",()=>{_t(rt,"rtl")})},dt=(rt,xt)=>oo=>{const qo=Mn=>{const _n=pt.fromDom(Mn.element);oo.setActive(Uo(_n)===xt),oo.setEnabled(rt.selection.isEditable())};return rt.on("NodeChange",qo),oo.setEnabled(rt.selection.isEditable()),()=>rt.off("NodeChange",qo)},io=rt=>{rt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>rt.execCommand("mceDirectionLTR"),onSetup:dt(rt,"ltr")}),rt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>rt.execCommand("mceDirectionRTL"),onSetup:dt(rt,"rtl")})};var Fo=()=>{Oo.add("directionality",rt=>{We(rt),io(rt)})};Fo()}()),TN}var NN;function SB(){return NN||(NN=1,CB()),AN}SB();var DN={},MN={},RN;function EB(){return RN||(RN=1,function(){const Oo=(de,Ce,lt)=>{var Zt;return lt(de,Ce.prototype)?!0:((Zt=de.constructor)===null||Zt===void 0?void 0:Zt.name)===Ce.name},an=de=>{const Ce=typeof de;return de===null?"null":Ce==="object"&&Array.isArray(de)?"array":Ce==="object"&&Oo(de,String,(lt,Zt)=>Zt.isPrototypeOf(lt))?"string":Ce},Ko=de=>Ce=>an(Ce)===de,cn=de=>Ce=>typeof Ce===de,en=de=>Ce=>de===Ce,ro=Ko("string"),gn=Ko("object"),$o=Ko("array"),go=en(null),At=cn("boolean"),kn=en(void 0),tn=de=>de==null,Gt=de=>!tn(de),Je=cn("function"),bt=cn("number"),no=()=>{},ao=(de,Ce)=>(...lt)=>de(Ce.apply(null,lt)),Te=(de,Ce)=>lt=>de(Ce(lt)),St=de=>()=>de;function wo(de,...Ce){return(...lt)=>{const Zt=Ce.concat(lt);return de.apply(null,Zt)}}const he=St(!1),Xe=St(!0);class ae{constructor(Ce,lt){this.tag=Ce,this.value=lt}static some(Ce){return new ae(!0,Ce)}static none(){return ae.singletonNone}fold(Ce,lt){return this.tag?lt(this.value):Ce()}isSome(){return this.tag}isNone(){return!this.tag}map(Ce){return this.tag?ae.some(Ce(this.value)):ae.none()}bind(Ce){return this.tag?Ce(this.value):ae.none()}exists(Ce){return this.tag&&Ce(this.value)}forall(Ce){return!this.tag||Ce(this.value)}filter(Ce){return!this.tag||Ce(this.value)?this:ae.none()}getOr(Ce){return this.tag?this.value:Ce}or(Ce){return this.tag?this:Ce}getOrThunk(Ce){return this.tag?this.value:Ce()}orThunk(Ce){return this.tag?this:Ce()}getOrDie(Ce){if(this.tag)return this.value;throw new Error(Ce??"Called getOrDie on None")}static from(Ce){return Gt(Ce)?ae.some(Ce):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ce){this.tag&&Ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const pt=Array.prototype.push,sn=(de,Ce)=>{const lt=de.length,Zt=new Array(lt);for(let rn=0;rn<lt;rn++){const lr=de[rn];Zt[rn]=Ce(lr,rn)}return Zt},Ro=(de,Ce)=>{for(let lt=0,Zt=de.length;lt<Zt;lt++){const rn=de[lt];Ce(rn,lt)}},pn=(de,Ce)=>{const lt=[];for(let Zt=0,rn=de.length;Zt<rn;Zt++){const lr=de[Zt];Ce(lr,Zt)&&lt.push(lr)}return lt},Vo=(de,Ce,lt)=>{for(let Zt=0,rn=de.length;Zt<rn;Zt++){const lr=de[Zt];if(Ce(lr,Zt))return ae.some(lr);if(lt(lr,Zt))break}return ae.none()},Nt=(de,Ce)=>Vo(de,Ce,he),D=de=>{const Ce=[];for(let lt=0,Zt=de.length;lt<Zt;++lt){if(!$o(de[lt]))throw new Error("Arr.flatten item "+lt+" was not an array, input: "+de);pt.apply(Ce,de[lt])}return Ce},zt=(de,Ce)=>D(sn(de,Ce)),Ot=(de,Ce)=>Ce>=0&&Ce<de.length?ae.some(de[Ce]):ae.none(),Lt=de=>Ot(de,0),po=(de,Ce)=>{for(let lt=0;lt<de.length;lt++){const Zt=Ce(de[lt],lt);if(Zt.isSome())return Zt}return ae.none()},vt=Object.keys,so=(de,Ce)=>{const lt=vt(de);for(let Zt=0,rn=lt.length;Zt<rn;Zt++){const lr=lt[Zt],Nr=de[lr];Ce(Nr,lr)}},Bo=de=>{let Ce=de;return{get:()=>Ce,set:rn=>{Ce=rn}}},je=typeof window<"u"?window:Function("return this;")(),R=(de,Ce,lt)=>de.isSome()&&Ce.isSome()?ae.some(lt(de.getOrDie(),Ce.getOrDie())):ae.none(),ut=(de,Ce)=>{let lt=Ce??je;for(let Zt=0;Zt<de.length&&lt!==void 0&&lt!==null;++Zt)lt=lt[de[Zt]];return lt},tt=(de,Ce)=>{const lt=de.split(".");return ut(lt,Ce)},Bt=de=>{const Ce=Bo(ae.none()),lt=()=>Ce.get().each(de);return{clear:()=>{lt(),Ce.set(ae.none())},isSet:()=>Ce.get().isSome(),get:()=>Ce.get(),set:us=>{lt(),Ce.set(ae.some(us))}}},Vt=()=>Bt(de=>de.unbind()),co=()=>{const de=Bt(no);return{...de,on:lt=>de.get().each(lt)}},xo=(de,Ce,lt=0,Zt)=>{const rn=de.indexOf(Ce,lt);return rn!==-1?kn(Zt)?!0:rn+Ce.length<=Zt:!1},No=(de,Ce)=>{let lt=null;return{cancel:()=>{go(lt)||(clearTimeout(lt),lt=null)},throttle:(...lr)=>{go(lt)&&(lt=setTimeout(()=>{lt=null,de.apply(null,lr)},Ce))}}},ke=de=>{let Ce=!1,lt;return(...Zt)=>(Ce||(Ce=!0,lt=de.apply(null,Zt)),lt)};var Ft=tinymce.util.Tools.resolve("tinymce.PluginManager");const Uo=de=>({isFullscreen:()=>de.get()!==null}),Ue=(de,Ce)=>{const Zt=(Ce||document).createElement("div");if(Zt.innerHTML=de,!Zt.hasChildNodes()||Zt.childNodes.length>1){const rn="HTML does not have a single root node";throw console.error(rn,de),new Error(rn)}return Pe(Zt.childNodes[0])},me=(de,Ce)=>{const Zt=(Ce||document).createElement(de);return Pe(Zt)},xe=(de,Ce)=>{const Zt=(Ce||document).createTextNode(de);return Pe(Zt)},Pe=de=>{if(de==null)throw new Error("Node cannot be null or undefined");return{dom:de}},ye={fromHtml:Ue,fromTag:me,fromText:xe,fromDom:Pe,fromPoint:(de,Ce,lt)=>ae.from(de.dom.elementFromPoint(Ce,lt)).map(Pe)},Ee=9,ot=11,_t=1,We=3,dt=(de,Ce)=>{const lt=de.dom;if(lt.nodeType!==_t)return!1;{const Zt=lt;if(Zt.matches!==void 0)return Zt.matches(Ce);if(Zt.msMatchesSelector!==void 0)return Zt.msMatchesSelector(Ce);if(Zt.webkitMatchesSelector!==void 0)return Zt.webkitMatchesSelector(Ce);if(Zt.mozMatchesSelector!==void 0)return Zt.mozMatchesSelector(Ce);throw new Error("Browser lacks native selectors")}},io=de=>de.nodeType!==_t&&de.nodeType!==Ee&&de.nodeType!==ot||de.childElementCount===0,Fo=(de,Ce)=>{const lt=document;return io(lt)?[]:sn(lt.querySelectorAll(de),ye.fromDom)},rt=(de,Ce)=>de.dom===Ce.dom,xt=(de,Ce,lt,Zt)=>{const rn=de.isiOS()&&/ipad/i.test(lt)===!0,lr=de.isiOS()&&!rn,Nr=de.isiOS()||de.isAndroid(),us=Nr||Zt("(pointer:coarse)"),Ns=rn||!lr&&Nr&&Zt("(min-device-width:768px)"),Hs=lr||Nr&&!Ns,ks=Ce.isSafari()&&de.isiOS()&&/safari/i.test(lt)===!1,ha=!Hs&&!Ns&&!ks;return{isiPad:St(rn),isiPhone:St(lr),isTablet:St(Ns),isPhone:St(Hs),isTouch:St(us),isAndroid:de.isAndroid,isiOS:de.isiOS,isWebView:St(ks),isDesktop:St(ha)}},oo=(de,Ce)=>{for(let lt=0;lt<de.length;lt++){const Zt=de[lt];if(Zt.test(Ce))return Zt}},qo=(de,Ce)=>{const lt=oo(de,Ce);if(!lt)return{major:0,minor:0};const Zt=rn=>Number(Ce.replace(lt,"$"+rn));return Dt(Zt(1),Zt(2))},Mn=(de,Ce)=>{const lt=String(Ce).toLowerCase();return de.length===0?_n():qo(de,lt)},_n=()=>Dt(0,0),Dt=(de,Ce)=>({major:de,minor:Ce}),Pt={nu:Dt,detect:Mn,unknown:_n},ft=(de,Ce)=>po(Ce.brands,lt=>{const Zt=lt.brand.toLowerCase();return Nt(de,rn=>{var lr;return Zt===((lr=rn.brand)===null||lr===void 0?void 0:lr.toLowerCase())}).map(rn=>({current:rn.name,version:Pt.nu(parseInt(lt.version,10),0)}))}),bo=(de,Ce)=>{const lt=String(Ce).toLowerCase();return Nt(de,Zt=>Zt.search(lt))},Rn=(de,Ce)=>bo(de,Ce).map(lt=>{const Zt=Pt.detect(lt.versionRegexes,Ce);return{current:lt.name,version:Zt}}),On=(de,Ce)=>bo(de,Ce).map(lt=>{const Zt=Pt.detect(lt.versionRegexes,Ce);return{current:lt.name,version:Zt}}),fo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,gr=de=>Ce=>xo(Ce,de),Ur=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:de=>xo(de,"edge/")&&xo(de,"chrome")&&xo(de,"safari")&&xo(de,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fo],search:de=>xo(de,"chrome")&&!xo(de,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:de=>xo(de,"msie")||xo(de,"trident")},{name:"Opera",versionRegexes:[fo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:gr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:gr("firefox")},{name:"Safari",versionRegexes:[fo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:de=>(xo(de,"safari")||xo(de,"mobile/"))&&xo(de,"applewebkit")}],Ha=[{name:"Windows",search:gr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:de=>xo(de,"iphone")||xo(de,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:gr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:gr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:gr("linux"),versionRegexes:[]},{name:"Solaris",search:gr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:gr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:gr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Cn={browsers:St(Ur),oses:St(Ha)},on="Edge",ea="Chromium",Ya="IE",Tr="Opera",Gn="Firefox",Qn="Safari",ta=()=>Ba({current:void 0,version:Pt.unknown()}),Ba=de=>{const Ce=de.current,lt=de.version,Zt=rn=>()=>Ce===rn;return{current:Ce,version:lt,isEdge:Zt(on),isChromium:Zt(ea),isIE:Zt(Ya),isOpera:Zt(Tr),isFirefox:Zt(Gn),isSafari:Zt(Qn)}},Or={unknown:ta,nu:Ba},Va="Windows",gt="iOS",se="Android",Io="Linux",Yo="macOS",Er="Solaris",kr="FreeBSD",Rr="ChromeOS",Dr=()=>Fs({current:void 0,version:Pt.unknown()}),Fs=de=>{const Ce=de.current,lt=de.version,Zt=rn=>()=>Ce===rn;return{current:Ce,version:lt,isWindows:Zt(Va),isiOS:Zt(gt),isAndroid:Zt(se),isMacOS:Zt(Yo),isLinux:Zt(Io),isSolaris:Zt(Er),isFreeBSD:Zt(kr),isChromeOS:Zt(Rr)}},De={unknown:Dr,nu:Fs},wt={detect:(de,Ce,lt)=>{const Zt=Cn.browsers(),rn=Cn.oses(),lr=Ce.bind(Ns=>ft(Zt,Ns)).orThunk(()=>Rn(Zt,de)).fold(Or.unknown,Or.nu),Nr=On(rn,de).fold(De.unknown,De.nu),us=xt(Nr,lr,de,lt);return{browser:lr,os:Nr,deviceType:us}}},Tt=de=>window.matchMedia(de).matches;let ko=ke(()=>wt.detect(window.navigator.userAgent,ae.from(window.navigator.userAgentData),Tt));const Jo=()=>ko(),hn=(de,Ce)=>tt(de,Ce),cr=(de,Ce)=>{const lt=hn(de,Ce);if(lt==null)throw new Error(de+" not available on this browser");return lt},ur=Object.getPrototypeOf,ir=de=>cr("HTMLElement",de),Le=de=>{const Ce=tt("ownerDocument.defaultView",de);return gn(de)&&(ir(Ce).prototype.isPrototypeOf(de)||/^HTML\w*Element$/.test(ur(de).constructor.name))},Be=de=>de.dom.nodeType,Kt=de=>Ce=>Be(Ce)===de,Po=de=>Do(de)&&Le(de.dom),Do=Kt(_t),vn=Kt(We),xn=Kt(ot),nn=de=>ye.fromDom(de.dom.ownerDocument),zn=de=>ae.from(de.dom.parentNode).map(ye.fromDom),eo=(de,Ce)=>{const lt=Je(Ce)?Ce:he;let Zt=de.dom;const rn=[];for(;Zt.parentNode!==null&&Zt.parentNode!==void 0;){const lr=Zt.parentNode,Nr=ye.fromDom(lr);if(rn.push(Nr),lt(Nr)===!0)break;Zt=lr}return rn},Pr=de=>{const Ce=lt=>pn(lt,Zt=>!rt(de,Zt));return zn(de).map(qs).map(Ce).getOr([])},fa=de=>ae.from(de.dom.nextSibling).map(ye.fromDom),qs=de=>sn(de.dom.childNodes,ye.fromDom),cs=de=>xn(de)&&Gt(de.dom.host),Ci=de=>ye.fromDom(de.dom.getRootNode()),Kr=de=>{const Ce=Ci(de);return cs(Ce)?ae.some(Ce):ae.none()},Yr=de=>ye.fromDom(de.dom.host),Br=de=>{if(Gt(de.target)){const Ce=ye.fromDom(de.target);if(Do(Ce)&&Ls(Ce)&&de.composed&&de.composedPath){const lt=de.composedPath();if(lt)return Lt(lt)}}return ae.from(de.target)},Ls=de=>Gt(de.dom.shadowRoot),cl=(de,Ce,lt,Zt,rn,lr,Nr)=>({target:de,x:Ce,y:lt,stop:Zt,prevent:rn,kill:lr,raw:Nr}),zr=de=>{const Ce=ye.fromDom(Br(de).getOr(de.target)),lt=()=>de.stopPropagation(),Zt=()=>de.preventDefault(),rn=ao(Zt,lt);return cl(Ce,de.clientX,de.clientY,lt,Zt,rn,de)},oi=(de,Ce)=>lt=>{de(lt)&&Ce(zr(lt))},Jl=(de,Ce,lt,Zt,rn)=>{const lr=oi(lt,Zt);return de.dom.addEventListener(Ce,lr,rn),{unbind:wo(Ws,de,Ce,lr,rn)}},Ni=(de,Ce,lt,Zt)=>Jl(de,Ce,lt,Zt,!1),Ws=(de,Ce,lt,Zt)=>{de.dom.removeEventListener(Ce,lt,Zt)},Di=Xe,Bl=(de,Ce,lt)=>Ni(de,Ce,Di,lt),Os=(de,Ce,lt)=>{if(ro(lt)||At(lt)||bt(lt))de.setAttribute(Ce,lt+"");else throw console.error("Invalid call to Attribute.set. Key ",Ce,":: Value ",lt,":: Element ",de),new Error("Attribute value was not simple")},ni=(de,Ce,lt)=>{Os(de.dom,Ce,lt)},Fl=(de,Ce)=>{const lt=de.dom.getAttribute(Ce);return lt===null?void 0:lt},Is=(de,Ce)=>{de.dom.removeAttribute(Ce)},wa=de=>de.style!==void 0&&Je(de.style.getPropertyValue),wl=de=>{const Ce=vn(de)?de.dom.parentNode:de.dom;if(Ce==null||Ce.ownerDocument===null)return!1;const lt=Ce.ownerDocument;return Kr(ye.fromDom(Ce)).fold(()=>lt.body.contains(Ce),Te(wl,Yr))},Ki=de=>{const Ce=de.dom.body;if(Ce==null)throw new Error("Body is not available yet");return ye.fromDom(Ce)},Yi=(de,Ce,lt)=>{if(!ro(lt))throw console.error("Invalid call to CSS.set. Property ",Ce,":: Value ",lt,":: Element ",de),new Error("CSS value must be a string: "+lt);wa(de)&&de.style.setProperty(Ce,lt)},Ql=(de,Ce,lt)=>{const Zt=de.dom;Yi(Zt,Ce,lt)},Xa=(de,Ce)=>{const lt=de.dom;so(Ce,(Zt,rn)=>{Yi(lt,rn,Zt)})},ri=(de,Ce)=>{const lt=de.dom,rn=window.getComputedStyle(lt).getPropertyValue(Ce);return rn===""&&!wl(de)?ec(lt,Ce):rn},ec=(de,Ce)=>wa(de)?de.style.getPropertyValue(Ce):"",Ll=(de,Ce)=>({left:de,top:Ce,translate:(Zt,rn)=>Ll(de+Zt,Ce+rn)}),Ps=Ll,pc=de=>{const Ce=de!==void 0?de.dom:document,lt=Ce.body.scrollLeft||Ce.documentElement.scrollLeft,Zt=Ce.body.scrollTop||Ce.documentElement.scrollTop;return Ps(lt,Zt)},Si=de=>de.dom.classList!==void 0,Mi=(de,Ce)=>Si(de)&&de.dom.classList.contains(Ce),fc=(de,Ce,lt)=>pn(eo(de,lt),Ce),Kc=(de,Ce)=>pn(Pr(de),Ce),hc=de=>Fo(de),kl=(de,Ce,lt)=>fc(de,Zt=>dt(Zt,Ce),lt),Ja=(de,Ce)=>Kc(de,lt=>dt(lt,Ce)),oe=de=>{const Ce=de===void 0?window:de;return Jo().browser.isFirefox()?ae.none():ae.from(Ce.visualViewport)},_e=(de,Ce,lt,Zt)=>({x:de,y:Ce,width:lt,height:Zt,right:de+lt,bottom:Ce+Zt}),st=de=>{const Ce=de===void 0?window:de,lt=Ce.document,Zt=pc(ye.fromDom(lt));return oe(Ce).fold(()=>{const rn=Ce.document.documentElement,lr=rn.clientWidth,Nr=rn.clientHeight;return _e(Zt.left,Zt.top,lr,Nr)},rn=>_e(Math.max(rn.pageLeft,Zt.left),Math.max(rn.pageTop,Zt.top),rn.width,rn.height))},Yt=(de,Ce,lt)=>oe(lt).map(Zt=>{const rn=lr=>Ce(zr(lr));return Zt.addEventListener(de,rn),{unbind:()=>Zt.removeEventListener(de,rn)}}).getOrThunk(()=>({unbind:no}));var W=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ce=tinymce.util.Tools.resolve("tinymce.Env");const it=(de,Ce)=>{de.dispatch("FullscreenStateChanged",{state:Ce}),de.dispatch("ResizeEditor")},mo=de=>Ce=>Ce.options.get(de),lo=de=>{const Ce=de.options.register;Ce("fullscreen_native",{processor:"boolean",default:!1})},$=mo("fullscreen_native"),te=de=>{const Ce=ye.fromDom(de.getElement());return Kr(Ce).map(Yr).getOrThunk(()=>Ki(nn(Ce)))},ze=de=>de.fullscreenElement!==void 0?de.fullscreenElement:de.msFullscreenElement!==void 0?de.msFullscreenElement:de.webkitFullscreenElement!==void 0?de.webkitFullscreenElement:null,ve=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",vo=de=>{const Ce=de.dom;Ce.requestFullscreen?Ce.requestFullscreen():Ce.msRequestFullscreen?Ce.msRequestFullscreen():Ce.webkitRequestFullScreen&&Ce.webkitRequestFullScreen()},Kn=de=>{const Ce=de.dom;Ce.exitFullscreen?Ce.exitFullscreen():Ce.msExitFullscreen?Ce.msExitFullscreen():Ce.webkitCancelFullScreen&&Ce.webkitCancelFullScreen()},Wn=de=>de.dom===ze(nn(de).dom),ka="data-ephox-mobile-fullscreen-style",Se="display:none!important;",Oa="position:absolute!important;",vs="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",xs="background-color:rgb(255,255,255)!important;",na=ce.os.isAndroid(),md=de=>{const Ce=ri(de,"background-color");return Ce!==void 0&&Ce!==""?"background-color:"+Ce+"!important":xs},Ri=(de,Ce,lt)=>{const Zt=Hs=>Ja(Hs,"*:not(.tox-silver-sink)"),rn=Hs=>ks=>{const ha=Fl(ks,"style"),Sl=ha===void 0?"no-styles":ha.trim();Sl!==Hs&&(ni(ks,ka,Sl),Xa(ks,de.parseStyle(Hs)))},lr=kl(Ce,"*"),Nr=zt(lr,Zt),us=md(lt);Ro(Nr,rn(Se)),Ro(lr,rn(Oa+vs+us)),rn((na===!0?"":Oa)+vs+us)(Ce)},ai=de=>{const Ce=hc("["+ka+"]");Ro(Ce,lt=>{const Zt=Fl(lt,ka);Zt&&Zt!=="no-styles"?Xa(lt,de.parseStyle(Zt)):Is(lt,"style"),Is(lt,ka)})},wr=W.DOM,Na=()=>st(window),bc=de=>window.scrollTo(de.x,de.y),pr=oe().fold(()=>({bind:no,unbind:no}),de=>{const Ce=co(),lt=Vt(),Zt=Vt(),rn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},lr=()=>{window.requestAnimationFrame(()=>{Ce.on(Hs=>Xa(Hs,{top:de.offsetTop+"px",left:de.offsetLeft+"px",height:de.height+"px",width:de.width+"px"}))})},Nr=No(()=>{rn(),lr()},50);return{bind:Hs=>{Ce.set(Hs),Nr.throttle(),lt.set(Yt("resize",Nr.throttle)),Zt.set(Yt("scroll",Nr.throttle))},unbind:()=>{Ce.on(()=>{lt.clear(),Zt.clear()}),Ce.clear()}}}),Id=(de,Ce)=>{const lt=document.body,Zt=document.documentElement,rn=de.getContainer(),lr=ye.fromDom(rn),Nr=fa(lr).filter(ba=>Po(ba)&&Mi(ba,"tox-silver-sink")),us=te(de),Ns=Ce.get(),Hs=ye.fromDom(de.getBody()),ks=ce.deviceType.isTouch(),ha=rn.style,Sl=de.iframeElement,An=Sl==null?void 0:Sl.style,yc=ba=>{ba(lt,"tox-fullscreen"),ba(Zt,"tox-fullscreen"),ba(rn,"tox-fullscreen"),Kr(lr).map(mi=>Yr(mi).dom).each(mi=>{ba(mi,"tox-fullscreen"),ba(mi,"tox-shadowhost")})},Qa=()=>{ks&&ai(de.dom),yc(wr.removeClass),pr.unbind(),ae.from(Ce.get()).each(ba=>ba.fullscreenChangeHandler.unbind())};if(Ns)Ns.fullscreenChangeHandler.unbind(),$(de)&&Wn(us)&&Kn(nn(us)),An.width=Ns.iframeWidth,An.height=Ns.iframeHeight,ha.width=Ns.containerWidth,ha.height=Ns.containerHeight,ha.top=Ns.containerTop,ha.left=Ns.containerLeft,R(Nr,Ns.sinkCssPosition,(ba,mi)=>{Ql(ba,"position",mi)}),Qa(),bc(Ns.scrollPos),Ce.set(null),it(de,!1),de.off("remove",Qa);else{const ba=Bl(nn(us),ve(),ya=>{$(de)&&!Wn(us)&&Ce.get()!==null&&Id(de,Ce)}),mi={scrollPos:Na(),containerWidth:ha.width,containerHeight:ha.height,containerTop:ha.top,containerLeft:ha.left,iframeWidth:An.width,iframeHeight:An.height,fullscreenChangeHandler:ba,sinkCssPosition:Nr.map(ya=>ri(ya,"position"))};ks&&Ri(de.dom,lr,Hs),An.width=An.height="100%",ha.width=ha.height="",yc(wr.addClass),Nr.each(ya=>{Ql(ya,"position","fixed")}),pr.bind(lr),de.on("remove",Qa),Ce.set(mi),$(de)&&vo(us),it(de,!0)}},_l=(de,Ce)=>{de.addCommand("mceFullScreen",()=>{Id(de,Ce)})};var Xi=tinymce.util.Tools.resolve("tinymce.util.VK");const Gs=(de,Ce)=>{de.on("init",()=>{de.on("keydown",lt=>{lt.keyCode===Xi.TAB&&!(lt.metaKey||lt.ctrlKey)&&Ce.get()&&lt.preventDefault()})})},la=(de,Ce)=>lt=>{lt.setActive(Ce.get()!==null);const Zt=rn=>lt.setActive(rn.state);return de.on("FullscreenStateChanged",Zt),()=>de.off("FullscreenStateChanged",Zt)},ds=(de,Ce)=>{const lt=()=>de.execCommand("mceFullScreen");de.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:lt,onSetup:la(de,Ce),context:"any"}),de.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:lt,onSetup:la(de,Ce),shortcut:"Meta+Shift+F",context:"any"})};var Cl=()=>{Ft.add("fullscreen",de=>{const Ce=Bo(null);return de.inline||(lo(de),_l(de,Ce),ds(de,Ce),Gs(de,Ce),de.addShortcut("Meta+Shift+F","","mceFullScreen")),Uo(Ce)})};Cl()}()),MN}var BN;function zB(){return BN||(BN=1,EB()),DN}zB();var FN={},LN={},IN;function AB(){return IN||(IN=1,function(){const Oo=(We,dt,io)=>{var Fo;return io(We,dt.prototype)?!0:((Fo=We.constructor)===null||Fo===void 0?void 0:Fo.name)===dt.name},an=We=>{const dt=typeof We;return We===null?"null":dt==="object"&&Array.isArray(We)?"array":dt==="object"&&Oo(We,String,(io,Fo)=>Fo.isPrototypeOf(io))?"string":dt},Ko=We=>dt=>an(dt)===We,cn=We=>dt=>typeof dt===We,en=We=>dt=>We===dt,ro=Ko("string"),gn=en(void 0),$o=We=>We==null,go=We=>!$o(We),At=cn("function"),tn=(We=>()=>We)(!1);class Gt{constructor(dt,io){this.tag=dt,this.value=io}static some(dt){return new Gt(!0,dt)}static none(){return Gt.singletonNone}fold(dt,io){return this.tag?io(this.value):dt()}isSome(){return this.tag}isNone(){return!this.tag}map(dt){return this.tag?Gt.some(dt(this.value)):Gt.none()}bind(dt){return this.tag?dt(this.value):Gt.none()}exists(dt){return this.tag&&dt(this.value)}forall(dt){return!this.tag||dt(this.value)}filter(dt){return!this.tag||dt(this.value)?this:Gt.none()}getOr(dt){return this.tag?this.value:dt}or(dt){return this.tag?this:dt}getOrThunk(dt){return this.tag?this.value:dt()}orThunk(dt){return this.tag?this:dt()}getOrDie(dt){if(this.tag)return this.value;throw new Error(dt??"Called getOrDie on None")}static from(dt){return go(dt)?Gt.some(dt):Gt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(dt){this.tag&&dt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Gt.singletonNone=new Gt(!1);const Je=Array.prototype.slice,bt=Array.prototype.indexOf,no=(We,dt)=>bt.call(We,dt),ao=(We,dt)=>no(We,dt)>-1,Te=(We,dt)=>{const io=We.length,Fo=new Array(io);for(let rt=0;rt<io;rt++){const xt=We[rt];Fo[rt]=dt(xt,rt)}return Fo},St=(We,dt)=>{const io=[];for(let Fo=0,rt=We.length;Fo<rt;Fo++){const xt=We[Fo];dt(xt,Fo)&&io.push(xt)}return io},wo=(We,dt,io)=>{for(let Fo=0,rt=We.length;Fo<rt;Fo++){const xt=We[Fo];if(dt(xt,Fo))return Gt.some(xt);if(io(xt,Fo))break}return Gt.none()},he=(We,dt)=>wo(We,dt,tn),Xe=(We,dt)=>{const io=Je.call(We,0);return io.sort(dt),io},ae=Object.keys,pt=Object.hasOwnProperty,sn=(We,dt)=>Ro(We,dt)?Gt.from(We[dt]):Gt.none(),Ro=(We,dt)=>pt.call(We,dt),pn=We=>{let dt=We;return{get:()=>dt,set:rt=>{dt=rt}}},Vo=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Nt=0;const D=We=>{const io=new Date().getTime(),Fo=Math.floor(Vo()*1e9);return Nt++,We+"_"+Fo+Nt+String(io)},zt=We=>{const dt=[],io=Fo=>{dt.push(Fo)};for(let Fo=0;Fo<We.length;Fo++)We[Fo].each(io);return dt};var Ot=tinymce.util.Tools.resolve("tinymce.PluginManager");const Lt=We=>({addTab:io=>{var Fo;const rt=(Fo=io.name)!==null&&Fo!==void 0?Fo:D("tab-name"),xt=We.get();xt[rt]=io,We.set(xt)}}),po=(We,dt)=>{We.addCommand("mceHelp",dt)},vt=We=>dt=>dt.options.get(We),so=We=>{const dt=We.options.register;dt("help_tabs",{processor:"array"})},Bo=vt("help_tabs"),je=vt("forced_plugins"),R=(We,dt)=>{We.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:dt,context:"any"}),We.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:dt,context:"any"})};var ut=tinymce.util.Tools.resolve("tinymce.Resource"),tt=tinymce.util.Tools.resolve("tinymce.util.I18n");const Bt=(We,dt)=>ut.load(`tinymce.html-i18n.help-keynav.${dt}`,`${We}/js/i18n/keynav/${dt}.js`),Vt=We=>Bt(We,tt.getCode()).catch(()=>Bt(We,"en")),co=(We,dt)=>{We.on("init",()=>{Vt(dt)})},xo=async We=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await Vt(We)}]});var No=tinymce.util.Tools.resolve("tinymce.Env");const ke=We=>{const dt=No.os.isMacOS()||No.os.isiOS(),rt=dt?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},xt=We.split("+"),oo=Te(xt,qo=>{const Mn=qo.toLowerCase().trim();return Ro(rt,Mn)?rt[Mn]:qo});return dt?oo.join("").replace(/\s/,""):oo.join("+")},Ft=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Uo=()=>{const We=Te(Ft,io=>{const Fo=Te(io.shortcuts,ke).join(" or ");return[io.action,Fo]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:We}]}},Ue=Te([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"uploadcare",name:"Image Optimizer Powered by Uploadcare",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],We=>({...We,type:We.type||"opensource",slug:We.slug||We.key})),me=We=>{const dt=()=>{const _n=St(Ue,({type:ft})=>ft==="premium"),Dt=Xe(Te(_n,ft=>ft.name),(ft,bo)=>ft.localeCompare(bo)),Pt=Te(Dt,ft=>`<li>${ft}</li>`).join("");return"<div><p><b>"+tt.translate("Premium plugins:")+"</b></p><ul>"+Pt+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+tt.translate("Learn more...")+"</a></li></ul></div>"},io=_n=>`<a data-alloy-tabstop="true" tabindex="-1" href="${_n.url}" target="_blank" rel="noopener">${_n.name}</a>`,Fo=(_n,Dt)=>{const Pt=_n.plugins[Dt].getMetadata;if(At(Pt)){const ft=Pt();return{name:ft.name,html:io(ft)}}else return{name:Dt,html:Dt}},rt=(_n,Dt)=>he(Ue,Pt=>Pt.key===Dt).fold(()=>Fo(_n,Dt),Pt=>{const ft=Pt.type==="premium"?`${Pt.name}*`:Pt.name,bo=io({name:ft,url:`https://www.tiny.cloud/docs/tinymce/7/${Pt.slug}/`});return{name:ft,html:bo}}),xt=_n=>{const Dt=ae(_n.plugins),Pt=je(_n),ft=gn(Pt)?["onboarding"]:Pt.concat(["onboarding"]);return St(Dt,bo=>!ao(ft,bo))},oo=_n=>{const Dt=xt(_n),Pt=Xe(Te(Dt,fo=>rt(_n,fo)),(fo,gr)=>fo.name.localeCompare(gr.name)),ft=Te(Pt,fo=>"<li>"+fo.html+"</li>"),bo=ft.length,Rn=ft.join("");return"<p><b>"+tt.translate(["Plugins installed ({0}):",bo])+"</b></p><ul>"+Rn+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(_n=>_n==null?"":"<div>"+oo(_n)+"</div>")(We),dt()].join("")}]}};var xe=tinymce.util.Tools.resolve("tinymce.EditorManager");const Pe=()=>{const io='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/7/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((rt,xt)=>rt.indexOf("@")===0?"X.X.X":rt+"."+xt)(xe.majorVersion,xe.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+tt.translate(["You are using {0}",io])+"</p>",presets:"document"}]}},Ie=(We,dt)=>{const io={},Fo=Te(We,rt=>{var xt;if(ro(rt))return Ro(dt,rt)&&(io[rt]=dt[rt]),rt;{const oo=(xt=rt.name)!==null&&xt!==void 0?xt:D("tab-name");return io[oo]=rt,oo}});return{tabs:io,names:Fo}},ye=We=>{const dt=ae(We),io=dt.indexOf("versions");return io!==-1&&(dt.splice(io,1),dt.push("versions")),{tabs:We,names:dt}},Ee=async(We,dt,io)=>{const Fo=Uo(),rt=await xo(io),xt=me(We),oo=Pe(),qo={[Fo.name]:Fo,[rt.name]:rt,[xt.name]:xt,[oo.name]:oo,...dt.get()};return Gt.from(Bo(We)).fold(()=>ye(qo),Mn=>Ie(Mn,qo))},ot=(We,dt,io)=>()=>{Ee(We,dt,io).then(({tabs:Fo,names:rt})=>{const xt=Te(rt,Mn=>sn(Fo,Mn)),qo={type:"tabpanel",tabs:zt(xt)};We.windowManager.open({title:"Help",size:"medium",body:qo,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var _t=()=>{Ot.add("help",(We,dt)=>{const io=pn({}),Fo=Lt(io);so(We);const rt=ot(We,io,dt);return R(We,rt),po(We,rt),We.shortcuts.add("Alt+0","Open help dialog","mceHelp"),co(We,dt),Fo})};_t()}()),LN}var PN;function TB(){return PN||(PN=1,AB()),FN}TB();var HN={},VN={},jN;function OB(){return jN||(jN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=Object.getPrototypeOf,Ko=($,te,ze)=>{var ve;return ze($,te.prototype)?!0:((ve=$.constructor)===null||ve===void 0?void 0:ve.name)===te.name},cn=$=>{const te=typeof $;return $===null?"null":te==="object"&&Array.isArray($)?"array":te==="object"&&Ko($,String,(ze,ve)=>ve.isPrototypeOf(ze))?"string":te},en=$=>te=>cn(te)===$,ro=$=>te=>typeof te===$,gn=$=>te=>$===te,$o=($,te)=>At($)&&Ko($,te,(ze,ve)=>an(ze)===ve),go=en("string"),At=en("object"),kn=$=>$o($,Object),tn=en("array"),Gt=gn(null),Je=ro("boolean"),bt=$=>$==null,no=$=>!bt($),ao=ro("function"),Te=ro("number"),St=($,te)=>{if(tn($)){for(let ze=0,ve=$.length;ze<ve;++ze)if(!te($[ze]))return!1;return!0}return!1},wo=()=>{};class he{constructor(te,ze){this.tag=te,this.value=ze}static some(te){return new he(!0,te)}static none(){return he.singletonNone}fold(te,ze){return this.tag?ze(this.value):te()}isSome(){return this.tag}isNone(){return!this.tag}map(te){return this.tag?he.some(te(this.value)):he.none()}bind(te){return this.tag?te(this.value):he.none()}exists(te){return this.tag&&te(this.value)}forall(te){return!this.tag||te(this.value)}filter(te){return!this.tag||te(this.value)?this:he.none()}getOr(te){return this.tag?this.value:te}or(te){return this.tag?this:te}getOrThunk(te){return this.tag?this.value:te()}orThunk(te){return this.tag?this:te()}getOrDie(te){if(this.tag)return this.value;throw new Error(te??"Called getOrDie on None")}static from(te){return no(te)?he.some(te):he.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(te){this.tag&&te(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}he.singletonNone=new he(!1);const Xe=Array.prototype.push,ae=$=>{const te=[];for(let ze=0,ve=$.length;ze<ve;++ze){if(!tn($[ze]))throw new Error("Arr.flatten item "+ze+" was not an array, input: "+$);Xe.apply(te,$[ze])}return te},pt=($,te)=>te>=0&&te<$.length?he.some($[te]):he.none(),sn=$=>pt($,0),Ro=($,te)=>{for(let ze=0;ze<$.length;ze++){const ve=te($[ze],ze);if(ve.isSome())return ve}return he.none()},pn=Object.keys,Vo=Object.hasOwnProperty,Nt=($,te)=>{const ze=pn($);for(let ve=0,vo=ze.length;ve<vo;ve++){const Kn=ze[ve],Wn=$[Kn];te(Wn,Kn)}},D=$=>(te,ze)=>{$[ze]=te},zt=($,te,ze,ve)=>{Nt($,(vo,Kn)=>{(te(vo,Kn)?ze:ve)(vo,Kn)})},Ot=($,te)=>{const ze={};return zt($,te,D(ze),wo),ze},Lt=($,te)=>Vo.call($,te),po=($,te)=>Lt($,te)&&$[te]!==void 0&&$[te]!==null,Bo=($=>(...te)=>{if(te.length===0)throw new Error("Can't merge zero objects");const ze={};for(let ve=0;ve<te.length;ve++){const vo=te[ve];for(const Kn in vo)Lt(vo,Kn)&&(ze[Kn]=$(ze[Kn],vo[Kn]))}return ze})(($,te)=>kn($)&&kn(te)?Bo($,te):te),je=$=>$.length>0,R=($,te)=>{const ve=(te||document).createElement("div");if(ve.innerHTML=$,!ve.hasChildNodes()||ve.childNodes.length>1){const vo="HTML does not have a single root node";throw console.error(vo,$),new Error(vo)}return Bt(ve.childNodes[0])},ut=($,te)=>{const ve=(te||document).createElement($);return Bt(ve)},tt=($,te)=>{const ve=(te||document).createTextNode($);return Bt(ve)},Bt=$=>{if($==null)throw new Error("Node cannot be null or undefined");return{dom:$}},co={fromHtml:R,fromTag:ut,fromText:tt,fromDom:Bt,fromPoint:($,te,ze)=>he.from($.dom.elementFromPoint(te,ze)).map(Bt)},xo=($,te,ze)=>{if(go(ze)||Je(ze)||Te(ze))$.setAttribute(te,ze+"");else throw console.error("Invalid call to Attribute.set. Key ",te,":: Value ",ze,":: Element ",$),new Error("Attribute value was not simple")},No=($,te,ze)=>{xo($.dom,te,ze)},ke=($,te)=>{$.dom.removeAttribute(te)};var Ft=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Uo=tinymce.util.Tools.resolve("tinymce.util.URI");const Ue=$=>te=>te.options.get($),me=$=>{const te=$.options.register;te("image_dimensions",{processor:"boolean",default:!0}),te("image_advtab",{processor:"boolean",default:!1}),te("image_uploadtab",{processor:"boolean",default:!0}),te("image_prepend_url",{processor:"string",default:""}),te("image_class_list",{processor:"object[]"}),te("image_description",{processor:"boolean",default:!0}),te("image_title",{processor:"boolean",default:!1}),te("image_caption",{processor:"boolean",default:!1}),te("image_list",{processor:ze=>{const ve=ze===!1||go(ze)||St(ze,At)||ao(ze);return ve?{value:ze,valid:ve}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},xe=Ue("image_dimensions"),Pe=Ue("image_advtab"),Ie=Ue("image_uploadtab"),ye=Ue("image_prepend_url"),Ee=Ue("image_class_list"),ot=Ue("image_description"),_t=Ue("image_title"),We=Ue("image_caption"),dt=Ue("image_list"),io=Ue("a11y_advanced_options"),Fo=Ue("automatic_uploads"),rt=$=>je($.options.get("images_upload_url")),xt=$=>no($.options.get("images_upload_handler")),oo=($,te)=>Math.max(parseInt($,10),parseInt(te,10)),qo=$=>new Promise(te=>{const ze=document.createElement("img"),ve=Kn=>{ze.parentNode&&ze.parentNode.removeChild(ze),te(Kn)};ze.addEventListener("load",()=>{const Kn=oo(ze.width,ze.clientWidth),Wn=oo(ze.height,ze.clientHeight),ka={width:Kn,height:Wn};ve(Promise.resolve(ka))}),ze.addEventListener("error",()=>{ve(Promise.reject(`Failed to get image dimensions for: ${$}`))});const vo=ze.style;vo.visibility="hidden",vo.position="fixed",vo.bottom=vo.left="0px",vo.width=vo.height="auto",document.body.appendChild(ze),ze.src=$}),Mn=$=>($&&($=$.replace(/px$/,"")),$),_n=$=>($.length>0&&/^[0-9]+$/.test($)&&($+="px"),$),Dt=$=>{if($.margin){const te=String($.margin).split(" ");switch(te.length){case 1:$["margin-top"]=$["margin-top"]||te[0],$["margin-right"]=$["margin-right"]||te[0],$["margin-bottom"]=$["margin-bottom"]||te[0],$["margin-left"]=$["margin-left"]||te[0];break;case 2:$["margin-top"]=$["margin-top"]||te[0],$["margin-right"]=$["margin-right"]||te[1],$["margin-bottom"]=$["margin-bottom"]||te[0],$["margin-left"]=$["margin-left"]||te[1];break;case 3:$["margin-top"]=$["margin-top"]||te[0],$["margin-right"]=$["margin-right"]||te[1],$["margin-bottom"]=$["margin-bottom"]||te[2],$["margin-left"]=$["margin-left"]||te[1];break;case 4:$["margin-top"]=$["margin-top"]||te[0],$["margin-right"]=$["margin-right"]||te[1],$["margin-bottom"]=$["margin-bottom"]||te[2],$["margin-left"]=$["margin-left"]||te[3]}delete $.margin}return $},Pt=($,te)=>{const ze=dt($);go(ze)?fetch(ze).then(ve=>{ve.ok&&ve.json().then(te)}):ao(ze)?ze(te):te(ze)},ft=($,te,ze)=>{const ve=()=>{ze.onload=ze.onerror=null,$.selection&&($.selection.select(ze),$.nodeChanged())};ze.onload=()=>{!te.width&&!te.height&&xe($)&&$.dom.setAttribs(ze,{width:String(ze.clientWidth),height:String(ze.clientHeight)}),ve()},ze.onerror=ve},bo=$=>new Promise((te,ze)=>{const ve=new FileReader;ve.onload=()=>{te(ve.result)},ve.onerror=()=>{var vo;ze((vo=ve.error)===null||vo===void 0?void 0:vo.message)},ve.readAsDataURL($)}),Rn=$=>$.nodeName==="IMG"&&($.hasAttribute("data-mce-object")||$.hasAttribute("data-mce-placeholder")),On=($,te)=>{const ze=$.options.get;return Uo.isDomSafe(te,"img",{allow_html_data_urls:ze("allow_html_data_urls"),allow_script_urls:ze("allow_script_urls"),allow_svg_data_urls:ze("allow_svg_data_urls")})},fo=Ft.DOM,gr=$=>$.style.marginLeft&&$.style.marginRight&&$.style.marginLeft===$.style.marginRight?Mn($.style.marginLeft):"",Ur=$=>$.style.marginTop&&$.style.marginBottom&&$.style.marginTop===$.style.marginBottom?Mn($.style.marginTop):"",Ha=$=>$.style.borderWidth?Mn($.style.borderWidth):"",Cn=($,te)=>{var ze;return $.hasAttribute(te)&&(ze=$.getAttribute(te))!==null&&ze!==void 0?ze:""},on=$=>$.parentNode!==null&&$.parentNode.nodeName==="FIGURE",ea=($,te,ze)=>{ze===""||ze===null?$.removeAttribute(te):$.setAttribute(te,ze)},Ya=$=>{const te=fo.create("figure",{class:"image"});fo.insertAfter(te,$),te.appendChild($),te.appendChild(fo.create("figcaption",{contentEditable:"true"},"Caption")),te.contentEditable="false"},Tr=$=>{const te=$.parentNode;no(te)&&(fo.insertAfter($,te),fo.remove(te))},Gn=$=>{on($)?Tr($):Ya($)},Qn=($,te)=>{const ze=$.getAttribute("style"),ve=te(ze!==null?ze:"");ve.length>0?($.setAttribute("style",ve),$.setAttribute("data-mce-style",ve)):$.removeAttribute("style")},ta=($,te)=>(ze,ve,vo)=>{const Kn=ze.style;Kn[ve]?(Kn[ve]=_n(vo),Qn(ze,te)):ea(ze,ve,vo)},Ba=($,te)=>$.style[te]?Mn($.style[te]):Cn($,te),Or=($,te)=>{const ze=_n(te);$.style.marginLeft=ze,$.style.marginRight=ze},Va=($,te)=>{const ze=_n(te);$.style.marginTop=ze,$.style.marginBottom=ze},gt=($,te)=>{const ze=_n(te);$.style.borderWidth=ze},se=($,te)=>{$.style.borderStyle=te},Io=$=>{var te;return(te=$.style.borderStyle)!==null&&te!==void 0?te:""},Yo=$=>no($)&&$.nodeName==="FIGURE",Er=$=>$.nodeName==="IMG",kr=$=>fo.getAttrib($,"alt").length===0&&fo.getAttrib($,"role")==="presentation",Rr=$=>kr($)?"":Cn($,"alt"),Dr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Fs=($,te)=>{var ze;const ve=document.createElement("img");return ea(ve,"style",te.style),(gr(ve)||te.hspace!=="")&&Or(ve,te.hspace),(Ur(ve)||te.vspace!=="")&&Va(ve,te.vspace),(Ha(ve)||te.border!=="")&&gt(ve,te.border),(Io(ve)||te.borderStyle!=="")&&se(ve,te.borderStyle),$((ze=ve.getAttribute("style"))!==null&&ze!==void 0?ze:"")},De=($,te)=>{const ze=document.createElement("img");if(hn($,{...te,caption:!1},ze),Tt(ze,te.alt,te.isDecorative),te.caption){const ve=fo.create("figure",{class:"image"});return ve.appendChild(ze),ve.appendChild(fo.create("figcaption",{contentEditable:"true"},"Caption")),ve.contentEditable="false",ve}else return ze},Fe=($,te)=>({src:Cn(te,"src"),alt:Rr(te),title:Cn(te,"title"),width:Ba(te,"width"),height:Ba(te,"height"),class:Cn(te,"class"),style:$(Cn(te,"style")),caption:on(te),hspace:gr(te),vspace:Ur(te),border:Ha(te),borderStyle:Io(te),isDecorative:kr(te)}),wt=($,te,ze,ve,vo)=>{ze[ve]!==te[ve]&&vo($,ve,String(ze[ve]))},Tt=($,te,ze)=>{if(ze){fo.setAttrib($,"role","presentation");const ve=co.fromDom($);No(ve,"alt","")}else{if(Gt(te)){const ve=co.fromDom($);ke(ve,"alt")}else{const ve=co.fromDom($);No(ve,"alt",te)}fo.getAttrib($,"role")==="presentation"&&fo.setAttrib($,"role","")}},ko=($,te,ze)=>{(ze.alt!==te.alt||ze.isDecorative!==te.isDecorative)&&Tt($,ze.alt,ze.isDecorative)},Jo=($,te)=>(ze,ve,vo)=>{$(ze,vo),Qn(ze,te)},hn=($,te,ze)=>{const ve=Fe($,ze);wt(ze,ve,te,"caption",(vo,Kn,Wn)=>Gn(vo)),wt(ze,ve,te,"src",ea),wt(ze,ve,te,"title",ea),wt(ze,ve,te,"width",ta("width",$)),wt(ze,ve,te,"height",ta("height",$)),wt(ze,ve,te,"class",ea),wt(ze,ve,te,"style",Jo((vo,Kn)=>ea(vo,"style",Kn),$)),wt(ze,ve,te,"hspace",Jo(Or,$)),wt(ze,ve,te,"vspace",Jo(Va,$)),wt(ze,ve,te,"border",Jo(gt,$)),wt(ze,ve,te,"borderStyle",Jo(se,$)),ko(ze,ve,te)},cr=($,te)=>{const ze=$.dom.styles.parse(te),ve=Dt(ze),vo=$.dom.styles.parse($.dom.styles.serialize(ve));return $.dom.styles.serialize(vo)},ur=$=>{const te=$.selection.getNode(),ze=$.dom.getParent(te,"figure.image");return ze?$.dom.select("img",ze)[0]:te&&(te.nodeName!=="IMG"||Rn(te))?null:te},ir=($,te)=>{var ze;const ve=$.dom,vo=Ot($.schema.getTextBlockElements(),(Wn,ka)=>!$.schema.isValidChild(ka,"figure")),Kn=ve.getParent(te.parentNode,Wn=>po(vo,Wn.nodeName),$.getBody());return Kn&&(ze=ve.split(Kn,te))!==null&&ze!==void 0?ze:te},Le=$=>{const te=ur($);return te?Fe(ze=>cr($,ze),te):Dr()},Be=($,te)=>{const ze=De(vo=>cr($,vo),te);$.dom.setAttrib(ze,"data-mce-id","__mcenew"),$.focus(),$.selection.setContent(ze.outerHTML);const ve=$.dom.select('*[data-mce-id="__mcenew"]')[0];if($.dom.setAttrib(ve,"data-mce-id",null),Yo(ve)){const vo=ir($,ve);$.selection.select(vo)}else $.selection.select(ve)},Kt=($,te)=>{$.dom.setAttrib(te,"src",te.getAttribute("src"))},Po=($,te)=>{if(te){const ze=$.dom.is(te.parentNode,"figure.image")?te.parentNode:te;$.dom.remove(ze),$.focus(),$.nodeChanged(),$.dom.isEmpty($.getBody())&&($.setContent(""),$.selection.setCursorLocation())}},Do=($,te)=>{const ze=ur($);if(ze)if(hn(ve=>cr($,ve),te,ze),Kt($,ze),Yo(ze.parentNode)){$.dom.setStyle(ze,"float","");const ve=ze.parentNode;ir($,ve),$.selection.select(ze.parentNode)}else $.selection.select(ze),ft($,te,ze)},vn=($,te)=>{const ze=te.src;return{...te,src:On($,ze)?ze:""}},xn=($,te)=>{const ze=ur($);if(ze){const vo={...Fe(Wn=>cr($,Wn),ze),...te},Kn=vn($,vo);vo.src?Do($,Kn):Po($,ze)}else te.src&&Be($,{...Dr(),...te})};var nn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),zn=tinymce.util.Tools.resolve("tinymce.util.Tools");const eo=$=>go($.value)?$.value:"",Pr=$=>go($.text)?$.text:go($.title)?$.title:"",fa=($,te)=>{const ze=[];return zn.each($,ve=>{const vo=Pr(ve);if(ve.menu!==void 0){const Kn=fa(ve.menu,te);ze.push({text:vo,items:Kn})}else{const Kn=te(ve);ze.push({text:vo,value:Kn})}}),ze},qs=($=eo)=>te=>te?he.from(te).map(ze=>fa(ze,$)):he.none(),cs=$=>qs(eo)($),Ci=$=>Lt($,"items"),Kr=($,te)=>Ro($,ze=>Ci(ze)?Kr(ze.items,te):ze.value===te?he.some(ze):he.none()),Br={sanitizer:qs,sanitize:cs,findEntry:($,te)=>$.bind(ze=>Kr(ze,te))},cl={makeTab:$=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},zr=$=>{const te=Br.sanitizer(wr=>$.convertURL(wr.value||wr.url||"","src")),ze=new Promise(wr=>{Pt($,Na=>{wr(te(Na).map(bc=>ae([[{text:"None",value:""}],bc])))})}),ve=Br.sanitize(Ee($)),vo=Pe($),Kn=Ie($),Wn=rt($),ka=xt($),Se=Le($),Oa=ot($),vs=_t($),xs=xe($),na=We($),md=io($),Ri=Fo($),ai=he.some(ye($)).filter(wr=>go(wr)&&wr.length>0);return ze.then(wr=>({image:Se,imageList:wr,classList:ve,hasAdvTab:vo,hasUploadTab:Kn,hasUploadUrl:Wn,hasUploadHandler:ka,hasDescription:Oa,hasImageTitle:vs,hasDimensions:xs,hasImageCaption:na,prependURL:ai,hasAccessibilityOptions:md,automaticUploads:Ri}))},oi=$=>{const te={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},ze=$.imageList.map(vs=>({name:"images",type:"listbox",label:"Image list",items:vs})),ve={name:"alt",type:"input",label:"Alternative description",enabled:!($.hasAccessibilityOptions&&$.image.isDecorative)},vo={name:"title",type:"input",label:"Image title"},Kn={name:"dimensions",type:"sizeinput"},Wn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},ka=$.classList.map(vs=>({name:"classes",type:"listbox",label:"Class",items:vs})),Se={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Oa=vs=>vs?{type:"grid",columns:2}:{type:"panel"};return ae([[te],ze.toArray(),$.hasAccessibilityOptions&&$.hasDescription?[Wn]:[],$.hasDescription?[ve]:[],$.hasImageTitle?[vo]:[],$.hasDimensions?[Kn]:[],[{...Oa($.classList.isSome()&&$.hasImageCaption),items:ae([ka.toArray(),$.hasImageCaption?[Se]:[]])}]])},Ni={makeTab:$=>({title:"General",name:"general",items:oi($)}),makeItems:oi},Di={makeTab:$=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Bl=$=>({prevImage:Br.findEntry($.imageList,$.image.src),prevAlt:$.image.alt,open:!0}),Os=$=>({src:{value:$.src,meta:{}},images:$.src,alt:$.alt,title:$.title,dimensions:{width:$.width,height:$.height},classes:$.class,caption:$.caption,style:$.style,vspace:$.vspace,border:$.border,hspace:$.hspace,borderstyle:$.borderStyle,fileinput:[],isDecorative:$.isDecorative}),ni=($,te)=>({src:$.src.value,alt:($.alt===null||$.alt.length===0)&&te?null:$.alt,title:$.title,width:$.dimensions.width,height:$.dimensions.height,class:$.classes,style:$.style,caption:$.caption,hspace:$.hspace,vspace:$.vspace,border:$.border,borderStyle:$.borderstyle,isDecorative:$.isDecorative}),Fl=($,te)=>/^(?:[a-zA-Z]+:)?\/\//.test(te)?he.none():$.prependURL.bind(ze=>te.substring(0,ze.length)!==ze?he.some(ze+te):he.none()),Is=($,te)=>{const ze=te.getData();Fl($,ze.src.value).each(ve=>{te.setData({src:{value:ve,meta:ze.src.meta}})})},wa=($,te,ze)=>{$.hasDescription&&go(ze.alt)&&(te.alt=ze.alt),$.hasAccessibilityOptions&&(te.isDecorative=ze.isDecorative||te.isDecorative||!1),$.hasImageTitle&&go(ze.title)&&(te.title=ze.title),$.hasDimensions&&(go(ze.width)&&(te.dimensions.width=ze.width),go(ze.height)&&(te.dimensions.height=ze.height)),go(ze.class)&&Br.findEntry($.classList,ze.class).each(ve=>{te.classes=ve.value}),$.hasImageCaption&&Je(ze.caption)&&(te.caption=ze.caption),$.hasAdvTab&&(go(ze.style)&&(te.style=ze.style),go(ze.vspace)&&(te.vspace=ze.vspace),go(ze.border)&&(te.border=ze.border),go(ze.hspace)&&(te.hspace=ze.hspace),go(ze.borderstyle)&&(te.borderstyle=ze.borderstyle))},wl=($,te)=>{const ze=te.getData(),ve=ze.src.meta;if(ve!==void 0){const vo=Bo({},ze);wa($,vo,ve),te.setData(vo)}},Ki=($,te,ze,ve)=>{const vo=ve.getData(),Kn=vo.src.value,Wn=vo.src.meta||{};!Wn.width&&!Wn.height&&te.hasDimensions&&(je(Kn)?$.imageSize(Kn).then(ka=>{ze.open&&ve.setData({dimensions:ka})}).catch(ka=>console.error(ka)):ve.setData({dimensions:{width:"",height:""}}))},Yi=($,te,ze)=>{const ve=ze.getData(),vo=Br.findEntry($.imageList,ve.src.value);te.prevImage=vo,ze.setData({images:vo.map(Kn=>Kn.value).getOr("")})},Ql=($,te,ze,ve)=>{Is(te,ve),wl(te,ve),Ki($,te,ze,ve),Yi(te,ze,ve)},Xa=($,te,ze,ve)=>{const vo=ve.getData(),Kn=Br.findEntry(te.imageList,vo.images);Kn.each(Wn=>{vo.alt===""||ze.prevImage.map(Se=>Se.text===vo.alt).getOr(!1)?Wn.value===""?ve.setData({src:Wn,alt:ze.prevAlt}):ve.setData({src:Wn,alt:Wn.text}):ve.setData({src:Wn})}),ze.prevImage=Kn,Ql($,te,ze,ve)},ri=($,te,ze,ve)=>{const vo=ve.getData();ve.block("Uploading image"),sn(vo.fileinput).fold(()=>{ve.unblock()},Kn=>{const Wn=URL.createObjectURL(Kn),ka=()=>{ve.unblock(),URL.revokeObjectURL(Wn)},Se=Oa=>{ve.setData({src:{value:Oa,meta:{}}}),ve.showTab("general"),Ql($,te,ze,ve),ve.focus("src")};bo(Kn).then(Oa=>{const vs=$.createBlobCache(Kn,Wn,Oa);te.automaticUploads?$.uploadImage(vs).then(xs=>{Se(xs.url),ka()}).catch(xs=>{ka(),$.alertErr(xs,()=>{ve.focus("fileinput")})}):($.addToBlobCache(vs),Se(vs.blobUri()),ve.unblock())})})},ec=($,te,ze)=>(ve,vo)=>{vo.name==="src"?Ql($,te,ze,ve):vo.name==="images"?Xa($,te,ze,ve):vo.name==="alt"?ze.prevAlt=ve.getData().alt:vo.name==="fileinput"?ri($,te,ze,ve):vo.name==="isDecorative"&&ve.setEnabled("alt",!ve.getData().isDecorative)},Ll=$=>()=>{$.open=!1},Ps=$=>$.hasAdvTab||$.hasUploadUrl||$.hasUploadHandler?{type:"tabpanel",tabs:ae([[Ni.makeTab($)],$.hasAdvTab?[cl.makeTab($)]:[],$.hasUploadTab&&($.hasUploadUrl||$.hasUploadHandler)?[Di.makeTab($)]:[]])}:{type:"panel",items:Ni.makeItems($)},pc=($,te,ze)=>ve=>{const vo=Bo(Os(te.image),ve.getData()),Kn={...vo,style:Fs(ze.normalizeCss,ni(vo,!1))};$.execCommand("mceUpdateImage",!1,ni(Kn,te.hasAccessibilityOptions)),$.editorUpload.uploadImagesAuto(),ve.close()},Si=$=>te=>On($,te)?qo($.documentBaseURI.toAbsolute(te)).then(ze=>({width:String(ze.width),height:String(ze.height)})):Promise.resolve({width:"",height:""}),Mi=$=>(te,ze,ve)=>{var vo;return $.editorUpload.blobCache.create({blob:te,blobUri:ze,name:(vo=te.name)===null||vo===void 0?void 0:vo.replace(/\.[^\.]+$/,""),filename:te.name,base64:ve.split(",")[1]})},fc=$=>te=>{$.editorUpload.blobCache.add(te)},Kc=$=>(te,ze)=>{$.windowManager.alert(te,ze)},hc=$=>te=>cr($,te),kl=$=>te=>$.dom.parseStyle(te),Ja=$=>(te,ze)=>$.dom.serializeStyle(te,ze),oe=$=>te=>nn($).upload([te],!1).then(ze=>{var ve;return ze.length===0?Promise.reject("Failed to upload image"):ze[0].status===!1?Promise.reject((ve=ze[0].error)===null||ve===void 0?void 0:ve.message):ze[0]}),_e=$=>{const te={imageSize:Si($),addToBlobCache:fc($),createBlobCache:Mi($),alertErr:Kc($),normalizeCss:hc($),parseStyle:kl($),serializeStyle:Ja($),uploadImage:oe($)};return{open:()=>{zr($).then(ve=>{const vo=Bl(ve);return{title:"Insert/Edit Image",size:"normal",body:Ps(ve),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Os(ve.image),onSubmit:pc($,ve,te),onChange:ec(te,ve,vo),onClose:Ll(vo)}}).then($.windowManager.open)}}},st=$=>{$.addCommand("mceImage",_e($).open),$.addCommand("mceUpdateImage",(te,ze)=>{$.undoManager.transact(()=>xn($,ze))})},Yt=$=>{const te=$.attr("class");return no(te)&&/\bimage\b/.test(te)},W=$=>te=>{let ze=te.length;const ve=vo=>{vo.attr("contenteditable",$?"true":null)};for(;ze--;){const vo=te[ze];Yt(vo)&&(vo.attr("contenteditable",$?"false":null),zn.each(vo.getAll("figcaption"),ve))}},ce=$=>{$.on("PreInit",()=>{$.parser.addNodeFilter("figure",W(!0)),$.serializer.addNodeFilter("figure",W(!1))})},it=$=>te=>{const ze=()=>{te.setEnabled($.selection.isEditable())};return $.on("NodeChange",ze),ze(),()=>{$.off("NodeChange",ze)}},mo=$=>{$.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:_e($).open,onSetup:te=>{te.setActive(no(ur($)));const ze=$.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",te.setActive).unbind,ve=it($)(te);return()=>{ze(),ve()}}}),$.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:_e($).open,onSetup:it($)}),$.ui.registry.addContextMenu("image",{update:te=>$.selection.isEditable()&&(Yo(te)||Er(te)&&!Rn(te))?["image"]:[]})};var lo=()=>{Oo.add("image",$=>{me($),ce($),mo($),st($)})};lo()}()),VN}var $N;function NB(){return $N||($N=1,OB()),HN}NB();var UN={},ZN={},qN;function DB(){return qN||(qN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(ke,Ft,Uo)=>{var Ue;return Uo(ke,Ft.prototype)?!0:((Ue=ke.constructor)===null||Ue===void 0?void 0:Ue.name)===Ft.name},Ko=ke=>{const Ft=typeof ke;return ke===null?"null":Ft==="object"&&Array.isArray(ke)?"array":Ft==="object"&&an(ke,String,(Uo,Ue)=>Ue.isPrototypeOf(Uo))?"string":Ft},cn=ke=>Ft=>Ko(Ft)===ke,en=ke=>Ft=>typeof Ft===ke,ro=cn("string"),gn=cn("object"),$o=cn("array"),go=en("function"),At=Array.prototype.push,kn=(ke,Ft)=>{const Uo=ke.length,Ue=new Array(Uo);for(let me=0;me<Uo;me++){const xe=ke[me];Ue[me]=Ft(xe,me)}return Ue},tn=ke=>{const Ft=[];for(let Uo=0,Ue=ke.length;Uo<Ue;++Uo){if(!$o(ke[Uo]))throw new Error("Arr.flatten item "+Uo+" was not an array, input: "+ke);At.apply(Ft,ke[Uo])}return Ft},Gt=(ke,Ft)=>tn(kn(ke,Ft));var Je=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),bt=tinymce.util.Tools.resolve("tinymce.EditorManager"),no=tinymce.util.Tools.resolve("tinymce.Env"),ao=tinymce.util.Tools.resolve("tinymce.util.Tools");const Te=ke=>Ft=>Ft.options.get(ke),St=ke=>{const Ft=ke.options.register,Uo=Ue=>ro(Ue)||go(Ue)||gn(Ue);Ft("importcss_merge_classes",{processor:"boolean",default:!0}),Ft("importcss_exclusive",{processor:"boolean",default:!0}),Ft("importcss_selector_converter",{processor:"function"}),Ft("importcss_selector_filter",{processor:Uo}),Ft("importcss_file_filter",{processor:Uo}),Ft("importcss_groups",{processor:"object[]"}),Ft("importcss_append",{processor:"boolean",default:!1})},wo=Te("importcss_merge_classes"),he=Te("importcss_exclusive"),Xe=Te("importcss_selector_converter"),ae=Te("importcss_selector_filter"),pt=Te("importcss_groups"),sn=Te("importcss_append"),Ro=Te("importcss_file_filter"),pn=Te("skin"),Vo=Te("skin_url"),Nt=()=>{const ke=[],Ft=[],Uo={};return{addItemToGroup:(Pe,Ie)=>{Uo[Pe]?Uo[Pe].push(Ie):(Ft.push(Pe),Uo[Pe]=[Ie])},addItem:Pe=>{ke.push(Pe)},toFormats:()=>Gt(Ft,Ie=>{const ye=Uo[Ie];return ye.length===0?[]:[{title:Ie,items:ye}]}).concat(ke)}},D=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,zt=ke=>{const Ft=no.cacheSuffix;return ro(ke)&&(ke=ke.replace("?"+Ft,"").replace("&"+Ft,"")),ke},Ot=(ke,Ft)=>{const Uo=pn(ke);if(Uo){const Ue=Vo(ke),me=Ue?ke.documentBaseURI.toAbsolute(Ue):bt.baseURL+"/skins/ui/"+Uo,xe=bt.baseURL+"/skins/content/",Pe=ke.editorManager.suffix;return Ft===me+"/content"+(ke.inline?".inline":"")+`${Pe}.css`||Ft.indexOf(xe)!==-1}return!1},Lt=ke=>ro(ke)?Ft=>Ft.indexOf(ke)!==-1:ke instanceof RegExp?Ft=>ke.test(Ft):ke,po=ke=>ke.styleSheet,vt=ke=>ke.selectorText,so=(ke,Ft,Uo)=>{const Ue=[],me={},xe=(Pe,Ie)=>{let ye=Pe.href,Ee;if(ye=zt(ye),!(!ye||Uo&&!Uo(ye,Ie)||Ot(ke,ye))){ao.each(Pe.imports,ot=>{xe(ot,!0)});try{Ee=Pe.cssRules||Pe.rules}catch{}ao.each(Ee,ot=>{po(ot)&&ot.styleSheet?xe(ot.styleSheet,!0):vt(ot)&&ao.each(ot.selectorText.split(","),_t=>{Ue.push(ao.trim(_t))})})}};ao.each(ke.contentCSS,Pe=>{me[Pe]=!0}),Uo||(Uo=(Pe,Ie)=>Ie||me[Pe]);try{ao.each(Ft.styleSheets,Pe=>{xe(Pe)})}catch{}return Ue},Bo=(ke,Ft)=>{let Uo={};const Ue=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(Ft);if(!Ue)return;const me=Ue[1],xe=Ue[2].substr(1).split(".").join(" "),Pe=ao.makeMap("a,img");return Ue[1]?(Uo={title:Ft},ke.schema.getTextBlockElements()[me]?Uo.block=me:ke.schema.getBlockElements()[me]||Pe[me.toLowerCase()]?Uo.selector=me:Uo.inline=me):Ue[2]&&(Uo={inline:"span",title:Ft.substr(1),classes:xe}),wo(ke)?Uo.classes=xe:Uo.attributes={class:xe},Uo},je=(ke,Ft)=>ao.grep(ke,Uo=>!Uo.filter||Uo.filter(Ft)),R=ke=>ao.map(ke,Ft=>ao.extend({},Ft,{original:Ft,selectors:{},filter:Lt(Ft.filter)})),ut=(ke,Ft)=>Ft===null||he(ke),tt=(ke,Ft,Uo,Ue)=>!(ut(ke,Uo)?Ft in Ue:Ft in Uo.selectors),Bt=(ke,Ft,Uo,Ue)=>{ut(ke,Uo)?Ue[Ft]=!0:Uo.selectors[Ft]=!0},Vt=(ke,Ft,Uo,Ue)=>{let me;const xe=Xe(ke);return Ue&&Ue.selector_converter?me=Ue.selector_converter:xe?me=xe:me=()=>Bo(ke,Uo),me.call(Ft,Uo,Ue)},co=ke=>{ke.on("init",()=>{const Ft=Nt(),Uo={},Ue=Lt(ae(ke)),me=R(pt(ke)),xe=(Ie,ye)=>{if(tt(ke,Ie,ye,Uo)){Bt(ke,Ie,ye,Uo);const Ee=Vt(ke,ke.plugins.importcss,Ie,ye);if(Ee){const ot=Ee.name||Je.DOM.uniqueId();return ke.formatter.register(ot,Ee),{title:Ee.title,format:ot}}}return null};ao.each(so(ke,ke.getDoc(),Lt(Ro(ke))),Ie=>{if(!D.test(Ie)&&(!Ue||Ue(Ie))){const ye=je(me,Ie);if(ye.length>0)ao.each(ye,Ee=>{const ot=xe(Ie,Ee);ot&&Ft.addItemToGroup(Ee.title,ot)});else{const Ee=xe(Ie,null);Ee&&Ft.addItem(Ee)}}});const Pe=Ft.toFormats();ke.dispatch("addStyleModifications",{items:Pe,replace:!sn(ke)})})},xo=ke=>({convertSelectorToFormat:Uo=>Bo(ke,Uo)});var No=()=>{Oo.add("importcss",ke=>(St(ke),co(ke),xo(ke)))};No()}()),ZN}var WN;function MB(){return WN||(WN=1,DB()),UN}MB();var GN={},KN={},YN;function RB(){return YN||(YN=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=ae=>pt=>pt.options.get(ae),Ko=ae=>{const pt=ae.options.register;pt("insertdatetime_dateformat",{processor:"string",default:ae.translate("%Y-%m-%d")}),pt("insertdatetime_timeformat",{processor:"string",default:ae.translate("%H:%M:%S")}),pt("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),pt("insertdatetime_element",{processor:"boolean",default:!1})},cn=an("insertdatetime_dateformat"),en=an("insertdatetime_timeformat"),ro=an("insertdatetime_formats"),gn=an("insertdatetime_element"),$o=ae=>{const pt=ro(ae);return pt.length>0?pt[0]:en(ae)},go="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),At="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),kn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),tn="January February March April May June July August September October November December".split(" "),Gt=(ae,pt)=>{if(ae=""+ae,ae.length<pt)for(let sn=0;sn<pt-ae.length;sn++)ae="0"+ae;return ae},Je=(ae,pt,sn=new Date)=>(pt=pt.replace("%D","%m/%d/%Y"),pt=pt.replace("%r","%I:%M:%S %p"),pt=pt.replace("%Y",""+sn.getFullYear()),pt=pt.replace("%y",""+sn.getYear()),pt=pt.replace("%m",Gt(sn.getMonth()+1,2)),pt=pt.replace("%d",Gt(sn.getDate(),2)),pt=pt.replace("%H",""+Gt(sn.getHours(),2)),pt=pt.replace("%M",""+Gt(sn.getMinutes(),2)),pt=pt.replace("%S",""+Gt(sn.getSeconds(),2)),pt=pt.replace("%I",""+((sn.getHours()+11)%12+1)),pt=pt.replace("%p",sn.getHours()<12?"AM":"PM"),pt=pt.replace("%B",""+ae.translate(tn[sn.getMonth()])),pt=pt.replace("%b",""+ae.translate(kn[sn.getMonth()])),pt=pt.replace("%A",""+ae.translate(At[sn.getDay()])),pt=pt.replace("%a",""+ae.translate(go[sn.getDay()])),pt=pt.replace("%%","%"),pt),bt=(ae,pt,sn,Ro)=>{const pn=ae.dom.create("time",{datetime:sn},Ro);ae.dom.replace(pn,pt),ae.selection.select(pn,!0),ae.selection.collapse(!1)},no=(ae,pt)=>{if(gn(ae)&&ae.selection.isEditable()){const sn=Je(ae,pt);let Ro;/%[HMSIp]/.test(pt)?Ro=Je(ae,"%Y-%m-%dT%H:%M"):Ro=Je(ae,"%Y-%m-%d");const pn=ae.dom.getParent(ae.selection.getStart(),"time");pn?bt(ae,pn,Ro,sn):ae.insertContent('<time datetime="'+Ro+'">'+sn+"</time>")}else ae.insertContent(Je(ae,pt))},ao=ae=>{ae.addCommand("mceInsertDate",(pt,sn)=>{no(ae,sn??cn(ae))}),ae.addCommand("mceInsertTime",(pt,sn)=>{no(ae,sn??en(ae))})},Te=ae=>{let pt=ae;return{get:()=>pt,set:pn=>{pt=pn}}};var St=tinymce.util.Tools.resolve("tinymce.util.Tools");const wo=ae=>pt=>{const sn=()=>{pt.setEnabled(ae.selection.isEditable())};return ae.on("NodeChange",sn),sn(),()=>{ae.off("NodeChange",sn)}},he=ae=>{const pt=ro(ae),sn=Te($o(ae)),Ro=Vo=>ae.execCommand("mceInsertDate",!1,Vo);ae.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Vo=>Vo===sn.get(),fetch:Vo=>{Vo(St.map(pt,Nt=>({type:"choiceitem",text:Je(ae,Nt),value:Nt})))},onAction:Vo=>{Ro(sn.get())},onItemAction:(Vo,Nt)=>{sn.set(Nt),Ro(Nt)},onSetup:wo(ae)});const pn=Vo=>()=>{sn.set(Vo),Ro(Vo)};ae.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>St.map(pt,Vo=>({type:"menuitem",text:Je(ae,Vo),onAction:pn(Vo)})),onSetup:wo(ae)})};var Xe=()=>{Oo.add("insertdatetime",ae=>{Ko(ae),ao(ae),he(ae)})};Xe()}()),KN}var XN;function BB(){return XN||(XN=1,RB()),GN}BB();var JN={},QN={},eD;function FB(){return eD||(eD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(oe,_e,st)=>{var Yt;return st(oe,_e.prototype)?!0:((Yt=oe.constructor)===null||Yt===void 0?void 0:Yt.name)===_e.name},Ko=oe=>{const _e=typeof oe;return oe===null?"null":_e==="object"&&Array.isArray(oe)?"array":_e==="object"&&an(oe,String,(st,Yt)=>Yt.isPrototypeOf(st))?"string":_e},cn=oe=>_e=>Ko(_e)===oe,en=oe=>_e=>typeof _e===oe,ro=oe=>_e=>oe===_e,gn=cn("string"),$o=cn("object"),go=cn("array"),At=ro(null),kn=en("boolean"),tn=oe=>oe==null,Gt=oe=>!tn(oe),Je=en("function"),bt=(oe,_e)=>{if(go(oe)){for(let st=0,Yt=oe.length;st<Yt;++st)if(!_e(oe[st]))return!1;return!0}return!1},no=()=>{},ao=oe=>()=>oe,Te=(oe,_e)=>oe===_e;class St{constructor(_e,st){this.tag=_e,this.value=st}static some(_e){return new St(!0,_e)}static none(){return St.singletonNone}fold(_e,st){return this.tag?st(this.value):_e()}isSome(){return this.tag}isNone(){return!this.tag}map(_e){return this.tag?St.some(_e(this.value)):St.none()}bind(_e){return this.tag?_e(this.value):St.none()}exists(_e){return this.tag&&_e(this.value)}forall(_e){return!this.tag||_e(this.value)}filter(_e){return!this.tag||_e(this.value)?this:St.none()}getOr(_e){return this.tag?this.value:_e}or(_e){return this.tag?this:_e}getOrThunk(_e){return this.tag?this.value:_e()}orThunk(_e){return this.tag?this:_e()}getOrDie(_e){if(this.tag)return this.value;throw new Error(_e??"Called getOrDie on None")}static from(_e){return Gt(_e)?St.some(_e):St.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_e){this.tag&&_e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}St.singletonNone=new St(!1);const wo=Array.prototype.indexOf,he=Array.prototype.push,Xe=(oe,_e)=>wo.call(oe,_e),ae=(oe,_e)=>Xe(oe,_e)>-1,pt=(oe,_e)=>{const st=oe.length,Yt=new Array(st);for(let W=0;W<st;W++){const ce=oe[W];Yt[W]=_e(ce,W)}return Yt},sn=(oe,_e)=>{for(let st=0,Yt=oe.length;st<Yt;st++){const W=oe[st];_e(W,st)}},Ro=(oe,_e,st)=>(sn(oe,(Yt,W)=>{st=_e(st,Yt,W)}),st),pn=oe=>{const _e=[];for(let st=0,Yt=oe.length;st<Yt;++st){if(!go(oe[st]))throw new Error("Arr.flatten item "+st+" was not an array, input: "+oe);he.apply(_e,oe[st])}return _e},Vo=(oe,_e)=>pn(pt(oe,_e)),Nt=(oe,_e)=>{for(let st=0;st<oe.length;st++){const Yt=_e(oe[st],st);if(Yt.isSome())return Yt}return St.none()},D=Object.keys,zt=Object.hasOwnProperty,Ot=(oe,_e)=>{const st=D(oe);for(let Yt=0,W=st.length;Yt<W;Yt++){const ce=st[Yt],it=oe[ce];_e(it,ce)}},Lt=oe=>(_e,st)=>{oe[st]=_e},po=(oe,_e,st,Yt)=>{Ot(oe,(W,ce)=>{(_e(W,ce)?st:Yt)(W,ce)})},vt=(oe,_e)=>{const st={};return po(oe,_e,Lt(st),no),st},so=(oe,_e)=>zt.call(oe,_e),Bo=(oe,_e)=>so(oe,_e)&&oe[_e]!==void 0&&oe[_e]!==null,je=oe=>{let _e=oe;return{get:()=>_e,set:W=>{_e=W}}},R=(oe,_e,st=Te)=>oe.exists(Yt=>st(Yt,_e)),ut=oe=>{const _e=[],st=Yt=>{_e.push(Yt)};for(let Yt=0;Yt<oe.length;Yt++)oe[Yt].each(st);return _e},tt=(oe,_e)=>oe?St.some(_e):St.none(),Bt=oe=>{const _e=je(St.none()),st=()=>_e.get().each(oe);return{clear:()=>{st(),_e.set(St.none())},isSet:()=>_e.get().isSome(),get:()=>_e.get(),set:mo=>{st(),_e.set(St.some(mo))}}},Vt=()=>{const oe=Bt(no);return{...oe,on:st=>oe.get().each(st)}},co=(oe,_e)=>oe.substring(_e),xo=(oe,_e,st)=>_e===""||oe.length>=_e.length&&oe.substr(st,st+_e.length)===_e,No=(oe,_e)=>ke(oe,_e)?co(oe,_e.length):oe,ke=(oe,_e)=>xo(oe,_e,0),Ft=oe=>_e=>_e.options.get(oe),Uo=oe=>{const _e=oe.options.register;_e("link_assume_external_targets",{processor:st=>{const Yt=gn(st)||kn(st);return Yt?st===!0?{value:1,valid:Yt}:st==="http"||st==="https"?{value:st,valid:Yt}:{value:0,valid:Yt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),_e("link_context_toolbar",{processor:"boolean",default:!1}),_e("link_list",{processor:st=>gn(st)||Je(st)||bt(st,$o)}),_e("link_default_target",{processor:"string"}),_e("link_default_protocol",{processor:"string",default:"https"}),_e("link_target_list",{processor:st=>kn(st)||bt(st,$o),default:!0}),_e("link_rel_list",{processor:"object[]",default:[]}),_e("link_class_list",{processor:"object[]",default:[]}),_e("link_title",{processor:"boolean",default:!0}),_e("allow_unsafe_link_target",{processor:"boolean",default:!1}),_e("link_quicklink",{processor:"boolean",default:!1}),_e("link_attributes_postprocess",{processor:"function"})},Ue=Ft("link_assume_external_targets"),me=Ft("link_context_toolbar"),xe=Ft("link_list"),Pe=Ft("link_default_target"),Ie=Ft("link_default_protocol"),ye=Ft("link_target_list"),Ee=Ft("link_rel_list"),ot=Ft("link_class_list"),_t=Ft("link_title"),We=Ft("allow_unsafe_link_target"),dt=Ft("link_quicklink"),io=Ft("link_attributes_postprocess");var Fo=tinymce.util.Tools.resolve("tinymce.util.URI"),rt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xt=tinymce.util.Tools.resolve("tinymce.util.Tools");const oo=oe=>Gt(oe)&&oe.nodeName.toLowerCase()==="a",qo=oe=>oo(oe)&&!!Dt(oe),Mn=(oe,_e)=>{if(oe.collapsed)return[];{const st=oe.cloneContents(),Yt=st.firstChild,W=new rt(Yt,st),ce=[];let it=Yt;do _e(it)&&ce.push(it);while(it=W.next());return ce}},_n=oe=>/^\w+:/i.test(oe),Dt=oe=>{var _e,st;return(st=(_e=oe.getAttribute("data-mce-href"))!==null&&_e!==void 0?_e:oe.getAttribute("href"))!==null&&st!==void 0?st:""},Pt=(oe,_e)=>{const st=["noopener"],Yt=oe?oe.split(/\s+/):[],W=lo=>xt.trim(lo.sort().join(" ")),ce=lo=>(lo=it(lo),lo.length>0?lo.concat(st):st),it=lo=>lo.filter($=>xt.inArray(st,$)===-1),mo=_e?ce(Yt):it(Yt);return mo.length>0?W(mo):""},ft=oe=>oe.replace(/\uFEFF/g,""),bo=(oe,_e)=>(_e=_e||fo(oe.selection.getRng())[0]||oe.selection.getNode(),on(_e)?St.from(oe.dom.select("a[href]",_e)[0]):St.from(oe.dom.getParent(_e,"a[href]"))),Rn=(oe,_e)=>bo(oe,_e).isSome(),On=(oe,_e)=>{const st=_e.fold(()=>oe.getContent({format:"text"}),Yt=>Yt.innerText||Yt.textContent||"");return ft(st)},fo=oe=>Mn(oe,qo),gr=oe=>xt.grep(oe,qo),Ur=oe=>gr(oe).length>0,Ha=oe=>fo(oe).length>0,Cn=oe=>{const _e=oe.schema.getTextInlineElements(),st=ce=>ce.nodeType===1&&!oo(ce)&&!so(_e,ce.nodeName.toLowerCase());if(bo(oe).exists(ce=>ce.hasAttribute("data-mce-block")))return!1;const W=oe.selection.getRng();return W.collapsed?!0:Mn(W,st).length===0},on=oe=>Gt(oe)&&oe.nodeName==="FIGURE"&&/\bimage\b/i.test(oe.className),ea=oe=>Ro(["title","rel","class","target"],(st,Yt)=>(oe[Yt].each(W=>{st[Yt]=W.length>0?W:null}),st),{href:oe.href}),Ya=(oe,_e)=>(_e==="http"||_e==="https")&&!_n(oe)?_e+"://"+oe:oe,Tr=(oe,_e)=>{const st={..._e};if(Ee(oe).length===0&&!We(oe)){const Yt=Pt(st.rel,st.target==="_blank");st.rel=Yt||null}return St.from(st.target).isNone()&&ye(oe)===!1&&(st.target=Pe(oe)),st.href=Ya(st.href,Ue(oe)),st},Gn=(oe,_e,st,Yt)=>{st.each(ce=>{so(_e,"innerText")?_e.innerText=ce:_e.textContent=ce}),oe.dom.setAttribs(_e,Yt);const W=oe.dom.createRng();W.setStartAfter(_e),W.setEndAfter(_e),oe.selection.setRng(W)},Qn=(oe,_e,st,Yt)=>{const W=oe.dom;on(_e)?Er(W,_e,Yt):st.fold(()=>{oe.execCommand("mceInsertLink",!1,Yt);const ce=oe.selection.getEnd(),it=W.createRng();it.setStartAfter(ce),it.setEndAfter(ce),oe.selection.setRng(it)},ce=>{oe.insertContent(W.createHTML("a",Yt,W.encode(ce)))})},ta=(oe,_e,st)=>{const Yt=oe.selection.getNode(),W=bo(oe,Yt),ce=Tr(oe,ea(st)),it=io(oe);Gt(it)&&it(ce),oe.undoManager.transact(()=>{st.href===_e.href&&_e.attach(),W.fold(()=>{Qn(oe,Yt,st.text,ce)},mo=>{oe.focus(),Gn(oe,mo,st.text,ce)})})},Ba=oe=>{const _e=oe.dom,st=oe.selection,Yt=st.getBookmark(),W=st.getRng().cloneRange(),ce=_e.getParent(W.startContainer,"a[href]",oe.getBody()),it=_e.getParent(W.endContainer,"a[href]",oe.getBody());ce&&W.setStartBefore(ce),it&&W.setEndAfter(it),st.setRng(W),oe.execCommand("unlink"),st.moveToBookmark(Yt)},Or=oe=>{oe.undoManager.transact(()=>{const _e=oe.selection.getNode();on(_e)?Yo(oe,_e):Ba(oe),oe.focus()})},Va=oe=>{const{class:_e,href:st,rel:Yt,target:W,text:ce,title:it}=oe;return vt({class:_e.getOrNull(),href:st,rel:Yt.getOrNull(),target:W.getOrNull(),text:ce.getOrNull(),title:it.getOrNull()},(mo,lo)=>At(mo)===!1)},gt=(oe,_e)=>{const st=oe.options.get,Yt={allow_html_data_urls:st("allow_html_data_urls"),allow_script_urls:st("allow_script_urls"),allow_svg_data_urls:st("allow_svg_data_urls")},W=_e.href;return{..._e,href:Fo.isDomSafe(W,"a",Yt)?W:""}},se=(oe,_e,st)=>{const Yt=gt(oe,st);oe.hasPlugin("rtc",!0)?oe.execCommand("createlink",!1,Va(Yt)):ta(oe,_e,Yt)},Io=oe=>{oe.hasPlugin("rtc",!0)?oe.execCommand("unlink"):Or(oe)},Yo=(oe,_e)=>{var st;const Yt=oe.dom.select("img",_e)[0];if(Yt){const W=oe.dom.getParents(Yt,"a[href]",_e)[0];W&&((st=W.parentNode)===null||st===void 0||st.insertBefore(Yt,W),oe.dom.remove(W))}},Er=(oe,_e,st)=>{var Yt;const W=oe.select("img",_e)[0];if(W){const ce=oe.create("a",st);(Yt=W.parentNode)===null||Yt===void 0||Yt.insertBefore(ce,W),ce.appendChild(W)}},kr=oe=>gn(oe.value)?oe.value:"",Rr=oe=>gn(oe.text)?oe.text:gn(oe.title)?oe.title:"",Dr=(oe,_e)=>{const st=[];return xt.each(oe,Yt=>{const W=Rr(Yt);if(Yt.menu!==void 0){const ce=Dr(Yt.menu,_e);st.push({text:W,items:ce})}else{const ce=_e(Yt);st.push({text:W,value:ce})}}),st},Fs=(oe=kr)=>_e=>St.from(_e).map(st=>Dr(st,oe)),wt={sanitize:oe=>Fs(kr)(oe),sanitizeWith:Fs,createUi:(oe,_e)=>st=>({name:oe,type:"listbox",label:_e,items:st}),getValue:kr},Tt=oe=>Bo(oe,"items"),ko=(oe,_e)=>Nt(_e,st=>Tt(st)?ko(oe,st.items):tt(st.value===oe,st)),Jo=(oe,_e,st,Yt)=>{const W=Yt[_e],ce=oe.length>0;return W!==void 0?ko(W,st).map(it=>({url:{value:it.value,meta:{text:ce?oe:it.text,attach:no}},text:ce?oe:it.text})):St.none()},hn=(oe,_e)=>_e==="link"?oe.link:_e==="anchor"?oe.anchor:St.none(),ur={init:(oe,_e)=>{const st={text:oe.text,title:oe.title},Yt=lo=>{var $;return tt(st.title.length<=0,St.from(($=lo.meta)===null||$===void 0?void 0:$.title).getOr(""))},W=lo=>{var $;return tt(st.text.length<=0,St.from(($=lo.meta)===null||$===void 0?void 0:$.text).getOr(lo.value))},ce=lo=>{const $=W(lo.url),te=Yt(lo.url);return $.isSome()||te.isSome()?St.some({...$.map(ze=>({text:ze})).getOr({}),...te.map(ze=>({title:ze})).getOr({})}):St.none()},it=(lo,$)=>{const te=hn(_e,$).getOr([]);return Jo(st.text,$,te,lo)};return{onChange:(lo,$)=>{const te=$.name;return te==="url"?ce(lo()):ae(["anchor","link"],te)?it(lo(),te):((te==="text"||te==="title")&&(st[te]=lo()[te]),St.none())}}},getDelta:Jo};var ir=tinymce.util.Tools.resolve("tinymce.util.Delay");const Le=(oe,_e,st)=>{const Yt=oe.selection.getRng();ir.setEditorTimeout(oe,()=>{oe.windowManager.confirm(_e,W=>{oe.selection.setRng(Yt),st(W)})})},Be=oe=>{const _e=oe.href;return _e.indexOf("@")>0&&_e.indexOf("/")===-1&&_e.indexOf("mailto:")===-1?St.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Yt=>({...Yt,href:"mailto:"+_e})}):St.none()},Kt=(oe,_e)=>st=>{const Yt=st.href;return oe===1&&!_n(Yt)||oe===0&&/^\s*www(\.|\d\.)/i.test(Yt)?St.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${_e}:// prefix?`,preprocess:ce=>({...ce,href:_e+"://"+Yt})}):St.none()},Do={preprocess:(oe,_e)=>Nt([Be,Kt(Ue(oe),Ie(oe))],st=>st(_e)).fold(()=>Promise.resolve(_e),st=>new Promise(Yt=>{Le(oe,st.message,W=>{Yt(W?st.preprocess(_e):_e)})}))},xn={getAnchors:oe=>{const _e=oe.dom.select("a:not([href])"),st=Vo(_e,Yt=>{const W=Yt.name||Yt.id;return W?[{text:W,value:"#"+W}]:[]});return st.length>0?St.some([{text:"None",value:""}].concat(st)):St.none()}},zn={getClasses:oe=>{const _e=ot(oe);return _e.length>0?wt.sanitize(_e):St.none()}},eo=oe=>{try{return St.some(JSON.parse(oe))}catch{return St.none()}},fa={getLinks:oe=>{const _e=Yt=>oe.convertURL(Yt.value||Yt.url||"","href"),st=xe(oe);return new Promise(Yt=>{gn(st)?fetch(st).then(W=>W.ok?W.text().then(eo):Promise.reject()).then(Yt,()=>Yt(St.none())):Je(st)?st(W=>Yt(St.some(W))):Yt(St.from(st))}).then(Yt=>Yt.bind(wt.sanitizeWith(_e)).map(W=>W.length>0?[{text:"None",value:""}].concat(W):W))}},cs={getRels:(oe,_e)=>{const st=Ee(oe);if(st.length>0){const Yt=R(_e,"_blank"),W=We(oe)===!1,ce=mo=>Pt(wt.getValue(mo),Yt);return(W?wt.sanitizeWith(ce):wt.sanitize)(st)}return St.none()}},Ci=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Yr={getTargets:oe=>{const _e=ye(oe);return go(_e)?wt.sanitize(_e).orThunk(()=>St.some(Ci)):_e===!1?St.none():St.some(Ci)}},Br=(oe,_e,st)=>{const Yt=oe.getAttrib(_e,st);return Yt!==null&&Yt.length>0?St.some(Yt):St.none()},Ls=(oe,_e)=>{const st=oe.dom,W=Cn(oe)?St.some(On(oe.selection,_e)):St.none(),ce=_e.bind(te=>St.from(st.getAttrib(te,"href"))),it=_e.bind(te=>St.from(st.getAttrib(te,"target"))),mo=_e.bind(te=>Br(st,te,"rel")),lo=_e.bind(te=>Br(st,te,"class")),$=_e.bind(te=>Br(st,te,"title"));return{url:ce,text:W,title:$,target:it,rel:mo,linkClass:lo}},zr={collect:(oe,_e)=>fa.getLinks(oe).then(st=>{const Yt=Ls(oe,_e);return{anchor:Yt,catalogs:{targets:Yr.getTargets(oe),rels:cs.getRels(oe,Yt.target),classes:zn.getClasses(oe),anchor:xn.getAnchors(oe),link:st},optNode:_e,flags:{titleEnabled:_t(oe)}}})},oi=(oe,_e)=>st=>{const Yt=st.getData();if(!Yt.url.value){Io(oe),st.close();return}const W=mo=>St.from(Yt[mo]).filter(lo=>!R(_e.anchor[mo],lo)),ce={href:Yt.url.value,text:W("text"),target:W("target"),rel:W("rel"),class:W("linkClass"),title:W("title")},it={href:Yt.url.value,attach:Yt.url.meta!==void 0&&Yt.url.meta.attach?Yt.url.meta.attach:no};Do.preprocess(oe,ce).then(mo=>{se(oe,it,mo)}),st.close()},Jl=oe=>{const _e=bo(oe);return zr.collect(oe,_e)},Ni=(oe,_e)=>{const st=oe.anchor,Yt=st.url.getOr("");return{url:{value:Yt,meta:{original:{value:Yt}}},text:st.text.getOr(""),title:st.title.getOr(""),anchor:Yt,link:Yt,rel:st.rel.getOr(""),target:st.target.or(_e).getOr(""),linkClass:st.linkClass.getOr("")}},Ws=(oe,_e,st)=>{const Yt=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],W=oe.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),ce=oe.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],it=St.from(Pe(st)),mo=Ni(oe,it),lo=oe.catalogs,$=ur.init(mo,lo);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:pn([Yt,W,ce,ut([lo.anchor.map(wt.createUi("anchor","Anchors")),lo.rels.map(wt.createUi("rel","Rel")),lo.targets.map(wt.createUi("target","Open link in...")),lo.link.map(wt.createUi("link","Link list")),lo.classes.map(wt.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:mo,onChange:(ze,{name:ve})=>{$.onChange(ze.getData,{name:ve}).each(vo=>{ze.setData(vo)})},onSubmit:_e}},Di=oe=>{Jl(oe).then(st=>{const Yt=oi(oe,st);return Ws(st,Yt,oe)}).then(st=>{oe.windowManager.open(st)})},Bl=oe=>{oe.addCommand("mceLink",(_e,st)=>{(st==null?void 0:st.dialog)===!0||!dt(oe)?Di(oe):oe.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Os=oe=>{oe.addShortcut("Meta+K","",()=>{oe.execCommand("mceLink")})};var ni=tinymce.util.Tools.resolve("tinymce.util.VK");const Fl=(oe,_e)=>{document.body.appendChild(oe),oe.dispatchEvent(_e),document.body.removeChild(oe)},Is=oe=>{const _e=document.createElement("a");_e.target="_blank",_e.href=oe,_e.rel="noreferrer noopener";const st=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(st),Fl(_e,st)},wa=oe=>oe.altKey===!0&&oe.shiftKey===!1&&oe.ctrlKey===!1&&oe.metaKey===!1,wl=(oe,_e)=>{if(_e){const st=Dt(_e);if(/^#/.test(st)){const Yt=oe.dom.select(`${st},[name="${No(st,"#")}"]`);Yt.length&&oe.selection.scrollIntoView(Yt[0],!0)}else Is(_e.href)}},Ki=oe=>{const _e=oe.selection.getRng(),st=_e.startContainer;return qo(st)&&_e.startContainer===_e.endContainer&&oe.dom.select("img",st).length===1},Yi=(oe,_e)=>{const st=gr(oe.dom.getParents(_e));return tt(st.length===1,st[0])},Ql=oe=>{const _e=fo(oe.selection.getRng());return tt(_e.length>0,_e[0]).or(Yi(oe,oe.selection.getNode()))},Xa=oe=>oe.selection.isCollapsed()||Ki(oe)?Yi(oe,oe.selection.getStart()):Ql(oe),ri=oe=>{const _e=Vt(),st=()=>_e.get().or(Xa(oe)),Yt=()=>st().each(W=>wl(oe,W));return oe.on("contextmenu",W=>{Yi(oe,W.target).each(_e.set)}),oe.on("SelectionChange",()=>{_e.isSet()||Xa(oe).each(_e.set)}),oe.on("click",W=>{_e.clear();const ce=gr(oe.dom.getParents(W.target));ce.length===1&&ni.metaKeyPressed(W)&&(W.preventDefault(),wl(oe,ce[0]))}),oe.on("keydown",W=>{_e.clear(),!W.isDefaultPrevented()&&W.keyCode===13&&wa(W)&&st().each(ce=>{W.preventDefault(),wl(oe,ce)})}),{gotoSelectedLink:Yt}},ec=oe=>()=>{oe.execCommand("mceLink",!1,{dialog:!0})},Ll=(oe,_e)=>(oe.on("NodeChange",_e),()=>oe.off("NodeChange",_e)),Ps=oe=>_e=>{const st=()=>{_e.setActive(!oe.mode.isReadOnly()&&Rn(oe,oe.selection.getNode())),_e.setEnabled(oe.selection.isEditable())};return st(),Ll(oe,st)},pc=oe=>_e=>{const st=()=>{_e.setEnabled(oe.selection.isEditable())};return st(),Ll(oe,st)},Si=oe=>_e=>{const st=ce=>Ur(ce)||Ha(oe.selection.getRng()),Yt=oe.dom.getParents(oe.selection.getStart()),W=ce=>{_e.setEnabled(st(ce)&&oe.selection.isEditable())};return W(Yt),Ll(oe,ce=>W(ce.parents))},Mi=(oe,_e)=>{oe.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:ec(oe),onSetup:Ps(oe)}),oe.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:_e.gotoSelectedLink,onSetup:Si(oe)}),oe.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Io(oe),onSetup:Si(oe)})},fc=(oe,_e)=>{oe.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:_e.gotoSelectedLink,onSetup:Si(oe)}),oe.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ec(oe),onSetup:pc(oe)}),oe.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Io(oe),onSetup:Si(oe)})},Kc=oe=>{const _e="link unlink openlink",st="link";oe.ui.registry.addContextMenu("link",{update:Yt=>oe.dom.isEditable(Yt)?Ur(oe.dom.getParents(Yt,"a"))?_e:st:""})},hc=(oe,_e)=>{const st=ce=>{ce.selection.collapse(!1)},Yt=ce=>{const it=oe.selection.getNode();return ce.setEnabled(Rn(oe,it)&&oe.selection.isEditable()),no},W=ce=>{const it=bo(oe),mo=Cn(oe);if(it.isNone()&&mo){const lo=On(oe.selection,it);return tt(lo.length===0,ce)}else return St.none()};oe.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ps(oe)},label:"Link",predicate:ce=>me(oe)&&Rn(oe,ce),initValue:()=>bo(oe).fold(ao(""),Dt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:ce=>{const it=oe.selection.getNode();return ce.setActive(Rn(oe,it)),Ps(oe)(ce)},onAction:ce=>{const it=ce.getValue(),mo=W(it);se(oe,{href:it,attach:no},{href:it,text:mo,title:St.none(),rel:St.none(),target:St.from(Pe(oe)),class:St.none()}),st(oe),ce.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Yt,onAction:ce=>{Io(oe),ce.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Yt,onAction:ce=>{_e.gotoSelectedLink(),ce.hide()}}]})},kl=oe=>{const _e=ri(oe);Mi(oe,_e),fc(oe,_e),Kc(oe),hc(oe,_e)};var Ja=()=>{Oo.add("link",oe=>{Uo(oe),Bl(oe),kl(oe),Os(oe)})};Ja()}()),QN}var tD;function LB(){return tD||(tD=1,FB()),JN}LB();var oD={},nD={},rD;function IB(){return rD||(rD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(O,V,K)=>{var Ne;return K(O,V.prototype)?!0:((Ne=O.constructor)===null||Ne===void 0?void 0:Ne.name)===V.name},Ko=O=>{const V=typeof O;return O===null?"null":V==="object"&&Array.isArray(O)?"array":V==="object"&&an(O,String,(K,Ne)=>Ne.isPrototypeOf(K))?"string":V},cn=O=>V=>Ko(V)===O,en=O=>V=>typeof V===O,ro=cn("string"),gn=cn("object"),$o=cn("array"),go=en("boolean"),At=O=>O==null,kn=O=>!At(O),tn=en("function"),Gt=en("number"),Je=()=>{},bt=(O,V)=>K=>O(V(K)),no=O=>()=>O,ao=(O,V)=>O===V;function Te(O,...V){return(...K)=>{const Ne=V.concat(K);return O.apply(null,Ne)}}const St=O=>V=>!O(V),wo=no(!1);class he{constructor(V,K){this.tag=V,this.value=K}static some(V){return new he(!0,V)}static none(){return he.singletonNone}fold(V,K){return this.tag?K(this.value):V()}isSome(){return this.tag}isNone(){return!this.tag}map(V){return this.tag?he.some(V(this.value)):he.none()}bind(V){return this.tag?V(this.value):he.none()}exists(V){return this.tag&&V(this.value)}forall(V){return!this.tag||V(this.value)}filter(V){return!this.tag||V(this.value)?this:he.none()}getOr(V){return this.tag?this.value:V}or(V){return this.tag?this:V}getOrThunk(V){return this.tag?this.value:V()}orThunk(V){return this.tag?this:V()}getOrDie(V){if(this.tag)return this.value;throw new Error(V??"Called getOrDie on None")}static from(V){return kn(V)?he.some(V):he.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(V){this.tag&&V(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}he.singletonNone=new he(!1);const Xe=Array.prototype.slice,ae=Array.prototype.indexOf,pt=Array.prototype.push,sn=(O,V)=>ae.call(O,V),Ro=(O,V)=>sn(O,V)>-1,pn=(O,V)=>{for(let K=0,Ne=O.length;K<Ne;K++){const qe=O[K];if(V(qe,K))return!0}return!1},Vo=(O,V)=>{const K=O.length,Ne=new Array(K);for(let qe=0;qe<K;qe++){const yo=O[qe];Ne[qe]=V(yo,qe)}return Ne},Nt=(O,V)=>{for(let K=0,Ne=O.length;K<Ne;K++){const qe=O[K];V(qe,K)}},D=(O,V)=>{const K=[];for(let Ne=0,qe=O.length;Ne<qe;Ne++){const yo=O[Ne];V(yo,Ne)&&K.push(yo)}return K},zt=(O,V)=>{if(O.length===0)return[];{let K=V(O[0]);const Ne=[];let qe=[];for(let yo=0,$t=O.length;yo<$t;yo++){const Zn=O[yo],ar=V(Zn);ar!==K&&(Ne.push(qe),qe=[]),K=ar,qe.push(Zn)}return qe.length!==0&&Ne.push(qe),Ne}},Ot=(O,V,K)=>(Nt(O,(Ne,qe)=>{K=V(K,Ne,qe)}),K),Lt=(O,V,K)=>{for(let Ne=0,qe=O.length;Ne<qe;Ne++){const yo=O[Ne];if(V(yo,Ne))return he.some(yo);if(K(yo,Ne))break}return he.none()},po=(O,V)=>Lt(O,V,wo),vt=O=>{const V=[];for(let K=0,Ne=O.length;K<Ne;++K){if(!$o(O[K]))throw new Error("Arr.flatten item "+K+" was not an array, input: "+O);pt.apply(V,O[K])}return V},so=(O,V)=>vt(Vo(O,V)),Bo=O=>{const V=Xe.call(O,0);return V.reverse(),V},je=(O,V)=>V>=0&&V<O.length?he.some(O[V]):he.none(),R=O=>je(O,0),ut=O=>je(O,O.length-1),tt=(O,V)=>{const K=[],Ne=tn(V)?qe=>pn(K,yo=>V(yo,qe)):qe=>Ro(K,qe);for(let qe=0,yo=O.length;qe<yo;qe++){const $t=O[qe];Ne($t)||K.push($t)}return K},Bt=Object.keys,Vt=(O,V)=>{const K=Bt(O);for(let Ne=0,qe=K.length;Ne<qe;Ne++){const yo=K[Ne],$t=O[yo];V($t,yo)}},co=O=>(V,K)=>{O[K]=V},xo=(O,V,K,Ne)=>{Vt(O,(qe,yo)=>{(V(qe,yo)?K:Ne)(qe,yo)})},No=(O,V)=>{const K={};return xo(O,V,co(K),Je),K},ke=O=>{let V=O;return{get:()=>V,set:qe=>{V=qe}}},Ft=typeof window<"u"?window:Function("return this;")(),Uo=(O,V,K=ao)=>O.exists(Ne=>K(Ne,V)),Ue=(O,V,K=ao)=>me(O,V,K).getOr(O.isNone()&&V.isNone()),me=(O,V,K)=>O.isSome()&&V.isSome()?he.some(K(O.getOrDie(),V.getOrDie())):he.none(),xe=(O,V)=>{let K=V??Ft;for(let Ne=0;Ne<O.length&&K!==void 0&&K!==null;++Ne)K=K[O[Ne]];return K},Pe=(O,V)=>{const K=O.split(".");return xe(K,V)},ye=(O=>V=>V.replace(O,""))(/^\s+|\s+$/g),Ee=O=>O.length>0,ot=O=>!Ee(O),_t="\uFEFF",We=O=>O===_t,dt=(O,V)=>{const Ne=(V||document).createElement("div");if(Ne.innerHTML=O,!Ne.hasChildNodes()||Ne.childNodes.length>1){const qe="HTML does not have a single root node";throw console.error(qe,O),new Error(qe)}return rt(Ne.childNodes[0])},io=(O,V)=>{const Ne=(V||document).createElement(O);return rt(Ne)},Fo=(O,V)=>{const Ne=(V||document).createTextNode(O);return rt(Ne)},rt=O=>{if(O==null)throw new Error("Node cannot be null or undefined");return{dom:O}},oo={fromHtml:dt,fromTag:io,fromText:Fo,fromDom:rt,fromPoint:(O,V,K)=>he.from(O.dom.elementFromPoint(V,K)).map(rt)},qo=8,Mn=11,_n=1,Dt=3,Pt=(O,V)=>{const K=O.dom;if(K.nodeType!==_n)return!1;{const Ne=K;if(Ne.matches!==void 0)return Ne.matches(V);if(Ne.msMatchesSelector!==void 0)return Ne.msMatchesSelector(V);if(Ne.webkitMatchesSelector!==void 0)return Ne.webkitMatchesSelector(V);if(Ne.mozMatchesSelector!==void 0)return Ne.mozMatchesSelector(V);throw new Error("Browser lacks native selectors")}},ft=(O,V)=>O.dom===V.dom,bo=(O,V)=>{const K=O.dom,Ne=V.dom;return K===Ne?!1:K.contains(Ne)},Rn=Pt,On=(O,V)=>Pe(O,V),fo=(O,V)=>{const K=On(O,V);if(K==null)throw new Error(O+" not available on this browser");return K},gr=Object.getPrototypeOf,Ur=O=>fo("HTMLElement",O),Ha=O=>{const V=Pe("ownerDocument.defaultView",O);return gn(O)&&(Ur(V).prototype.isPrototypeOf(O)||/^HTML\w*Element$/.test(gr(O).constructor.name))},Cn=O=>O.dom.nodeName.toLowerCase(),on=O=>O.dom.nodeType,ea=O=>V=>on(V)===O,Ya=O=>on(O)===qo||Cn(O)==="#comment",Tr=O=>Gn(O)&&Ha(O.dom),Gn=ea(_n),Qn=ea(Dt),ta=ea(Mn),Ba=O=>V=>Gn(V)&&Cn(V)===O,Or=O=>he.from(O.dom.parentNode).map(oo.fromDom),Va=O=>he.from(O.dom.parentElement).map(oo.fromDom),gt=O=>he.from(O.dom.nextSibling).map(oo.fromDom),se=O=>Vo(O.dom.childNodes,oo.fromDom),Io=(O,V)=>{const K=O.dom.childNodes;return he.from(K[V]).map(oo.fromDom)},Yo=O=>Io(O,0),Er=O=>Io(O,O.dom.childNodes.length-1),kr=O=>ta(O)&&kn(O.dom.host),Rr=O=>oo.fromDom(O.dom.getRootNode()),Dr=O=>{const V=Rr(O);return kr(V)?he.some(V):he.none()},Fs=O=>oo.fromDom(O.dom.host),De=(O,V)=>{Or(O).each(Ne=>{Ne.dom.insertBefore(V.dom,O.dom)})},Fe=(O,V)=>{gt(O).fold(()=>{Or(O).each(qe=>{Tt(qe,V)})},Ne=>{De(Ne,V)})},wt=(O,V)=>{Yo(O).fold(()=>{Tt(O,V)},Ne=>{O.dom.insertBefore(V.dom,Ne.dom)})},Tt=(O,V)=>{O.dom.appendChild(V.dom)},ko=(O,V)=>{Nt(V,K=>{De(O,K)})},Jo=(O,V)=>{Nt(V,K=>{Tt(O,K)})},hn=(O,V,K)=>{if(ro(K)||go(K)||Gt(K))O.setAttribute(V,K+"");else throw console.error("Invalid call to Attribute.set. Key ",V,":: Value ",K,":: Element ",O),new Error("Attribute value was not simple")},cr=(O,V)=>{const K=O.dom;Vt(V,(Ne,qe)=>{hn(K,qe,Ne)})},ur=O=>Ot(O.dom.attributes,(V,K)=>(V[K.name]=K.value,V),{}),ir=O=>{O.dom.textContent="",Nt(se(O),V=>{Le(V)})},Le=O=>{const V=O.dom;V.parentNode!==null&&V.parentNode.removeChild(V)},Be=(O,V)=>oo.fromDom(O.dom.cloneNode(V)),Kt=O=>Be(O,!0),Po=(O,V)=>{const K=oo.fromTag(V),Ne=ur(O);return cr(K,Ne),K},Do=(O,V)=>{const K=Po(O,V);Fe(O,K);const Ne=se(O);return Jo(K,Ne),Le(O),K},vn=O=>Vo(O,oo.fromDom),xn=O=>O.style!==void 0&&tn(O.style.getPropertyValue),nn=O=>{const V=Qn(O)?O.dom.parentNode:O.dom;if(V==null||V.ownerDocument===null)return!1;const K=V.ownerDocument;return Dr(oo.fromDom(V)).fold(()=>K.body.contains(V),bt(nn,Fs))},zn=(O,V,K)=>{if(!ro(K))throw console.error("Invalid call to CSS.set. Property ",V,":: Value ",K,":: Element ",O),new Error("CSS value must be a string: "+K);xn(O)&&O.style.setProperty(V,K)},eo=(O,V,K)=>{const Ne=O.dom;zn(Ne,V,K)},Pr=(O,V)=>{const Ne=document.createDocumentFragment();return Nt(O,qe=>{Ne.appendChild(qe.dom)}),oo.fromDom(Ne)};var fa=(O,V,K,Ne,qe)=>O(K,Ne)?he.some(K):tn(qe)&&qe(K)?he.none():V(K,Ne,qe);const qs=(O,V,K)=>{let Ne=O.dom;const qe=tn(K)?K:wo;for(;Ne.parentNode;){Ne=Ne.parentNode;const yo=oo.fromDom(Ne);if(V(yo))return he.some(yo);if(qe(yo))break}return he.none()},cs=(O,V,K)=>fa((qe,yo)=>yo(qe),qs,O,V,K),Ci=(O,V,K)=>qs(O,Ne=>Pt(Ne,V),K),Kr=(O,V,K)=>fa((qe,yo)=>Pt(qe,yo),Ci,O,V,K),Yr=O=>Kr(O,"[contenteditable]"),Br=(O,V=!1)=>nn(O)?O.dom.isContentEditable:Yr(O).fold(no(V),K=>Ls(K)==="true"),Ls=O=>O.dom.contentEditable,cl=(O,V,K)=>qs(O,V,K).isSome(),zr=(O,V)=>cl(O,Te(ft,V));var oi=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Jl=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ni=tinymce.util.Tools.resolve("tinymce.util.VK"),Ws=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Di=tinymce.util.Tools.resolve("tinymce.util.Tools");const Bl=O=>V=>kn(V)&&V.nodeName.toLowerCase()===O,Os=O=>V=>kn(V)&&O.test(V.nodeName),ni=O=>kn(O)&&O.nodeType===3,Fl=O=>kn(O)&&O.nodeType===1,Is=Os(/^(OL|UL|DL)$/),wa=Os(/^(OL|UL)$/),wl=Bl("ol"),Ki=Os(/^(LI|DT|DD)$/),Yi=Os(/^(DT|DD)$/),Ql=Os(/^(TH|TD)$/),Xa=Bl("br"),ri=O=>{var V;return((V=O.parentNode)===null||V===void 0?void 0:V.firstChild)===O},ec=(O,V)=>kn(V)&&V.nodeName in O.schema.getTextBlockElements(),Ll=(O,V)=>kn(O)&&O.nodeName in V,Ps=(O,V)=>kn(V)&&V.nodeName in O.schema.getVoidElements(),pc=(O,V)=>Xa(V)?O.isBlock(V.nextSibling)&&!Xa(V.previousSibling):!1,Si=(O,V,K)=>{const Ne=O.isEmpty(V);return K&&O.select("span[data-mce-type=bookmark]",V).length>0?!1:Ne},Mi=(O,V)=>O.isChildOf(V,O.getRoot()),fc=O=>V=>V.options.get(O),Kc=O=>{const V=O.options.register;V("lists_indent_on_tab",{processor:"boolean",default:!0})},hc=fc("lists_indent_on_tab"),kl=fc("forced_root_block"),Ja=fc("forced_root_block_attrs"),oe=(O,V,K={})=>{const Ne=O.dom,qe=O.schema.getBlockElements(),yo=Ne.createFragment(),$t=kl(O),Zn=Ja(O);let ar,bn,aa=!1;for(bn=Ne.create($t,{...Zn,...K.style?{style:K.style}:{}}),Ll(V.firstChild,qe)||yo.appendChild(bn);ar=V.firstChild;){const va=ar.nodeName;!aa&&(va!=="SPAN"||ar.getAttribute("data-mce-type")!=="bookmark")&&(aa=!0),Ll(ar,qe)?(yo.appendChild(ar),bn=null):(bn||(bn=Ne.create($t,Zn),yo.appendChild(bn)),bn.appendChild(ar))}return!aa&&bn&&bn.appendChild(Ne.create("br",{"data-mce-bogus":"1"})),yo},_e=Ws.DOM,st=(O,V,K)=>{const Ne=bn=>{const aa=bn.parentNode;aa&&Di.each(qe,va=>{aa.insertBefore(va,K.parentNode)}),_e.remove(bn)},qe=_e.select('span[data-mce-type="bookmark"]',V),yo=oe(O,K),$t=_e.createRng();$t.setStartAfter(K),$t.setEndAfter(V);const Zn=$t.extractContents();for(let bn=Zn.firstChild;bn;bn=bn.firstChild)if(bn.nodeName==="LI"&&O.dom.isEmpty(bn)){_e.remove(bn);break}O.dom.isEmpty(Zn)||_e.insertAfter(Zn,V),_e.insertAfter(yo,V);const ar=K.parentElement;ar&&Si(O.dom,ar)&&Ne(ar),_e.remove(K),Si(O.dom,V)&&_e.remove(V)},Yt=Ba("dd"),W=Ba("dt"),ce=(O,V)=>{Yt(V)?Do(V,"dt"):W(V)&&Va(V).each(K=>st(O,K.dom,V.dom))},it=O=>{W(O)&&Do(O,"dd")},mo=(O,V,K)=>{V==="Indent"?Nt(K,it):Nt(K,Ne=>ce(O,Ne))},lo=(O,V)=>{if(ni(O))return{container:O,offset:V};const K=oi.getNode(O,V);return ni(K)?{container:K,offset:V>=O.childNodes.length?K.data.length:0}:K.previousSibling&&ni(K.previousSibling)?{container:K.previousSibling,offset:K.previousSibling.data.length}:K.nextSibling&&ni(K.nextSibling)?{container:K.nextSibling,offset:0}:{container:O,offset:V}},$=O=>{const V=O.cloneRange(),K=lo(O.startContainer,O.startOffset);V.setStart(K.container,K.offset);const Ne=lo(O.endContainer,O.endOffset);return V.setEnd(Ne.container,Ne.offset),V},te=["OL","UL","DL"],ze=te.join(","),ve=(O,V)=>{const K=V||O.selection.getStart(!0);return O.dom.getParent(K,ze,na(O,K))},vo=(O,V)=>kn(O)&&V.length===1&&V[0]===O,Kn=O=>D(O.querySelectorAll(ze),Is),Wn=O=>{const V=ve(O),K=O.selection.getSelectedBlocks();return vo(V,K)?Kn(V):D(K,Ne=>Is(Ne)&&V!==Ne)},ka=(O,V)=>{const K=Di.map(V,Ne=>{const qe=O.dom.getParent(Ne,"li,dd,dt",na(O,Ne));return qe||Ne});return tt(K)},Se=O=>{const V=O.selection.getSelectedBlocks();return D(ka(O,V),Ki)},Oa=O=>D(Se(O),Yi),vs=(O,V)=>{const K=O.dom.getParents(V,"TD,TH");return K.length>0?K[0]:O.getBody()},xs=(O,V)=>!Is(V)&&!Ki(V)&&pn(te,K=>O.isValidChild(V.nodeName,K)),na=(O,V)=>{const K=O.dom.getParents(V,O.dom.isBlock),Ne=yo=>yo.nodeName.toLowerCase()!==kl(O);return po(K,yo=>Ne(yo)&&xs(O.schema,yo)).getOr(O.getBody())},md=O=>Or(O).exists(V=>Ki(V.dom)&&Yo(V).exists(K=>!Is(K.dom))&&Er(V).exists(K=>!Is(K.dom))),Ri=(O,V)=>{const K=O.dom.getParents(V,"ol,ul",na(O,V));return ut(K)},ai=O=>{const V=Ri(O,O.selection.getStart()),K=D(O.selection.getSelectedBlocks(),wa);return V.toArray().concat(K)},wr=O=>{const V=O.selection.getStart();return O.dom.getParents(V,"ol,ul",na(O,V))},Na=O=>{const V=ai(O),K=wr(O);return po(K,Ne=>md(oo.fromDom(Ne))).fold(()=>bc(O,V),Ne=>[Ne])},bc=(O,V)=>{const K=Vo(V,Ne=>Ri(O,Ne).getOr(Ne));return tt(K)},pr=O=>/\btox\-/.test(O.className),Id=(O,V)=>Lt(O,Is,Ql).exists(K=>K.nodeName===V&&!pr(K)),_l=(O,V)=>V!==null&&!O.dom.isEditable(V),Xi=O=>{const V=ve(O);return _l(O,V)||!O.selection.isEditable()},Gs=(O,V)=>{const K=O.dom.getParent(V,"ol,ul,dl");return _l(O,K)||!O.selection.isEditable()},la=(O,V)=>{const K=O.selection.getNode();return V({parents:O.dom.getParents(K),element:K}),O.on("NodeChange",V),()=>O.off("NodeChange",V)},ds=(O,V,K)=>O.dispatch("ListMutation",{action:V,element:K}),Cl=O=>Rn(O,"OL,UL"),de=O=>Rn(O,"LI"),Ce=O=>Yo(O).exists(Cl),lt=O=>Er(O).exists(Cl),Zt=O=>"listAttributes"in O,rn=O=>"isComment"in O,lr=O=>"isFragment"in O,Nr=O=>O.depth>0,us=O=>O.isSelected,Ns=O=>{const V=se(O),K=lt(O)?V.slice(0,-1):V;return Vo(K,Kt)},Hs=(O,V,K)=>Or(O).filter(Gn).map(Ne=>({depth:V,dirty:!1,isSelected:K,content:Ns(O),itemAttributes:ur(O),listAttributes:ur(Ne),listType:Cn(Ne),isInPreviousLi:!1})),ks=(O,V)=>{Tt(O.item,V.list)},ha=O=>{for(let V=1;V<O.length;V++)ks(O[V-1],O[V])},Sl=(O,V)=>{me(ut(O),R(V),ks)},An=(O,V)=>{const K={list:oo.fromTag(V,O),item:oo.fromTag("li",O)};return Tt(K.list,K.item),K},yc=(O,V,K)=>{const Ne=[];for(let qe=0;qe<K;qe++)Ne.push(An(O,Zt(V)?V.listType:V.parentListType));return Ne},Qa=(O,V)=>{for(let K=0;K<O.length-1;K++)eo(O[K].item,"list-style-type","none");ut(O).each(K=>{Zt(V)&&(cr(K.list,V.listAttributes),cr(K.item,V.itemAttributes)),Jo(K.item,V.content)})},ba=(O,V)=>{Cn(O.list)!==V.listType&&(O.list=Do(O.list,V.listType)),cr(O.list,V.listAttributes)},mi=(O,V,K)=>{const Ne=oo.fromTag("li",O);return cr(Ne,V),Jo(Ne,K),Ne},ya=(O,V)=>{Tt(O.list,V),O.item=V},Fu=(O,V,K)=>{const Ne=V.slice(0,K.depth);return ut(Ne).each(qe=>{if(Zt(K)){const yo=mi(O,K.itemAttributes,K.content);ya(qe,yo),ba(qe,K)}else if(lr(K))Jo(qe.item,K.content);else{const yo=oo.fromHtml(`<!--${K.content}-->`);Tt(qe.list,yo)}}),Ne},Yc=(O,V,K)=>{const Ne=yc(O,K,K.depth-V.length);return ha(Ne),Qa(Ne,K),Sl(V,Ne),V.concat(Ne)},Up=(O,V)=>{let K=he.none();const Ne=Ot(V,(qe,yo,$t)=>rn(yo)?$t===0?(K=he.some(yo),qe):Fu(O,qe,yo):yo.depth>qe.length?Yc(O,qe,yo):Fu(O,qe,yo),[]);return K.each(qe=>{const yo=oo.fromHtml(`<!--${qe.content}-->`);R(Ne).each($t=>{wt($t.list,yo)})}),R(Ne).map(qe=>qe.list)},Zp=(O,V)=>{switch(O){case"Indent":V.depth++;break;case"Outdent":V.depth--;break;case"Flatten":V.depth=0}V.dirty=!0},Lu=(O,V)=>{Zt(O)&&Zt(V)&&(O.listType=V.listType,O.listAttributes={...V.listAttributes})},ym=O=>{O.listAttributes=No(O.listAttributes,(V,K)=>K!=="start")},dl=(O,V)=>{const K=O[V].depth,Ne=yo=>yo.depth===K&&!yo.dirty,qe=yo=>yo.depth<K;return Lt(Bo(O.slice(0,V)),Ne,qe).orThunk(()=>Lt(O.slice(V+1),Ne,qe))},si=O=>(Nt(O,(V,K)=>{dl(O,K).fold(()=>{V.dirty&&Zt(V)&&ym(V)},Ne=>Lu(V,Ne))}),O),vc=(O,V,K,Ne)=>{var qe;if(Ya(Ne))return[{depth:O+1,content:(qe=Ne.dom.nodeValue)!==null&&qe!==void 0?qe:"",dirty:!1,isSelected:!1,isComment:!0}];V.each(Zn=>{ft(Zn.start,Ne)&&K.set(!0)});const yo=Hs(Ne,O,K.get());V.each(Zn=>{ft(Zn.end,Ne)&&K.set(!1)});const $t=Er(Ne).filter(Cl).map(Zn=>ua(O,V,K,Zn)).getOr([]);return yo.toArray().concat($t)},nu=(O,V,K,Ne)=>Yo(Ne).filter(Cl).fold(()=>vc(O,V,K,Ne),qe=>{const yo=Ot(se(Ne),($t,Zn,ar)=>{if(ar===0)return $t;if(de(Zn))return $t.concat(vc(O,V,K,Zn));{const bn={isFragment:!0,depth:O,content:[Zn],isSelected:!1,dirty:!1,parentListType:Cn(qe)};return $t.concat(bn)}},[]);return ua(O,V,K,qe).concat(yo)}),ua=(O,V,K,Ne)=>so(se(Ne),qe=>{const yo=Cl(qe)?ua:nu,$t=O+1;return yo($t,V,K,qe)}),xc=(O,V)=>{const K=ke(!1),Ne=0;return Vo(O,qe=>({sourceList:qe,entries:ua(Ne,V,K,qe)}))},er=(O,V)=>{const K=si(V);return Vo(K,Ne=>{const qe=rn(Ne)?Pr([oo.fromHtml(`<!--${Ne.content}-->`)]):Pr(Ne.content),yo=Zt(Ne)?Ne.itemAttributes:{};return oo.fromDom(oe(O,qe.dom,yo))})},Aa=(O,V)=>{const K=si(V);return Up(O.contentDocument,K).toArray()},gd=(O,V)=>so(zt(V,Nr),K=>R(K).exists(Nr)?Aa(O,K):er(O,K)),Ds=(O,V)=>{Nt(D(O,us),K=>Zp(V,K))},ru=O=>{const V=Vo(Se(O),oo.fromDom);return me(po(V,St(Ce)),po(Bo(V),St(Ce)),(K,Ne)=>({start:K,end:Ne}))},ra=(O,V,K)=>{const Ne=xc(V,ru(O));Nt(Ne,qe=>{Ds(qe.entries,K);const yo=gd(O,qe.entries);Nt(yo,$t=>{ds(O,K==="Indent"?"IndentList":"OutdentList",$t.dom)}),ko(qe.sourceList,yo),Le(qe.sourceList)})},Mc=(O,V)=>{const K=vn(Na(O)),Ne=vn(Oa(O));let qe=!1;if(K.length||Ne.length){const yo=O.selection.getBookmark();ra(O,K,V),mo(O,V,Ne),O.selection.moveToBookmark(yo),O.selection.setRng($(O.selection.getRng())),O.nodeChanged(),qe=!0}return qe},gi=(O,V)=>!Xi(O)&&Mc(O,V),br=O=>gi(O,"Indent"),Bi=O=>gi(O,"Outdent"),ja=O=>gi(O,"Flatten");var ng=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Fa=Ws.DOM,Xr=O=>{const V={},K=Ne=>{let qe=O[Ne?"startContainer":"endContainer"],yo=O[Ne?"startOffset":"endOffset"];if(Fl(qe)){const $t=Fa.create("span",{"data-mce-type":"bookmark"});qe.hasChildNodes()?(yo=Math.min(yo,qe.childNodes.length-1),Ne?qe.insertBefore($t,qe.childNodes[yo]):Fa.insertAfter($t,qe.childNodes[yo])):qe.appendChild($t),qe=$t,yo=0}V[Ne?"startContainer":"endContainer"]=qe,V[Ne?"startOffset":"endOffset"]=yo};return K(!0),O.collapsed||K(),V},El=O=>{const V=Ne=>{const qe=Zn=>{var ar;let bn=(ar=Zn.parentNode)===null||ar===void 0?void 0:ar.firstChild,aa=0;for(;bn;){if(bn===Zn)return aa;(!Fl(bn)||bn.getAttribute("data-mce-type")!=="bookmark")&&aa++,bn=bn.nextSibling}return-1};let yo=O[Ne?"startContainer":"endContainer"],$t=O[Ne?"startOffset":"endOffset"];if(yo){if(Fl(yo)&&yo.parentNode){const Zn=yo;$t=qe(yo),yo=yo.parentNode,Fa.remove(Zn),!yo.hasChildNodes()&&Fa.isBlock(yo)&&yo.appendChild(Fa.create("br"))}O[Ne?"startContainer":"endContainer"]=yo,O[Ne?"startOffset":"endOffset"]=$t}};V(!0),V();const K=Fa.createRng();return K.setStart(O.startContainer,O.startOffset),O.endContainer&&K.setEnd(O.endContainer,O.endOffset),$(K)},Xc=O=>{switch(O){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Rc=(O,V,K)=>{const Ne=K["list-style-type"]?K["list-style-type"]:null;O.setStyle(V,"list-style-type",Ne)},Fi=(O,V)=>{Di.each(V,(K,Ne)=>{O.setAttribute(Ne,K)})},Ks=(O,V,K)=>{Fi(V,K["list-attributes"]),Di.each(O.select("li",V),Ne=>{Fi(Ne,K["list-item-attributes"])})},Jc=(O,V,K)=>{Rc(O,V,K),Ks(O,V,K)},Qc=(O,V,K)=>{Di.each(K,Ne=>O.setStyle(V,Ne,""))},ca=(O,V)=>kn(V)&&!Ll(V,O.schema.getBlockElements()),zl=(O,V,K,Ne)=>{let qe=V[K?"startContainer":"endContainer"];const yo=V[K?"startOffset":"endOffset"];Fl(qe)&&(qe=qe.childNodes[Math.min(yo,qe.childNodes.length-1)]||qe),!K&&Xa(qe.nextSibling)&&(qe=qe.nextSibling);const $t=ar=>{for(;!O.dom.isBlock(ar)&&ar.parentNode&&Ne!==ar;)ar=ar.parentNode;return ar},Zn=(ar,bn)=>{var aa;const va=new Jl(ar,$t(ar)),Rs=bn?"next":"prev";let $a;for(;$a=va[Rs]();)if(!(Ps(O,$a)||We($a.textContent)||((aa=$a.textContent)===null||aa===void 0?void 0:aa.length)===0))return he.some($a);return he.none()};if(K&&ni(qe))if(We(qe.textContent))qe=Zn(qe,!1).getOr(qe);else for(qe.parentNode!==null&&ca(O,qe.parentNode)&&(qe=qe.parentNode);qe.previousSibling!==null&&(ca(O,qe.previousSibling)||ni(qe.previousSibling));)qe=qe.previousSibling;if(!K&&ni(qe))if(We(qe.textContent))qe=Zn(qe,!0).getOr(qe);else for(qe.parentNode!==null&&ca(O,qe.parentNode)&&(qe=qe.parentNode);qe.nextSibling!==null&&(ca(O,qe.nextSibling)||ni(qe.nextSibling));)qe=qe.nextSibling;for(;qe.parentNode!==Ne;){const ar=qe.parentNode;if(ec(O,qe)||/^(TD|TH)$/.test(ar.nodeName))return qe;qe=ar}return qe},Ji=(O,V,K)=>{const Ne=[],qe=O.dom,yo=zl(O,V,!0,K),$t=zl(O,V,!1,K);let Zn;const ar=[];for(let bn=yo;bn&&(ar.push(bn),bn!==$t);bn=bn.nextSibling);return Di.each(ar,bn=>{var aa;if(ec(O,bn)){Ne.push(bn),Zn=null;return}if(qe.isBlock(bn)||Xa(bn)){Xa(bn)&&qe.remove(bn),Zn=null;return}const va=bn.nextSibling;if(ng.isBookmarkNode(bn)&&(Is(va)||ec(O,va)||!va&&bn.parentNode===K)){Zn=null;return}Zn||(Zn=qe.create("p"),(aa=bn.parentNode)===null||aa===void 0||aa.insertBefore(Zn,bn),Ne.push(Zn)),Zn.appendChild(bn)}),Ne},pd=(O,V,K)=>{const Ne=O.getStyle(V,"list-style-type");let qe=K?K["list-style-type"]:"";return qe=qe===null?"":qe,Ne===qe},Ui=(O,V)=>{const K=O.selection.getStart(!0),Ne=zl(O,V,!0,O.getBody());return zr(oo.fromDom(Ne),oo.fromDom(V.commonAncestorContainer))?V.commonAncestorContainer:K},Qi=(O,V,K)=>{const Ne=O.selection.getRng();let qe="LI";const yo=na(O,Ui(O,Ne)),$t=O.dom;if($t.getContentEditable(O.selection.getNode())==="false")return;V=V.toUpperCase(),V==="DL"&&(qe="DT");const Zn=Xr(Ne),ar=D(Ji(O,Ne,yo),O.dom.isEditable);Di.each(ar,bn=>{let aa;const va=bn.previousSibling,Rs=bn.parentNode;Ki(Rs)||(va&&Is(va)&&va.nodeName===V&&pd($t,va,K)?(aa=va,bn=$t.rename(bn,qe),va.appendChild(bn)):(aa=$t.create(V),Rs.insertBefore(aa,bn),aa.appendChild(bn),bn=$t.rename(bn,qe)),Qc($t,bn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Jc($t,aa,K),Pu(O.dom,aa))}),O.selection.setRng(El(Zn))},Yg=(O,V)=>Is(O)&&O.nodeName===(V==null?void 0:V.nodeName),au=(O,V,K)=>{const Ne=O.getStyle(V,"list-style-type",!0),qe=O.getStyle(K,"list-style-type",!0);return Ne===qe},Xg=(O,V)=>O.className===V.className,Iu=(O,V,K)=>Yg(V,K)&&au(O,V,K)&&Xg(V,K),Pu=(O,V)=>{let K,Ne=V.nextSibling;if(Iu(O,V,Ne)){const qe=Ne;for(;K=qe.firstChild;)V.appendChild(K);O.remove(qe)}if(Ne=V.previousSibling,Iu(O,V,Ne)){const qe=Ne;for(;K=qe.lastChild;)V.insertBefore(K,V.firstChild);O.remove(qe)}},rg=(O,V,K,Ne)=>{if(V.nodeName!==K){const qe=O.dom.rename(V,K);Jc(O.dom,qe,Ne),ds(O,Xc(K),qe)}else Jc(O.dom,V,Ne),ds(O,Xc(K),V)},su=(O,V,K,Ne)=>{if(V.classList.forEach((qe,yo,$t)=>{qe.startsWith("tox-")&&($t.remove(qe),$t.length===0&&V.removeAttribute("class"))}),V.nodeName!==K){const qe=O.dom.rename(V,K);Jc(O.dom,qe,Ne),ds(O,Xc(K),qe)}else Jc(O.dom,V,Ne),ds(O,Xc(K),V)},vm=(O,V,K,Ne,qe)=>{const yo=Is(V);if(yo&&V.nodeName===Ne&&!es(qe)&&!pr(V))ja(O);else{Qi(O,Ne,qe);const $t=Xr(O.selection.getRng()),Zn=yo?[V,...K]:K,ar=yo&&pr(V)?su:rg;Di.each(Zn,bn=>{ar(O,bn,Ne,qe)}),O.selection.setRng(El($t))}},es=O=>"list-style-type"in O,ag=(O,V,K,Ne)=>{if(V!==O.getBody())if(V)if(V.nodeName===K&&!es(Ne)&&!pr(V))ja(O);else{const qe=Xr(O.selection.getRng());pr(V)&&V.classList.forEach(($t,Zn,ar)=>{$t.startsWith("tox-")&&(ar.remove($t),ar.length===0&&V.removeAttribute("class"))}),Jc(O.dom,V,Ne);const yo=O.dom.rename(V,K);Pu(O.dom,yo),O.selection.setRng(El(qe)),Qi(O,K,Ne),ds(O,Xc(K),yo)}else Qi(O,K,Ne),ds(O,Xc(K),V)},Pd=(O,V,K)=>{const Ne=ve(O);if(Gs(O,Ne))return;const qe=Wn(O),yo=gn(K)?K:{};qe.length>0?vm(O,Ne,qe,V,yo):ag(O,Ne,V,yo)},qr=Ws.DOM,Il=(O,V)=>{const K=V.parentElement;if(K&&K.nodeName==="LI"&&K.firstChild===V){const Ne=K.previousSibling;Ne&&Ne.nodeName==="LI"?(Ne.appendChild(V),Si(O,K)&&qr.remove(K)):qr.setStyle(K,"listStyleType","none")}if(Is(K)){const Ne=K.previousSibling;Ne&&Ne.nodeName==="LI"&&Ne.appendChild(V)}},iu=(O,V)=>{const K=Di.grep(O.select("ol,ul",V));Di.each(K,Ne=>{Il(O,Ne)})},ed=(O,V,K,Ne)=>{let qe=V.startContainer;const yo=V.startOffset;if(ni(qe)&&(K?yo<qe.data.length:yo>0))return qe;const $t=O.schema.getNonEmptyElements();Fl(qe)&&(qe=oi.getNode(qe,yo));const Zn=new Jl(qe,Ne);K&&pc(O.dom,qe)&&Zn.next();const ar=K?Zn.next.bind(Zn):Zn.prev2.bind(Zn);for(;qe=ar();)if(qe.nodeName==="LI"&&!qe.hasChildNodes()||$t[qe.nodeName]||ni(qe)&&qe.data.length>0)return qe;return null},pi=(O,V)=>{const K=V.childNodes;return K.length===1&&!Is(K[0])&&O.isBlock(K[0])},lu=O=>he.from(O).map(oo.fromDom).filter(Tr).exists(V=>Br(V)&&!Ro(["details"],Cn(V))),xm=(O,V)=>{pi(O,V)&&lu(V.firstChild)&&O.remove(V.firstChild,!0)},Ei=(O,V,K)=>{let Ne;const qe=pi(O,K)?K.firstChild:K;if(xm(O,V),!Si(O,V,!0))for(;Ne=V.firstChild;)qe.appendChild(Ne)},Jr=(O,V,K)=>{let Ne;const qe=V.parentNode;if(!Mi(O,V)||!Mi(O,K))return;Is(K.lastChild)&&(Ne=K.lastChild),qe===K.lastChild&&Xa(qe.previousSibling)&&O.remove(qe.previousSibling);const yo=K.lastChild;yo&&Xa(yo)&&V.hasChildNodes()&&O.remove(yo),Si(O,K,!0)&&ir(oo.fromDom(K)),Ei(O,V,K),Ne&&K.appendChild(Ne);const Zn=bo(oo.fromDom(K),oo.fromDom(V))?O.getParents(V,Is,K):[];O.remove(V),Nt(Zn,ar=>{Si(O,ar)&&ar!==O.getRoot()&&O.remove(ar)})},wm=(O,V,K)=>{ir(oo.fromDom(K)),Jr(O.dom,V,K),O.selection.setCursorLocation(K,0)},ma=(O,V,K,Ne)=>{const qe=O.dom;if(qe.isEmpty(Ne))wm(O,K,Ne);else{const yo=Xr(V);Jr(qe,K,Ne),O.selection.setRng(El(yo))}},fi=(O,V,K,Ne)=>{const qe=Xr(V);Jr(O.dom,K,Ne);const yo=El(qe);O.selection.setRng(yo)},Pl=(O,V)=>{const K=O.dom,Ne=O.selection,qe=Ne.getStart(),yo=vs(O,qe),$t=K.getParent(Ne.getStart(),"LI",yo);if($t){const Zn=$t.parentElement;if(Zn===O.getBody()&&Si(K,Zn))return!0;const ar=$(Ne.getRng()),bn=K.getParent(ed(O,ar,V,yo),"LI",yo),aa=bn&&(V?K.isChildOf($t,bn):K.isChildOf(bn,$t));if(bn&&bn!==$t&&!aa)return O.undoManager.transact(()=>{V?ma(O,ar,bn,$t):ri($t)?Bi(O):fi(O,ar,$t,bn)}),!0;if(aa&&!V&&bn!==$t){const va=ar.commonAncestorContainer.parentElement;return!va||K.isChildOf(bn,va)?!1:(O.undoManager.transact(()=>{const Rs=Xr(ar);Ei(K,va,bn),va.remove();const $a=El(Rs);O.selection.setRng($a)}),!0)}else if(!bn&&!V&&ar.startOffset===0&&ar.endOffset===0)return O.undoManager.transact(()=>{ja(O)}),!0}return!1},ii=(O,V,K)=>{const Ne=O.getParent(V.parentNode,O.isBlock,K);O.remove(V),Ne&&O.isEmpty(Ne)&&O.remove(Ne)},Hu=(O,V)=>{const K=O.dom,Ne=O.selection.getStart(),qe=vs(O,Ne),yo=K.getParent(Ne,K.isBlock,qe);if(yo&&K.isEmpty(yo,void 0,{checkRootAsContent:!0})){const $t=$(O.selection.getRng()),Zn=ed(O,$t,V,qe),ar=K.getParent(Zn,"LI",qe);if(Zn&&ar){const bn=$a=>Ro(["td","th","caption"],Cn($a)),aa=$a=>$a.dom===qe,va=cs(oo.fromDom(ar),bn,aa),Rs=cs(oo.fromDom($t.startContainer),bn,aa);return Ue(va,Rs,ft)?(O.undoManager.transact(()=>{const $a=ar.parentNode;ii(K,yo,qe),Pu(K,$a),O.selection.select(Zn,!0),O.selection.collapse(V)}),!0):!1}}return!1},Vs=(O,V)=>Pl(O,V)||Hu(O,V),Bc=O=>{const V=O.selection.getStart(),K=vs(O,V);return O.dom.getParent(V,"LI,DT,DD",K)||Se(O).length>0},fd=O=>Bc(O)?(O.undoManager.transact(()=>{let V=!0;const K=()=>V=!1;O.on("input",K),O.execCommand("Delete"),O.off("input",K),V&&O.dispatch("input"),iu(O.dom,O.getBody())}),!0):!1,Ys=(O,V)=>{const K=O.selection;return!Gs(O,K.getNode())&&(K.isCollapsed()?Vs(O,V):fd(O))},hd=O=>{O.on("ExecCommand",V=>{const K=V.command.toLowerCase();(K==="delete"||K==="forwarddelete")&&Bc(O)&&iu(O.dom,O.getBody())}),O.on("keydown",V=>{V.keyCode===Ni.BACKSPACE?Ys(O,!1)&&V.preventDefault():V.keyCode===Ni.DELETE&&Ys(O,!0)&&V.preventDefault()})},cu=O=>({backspaceDelete:V=>{Ys(O,V)}}),td=(O,V)=>{const K=ve(O);K===null||Gs(O,K)||O.undoManager.transact(()=>{gn(V.styles)&&O.dom.setStyles(K,V.styles),gn(V.attrs)&&Vt(V.attrs,(Ne,qe)=>O.dom.setAttrib(K,qe,Ne))})},km=O=>{const V=Bo(ye(O).split("")),K=Vo(V,(Ne,qe)=>{const yo=Ne.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,qe)*yo});return Ot(K,(Ne,qe)=>Ne+qe,0)},od=O=>{if(O--,O<0)return"";{const V=O%26,K=Math.floor(O/26),Ne=od(K),qe=String.fromCharCode(65+V);return Ne+qe}},_m=O=>/^[A-Z]+$/.test(O),hi=O=>/^[a-z]+$/.test(O),Cm=O=>/^[0-9]+$/.test(O),Sm=O=>Cm(O)?2:_m(O)?0:hi(O)?1:ot(O)?3:4,tc=O=>{switch(Sm(O)){case 2:return he.some({listStyleType:he.none(),start:O});case 0:return he.some({listStyleType:he.some("upper-alpha"),start:km(O).toString()});case 1:return he.some({listStyleType:he.some("lower-alpha"),start:km(O).toString()});case 3:return he.some({listStyleType:he.none(),start:""});case 4:return he.none()}},Vu=O=>{const V=parseInt(O.start,10);return Uo(O.listStyleType,"upper-alpha")?od(V):Uo(O.listStyleType,"lower-alpha")?od(V).toLowerCase():O.start},sg=O=>{const V=ve(O);!wl(V)||Gs(O,V)||O.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Vu({start:O.dom.getAttrib(V,"start","1"),listStyleType:he.from(O.dom.getStyle(V,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:K=>{const Ne=K.getData();tc(Ne.start).each(qe=>{O.execCommand("mceListUpdate",!1,{attrs:{start:qe.start==="1"?"":qe.start},styles:{"list-style-type":qe.listStyleType.getOr("")}})}),K.close()}})},du=(O,V)=>()=>{const K=ve(O);return kn(K)&&K.nodeName===V},Zi=O=>{O.addCommand("mceListProps",()=>{sg(O)})},ju=O=>{O.on("BeforeExecCommand",V=>{const K=V.command.toLowerCase();K==="indent"?br(O):K==="outdent"&&Bi(O)}),O.addCommand("InsertUnorderedList",(V,K)=>{Pd(O,"UL",K)}),O.addCommand("InsertOrderedList",(V,K)=>{Pd(O,"OL",K)}),O.addCommand("InsertDefinitionList",(V,K)=>{Pd(O,"DL",K)}),O.addCommand("RemoveList",()=>{ja(O)}),Zi(O),O.addCommand("mceListUpdate",(V,K)=>{gn(K)&&td(O,K)}),O.addQueryStateHandler("InsertUnorderedList",du(O,"UL")),O.addQueryStateHandler("InsertOrderedList",du(O,"OL")),O.addQueryStateHandler("InsertDefinitionList",du(O,"DL"))};var Hl=tinymce.util.Tools.resolve("tinymce.html.Node");const Al=O=>O.type===3,nd=O=>O.length===0,bd=O=>{const V=(qe,yo)=>{const $t=Hl.create("li");Nt(qe,Zn=>$t.append(Zn)),yo?O.insert($t,yo,!0):O.append($t)},K=(qe,yo)=>Al(yo)?[...qe,yo]:!nd(qe)&&!Al(yo)?(V(qe,yo),[]):qe,Ne=Ot(O.children(),K,[]);nd(Ne)||V(Ne)},yd=O=>{O.on("PreInit",()=>{const{parser:V}=O;V.addNodeFilter("ul,ol",K=>Nt(K,bd))})},uu=O=>{O.on("keydown",V=>{V.keyCode!==Ni.TAB||Ni.metaKeyPressed(V)||O.undoManager.transact(()=>{(V.shiftKey?Bi(O):br(O))&&V.preventDefault()})})},Xs=O=>{hc(O)&&uu(O),hd(O)},js=(O,V)=>K=>{const Ne=qe=>{K.setActive(Id(qe.parents,V)),K.setEnabled(!Gs(O,qe.element)&&O.selection.isEditable())};return K.setEnabled(O.selection.isEditable()),la(O,Ne)},vd=O=>{const V=K=>()=>O.execCommand(K);O.hasPlugin("advlist")||(O.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:V("InsertOrderedList"),onSetup:js(O,"OL")}),O.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:V("InsertUnorderedList"),onSetup:js(O,"UL")}))},$u=(O,V)=>K=>la(O,qe=>K.setEnabled(Id(qe.parents,V)&&!Gs(O,qe.element))),bi=O=>{const V={text:"List properties...",icon:"ordered-list",onAction:()=>O.execCommand("mceListProps"),onSetup:$u(O,"OL")};O.ui.registry.addMenuItem("listprops",V),O.ui.registry.addContextMenu("lists",{update:K=>{const Ne=ve(O,K);return wl(Ne)?["listprops"]:[]}})};var Ms=()=>{Oo.add("lists",O=>(Kc(O),yd(O),O.hasPlugin("rtc",!0)?Zi(O):(Xs(O),ju(O)),vd(O),bi(O),cu(O)))};Ms()}()),nD}var aD;function PB(){return aD||(aD=1,IB()),oD}PB();var sD={},iD={},lD;function HB(){return lD||(lD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(De,Fe,wt)=>{var Tt;return wt(De,Fe.prototype)?!0:((Tt=De.constructor)===null||Tt===void 0?void 0:Tt.name)===Fe.name},Ko=De=>{const Fe=typeof De;return De===null?"null":Fe==="object"&&Array.isArray(De)?"array":Fe==="object"&&an(De,String,(wt,Tt)=>Tt.isPrototypeOf(wt))?"string":Fe},cn=De=>Fe=>Ko(Fe)===De,en=cn("string"),ro=cn("object"),gn=cn("array"),$o=De=>De==null,go=De=>!$o(De);class At{constructor(Fe,wt){this.tag=Fe,this.value=wt}static some(Fe){return new At(!0,Fe)}static none(){return At.singletonNone}fold(Fe,wt){return this.tag?wt(this.value):Fe()}isSome(){return this.tag}isNone(){return!this.tag}map(Fe){return this.tag?At.some(Fe(this.value)):At.none()}bind(Fe){return this.tag?Fe(this.value):At.none()}exists(Fe){return this.tag&&Fe(this.value)}forall(Fe){return!this.tag||Fe(this.value)}filter(Fe){return!this.tag||Fe(this.value)?this:At.none()}getOr(Fe){return this.tag?this.value:Fe}or(Fe){return this.tag?this:Fe}getOrThunk(Fe){return this.tag?this.value:Fe()}orThunk(Fe){return this.tag?this:Fe()}getOrDie(Fe){if(this.tag)return this.value;throw new Error(Fe??"Called getOrDie on None")}static from(Fe){return go(Fe)?At.some(Fe):At.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Fe){this.tag&&Fe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}At.singletonNone=new At(!1);const kn=Array.prototype.push,tn=(De,Fe)=>{for(let wt=0,Tt=De.length;wt<Tt;wt++){const ko=De[wt];Fe(ko,wt)}},Gt=De=>{const Fe=[];for(let wt=0,Tt=De.length;wt<Tt;++wt){if(!gn(De[wt]))throw new Error("Arr.flatten item "+wt+" was not an array, input: "+De);kn.apply(Fe,De[wt])}return Fe},Je=Object.keys,bt=Object.hasOwnProperty,no=(De,Fe)=>{const wt=Je(De);for(let Tt=0,ko=wt.length;Tt<ko;Tt++){const Jo=wt[Tt],hn=De[Jo];Fe(hn,Jo)}},ao=(De,Fe)=>Te(De,Fe)?At.from(De[Fe]):At.none(),Te=(De,Fe)=>bt.call(De,Fe),St=De=>{let Fe=De;return{get:()=>Fe,set:ko=>{Fe=ko}}},wo=(De,Fe,wt)=>De.length>=Fe.length&&De.substr(wt,wt+Fe.length)===Fe,he=(De,Fe)=>wo(De,Fe,0),Xe=De=>Fe=>Fe.options.get(De),ae=De=>{const Fe=De.options.register;Fe("audio_template_callback",{processor:"function"}),Fe("video_template_callback",{processor:"function"}),Fe("iframe_template_callback",{processor:"function"}),Fe("media_live_embeds",{processor:"boolean",default:!0}),Fe("media_filter_html",{processor:"boolean",default:!0}),Fe("media_url_resolver",{processor:"function"}),Fe("media_alt_source",{processor:"boolean",default:!0}),Fe("media_poster",{processor:"boolean",default:!0}),Fe("media_dimensions",{processor:"boolean",default:!0})},pt=Xe("audio_template_callback"),sn=Xe("video_template_callback"),Ro=Xe("iframe_template_callback"),pn=Xe("media_live_embeds"),Vo=Xe("media_filter_html"),Nt=Xe("media_url_resolver"),D=Xe("media_alt_source"),zt=Xe("media_poster"),Ot=Xe("media_dimensions");var Lt=tinymce.util.Tools.resolve("tinymce.util.Tools"),po=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),vt=tinymce.util.Tools.resolve("tinymce.html.DomParser");const so=po.DOM,Bo=De=>De.replace(/px$/,""),je=De=>{const Fe=De.attr("style"),wt=Fe?so.parseStyle(Fe):{};return{type:"ephox-embed-iri",source:De.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:ao(wt,"max-width").map(Bo).getOr(""),height:ao(wt,"max-height").map(Bo).getOr("")}},R=(De,Fe)=>{let wt={};const ko=vt({validate:!1,forced_root_block:!1},Fe).parse(De);for(let Jo=ko;Jo;Jo=Jo.walk())if(Jo.type===1){const hn=Jo.name;if(Jo.attr("data-ephox-embed-iri")){wt=je(Jo);break}else!wt.source&&hn==="param"&&(wt.source=Jo.attr("movie")),(hn==="iframe"||hn==="object"||hn==="embed"||hn==="video"||hn==="audio")&&(wt.type||(wt.type=hn),wt=Lt.extend(Jo.attributes.map,wt)),hn==="source"&&(wt.source?wt.altsource||(wt.altsource=Jo.attr("src")):wt.source=Jo.attr("src")),hn==="img"&&!wt.poster&&(wt.poster=Jo.attr("src"))}return wt.source=wt.source||wt.src||"",wt.altsource=wt.altsource||"",wt.poster=wt.poster||"",wt},ut=De=>{var Fe;const wt={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Tt=(Fe=De.toLowerCase().split(".").pop())!==null&&Fe!==void 0?Fe:"";return ao(wt,Tt).getOr("")};var tt=tinymce.util.Tools.resolve("tinymce.html.Node"),Bt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Vt=(De,Fe={})=>vt({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Fe},De),co=po.DOM,xo=De=>/^[0-9.]+$/.test(De)?De+"px":De,No=(De,Fe)=>{const wt=Fe.attr("style"),Tt=wt?co.parseStyle(wt):{};go(De.width)&&(Tt["max-width"]=xo(De.width)),go(De.height)&&(Tt["max-height"]=xo(De.height)),Fe.attr("style",co.serializeStyle(Tt))},ke=["source","altsource"],Ft=(De,Fe,wt,Tt)=>{let ko=0,Jo=0;const hn=Vt(Tt);hn.addNodeFilter("source",ur=>ko=ur.length);const cr=hn.parse(De);for(let ur=cr;ur;ur=ur.walk())if(ur.type===1){const ir=ur.name;if(ur.attr("data-ephox-embed-iri")){No(Fe,ur);break}else{switch(ir){case"video":case"object":case"embed":case"img":case"iframe":Fe.height!==void 0&&Fe.width!==void 0&&(ur.attr("width",Fe.width),ur.attr("height",Fe.height));break}if(wt)switch(ir){case"video":ur.attr("poster",Fe.poster),ur.attr("src",null);for(let Be=ko;Be<2;Be++)if(Fe[ke[Be]]){const Kt=new tt("source",1);Kt.attr("src",Fe[ke[Be]]),Kt.attr("type",Fe[ke[Be]+"mime"]||null),ur.append(Kt)}break;case"iframe":ur.attr("src",Fe.source);break;case"object":const Le=ur.getAll("img").length>0;if(Fe.poster&&!Le){ur.attr("src",Fe.poster);const Be=new tt("img",1);Be.attr("src",Fe.poster),Be.attr("width",Fe.width),Be.attr("height",Fe.height),ur.append(Be)}break;case"source":if(Jo<2&&(ur.attr("src",Fe[ke[Jo]]),ur.attr("type",Fe[ke[Jo]+"mime"]||null),!Fe[ke[Jo]])){ur.remove();continue}Jo++;break;case"img":Fe.poster||ur.remove();break}}}return Bt({},Tt).serialize(cr)},Uo=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Ue=De=>{const Fe=De.match(/^(https?:\/\/|www\.)(.+)$/i);return Fe&&Fe.length>1?Fe[1]==="www."?"https://":Fe[1]:"https://"},me=(De,Fe)=>{const wt=Ue(Fe),Tt=De.regex.exec(Fe);let ko=wt+De.url;if(go(Tt))for(let Jo=0;Jo<Tt.length;Jo++)ko=ko.replace("$"+Jo,()=>Tt[Jo]?Tt[Jo]:"");return ko.replace(/\?$/,"")},xe=De=>{const Fe=Uo.filter(wt=>wt.regex.test(De));return Fe.length>0?Lt.extend({},Fe[0],{url:me(Fe[0],De)}):null},Pe=(De,Fe)=>{if(Fe)return Fe(De);{const wt=De.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+De.source+'" width="'+De.width+'" height="'+De.height+'"'+wt+"></iframe>"}},Ie=De=>{let Fe='<object data="'+De.source+'" width="'+De.width+'" height="'+De.height+'" type="application/x-shockwave-flash">';return De.poster&&(Fe+='<img src="'+De.poster+'" width="'+De.width+'" height="'+De.height+'" />'),Fe+="</object>",Fe},ye=(De,Fe)=>Fe?Fe(De):'<audio controls="controls" src="'+De.source+'">'+(De.altsource?`
<source src="`+De.altsource+'"'+(De.altsourcemime?' type="'+De.altsourcemime+'"':"")+` />
`:"")+"</audio>",Ee=(De,Fe)=>Fe?Fe(De):'<video width="'+De.width+'" height="'+De.height+'"'+(De.poster?' poster="'+De.poster+'"':"")+` controls="controls">
<source src="`+De.source+'"'+(De.sourcemime?' type="'+De.sourcemime+'"':"")+` />
`+(De.altsource?'<source src="'+De.altsource+'"'+(De.altsourcemime?' type="'+De.altsourcemime+'"':"")+` />
`:"")+"</video>",ot=(De,Fe)=>{var wt;const Tt=Lt.extend({},Fe);if(!Tt.source&&(Lt.extend(Tt,R((wt=Tt.embed)!==null&&wt!==void 0?wt:"",De.schema)),!Tt.source))return"";Tt.altsource||(Tt.altsource=""),Tt.poster||(Tt.poster=""),Tt.source=De.convertURL(Tt.source,"source"),Tt.altsource=De.convertURL(Tt.altsource,"source"),Tt.sourcemime=ut(Tt.source),Tt.altsourcemime=ut(Tt.altsource),Tt.poster=De.convertURL(Tt.poster,"poster");const ko=xe(Tt.source);if(ko&&(Tt.source=ko.url,Tt.type=ko.type,Tt.allowfullscreen=ko.allowFullscreen,Tt.width=Tt.width||String(ko.w),Tt.height=Tt.height||String(ko.h)),Tt.embed)return Ft(Tt.embed,Tt,!0,De.schema);{const Jo=pt(De),hn=sn(De),cr=Ro(De);return Tt.width=Tt.width||"300",Tt.height=Tt.height||"150",Lt.each(Tt,(ur,ir)=>{Tt[ir]=De.dom.encode(""+ur)}),Tt.type==="iframe"?Pe(Tt,cr):Tt.sourcemime==="application/x-shockwave-flash"?Ie(Tt):Tt.sourcemime.indexOf("audio")!==-1?ye(Tt,Jo):Ee(Tt,hn)}},_t=De=>De.hasAttribute("data-mce-object")||De.hasAttribute("data-ephox-embed-iri"),We=De=>{De.on("mousedown",Fe=>{const wt=De.dom.getParent(Fe.target,".mce-preview-object");wt&&De.dom.getAttrib(wt,"data-mce-selected")==="2"&&Fe.stopImmediatePropagation()}),De.on("click keyup touchend",()=>{const Fe=De.selection.getNode();Fe&&De.dom.hasClass(Fe,"mce-preview-object")&&De.dom.getAttrib(Fe,"data-mce-selected")&&Fe.setAttribute("data-mce-selected","2")}),De.on("ObjectResized",Fe=>{const wt=Fe.target;if(wt.getAttribute("data-mce-object")){let Tt=wt.getAttribute("data-mce-html");Tt&&(Tt=unescape(Tt),wt.setAttribute("data-mce-html",escape(Ft(Tt,{width:String(Fe.width),height:String(Fe.height)},!1,De.schema))))}})},dt={},io=(De,Fe,wt)=>new Promise((Tt,ko)=>{const Jo=hn=>(hn.html&&(dt[De.source]=hn),Tt({url:De.source,html:hn.html?hn.html:Fe(De)}));dt[De.source]?Jo(dt[De.source]):wt({url:De.source}).then(Jo).catch(ko)}),Fo=(De,Fe)=>Promise.resolve({html:Fe(De),url:De.source}),rt=De=>Fe=>ot(De,Fe),xt=(De,Fe)=>{const wt=Nt(De);return wt?io(Fe,rt(De),wt):Fo(Fe,rt(De))},oo=De=>Te(dt,De),qo=(De,Fe)=>ao(Fe,De).bind(wt=>ao(wt,"meta")),Mn=(De,Fe,wt)=>Tt=>{const ko=()=>ao(De,Tt),Jo=()=>ao(Fe,Tt),hn=ir=>ao(ir,"value").bind(Le=>Le.length>0?At.some(Le):At.none()),cr=()=>ko().bind(ir=>ro(ir)?hn(ir).orThunk(Jo):Jo().orThunk(()=>At.from(ir))),ur=()=>Jo().orThunk(()=>ko().bind(ir=>ro(ir)?hn(ir):At.from(ir)));return{[Tt]:(Tt===wt?cr():ur()).getOr("")}},_n=(De,Fe)=>{const wt={};return ao(De,"dimensions").each(Tt=>{tn(["width","height"],ko=>{ao(Fe,ko).orThunk(()=>ao(Tt,ko)).each(Jo=>wt[ko]=Jo)})}),wt},Dt=(De,Fe)=>{const wt=Fe&&Fe!=="dimensions"?qo(Fe,De).getOr({}):{},Tt=Mn(De,wt,Fe);return{...Tt("source"),...Tt("altsource"),...Tt("poster"),...Tt("embed"),..._n(De,wt)}},Pt=De=>{const Fe={...De,source:{value:ao(De,"source").getOr("")},altsource:{value:ao(De,"altsource").getOr("")},poster:{value:ao(De,"poster").getOr("")}};return tn(["width","height"],wt=>{ao(De,wt).each(Tt=>{const ko=Fe.dimensions||{};ko[wt]=Tt,Fe.dimensions=ko})}),Fe},ft=De=>Fe=>{const wt=Fe&&Fe.msg?"Media embed handler error: "+Fe.msg:"Media embed handler threw unknown error.";De.notificationManager.open({type:"error",text:wt})},bo=De=>{const Fe=De.selection.getNode(),wt=_t(Fe)?De.serializer.serialize(Fe,{selection:!0}):"",Tt=R(wt,De.schema),Jo=(()=>{if(gr(Tt.source,Tt.type)){const hn=De.dom.getRect(Fe);return{width:hn.w.toString().replace(/px$/,""),height:hn.h.toString().replace(/px$/,"")}}else return{}})();return{embed:wt,...Tt,...Jo}},Rn=(De,Fe)=>wt=>{if(en(wt.url)&&wt.url.trim().length>0){const Tt=wt.html,Jo={...R(Tt,Fe.schema),source:wt.url,embed:Tt};De.setData(Pt(Jo))}},On=(De,Fe)=>{const wt=De.dom.select("*[data-mce-object]");for(let Tt=0;Tt<Fe.length;Tt++)for(let ko=wt.length-1;ko>=0;ko--)Fe[Tt]===wt[ko]&&wt.splice(ko,1);De.selection.select(wt[0])},fo=(De,Fe)=>{const wt=De.dom.select("*[data-mce-object]");De.insertContent(Fe),On(De,wt),De.nodeChanged()},gr=(De,Fe)=>go(Fe)&&Fe==="ephox-embed-iri"&&go(xe(De)),Ur=(De,Fe)=>((Tt,ko)=>Tt.width!==ko.width||Tt.height!==ko.height)(De,Fe)&&gr(Fe.source,De.type),Ha=(De,Fe,wt)=>{var Tt;Fe.embed=Ur(De,Fe)&&Ot(wt)?ot(wt,{...Fe,embed:""}):Ft((Tt=Fe.embed)!==null&&Tt!==void 0?Tt:"",Fe,!1,wt.schema),Fe.embed&&(De.source===Fe.source||oo(Fe.source))?fo(wt,Fe.embed):xt(wt,Fe).then(ko=>{fo(wt,ko.html)}).catch(ft(wt))},Cn=De=>{const Fe=bo(De),wt=St(Fe),Tt=Pt(Fe),ko=(nn,zn)=>{const eo=Dt(zn.getData(),"source");nn.source!==eo.source&&(Rn(xn,De)({url:eo.source,html:""}),xt(De,eo).then(Rn(xn,De)).catch(ft(De)))},Jo=nn=>{var zn;const eo=Dt(nn.getData()),Pr=R((zn=eo.embed)!==null&&zn!==void 0?zn:"",De.schema);nn.setData(Pt(Pr))},hn=(nn,zn,eo)=>{const Pr=Dt(nn.getData(),zn),fa=Ur(eo,Pr)&&Ot(De)?{...Pr,embed:""}:Pr,qs=ot(De,fa);nn.setData(Pt({...fa,embed:qs}))},cr=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],ur=Ot(De)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],ir={title:"General",name:"general",items:Gt([cr,ur])},Be={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Kt=[];D(De)&&Kt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),zt(De)&&Kt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Po={title:"Advanced",name:"advanced",items:Kt},Do=[ir,Be];Kt.length>0&&Do.push(Po);const vn={type:"tabpanel",tabs:Do},xn=De.windowManager.open({title:"Insert/Edit Media",size:"normal",body:vn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:nn=>{const zn=Dt(nn.getData());Ha(wt.get(),zn,De),nn.close()},onChange:(nn,zn)=>{switch(zn.name){case"source":ko(wt.get(),nn);break;case"embed":Jo(nn);break;case"dimensions":case"altsource":case"poster":hn(nn,zn.name,wt.get());break}wt.set(Dt(nn.getData()))},initialData:Tt})},on=De=>({showDialog:()=>{Cn(De)}}),ea=De=>{const Fe=()=>{Cn(De)};De.addCommand("mceMedia",Fe)};var Ya=tinymce.util.Tools.resolve("tinymce.Env");const Tr=De=>{const Fe=De.name;return Fe==="iframe"||Fe==="video"||Fe==="audio"},Gn=(De,Fe,wt,Tt=null)=>{const ko=De.attr(wt);return go(ko)?ko:Te(Fe,wt)?null:Tt},Qn=(De,Fe,wt)=>{const Tt=Fe.name==="img"||De.name==="video",ko=Tt?"300":null,Jo=De.name==="audio"?"30":"150",hn=Tt?Jo:null;Fe.attr({width:Gn(De,wt,"width",ko),height:Gn(De,wt,"height",hn)})},ta=(De,Fe,wt,Tt)=>{const ko=Vt(De.schema).parse(Tt,{context:Fe});for(;ko.firstChild;)wt.append(ko.firstChild)},Ba=(De,Fe)=>{const wt=Fe.name,Tt=new tt("img",1);return Va(De,Fe,Tt),Qn(Fe,Tt,{}),Tt.attr({style:Fe.attr("style"),src:Ya.transparentSrc,"data-mce-object":wt,class:"mce-object mce-object-"+wt}),Tt},Or=(De,Fe)=>{var wt;const Tt=Fe.name,ko=new tt("span",1);ko.attr({contentEditable:"false",style:Fe.attr("style"),"data-mce-object":Tt,class:"mce-preview-object mce-object-"+Tt}),Va(De,Fe,ko);const Jo=De.dom.parseStyle((wt=Fe.attr("style"))!==null&&wt!==void 0?wt:""),hn=new tt(Tt,1);if(Qn(Fe,hn,Jo),hn.attr({src:Fe.attr("src"),style:Fe.attr("style"),class:Fe.attr("class")}),Tt==="iframe")hn.attr({allowfullscreen:Fe.attr("allowfullscreen"),frameborder:"0",sandbox:Fe.attr("sandbox"),referrerpolicy:Fe.attr("referrerpolicy")});else{tn(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Le=>{hn.attr(Le,Fe.attr(Le))});const ir=ko.attr("data-mce-html");go(ir)&&ta(De,Tt,hn,unescape(ir))}const cr=new tt("span",1);return cr.attr("class","mce-shim"),ko.append(hn),ko.append(cr),ko},Va=(De,Fe,wt)=>{var Tt;const ko=(Tt=Fe.attributes)!==null&&Tt!==void 0?Tt:[];let Jo=ko.length;for(;Jo--;){const ir=ko[Jo].name;let Le=ko[Jo].value;ir!=="width"&&ir!=="height"&&ir!=="style"&&!he(ir,"data-mce-")&&((ir==="data"||ir==="src")&&(Le=De.convertURL(Le,ir)),wt.attr("data-mce-p-"+ir,Le))}const hn=Bt({inner:!0},De.schema),cr=new tt("div",1);tn(Fe.children(),ir=>cr.append(ir));const ur=hn.serialize(cr);ur&&(wt.attr("data-mce-html",escape(ur)),wt.empty())},gt=De=>{const Fe=De.attr("class");return en(Fe)&&/\btiny-pageembed\b/.test(Fe)},se=De=>{let Fe=De;for(;Fe=Fe.parent;)if(Fe.attr("data-ephox-embed-iri")||gt(Fe))return!0;return!1},Io=De=>Fe=>{let wt=Fe.length,Tt;for(;wt--;)Tt=Fe[wt],Tt.parent&&(Tt.parent.attr("data-mce-object")||(Tr(Tt)&&pn(De)?se(Tt)||Tt.replace(Or(De,Tt)):se(Tt)||Tt.replace(Ba(De,Tt))))},Yo=(De,Fe,wt)=>{const Tt=De.options.get,ko=Tt("xss_sanitization"),Jo=Vo(De);return Vt(De.schema,{sanitize:ko,validate:Jo}).parse(wt,{context:Fe})},Er=De=>{De.on("PreInit",()=>{const{schema:Fe,serializer:wt,parser:Tt}=De,ko=Fe.getBoolAttrs();tn("webkitallowfullscreen mozallowfullscreen".split(" "),Jo=>{ko[Jo]={}}),no({embed:["wmode"]},(Jo,hn)=>{const cr=Fe.getElementRule(hn);cr&&tn(Jo,ur=>{cr.attributes[ur]={},cr.attributesOrder.push(ur)})}),Tt.addNodeFilter("iframe,video,audio,object,embed",Io(De)),wt.addAttributeFilter("data-mce-object",(Jo,hn)=>{var cr;let ur=Jo.length;for(;ur--;){const ir=Jo[ur];if(!ir.parent)continue;const Le=ir.attr(hn),Be=new tt(Le,1);if(Le!=="audio"){const vn=ir.attr("class");vn&&vn.indexOf("mce-preview-object")!==-1&&ir.firstChild?Be.attr({width:ir.firstChild.attr("width"),height:ir.firstChild.attr("height")}):Be.attr({width:ir.attr("width"),height:ir.attr("height")})}Be.attr({style:ir.attr("style")});const Kt=(cr=ir.attributes)!==null&&cr!==void 0?cr:[];let Po=Kt.length;for(;Po--;){const vn=Kt[Po].name;vn.indexOf("data-mce-p-")===0&&Be.attr(vn.substr(11),Kt[Po].value)}const Do=ir.attr("data-mce-html");if(Do){const vn=Yo(De,Le,unescape(Do));tn(vn.children(),xn=>Be.append(xn))}ir.replace(Be)}})}),De.on("SetContent",()=>{const Fe=De.dom;tn(Fe.select("span.mce-preview-object"),wt=>{Fe.select("span.mce-shim",wt).length===0&&Fe.add(wt,"span",{class:"mce-shim"})})})},kr=De=>{De.on("ResolveName",Fe=>{let wt;Fe.target.nodeType===1&&(wt=Fe.target.getAttribute("data-mce-object"))&&(Fe.name=wt)})},Rr=De=>Fe=>{const wt=()=>{Fe.setEnabled(De.selection.isEditable())};return De.on("NodeChange",wt),wt(),()=>{De.off("NodeChange",wt)}},Dr=De=>{const Fe=()=>De.execCommand("mceMedia");De.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Fe,onSetup:wt=>{const Tt=De.selection;wt.setActive(_t(Tt.getNode()));const ko=Tt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",wt.setActive).unbind,Jo=Rr(De)(wt);return()=>{ko(),Jo()}}}),De.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Fe,onSetup:Rr(De)})};var Fs=()=>{Oo.add("media",De=>(ae(De),ea(De),Dr(De),kr(De),Er(De),We(De),on(De)))};Fs()}()),iD}var cD;function VB(){return cD||(cD=1,HB()),sD}VB();var dD={},uD={},mD;function jB(){return mD||(mD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=Te=>St=>typeof St===Te,Ko=an("boolean"),cn=an("number"),en=Te=>St=>St.options.get(Te),ro=Te=>{const St=Te.options.register;St("nonbreaking_force_tab",{processor:wo=>Ko(wo)?{value:wo?3:0,valid:!0}:cn(wo)?{value:wo,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),St("nonbreaking_wrap",{processor:"boolean",default:!0})},gn=en("nonbreaking_force_tab"),$o=en("nonbreaking_wrap"),go=(Te,St)=>{let wo="";for(let he=0;he<St;he++)wo+=Te;return wo},At=Te=>Te.plugins.visualchars?Te.plugins.visualchars.isEnabled():!1,kn=(Te,St)=>{const wo=()=>At(Te)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",he=()=>`<span class="${wo()}" contenteditable="false">${go("&nbsp;",St)}</span>`,ae=$o(Te)||Te.plugins.visualchars?he():go("&nbsp;",St);Te.undoManager.transact(()=>Te.insertContent(ae))},tn=Te=>{Te.addCommand("mceNonBreaking",()=>{kn(Te,1)})};var Gt=tinymce.util.Tools.resolve("tinymce.util.VK");const Je=Te=>{const St=gn(Te);St>0&&Te.on("keydown",wo=>{if(wo.keyCode===Gt.TAB&&!wo.isDefaultPrevented()){if(wo.shiftKey)return;wo.preventDefault(),wo.stopImmediatePropagation(),kn(Te,St)}})},bt=Te=>St=>{const wo=()=>{St.setEnabled(Te.selection.isEditable())};return Te.on("NodeChange",wo),wo(),()=>{Te.off("NodeChange",wo)}},no=Te=>{const St=()=>Te.execCommand("mceNonBreaking");Te.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:St,onSetup:bt(Te)}),Te.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:St,onSetup:bt(Te)})};var ao=()=>{Oo.add("nonbreaking",Te=>{ro(Te),tn(Te),no(Te),Je(Te)})};ao()}()),uD}var gD;function $B(){return gD||(gD=1,jB()),dD}$B();var pD={},fD={},hD;function UB(){return hD||(hD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager"),an=tinymce.util.Tools.resolve("tinymce.Env");const Ko=bt=>no=>no.options.get(bt),cn=bt=>{const no=bt.options.register;no("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),no("pagebreak_split_block",{processor:"boolean",default:!1})},en=Ko("pagebreak_separator"),ro=Ko("pagebreak_split_block"),gn="mce-pagebreak",$o=bt=>{const no=`<img src="${an.transparentSrc}" class="${gn}" data-mce-resize="false" data-mce-placeholder />`;return bt?`<p>${no}</p>`:no},go=bt=>{const no=en(bt),ao=()=>ro(bt),Te=new RegExp(no.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,St=>"\\"+St),"gi");bt.on("BeforeSetContent",St=>{St.content=St.content.replace(Te,$o(ao()))}),bt.on("PreInit",()=>{bt.serializer.addNodeFilter("img",St=>{let wo=St.length,he,Xe;for(;wo--;)if(he=St[wo],Xe=he.attr("class"),Xe&&Xe.indexOf(gn)!==-1){const ae=he.parent;if(ae&&bt.schema.getBlockElements()[ae.name]&&ao()){ae.type=3,ae.value=no,ae.raw=!0,he.remove();continue}he.type=3,he.value=no,he.raw=!0}})})},At=bt=>{bt.addCommand("mcePageBreak",()=>{bt.insertContent($o(ro(bt)))})},kn=bt=>{bt.on("ResolveName",no=>{no.target.nodeName==="IMG"&&bt.dom.hasClass(no.target,gn)&&(no.name="pagebreak")})},tn=bt=>no=>{const ao=()=>{no.setEnabled(bt.selection.isEditable())};return bt.on("NodeChange",ao),ao(),()=>{bt.off("NodeChange",ao)}},Gt=bt=>{const no=()=>bt.execCommand("mcePageBreak");bt.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:no,onSetup:tn(bt)}),bt.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:no,onSetup:tn(bt)})};var Je=()=>{Oo.add("pagebreak",bt=>{cn(bt),At(bt),Gt(bt),go(bt),kn(bt)})};Je()}()),fD}var bD;function ZB(){return bD||(bD=1,UB()),pD}ZB();var yD={},vD={},xD;function qB(){return xD||(xD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(Dt=>Pt=>Dt===Pt)(void 0),cn=Dt=>Dt==null,en=Dt=>!cn(Dt),ro=Dt=>()=>Dt,gn=ro(!1);class $o{constructor(Pt,ft){this.tag=Pt,this.value=ft}static some(Pt){return new $o(!0,Pt)}static none(){return $o.singletonNone}fold(Pt,ft){return this.tag?ft(this.value):Pt()}isSome(){return this.tag}isNone(){return!this.tag}map(Pt){return this.tag?$o.some(Pt(this.value)):$o.none()}bind(Pt){return this.tag?Pt(this.value):$o.none()}exists(Pt){return this.tag&&Pt(this.value)}forall(Pt){return!this.tag||Pt(this.value)}filter(Pt){return!this.tag||Pt(this.value)?this:$o.none()}getOr(Pt){return this.tag?this.value:Pt}or(Pt){return this.tag?this:Pt}getOrThunk(Pt){return this.tag?this.value:Pt()}orThunk(Pt){return this.tag?this:Pt()}getOrDie(Pt){if(this.tag)return this.value;throw new Error(Pt??"Called getOrDie on None")}static from(Pt){return en(Pt)?$o.some(Pt):$o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Pt){this.tag&&Pt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$o.singletonNone=new $o(!1);const go=(Dt,Pt,ft)=>{for(let bo=0,Rn=Dt.length;bo<Rn;bo++){const On=Dt[bo];if(Pt(On,bo))return $o.some(On);if(ft(On,bo))break}return $o.none()},At=(Dt,Pt)=>go(Dt,Pt,gn),kn=(Dt,Pt)=>{for(let ft=0;ft<Dt.length;ft++){const bo=Pt(Dt[ft],ft);if(bo.isSome())return bo}return $o.none()},tn=(Dt,Pt,ft=0,bo)=>{const Rn=Dt.indexOf(Pt,ft);return Rn!==-1?Ko(bo)?!0:Rn+Pt.length<=bo:!1},Gt=Dt=>{let Pt=!1,ft;return(...bo)=>(Pt||(Pt=!0,ft=Dt.apply(null,bo)),ft)},Je=(Dt,Pt,ft,bo)=>{const Rn=Dt.isiOS()&&/ipad/i.test(ft)===!0,On=Dt.isiOS()&&!Rn,fo=Dt.isiOS()||Dt.isAndroid(),gr=fo||bo("(pointer:coarse)"),Ur=Rn||!On&&fo&&bo("(min-device-width:768px)"),Ha=On||fo&&!Ur,Cn=Pt.isSafari()&&Dt.isiOS()&&/safari/i.test(ft)===!1,on=!Ha&&!Ur&&!Cn;return{isiPad:ro(Rn),isiPhone:ro(On),isTablet:ro(Ur),isPhone:ro(Ha),isTouch:ro(gr),isAndroid:Dt.isAndroid,isiOS:Dt.isiOS,isWebView:ro(Cn),isDesktop:ro(on)}},bt=(Dt,Pt)=>{for(let ft=0;ft<Dt.length;ft++){const bo=Dt[ft];if(bo.test(Pt))return bo}},no=(Dt,Pt)=>{const ft=bt(Dt,Pt);if(!ft)return{major:0,minor:0};const bo=Rn=>Number(Pt.replace(ft,"$"+Rn));return St(bo(1),bo(2))},ao=(Dt,Pt)=>{const ft=String(Pt).toLowerCase();return Dt.length===0?Te():no(Dt,ft)},Te=()=>St(0,0),St=(Dt,Pt)=>({major:Dt,minor:Pt}),wo={nu:St,detect:ao,unknown:Te},he=(Dt,Pt)=>kn(Pt.brands,ft=>{const bo=ft.brand.toLowerCase();return At(Dt,Rn=>{var On;return bo===((On=Rn.brand)===null||On===void 0?void 0:On.toLowerCase())}).map(Rn=>({current:Rn.name,version:wo.nu(parseInt(ft.version,10),0)}))}),Xe=(Dt,Pt)=>{const ft=String(Pt).toLowerCase();return At(Dt,bo=>bo.search(ft))},ae=(Dt,Pt)=>Xe(Dt,Pt).map(ft=>{const bo=wo.detect(ft.versionRegexes,Pt);return{current:ft.name,version:bo}}),pt=(Dt,Pt)=>Xe(Dt,Pt).map(ft=>{const bo=wo.detect(ft.versionRegexes,Pt);return{current:ft.name,version:bo}}),sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ro=Dt=>Pt=>tn(Pt,Dt),pn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:Dt=>tn(Dt,"edge/")&&tn(Dt,"chrome")&&tn(Dt,"safari")&&tn(Dt,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sn],search:Dt=>tn(Dt,"chrome")&&!tn(Dt,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:Dt=>tn(Dt,"msie")||tn(Dt,"trident")},{name:"Opera",versionRegexes:[sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ro("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ro("firefox")},{name:"Safari",versionRegexes:[sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:Dt=>(tn(Dt,"safari")||tn(Dt,"mobile/"))&&tn(Dt,"applewebkit")}],Vo=[{name:"Windows",search:Ro("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:Dt=>tn(Dt,"iphone")||tn(Dt,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ro("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ro("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ro("linux"),versionRegexes:[]},{name:"Solaris",search:Ro("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ro("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ro("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Nt={browsers:ro(pn),oses:ro(Vo)},D="Edge",zt="Chromium",Ot="IE",Lt="Opera",po="Firefox",vt="Safari",so=()=>Bo({current:void 0,version:wo.unknown()}),Bo=Dt=>{const Pt=Dt.current,ft=Dt.version,bo=Rn=>()=>Pt===Rn;return{current:Pt,version:ft,isEdge:bo(D),isChromium:bo(zt),isIE:bo(Ot),isOpera:bo(Lt),isFirefox:bo(po),isSafari:bo(vt)}},je={unknown:so,nu:Bo},R="Windows",ut="iOS",tt="Android",Bt="Linux",Vt="macOS",co="Solaris",xo="FreeBSD",No="ChromeOS",ke=()=>Ft({current:void 0,version:wo.unknown()}),Ft=Dt=>{const Pt=Dt.current,ft=Dt.version,bo=Rn=>()=>Pt===Rn;return{current:Pt,version:ft,isWindows:bo(R),isiOS:bo(ut),isAndroid:bo(tt),isMacOS:bo(Vt),isLinux:bo(Bt),isSolaris:bo(co),isFreeBSD:bo(xo),isChromeOS:bo(No)}},Uo={unknown:ke,nu:Ft},me={detect:(Dt,Pt,ft)=>{const bo=Nt.browsers(),Rn=Nt.oses(),On=Pt.bind(Ur=>he(bo,Ur)).orThunk(()=>ae(bo,Dt)).fold(je.unknown,je.nu),fo=pt(Rn,Dt).fold(Uo.unknown,Uo.nu),gr=Je(fo,On,Dt,ft);return{browser:On,os:fo,deviceType:gr}}},xe=Dt=>window.matchMedia(Dt).matches;let Pe=Gt(()=>me.detect(window.navigator.userAgent,$o.from(window.navigator.userAgentData),xe));const Ie=()=>Pe(),ye=()=>Ie().os.isMacOS(),Ee=()=>Ie().os.isiOS(),ot=()=>{const Dt=ye()||Ee();return`<script>(${(ft=>{document.addEventListener("click",bo=>{for(let Rn=bo.target;Rn;Rn=Rn.parentNode)if(Rn.nodeName==="A"){const fo=Rn.getAttribute("href");if(fo&&fo.startsWith("#")){bo.preventDefault();const Ur=document.getElementById(fo.substring(1));Ur&&Ur.scrollIntoView({behavior:"smooth"});return}(ft?bo.metaKey:bo.ctrlKey&&!bo.altKey)||bo.preventDefault()}},!1)}).toString()})(${Dt})<\/script>`};var _t=tinymce.util.Tools.resolve("tinymce.util.Tools");const We=Dt=>Pt=>Pt.options.get(Dt),dt=We("content_style"),io=We("content_css_cors"),Fo=We("body_class"),rt=We("body_id"),xt=Dt=>{var Pt;let ft="";const bo=Dt.dom.encode,Rn=(Pt=dt(Dt))!==null&&Pt!==void 0?Pt:"";ft+=`<base href="${bo(Dt.documentBaseURI.getURI())}">`;const On=io(Dt)?' crossorigin="anonymous"':"";_t.each(Dt.contentCSS,on=>{ft+='<link type="text/css" rel="stylesheet" href="'+bo(Dt.documentBaseURI.toAbsolute(on))+'"'+On+">"}),Rn&&(ft+='<style type="text/css">'+Rn+"</style>");const fo=rt(Dt),gr=Fo(Dt),Ur=Dt.getBody().dir,Ha=Ur?' dir="'+bo(Ur)+'"':"";return"<!DOCTYPE html><html><head>"+ft+'</head><body id="'+bo(fo)+'" class="mce-content-body '+bo(gr)+'"'+Ha+">"+Dt.getContent()+ot()+"</body></html>"},oo=Dt=>{const Pt=xt(Dt);Dt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:Pt}}).focus("close")},qo=Dt=>{Dt.addCommand("mcePreview",()=>{oo(Dt)})},Mn=Dt=>{const Pt=()=>Dt.execCommand("mcePreview");Dt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:Pt,context:"any"}),Dt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:Pt,context:"any"})};var _n=()=>{Oo.add("preview",Dt=>{qo(Dt),Mn(Dt)})};_n()}()),vD}var wD;function WB(){return wD||(wD=1,qB()),yD}WB();var kD={},_D={},CD;function GB(){return CD||(CD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(Ue,me,xe)=>{var Pe;return xe(Ue,me.prototype)?!0:((Pe=Ue.constructor)===null||Pe===void 0?void 0:Pe.name)===me.name},Ko=Ue=>{const me=typeof Ue;return Ue===null?"null":me==="object"&&Array.isArray(Ue)?"array":me==="object"&&an(Ue,String,(xe,Pe)=>Pe.isPrototypeOf(xe))?"string":me},cn=Ue=>me=>Ko(me)===Ue,en=Ue=>me=>typeof me===Ue,ro=cn("string"),gn=en("boolean"),$o=Ue=>Ue==null,go=Ue=>!$o(Ue),At=en("function"),tn=(Ue=>()=>Ue)(!1);class Gt{constructor(me,xe){this.tag=me,this.value=xe}static some(me){return new Gt(!0,me)}static none(){return Gt.singletonNone}fold(me,xe){return this.tag?xe(this.value):me()}isSome(){return this.tag}isNone(){return!this.tag}map(me){return this.tag?Gt.some(me(this.value)):Gt.none()}bind(me){return this.tag?me(this.value):Gt.none()}exists(me){return this.tag&&me(this.value)}forall(me){return!this.tag||me(this.value)}filter(me){return!this.tag||me(this.value)?this:Gt.none()}getOr(me){return this.tag?this.value:me}or(me){return this.tag?this:me}getOrThunk(me){return this.tag?this.value:me()}orThunk(me){return this.tag?this:me()}getOrDie(me){if(this.tag)return this.value;throw new Error(me??"Called getOrDie on None")}static from(me){return go(me)?Gt.some(me):Gt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(me){this.tag&&me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Gt.singletonNone=new Gt(!1);const Je=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let bt=0;const no=Ue=>{const xe=new Date().getTime(),Pe=Math.floor(Je()*1e9);return bt++,Ue+"_"+Pe+bt+String(xe)},ao=(Ue,me,xe)=>{Ue.execCommand("mceInsertTable",!1,{rows:xe,columns:me})},Te=(Ue,me,xe)=>{const Pe=Ue.editorUpload.blobCache,Ie=Pe.create(no("mceu"),xe,me);Pe.add(Ie),Ue.insertContent(Ue.dom.createHTML("img",{src:Ie.blobUri()}))},St=Ue=>new Promise(me=>{const xe=new FileReader;xe.onloadend=()=>{me(xe.result.split(",")[1])},xe.readAsDataURL(Ue)});var wo=tinymce.util.Tools.resolve("tinymce.util.Delay");const he=Ue=>new Promise(me=>{let xe=!1;const Pe=document.createElement("input");Pe.type="file",Pe.accept="image/*",Pe.style.position="fixed",Pe.style.left="0",Pe.style.top="0",Pe.style.opacity="0.001",document.body.appendChild(Pe);const Ie=ot=>{var _t;xe||((_t=Pe.parentNode)===null||_t===void 0||_t.removeChild(Pe),xe=!0,me(ot))},ye=ot=>{Ie(Array.prototype.slice.call(ot.target.files))};Pe.addEventListener("input",ye),Pe.addEventListener("change",ye);const Ee=ot=>{const _t=()=>{Ie([])};xe||(ot.type==="focusin"?wo.setEditorTimeout(Ue,_t,1e3):_t()),Ue.off("focusin remove",Ee)};Ue.on("focusin remove",Ee),Pe.click()}),Xe=Ue=>{Ue.on("PreInit",()=>{Ue.queryCommandSupported("QuickbarInsertImage")||Ue.addCommand("QuickbarInsertImage",()=>{he(Ue).then(me=>{if(me.length>0){const xe=me[0];St(xe).then(Pe=>{Te(Ue,Pe,xe)})}})})})},ae=Ue=>me=>me.options.get(Ue),pt=Ue=>{const me=Ue.options.register,xe=Ee=>ot=>{const _t=gn(ot)||ro(ot);return _t?gn(ot)?{value:ot?Ee:"",valid:_t}:{value:ot.trim(),valid:_t}:{valid:!1,message:"Must be a boolean or string."}},Pe="bold italic | quicklink h2 h3 blockquote";me("quickbars_selection_toolbar",{processor:xe(Pe),default:Pe});const Ie="quickimage quicktable";me("quickbars_insert_toolbar",{processor:xe(Ie),default:Ie});const ye="alignleft aligncenter alignright";me("quickbars_image_toolbar",{processor:xe(ye),default:ye})},sn=ae("quickbars_selection_toolbar"),Ro=ae("quickbars_insert_toolbar"),pn=ae("quickbars_image_toolbar"),Vo=Ue=>{Ue.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>Ue.execCommand("QuickbarInsertImage")}),Ue.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{ao(Ue,2,2)}})},Nt=(Ue,me)=>{const Pe=(me||document).createElement("div");if(Pe.innerHTML=Ue,!Pe.hasChildNodes()||Pe.childNodes.length>1){const Ie="HTML does not have a single root node";throw console.error(Ie,Ue),new Error(Ie)}return Ot(Pe.childNodes[0])},D=(Ue,me)=>{const Pe=(me||document).createElement(Ue);return Ot(Pe)},zt=(Ue,me)=>{const Pe=(me||document).createTextNode(Ue);return Ot(Pe)},Ot=Ue=>{if(Ue==null)throw new Error("Node cannot be null or undefined");return{dom:Ue}},po={fromHtml:Nt,fromTag:D,fromText:zt,fromDom:Ot,fromPoint:(Ue,me,xe)=>Gt.from(Ue.dom.elementFromPoint(me,xe)).map(Ot)},vt=1,so=(Ue,me)=>{const xe=Ue.dom;if(xe.nodeType!==vt)return!1;{const Pe=xe;if(Pe.matches!==void 0)return Pe.matches(me);if(Pe.msMatchesSelector!==void 0)return Pe.msMatchesSelector(me);if(Pe.webkitMatchesSelector!==void 0)return Pe.webkitMatchesSelector(me);if(Pe.mozMatchesSelector!==void 0)return Pe.mozMatchesSelector(me);throw new Error("Browser lacks native selectors")}},Bo=Ue=>Ue.dom.nodeName.toLowerCase(),je=(Ue,me)=>{const xe=Ue.dom;return xe&&xe.hasAttribute?xe.hasAttribute(me):!1};var R=(Ue,me,xe,Pe,Ie)=>Ue(xe,Pe)?Gt.some(xe):At(Ie)&&Ie(xe)?Gt.none():me(xe,Pe,Ie);const ut=(Ue,me,xe)=>{let Pe=Ue.dom;const Ie=At(xe)?xe:tn;for(;Pe.parentNode;){Pe=Pe.parentNode;const ye=po.fromDom(Pe);if(me(ye))return Gt.some(ye);if(Ie(ye))break}return Gt.none()},tt=(Ue,me,xe)=>R((Ie,ye)=>ye(Ie),ut,Ue,me,xe),Bt=(Ue,me,xe)=>ut(Ue,Pe=>so(Pe,me),xe),Vt=(Ue,me,xe)=>R((Ie,ye)=>so(Ie,ye),Bt,Ue,me,xe),co=Ue=>Ue.dom.classList!==void 0,xo=(Ue,me)=>co(Ue)&&Ue.dom.classList.contains(me),No=(Ue,me,xe)=>tt(Ue,me,xe).isSome(),ke=Ue=>{const me=Ro(Ue);me.length>0&&Ue.ui.registry.addContextToolbar("quickblock",{predicate:xe=>{const Pe=po.fromDom(xe),Ie=Ue.schema.getTextBlockElements(),ye=Ee=>Ee.dom===Ue.getBody();return!je(Pe,"data-mce-bogus")&&Vt(Pe,'table,[data-mce-bogus="all"]',ye).fold(()=>No(Pe,Ee=>Bo(Ee)in Ie&&Ue.dom.isEmpty(Ee.dom),ye),tn)},items:me,position:"line",scope:"editor"})},Ft=Ue=>{const me=Ee=>Ue.dom.isEditable(Ee),xe=Ee=>me(Ee.parentElement),Pe=Ee=>{const ot=Ee.nodeName==="FIGURE"&&/image/i.test(Ee.className),_t=Ee.nodeName==="IMG"||ot,We=xo(po.fromDom(Ee),"mce-pagebreak");return _t&&xe(Ee)&&!We},Ie=pn(Ue);Ie.length>0&&Ue.ui.registry.addContextToolbar("imageselection",{predicate:Pe,items:Ie,position:"node"});const ye=sn(Ue);ye.length>0&&Ue.ui.registry.addContextToolbar("textselection",{predicate:Ee=>!Pe(Ee)&&!Ue.selection.isCollapsed()&&me(Ee),items:ye,position:"selection",scope:"editor"})};var Uo=()=>{Oo.add("quickbars",Ue=>{pt(Ue),Xe(Ue),Vo(Ue),ke(Ue),Ft(Ue)})};Uo()}()),_D}var SD;function KB(){return SD||(SD=1,GB()),kD}KB();var ED={},zD={},AD;function YB(){return AD||(AD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(Te=>St=>typeof St===Te)("function");var cn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),en=tinymce.util.Tools.resolve("tinymce.util.Tools");const ro=Te=>St=>St.options.get(Te),gn=Te=>{const St=Te.options.register;St("save_enablewhendirty",{processor:"boolean",default:!0}),St("save_onsavecallback",{processor:"function"}),St("save_oncancelcallback",{processor:"function"})},$o=ro("save_enablewhendirty"),go=ro("save_onsavecallback"),At=ro("save_oncancelcallback"),kn=(Te,St)=>{Te.notificationManager.open({text:St,type:"error"})},tn=Te=>{const St=cn.DOM.getParent(Te.id,"form");if($o(Te)&&!Te.isDirty())return;Te.save();const wo=go(Te);if(Ko(wo)){wo.call(Te,Te),Te.nodeChanged();return}St?(Te.setDirty(!1),(!St.onsubmit||St.onsubmit())&&(typeof St.submit=="function"?St.submit():kn(Te,"Error: Form submit field collision.")),Te.nodeChanged()):kn(Te,"Error: No form element found.")},Gt=Te=>{const St=en.trim(Te.startContent),wo=At(Te);if(Ko(wo)){wo.call(Te,Te);return}Te.resetContent(St)},Je=Te=>{Te.addCommand("mceSave",()=>{tn(Te)}),Te.addCommand("mceCancel",()=>{Gt(Te)})},bt=Te=>St=>{const wo=()=>{St.setEnabled(!$o(Te)||Te.isDirty())};return wo(),Te.on("NodeChange dirty",wo),()=>Te.off("NodeChange dirty",wo)},no=Te=>{Te.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>Te.execCommand("mceSave"),onSetup:bt(Te),shortcut:"Meta+S"}),Te.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>Te.execCommand("mceCancel"),onSetup:bt(Te)}),Te.addShortcut("Meta+S","","mceSave")};var ao=()=>{Oo.add("save",Te=>{gn(Te),no(Te),Je(Te)})};ao()}()),zD}var TD;function XB(){return TD||(TD=1,YB()),ED}XB();var OD={},ND={},DD;function JB(){return DD||(DD=1,function(){const Oo=(Le,Be,Kt)=>{var Po;return Kt(Le,Be.prototype)?!0:((Po=Le.constructor)===null||Po===void 0?void 0:Po.name)===Be.name},an=Le=>{const Be=typeof Le;return Le===null?"null":Be==="object"&&Array.isArray(Le)?"array":Be==="object"&&Oo(Le,String,(Kt,Po)=>Po.isPrototypeOf(Kt))?"string":Be},Ko=Le=>Be=>an(Be)===Le,cn=Le=>Be=>typeof Be===Le,en=Ko("string"),ro=Ko("array"),gn=cn("boolean"),$o=Le=>Le==null,go=Le=>!$o(Le),At=cn("number"),kn=()=>{},tn=Le=>()=>Le,Gt=tn(!0);class Je{constructor(Be,Kt){this.tag=Be,this.value=Kt}static some(Be){return new Je(!0,Be)}static none(){return Je.singletonNone}fold(Be,Kt){return this.tag?Kt(this.value):Be()}isSome(){return this.tag}isNone(){return!this.tag}map(Be){return this.tag?Je.some(Be(this.value)):Je.none()}bind(Be){return this.tag?Be(this.value):Je.none()}exists(Be){return this.tag&&Be(this.value)}forall(Be){return!this.tag||Be(this.value)}filter(Be){return!this.tag||Be(this.value)?this:Je.none()}getOr(Be){return this.tag?this.value:Be}or(Be){return this.tag?this:Be}getOrThunk(Be){return this.tag?this.value:Be()}orThunk(Be){return this.tag?this:Be()}getOrDie(Be){if(this.tag)return this.value;throw new Error(Be??"Called getOrDie on None")}static from(Be){return go(Be)?Je.some(Be):Je.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Be){this.tag&&Be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Je.singletonNone=new Je(!1);const bt=Array.prototype.slice,no=Array.prototype.push,ao=(Le,Be)=>{const Kt=Le.length,Po=new Array(Kt);for(let Do=0;Do<Kt;Do++){const vn=Le[Do];Po[Do]=Be(vn,Do)}return Po},Te=(Le,Be)=>{for(let Kt=0,Po=Le.length;Kt<Po;Kt++){const Do=Le[Kt];Be(Do,Kt)}},St=(Le,Be)=>{for(let Kt=Le.length-1;Kt>=0;Kt--){const Po=Le[Kt];Be(Po,Kt)}},wo=(Le,Be)=>{if(Le.length===0)return[];{let Kt=Be(Le[0]);const Po=[];let Do=[];for(let vn=0,xn=Le.length;vn<xn;vn++){const nn=Le[vn],zn=Be(nn);zn!==Kt&&(Po.push(Do),Do=[]),Kt=zn,Do.push(nn)}return Do.length!==0&&Po.push(Do),Po}},he=(Le,Be,Kt)=>(Te(Le,(Po,Do)=>{Kt=Be(Kt,Po,Do)}),Kt),Xe=Le=>{const Be=[];for(let Kt=0,Po=Le.length;Kt<Po;++Kt){if(!ro(Le[Kt]))throw new Error("Arr.flatten item "+Kt+" was not an array, input: "+Le);no.apply(Be,Le[Kt])}return Be},ae=(Le,Be)=>Xe(ao(Le,Be)),pt=(Le,Be)=>{const Kt=bt.call(Le,0);return Kt.sort(Be),Kt},sn=Object.hasOwnProperty,Ro=(Le,Be)=>sn.call(Le,Be),pn=Le=>{let Be=Le;return{get:()=>Be,set:Do=>{Be=Do}}},Vo=Le=>{const Be=pn(Je.none()),Kt=()=>Be.get().each(Le);return{clear:()=>{Kt(),Be.set(Je.none())},isSet:()=>Be.get().isSome(),get:()=>Be.get(),set:nn=>{Kt(),Be.set(Je.some(nn))}}},Nt=()=>{const Le=Vo(kn);return{...Le,on:Kt=>Le.get().each(Kt)}};var D=tinymce.util.Tools.resolve("tinymce.PluginManager");const Lt=tn("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");var po=tinymce.util.Tools.resolve("tinymce.Env"),vt=tinymce.util.Tools.resolve("tinymce.util.Tools");const so=(Le,Be)=>{const Po=(Be||document).createElement("div");if(Po.innerHTML=Le,!Po.hasChildNodes()||Po.childNodes.length>1){const Do="HTML does not have a single root node";throw console.error(Do,Le),new Error(Do)}return R(Po.childNodes[0])},Bo=(Le,Be)=>{const Po=(Be||document).createElement(Le);return R(Po)},je=(Le,Be)=>{const Po=(Be||document).createTextNode(Le);return R(Po)},R=Le=>{if(Le==null)throw new Error("Node cannot be null or undefined");return{dom:Le}},tt={fromHtml:so,fromTag:Bo,fromText:je,fromDom:R,fromPoint:(Le,Be,Kt)=>Je.from(Le.dom.elementFromPoint(Be,Kt)).map(R)},Bt=9,Vt=11,co=1,xo=3,No=Le=>Le.nodeType!==co&&Le.nodeType!==Bt&&Le.nodeType!==Vt||Le.childElementCount===0,ke=(Le,Be)=>{const Kt=Be===void 0?document:Be.dom;return No(Kt)?[]:ao(Kt.querySelectorAll(Le),tt.fromDom)},Ft=(Le,Be,Kt)=>(Le.compareDocumentPosition(Be)&Kt)!==0,Uo=(Le,Be)=>Ft(Le,Be,Node.DOCUMENT_POSITION_PRECEDING),Ue=Le=>Le.dom.nodeType,xe=(Le=>Be=>Ue(Be)===Le)(xo),Pe=Le=>Je.from(Le.dom.parentNode).map(tt.fromDom),Ie=Le=>ao(Le.dom.childNodes,tt.fromDom),ye=(Le,Be)=>({element:Le,offset:Be}),Ee=(Le,Be)=>{const Kt=Ie(Le);return Kt.length>0&&Be<Kt.length?ye(Kt[Be],0):ye(Le,Be)},ot=(Le,Be)=>{Pe(Le).each(Po=>{Po.dom.insertBefore(Be.dom,Le.dom)})},_t=(Le,Be)=>{Le.dom.appendChild(Be.dom)},We=(Le,Be)=>{ot(Le,Be),_t(Be,Le)},dt=(Le,Be,Kt)=>{if(en(Kt)||gn(Kt)||At(Kt))Le.setAttribute(Be,Kt+"");else throw console.error("Invalid call to Attribute.set. Key ",Be,":: Value ",Kt,":: Element ",Le),new Error("Attribute value was not simple")},io=(Le,Be,Kt)=>{dt(Le.dom,Be,Kt)},rt=((Le,Be)=>{const Kt=vn=>{if(!Le(vn))throw new Error("Can only get "+Be+" value of a "+Be+" node");return Po(vn).getOr("")},Po=vn=>Le(vn)?Je.from(vn.dom.nodeValue):Je.none();return{get:Kt,getOption:Po,set:(vn,xn)=>{if(!Le(vn))throw new Error("Can only set raw "+Be+" value of a "+Be+" node");vn.dom.nodeValue=xn}}})(xe,"text"),xt=Le=>rt.get(Le),oo=(Le,Be)=>ke(Be,Le);var qo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Mn=(Le,Be)=>Le.isBlock(Be)||Ro(Le.schema.getVoidElements(),Be.nodeName),_n=(Le,Be)=>!Le.isEditable(Be),Dt=(Le,Be)=>Le.getContentEditable(Be)==="true"&&Be.parentNode&&!Le.isEditable(Be.parentNode),Pt=(Le,Be)=>!Le.isBlock(Be)&&Ro(Le.schema.getWhitespaceElements(),Be.nodeName),ft=(Le,Be)=>Mn(Le,Be)||_n(Le,Be)||Pt(Le,Be)||Dt(Le,Be),bo=Le=>Le.nodeType===3,Rn=()=>({sOffset:0,fOffset:0,elements:[]}),On=(Le,Be)=>Ee(tt.fromDom(Le),Be),fo=(Le,Be,Kt,Po,Do,vn=!0)=>{let xn=vn?Be(!1):Kt;for(;xn;){const nn=_n(Le,xn);if(nn||Pt(Le,xn)){if(nn?Po.cef(xn):Po.boundary(xn))break;xn=Be(!0);continue}else if(Mn(Le,xn)){if(Po.boundary(xn))break}else bo(xn)&&Po.text(xn);if(xn===Do)break;xn=Be(!1)}},gr=(Le,Be,Kt,Po,Do)=>{var vn;if(ft(Le,Kt))return;const xn=(vn=Le.getParent(Po,Le.isBlock))!==null&&vn!==void 0?vn:Le.getRoot(),nn=new qo(Kt,xn),zn=Do?nn.next.bind(nn):nn.prev.bind(nn);fo(Le,zn,Kt,{boundary:Gt,cef:Gt,text:eo=>{Do?Be.fOffset+=eo.length:Be.sOffset+=eo.length,Be.elements.push(tt.fromDom(eo))}})},Ur=(Le,Be,Kt,Po,Do,vn=!0)=>{const xn=new qo(Kt,Be),nn=[];let zn=Rn();gr(Le,zn,Kt,Be,!1);const eo=()=>(zn.elements.length>0&&(nn.push(zn),zn=Rn()),!1);return fo(Le,xn.next.bind(xn),Kt,{boundary:eo,cef:Pr=>(eo(),Do&&nn.push(...Do.cef(Pr)),!1),text:Pr=>{zn.elements.push(tt.fromDom(Pr)),Do&&Do.text(Pr,zn)}},Po,vn),Po&&gr(Le,zn,Po,Be,!0),eo(),nn},Ha=(Le,Be)=>{const Kt=On(Be.startContainer,Be.startOffset),Po=Kt.element.dom,Do=On(Be.endContainer,Be.endOffset),vn=Do.element.dom;return Ur(Le,Be.commonAncestorContainer,Po,vn,{text:(xn,nn)=>{xn===vn?nn.fOffset+=xn.length-Do.offset:xn===Po&&(nn.sOffset+=Kt.offset)},cef:xn=>{const nn=ae(oo(tt.fromDom(xn),"*[contenteditable=true]"),zn=>{const eo=zn.dom;return Ur(Le,eo,eo)});return pt(nn,(zn,eo)=>Uo(zn.elements[0].dom,eo.elements[0].dom)?1:-1)}},!1)},Cn=(Le,Be)=>Be.collapsed?[]:Ha(Le,Be),on=(Le,Be)=>{const Kt=Le.createRng();return Kt.selectNode(Be),Cn(Le,Kt)},ea=(Le,Be)=>ae(Be,Kt=>on(Le,Kt)),Ya=(Le,Be,Kt=0,Po=Le.length)=>{const Do=Be.regex;Do.lastIndex=Kt;const vn=[];let xn;for(;xn=Do.exec(Le);){const nn=xn[Be.matchIndex],zn=xn.index+xn[0].indexOf(nn),eo=zn+nn.length;if(eo>Po)break;vn.push({start:zn,finish:eo}),Do.lastIndex=eo}return vn},Tr=(Le,Be)=>{const Kt=he(Le,(Po,Do)=>{const vn=xt(Do),xn=Po.last,nn=xn+vn.length,zn=ae(Be,(eo,Pr)=>eo.start<nn&&eo.finish>xn?[{element:Do,start:Math.max(xn,eo.start)-xn,finish:Math.min(nn,eo.finish)-xn,matchId:Pr}]:[]);return{results:Po.results.concat(zn),last:nn}},{results:[],last:0}).results;return wo(Kt,Po=>Po.matchId)},Gn=(Le,Be)=>ae(Be,Kt=>{const Po=Kt.elements,Do=ao(Po,xt).join(""),vn=Ya(Do,Le,Kt.sOffset,Do.length-Kt.fOffset);return Tr(Po,vn)}),Qn=(Le,Be)=>{St(Le,(Kt,Po)=>{St(Kt,Do=>{const vn=tt.fromDom(Be.cloneNode(!1));io(vn,"data-mce-index",Po);const xn=Do.element.dom;if(xn.length===Do.finish&&Do.start===0)We(Do.element,vn);else{xn.length!==Do.finish&&xn.splitText(Do.finish);const nn=xn.splitText(Do.start);We(tt.fromDom(nn),vn)}})})},ta=(Le,Be,Kt,Po)=>{const Do=on(Le,Kt),vn=Gn(Be,Do);return Qn(vn,Po),vn.length},Ba=(Le,Be,Kt,Po)=>{const Do=Kt.getBookmark(),vn=Le.select("td[data-mce-selected],th[data-mce-selected]"),xn=vn.length>0?ea(Le,vn):Cn(Le,Kt.getRng()),nn=Gn(Be,xn);return Qn(nn,Po),Kt.moveToBookmark(Do),nn.length},Or=Le=>Le.getAttribute("data-mce-index"),Va=(Le,Be,Kt,Po)=>{const Do=Le.dom.create("span",{"data-mce-bogus":1});Do.className="mce-match-marker";const vn=Le.getBody();return Fe(Le,Be,!1),Po?Ba(Le.dom,Kt,Le.selection,Do):ta(Le.dom,Kt,vn,Do)},gt=Le=>{var Be;const Kt=Le.parentNode;Le.firstChild&&Kt.insertBefore(Le.firstChild,Le),(Be=Le.parentNode)===null||Be===void 0||Be.removeChild(Le)},se=(Le,Be)=>{const Kt=[],Po=vt.toArray(Le.getBody().getElementsByTagName("span"));if(Po.length)for(let Do=0;Do<Po.length;Do++){const vn=Or(Po[Do]);vn===null||!vn.length||vn===Be.toString()&&Kt.push(Po[Do])}return Kt},Io=(Le,Be,Kt)=>{const Po=Be.get();let Do=Po.index;const vn=Le.dom;Kt?Do+1===Po.count?Do=0:Do++:Do-1===-1?Do=Po.count-1:Do--,vn.removeClass(se(Le,Po.index),"mce-match-marker-selected");const xn=se(Le,Do);return xn.length?(vn.addClass(se(Le,Do),"mce-match-marker-selected"),Le.selection.scrollIntoView(xn[0]),Do):-1},Yo=(Le,Be)=>{const Kt=Be.parentNode;Le.remove(Be),Kt&&Le.isEmpty(Kt)&&Le.remove(Kt)},Er=(Le,Be)=>{const Po="("+Le.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Be?`(?:^|\\s|${Lt()})`+Po+`(?=$|\\s|${Lt()})`:Po},kr=(Le,Be,Kt,Po,Do,vn)=>{const xn=Le.selection,nn=Er(Kt,Do),zn=xn.isForward(),eo={regex:new RegExp(nn,Po?"g":"gi"),matchIndex:1},Pr=Va(Le,Be,eo,vn);if(po.browser.isSafari()&&xn.setRng(xn.getRng(),zn),Pr){const fa=Io(Le,Be,!0);Be.set({index:fa,count:Pr,text:Kt,matchCase:Po,wholeWord:Do,inSelection:vn})}return Pr},Rr=(Le,Be)=>{const Kt=Io(Le,Be,!0);Be.set({...Be.get(),index:Kt})},Dr=(Le,Be)=>{const Kt=Io(Le,Be,!1);Be.set({...Be.get(),index:Kt})},Fs=Le=>{const Be=Or(Le);return Be!==null&&Be.length>0},De=(Le,Be,Kt,Po,Do)=>{const vn=Be.get(),xn=vn.index;let nn,zn=xn;Po=Po!==!1;const eo=Le.getBody(),Pr=vt.grep(vt.toArray(eo.getElementsByTagName("span")),Fs);for(let fa=0;fa<Pr.length;fa++){const qs=Or(Pr[fa]);let cs=nn=parseInt(qs,10);if(Do||cs===vn.index){for(Kt.length?(Pr[fa].innerText=Kt,gt(Pr[fa])):Yo(Le.dom,Pr[fa]);Pr[++fa];)if(cs=parseInt(Or(Pr[fa]),10),cs===nn)Yo(Le.dom,Pr[fa]);else{fa--;break}Po&&zn--}else nn>xn&&Pr[fa].setAttribute("data-mce-index",String(nn-1))}return Be.set({...vn,count:Do?0:vn.count-1,index:zn}),Po?Rr(Le,Be):Dr(Le,Be),!Do&&Be.get().count>0},Fe=(Le,Be,Kt)=>{let Po,Do;const vn=Be.get(),xn=vt.toArray(Le.getBody().getElementsByTagName("span"));for(let nn=0;nn<xn.length;nn++){const zn=Or(xn[nn]);zn!==null&&zn.length&&(zn===vn.index.toString()&&(Po||(Po=xn[nn].firstChild),Do=xn[nn].firstChild),gt(xn[nn]))}if(Be.set({...vn,index:-1,count:0,text:""}),Po&&Do){const nn=Le.dom.createRng();return nn.setStart(Po,0),nn.setEnd(Do,Do.data.length),Kt!==!1&&Le.selection.setRng(nn),nn}else return},wt=(Le,Be)=>Be.get().count>1,Tt=(Le,Be)=>Be.get().count>1,ko=(Le,Be)=>({done:nn=>Fe(Le,Be,nn),find:(nn,zn,eo,Pr=!1)=>kr(Le,Be,nn,zn,eo,Pr),next:()=>Rr(Le,Be),prev:()=>Dr(Le,Be),replace:(nn,zn,eo)=>De(Le,Be,nn,zn,eo)}),Jo=(Le,Be)=>{const Kt=Nt();Le.undoManager.add();const Po=vt.trim(Le.selection.getContent({format:"text"})),Do=Kr=>{Kr.setEnabled("next",wt(Le,Be)),Kr.setEnabled("prev",Tt(Le,Be))},vn=Kr=>{const Yr=Kr.getData(),Br=Be.get();Be.set({...Br,matchCase:Yr.matchcase,wholeWord:Yr.wholewords,inSelection:Yr.inselection})},xn=(Kr,Yr)=>{Te(["replace","replaceall","prev","next"],cl=>Kr.setEnabled(cl,!Yr))},nn=(Kr,Yr)=>{Yr.redial(Ci(Kr,Yr.getData()))},zn=(Kr,Yr)=>{po.browser.isSafari()&&po.deviceType.isTouch()&&(Yr==="find"||Yr==="replace"||Yr==="replaceall")&&Kr.focus(Yr)},eo=Kr=>{Fe(Le,Be,!1),xn(Kr,!0),Do(Kr)},Pr=Kr=>{const Yr=Kr.getData(),Br=Be.get();if(!Yr.findtext.length){eo(Kr);return}if(Br.text===Yr.findtext&&Br.matchCase===Yr.matchcase&&Br.wholeWord===Yr.wholewords)Rr(Le,Be);else{const Ls=kr(Le,Be,Yr.findtext,Yr.matchcase,Yr.wholewords,Yr.inselection);Ls<=0&&nn(!0,Kr),xn(Kr,Ls===0)}Do(Kr)},fa=Be.get(),qs={findtext:Po,replacetext:"",wholewords:fa.wholeWord,matchcase:fa.matchCase,inselection:fa.inSelection},cs=Kr=>{const Yr=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return Kr&&Yr.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),Yr},Ci=(Kr,Yr)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:cs(Kr)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Yr,onChange:(Br,Ls)=>{Kr&&nn(!1,Br),Ls.name==="findtext"&&Be.get().count>0&&eo(Br)},onAction:(Br,Ls)=>{const cl=Br.getData();switch(Ls.name){case"find":Pr(Br);break;case"replace":De(Le,Be,cl.replacetext)?Do(Br):eo(Br);break;case"replaceall":De(Le,Be,cl.replacetext,!0,!0),eo(Br);break;case"prev":Dr(Le,Be),Do(Br);break;case"next":Rr(Le,Be),Do(Br);break;case"matchcase":case"wholewords":case"inselection":nn(!1,Br),vn(Br),eo(Br);break}zn(Br,Ls.name)},onSubmit:Br=>{Pr(Br),zn(Br,"find")},onClose:()=>{Le.focus(),Fe(Le,Be),Le.undoManager.add()}});Kt.set(Le.windowManager.open(Ci(!1,qs),{inline:"toolbar"}))},hn=(Le,Be)=>{Le.addCommand("SearchReplace",()=>{Jo(Le,Be)})},cr=(Le,Be)=>()=>{Jo(Le,Be)},ur=(Le,Be)=>{Le.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:cr(Le,Be),icon:"search"}),Le.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:cr(Le,Be),icon:"search",shortcut:"Meta+F"}),Le.shortcuts.add("Meta+F","",cr(Le,Be))};var ir=()=>{D.add("searchreplace",Le=>{const Be=pn({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return hn(Le,Be),ur(Le,Be),ko(Le,Be)})};ir()}()),ND}var MD;function QB(){return MD||(MD=1,JB()),OD}QB();var RD={},BD={},FD;function eF(){return FD||(FD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const an=(S,B,G)=>{var le;return G(S,B.prototype)?!0:((le=S.constructor)===null||le===void 0?void 0:le.name)===B.name},Ko=S=>{const B=typeof S;return S===null?"null":B==="object"&&Array.isArray(S)?"array":B==="object"&&an(S,String,(G,le)=>le.isPrototypeOf(G))?"string":B},cn=S=>B=>Ko(B)===S,en=S=>B=>typeof B===S,ro=S=>B=>S===B,gn=cn("string"),$o=cn("array"),go=en("boolean"),At=ro(void 0),kn=S=>S==null,tn=S=>!kn(S),Gt=en("function"),Je=en("number"),bt=()=>{},no=(S,B)=>G=>S(B(G)),ao=S=>()=>S,Te=S=>S,St=(S,B)=>S===B;function wo(S,...B){return(...G)=>{const le=B.concat(G);return S.apply(null,le)}}const he=S=>{S()},Xe=ao(!1),ae=ao(!0);class pt{constructor(B,G){this.tag=B,this.value=G}static some(B){return new pt(!0,B)}static none(){return pt.singletonNone}fold(B,G){return this.tag?G(this.value):B()}isSome(){return this.tag}isNone(){return!this.tag}map(B){return this.tag?pt.some(B(this.value)):pt.none()}bind(B){return this.tag?B(this.value):pt.none()}exists(B){return this.tag&&B(this.value)}forall(B){return!this.tag||B(this.value)}filter(B){return!this.tag||B(this.value)?this:pt.none()}getOr(B){return this.tag?this.value:B}or(B){return this.tag?this:B}getOrThunk(B){return this.tag?this.value:B()}orThunk(B){return this.tag?this:B()}getOrDie(B){if(this.tag)return this.value;throw new Error(B??"Called getOrDie on None")}static from(B){return tn(B)?pt.some(B):pt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(B){this.tag&&B(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pt.singletonNone=new pt(!1);const sn=Array.prototype.indexOf,Ro=Array.prototype.push,pn=(S,B)=>sn.call(S,B),Vo=(S,B)=>pn(S,B)>-1,Nt=(S,B)=>{for(let G=0,le=S.length;G<le;G++){const Ke=S[G];if(B(Ke,G))return!0}return!1},D=(S,B)=>{const G=[];for(let le=0;le<S;le++)G.push(B(le));return G},zt=(S,B)=>{const G=S.length,le=new Array(G);for(let Ke=0;Ke<G;Ke++){const Jt=S[Ke];le[Ke]=B(Jt,Ke)}return le},Ot=(S,B)=>{for(let G=0,le=S.length;G<le;G++){const Ke=S[G];B(Ke,G)}},Lt=(S,B)=>{for(let G=S.length-1;G>=0;G--){const le=S[G];B(le,G)}},po=(S,B)=>{const G=[],le=[];for(let Ke=0,Jt=S.length;Ke<Jt;Ke++){const jo=S[Ke];(B(jo,Ke)?G:le).push(jo)}return{pass:G,fail:le}},vt=(S,B)=>{const G=[];for(let le=0,Ke=S.length;le<Ke;le++){const Jt=S[le];B(Jt,le)&&G.push(Jt)}return G},so=(S,B,G)=>(Lt(S,(le,Ke)=>{G=B(G,le,Ke)}),G),Bo=(S,B,G)=>(Ot(S,(le,Ke)=>{G=B(G,le,Ke)}),G),je=(S,B,G)=>{for(let le=0,Ke=S.length;le<Ke;le++){const Jt=S[le];if(B(Jt,le))return pt.some(Jt);if(G(Jt,le))break}return pt.none()},R=(S,B)=>je(S,B,Xe),ut=S=>{const B=[];for(let G=0,le=S.length;G<le;++G){if(!$o(S[G]))throw new Error("Arr.flatten item "+G+" was not an array, input: "+S);Ro.apply(B,S[G])}return B},tt=(S,B)=>ut(zt(S,B)),Bt=(S,B)=>{for(let G=0,le=S.length;G<le;++G){const Ke=S[G];if(B(Ke,G)!==!0)return!1}return!0},Vt=(S,B)=>{const G={};for(let le=0,Ke=S.length;le<Ke;le++){const Jt=S[le];G[String(Jt)]=B(Jt,le)}return G},co=(S,B)=>B>=0&&B<S.length?pt.some(S[B]):pt.none(),xo=S=>co(S,0),No=S=>co(S,S.length-1),ke=(S,B)=>{for(let G=0;G<S.length;G++){const le=B(S[G],G);if(le.isSome())return le}return pt.none()},Ft=Object.keys,Uo=Object.hasOwnProperty,Ue=(S,B)=>{const G=Ft(S);for(let le=0,Ke=G.length;le<Ke;le++){const Jt=G[le],jo=S[Jt];B(jo,Jt)}},me=S=>(B,G)=>{S[G]=B},xe=(S,B,G,le)=>{Ue(S,(Ke,Jt)=>{(B(Ke,Jt)?G:le)(Ke,Jt)})},Pe=(S,B)=>{const G={};return xe(S,B,me(G),bt),G},Ie=(S,B)=>{const G=[];return Ue(S,(le,Ke)=>{G.push(B(le,Ke))}),G},ye=S=>Ie(S,Te),Ee=S=>Ft(S).length,ot=(S,B)=>_t(S,B)?pt.from(S[B]):pt.none(),_t=(S,B)=>Uo.call(S,B),We=(S,B)=>_t(S,B)&&S[B]!==void 0&&S[B]!==null,dt=S=>{for(const B in S)if(Uo.call(S,B))return!1;return!0},io=S=>{let B=S;return{get:()=>B,set:Ke=>{B=Ke}}},Fo=(S,B,G=St)=>S.exists(le=>G(le,B)),rt=S=>{const B=[],G=le=>{B.push(le)};for(let le=0;le<S.length;le++)S[le].each(G);return B},xt=(S,B,G)=>S.isSome()&&B.isSome()?pt.some(G(S.getOrDie(),B.getOrDie())):pt.none(),oo=S=>S.bind(Te),qo=(S,B)=>S?pt.some(B):pt.none(),Mn=S=>{const B=io(pt.none()),G=()=>B.get().each(S);return{clear:()=>{G(),B.set(pt.none())},isSet:()=>B.get().isSome(),get:()=>B.get(),set:fn=>{G(),B.set(pt.some(fn))}}},_n=()=>Mn(S=>S.unbind()),Dt=(S,B)=>S.substring(B),Pt=(S,B,G)=>B===""||S.length>=B.length&&S.substr(G,G+B.length)===B,ft=(S,B)=>bo(S,B)?Dt(S,B.length):S,bo=(S,B)=>Pt(S,B,0),On=(S=>B=>B.replace(S,""))(/^\s+|\s+$/g),fo=S=>S.length>0,gr=S=>!fo(S),Ur=(S,B=10)=>{const G=parseInt(S,B);return isNaN(G)?pt.none():pt.some(G)},Ha=S=>{const B=parseFloat(S);return isNaN(B)?pt.none():pt.some(B)},Cn=S=>{let B=!1,G;return(...le)=>(B||(B=!0,G=S.apply(null,le)),G)},on=(S,B)=>{const le=(B||document).createElement("div");if(le.innerHTML=S,!le.hasChildNodes()||le.childNodes.length>1){const Ke="HTML does not have a single root node";throw console.error(Ke,S),new Error(Ke)}return Tr(le.childNodes[0])},ea=(S,B)=>{const le=(B||document).createElement(S);return Tr(le)},Ya=(S,B)=>{const le=(B||document).createTextNode(S);return Tr(le)},Tr=S=>{if(S==null)throw new Error("Node cannot be null or undefined");return{dom:S}},Qn={fromHtml:on,fromTag:ea,fromText:Ya,fromDom:Tr,fromPoint:(S,B,G)=>pt.from(S.dom.elementFromPoint(B,G)).map(Tr)},ta=8,Ba=9,Or=11,Va=1,gt=3,se=(S,B)=>{const G=S.dom;if(G.nodeType!==Va)return!1;{const le=G;if(le.matches!==void 0)return le.matches(B);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(B);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(B);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(B);throw new Error("Browser lacks native selectors")}},Io=S=>S.nodeType!==Va&&S.nodeType!==Ba&&S.nodeType!==Or||S.childElementCount===0,Yo=(S,B)=>{const G=B===void 0?document:B.dom;return Io(G)?[]:zt(G.querySelectorAll(S),Qn.fromDom)},Er=(S,B)=>{const G=B===void 0?document:B.dom;return Io(G)?pt.none():pt.from(G.querySelector(S)).map(Qn.fromDom)},kr=(S,B)=>S.dom===B.dom,Rr=se,Dr=S=>S.dom.nodeName.toLowerCase(),Fs=S=>S.dom.nodeType,De=S=>B=>Fs(B)===S,Fe=S=>Fs(S)===ta||Dr(S)==="#comment",wt=De(Va),Tt=De(gt),ko=De(Ba),Jo=De(Or),hn=S=>B=>wt(B)&&Dr(B)===S,cr=S=>Qn.fromDom(S.dom.ownerDocument),ur=S=>ko(S)?S:cr(S),ir=S=>pt.from(S.dom.parentNode).map(Qn.fromDom),Le=(S,B)=>{const G=Gt(B)?B:Xe;let le=S.dom;const Ke=[];for(;le.parentNode!==null&&le.parentNode!==void 0;){const Jt=le.parentNode,jo=Qn.fromDom(Jt);if(Ke.push(jo),G(jo)===!0)break;le=Jt}return Ke},Be=S=>pt.from(S.dom.previousSibling).map(Qn.fromDom),Kt=S=>pt.from(S.dom.nextSibling).map(Qn.fromDom),Po=S=>zt(S.dom.childNodes,Qn.fromDom),Do=(S,B)=>{const G=S.dom.childNodes;return pt.from(G[B]).map(Qn.fromDom)},vn=S=>Do(S,0),xn=S=>Jo(S)&&tn(S.dom.host),nn=S=>Qn.fromDom(S.dom.getRootNode()),zn=S=>{const B=nn(S);return xn(B)?pt.some(B):pt.none()},eo=S=>Qn.fromDom(S.dom.host),Pr=(S,B)=>{ir(S).each(le=>{le.dom.insertBefore(B.dom,S.dom)})},fa=(S,B)=>{Kt(S).fold(()=>{ir(S).each(Ke=>{cs(Ke,B)})},le=>{Pr(le,B)})},qs=(S,B)=>{vn(S).fold(()=>{cs(S,B)},le=>{S.dom.insertBefore(B.dom,le.dom)})},cs=(S,B)=>{S.dom.appendChild(B.dom)},Ci=(S,B)=>{Pr(S,B),cs(B,S)},Kr=(S,B)=>{Ot(B,(G,le)=>{const Ke=le===0?S:B[le-1];fa(Ke,G)})},Yr=(S,B)=>{Ot(B,G=>{cs(S,G)})},Br=(S,B,G)=>{if(gn(G)||go(G)||Je(G))S.setAttribute(B,G+"");else throw console.error("Invalid call to Attribute.set. Key ",B,":: Value ",G,":: Element ",S),new Error("Attribute value was not simple")},Ls=(S,B,G)=>{Br(S.dom,B,G)},cl=(S,B)=>{const G=S.dom;Ue(B,(le,Ke)=>{Br(G,Ke,le)})},zr=(S,B)=>{const G=S.dom.getAttribute(B);return G===null?void 0:G},oi=(S,B)=>pt.from(zr(S,B)),Jl=(S,B)=>{S.dom.removeAttribute(B)},Ni=S=>Bo(S.dom.attributes,(B,G)=>(B[G.name]=G.value,B),{}),Ws=S=>{const B=S.dom;B.parentNode!==null&&B.parentNode.removeChild(B)},Di=S=>{const B=Po(S);B.length>0&&Kr(S,B),Ws(S)},Bl=S=>zt(S,Qn.fromDom),Os=S=>S.style!==void 0&&Gt(S.style.getPropertyValue),ni=S=>{const B=Tt(S)?S.dom.parentNode:S.dom;if(B==null||B.ownerDocument===null)return!1;const G=B.ownerDocument;return zn(Qn.fromDom(B)).fold(()=>G.body.contains(B),no(ni,eo))},Fl=(S,B,G)=>{if(!gn(G))throw console.error("Invalid call to CSS.set. Property ",B,":: Value ",G,":: Element ",S),new Error("CSS value must be a string: "+G);Os(S)&&S.style.setProperty(B,G)},Is=(S,B)=>{Os(S)&&S.style.removeProperty(B)},wa=(S,B,G)=>{const le=S.dom;Fl(le,B,G)},wl=(S,B)=>{const G=S.dom,Ke=window.getComputedStyle(G).getPropertyValue(B);return Ke===""&&!ni(S)?Ki(G,B):Ke},Ki=(S,B)=>Os(S)?S.style.getPropertyValue(B):"",Yi=(S,B)=>{const G=S.dom,le=Ki(G,B);return pt.from(le).filter(Ke=>Ke.length>0)},Ql=(S,B)=>{const G=S.dom;Is(G,B),Fo(oi(S,"style").map(On),"")&&Jl(S,"style")},Xa=(S,B)=>Ha(S).getOr(B),ri=(S,B,G)=>Xa(wl(S,B),G),ec=(S,B,G,le)=>{const Ke=ri(S,`padding-${G}`,0),Jt=ri(S,`padding-${le}`,0),jo=ri(S,`border-${G}-width`,0),fn=ri(S,`border-${le}-width`,0);return B-Ke-Jt-jo-fn},Ll=(S,B)=>{const G=S.dom,le=G.getBoundingClientRect().width||G.offsetWidth;return ec(S,le,"left","right")},pc=S=>Ll(S),Mi=((S,B)=>{const G=Jt=>{if(!S(Jt))throw new Error("Can only get "+B+" value of a "+B+" node");return le(Jt).getOr("")},le=Jt=>S(Jt)?pt.from(Jt.dom.nodeValue):pt.none();return{get:G,getOption:le,set:(Jt,jo)=>{if(!S(Jt))throw new Error("Can only set raw "+B+" value of a "+B+" node");Jt.dom.nodeValue=jo}}})(Tt,"text"),fc=S=>Mi.get(S),Kc=(S,B)=>Mi.set(S,B);var hc=(S,B,G,le,Ke)=>S(G,le)?pt.some(G):Gt(Ke)&&Ke(G)?pt.none():B(G,le,Ke);const kl=(S,B,G)=>{let le=S.dom;const Ke=Gt(G)?G:Xe;for(;le.parentNode;){le=le.parentNode;const Jt=Qn.fromDom(le);if(B(Jt))return pt.some(Jt);if(Ke(Jt))break}return pt.none()},Ja=(S,B,G)=>hc((Ke,Jt)=>Jt(Ke),kl,S,B,G),oe=(S,B)=>{const G=Ke=>B(Qn.fromDom(Ke));return R(S.dom.childNodes,G).map(Qn.fromDom)},_e=(S,B,G)=>kl(S,le=>se(le,B),G),st=(S,B)=>oe(S,G=>se(G,B)),Yt=(S,B)=>Er(B,S),W=(S,B,G)=>hc((Ke,Jt)=>se(Ke,Jt),_e,S,B,G),ce=S=>W(S,"[contenteditable]"),it=(S,B=!1)=>ni(S)?S.dom.isContentEditable:ce(S).fold(ao(B),G=>mo(G)==="true"),mo=S=>S.dom.contentEditable,lo=(S,B)=>vt(Po(S),B),$=(S,B)=>{let G=[];return Ot(Po(S),le=>{B(le)&&(G=G.concat([le])),G=G.concat($(le,B))}),G},te=(S,B)=>lo(S,G=>se(G,B)),ze=(S,B)=>Yo(B,S),ve=(S,B)=>st(S,B).isSome(),vo=S=>S.nodeName.toLowerCase(),Kn=S=>Qn.fromDom(S.getBody()),Wn=S=>B=>kr(B,Kn(S)),ka=S=>S?S.replace(/px$/,""):"",Se=S=>/^\d+(\.\d+)?$/.test(S)?S+"px":S,Oa=S=>Qn.fromDom(S.selection.getStart()),vs=S=>Qn.fromDom(S.selection.getEnd()),xs=S=>Ja(S,hn("table")).forall(it),na=["tfoot","thead","tbody","colgroup"],md=S=>Vo(na,S),Ri=(S,B)=>({rows:S,columns:B}),ai=(S,B,G)=>({element:S,rowspan:B,colspan:G}),wr=(S,B,G,le,Ke,Jt)=>({element:S,rowspan:B,colspan:G,row:le,column:Ke,isLocked:Jt}),Na=(S,B,G)=>({element:S,cells:B,section:G}),bc=(S,B,G,le)=>({startRow:S,startCol:B,finishRow:G,finishCol:le}),pr=(S,B,G)=>({element:S,colspan:B,column:G}),Id=(S,B)=>({element:S,columns:B}),_l=(S,B,G=0)=>oi(S,B).map(le=>parseInt(le,10)).getOr(G),Xi=(S,B)=>Gs(S,B,ae),Gs=(S,B,G)=>tt(Po(S),le=>se(le,B)?G(le)?[le]:[]:Gs(le,B,G)),la=(S,B,G=Xe)=>{if(G(B))return pt.none();if(Vo(S,Dr(B)))return pt.some(B);const le=Ke=>se(Ke,"table")||G(Ke);return _e(B,S.join(","),le)},ds=(S,B)=>la(["td","th"],S,B),Cl=S=>Xi(S,"th,td"),de=S=>se(S,"colgroup")?te(S,"col"):tt(Zt(S),B=>te(B,"col")),Ce=(S,B)=>W(S,"table",B),lt=S=>Xi(S,"tr"),Zt=S=>Ce(S).fold(ao([]),B=>te(B,"colgroup")),rn=hn("th"),lr=(S,B)=>S&&B?"sectionCells":S?"section":"cells",Nr=S=>{const B=S.section==="thead",G=Fo(us(S.cells),"th");return S.section==="tfoot"?{type:"footer"}:B||G?{type:"header",subType:lr(B,G)}:{type:"body"}},us=S=>{const B=vt(S,G=>rn(G.element));return B.length===0?pt.some("td"):B.length===S.length?pt.some("th"):pt.none()},Ns=S=>{const B=zt(S,Ke=>Nr(Ke).type),G=Vo(B,"header"),le=Vo(B,"footer");if(!G&&!le)return pt.some("body");{const Ke=Vo(B,"body");return G&&!Ke&&!le?pt.some("header"):!G&&!Ke&&le?pt.some("footer"):pt.none()}},Hs=(S,B)=>zt(S,G=>{if(Dr(G)==="colgroup"){const le=zt(de(G),Ke=>{const Jt=_l(Ke,"span",1);return ai(Ke,1,Jt)});return Na(G,le,"colgroup")}else{const le=zt(Cl(G),Ke=>{const Jt=_l(Ke,"rowspan",1),jo=_l(Ke,"colspan",1);return ai(Ke,Jt,jo)});return Na(G,le,B(G))}}),ks=S=>ir(S).map(B=>{const G=Dr(B);return md(G)?G:"tbody"}).getOr("tbody"),ha=S=>{const B=lt(S),le=[...Zt(S),...B];return Hs(le,ks)},Sl="data-snooker-locked-cols",An=S=>oi(S,Sl).bind(B=>pt.from(B.match(/\d+/g))).map(B=>Vt(B,ae)),yc=(S,B)=>S+","+B,Qa=(S,B,G)=>pt.from(S.access[yc(B,G)]),ba=(S,B,G)=>{const le=mi(S,Ke=>G(B,Ke.element));return le.length>0?pt.some(le[0]):pt.none()},mi=(S,B)=>{const G=tt(S.all,le=>le.cells);return vt(G,B)},ya=S=>{const B={};let G=0;return Ot(S.cells,le=>{const Ke=le.colspan;D(Ke,Jt=>{const jo=G+Jt;B[jo]=pr(le.element,Ke,jo)}),G+=Ke}),B},Fu=S=>{const B={},G=[],Ke=xo(S).map(ms=>ms.element).bind(Ce).bind(An).getOr({});let Jt=0,jo=0,fn=0;const{pass:Hn,fail:sr}=po(S,ms=>ms.section==="colgroup");Ot(sr,ms=>{const $l=[];Ot(ms.cells,Ul=>{let fu=0;for(;B[yc(fn,fu)]!==void 0;)fu++;const hu=We(Ke,fu.toString()),cg=wr(Ul.element,Ul.rowspan,Ul.colspan,fn,fu,hu);for(let ac=0;ac<Ul.colspan;ac++)for(let Ua=0;Ua<Ul.rowspan;Ua++){const Wp=fn+Ua,Ol=fu+ac,Hc=yc(Wp,Ol);B[Hc]=cg,jo=Math.max(jo,Ol+1)}$l.push(cg)}),Jt++,G.push(Na(ms.element,$l,ms.section)),fn++});const{columns:Sa,colgroups:sa}=No(Hn).map(ms=>{const $l=ya(ms);return{colgroups:[Id(ms.element,ye($l))],columns:$l}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ri(Jt,jo),access:B,all:G,columns:Sa,colgroups:sa}},dl={fromTable:S=>{const B=ha(S);return Fu(B)},generate:Fu,getAt:Qa,findItem:ba,filterItems:mi,justCells:S=>tt(S.all,B=>B.cells),justColumns:S=>ye(S.columns),hasColumns:S=>Ft(S.columns).length>0,getColumnAt:(S,B)=>pt.from(S.columns[B])},si=(S,B)=>ke(S.all,G=>R(G.cells,le=>kr(B,le.element))),vc=(S,B,G)=>{const le=zt(B.selection,Jt=>ds(Jt).bind(jo=>si(S,jo)).filter(G)),Ke=rt(le);return qo(Ke.length>0,Ke)},nu=(S,B)=>B.mergable,ua=(S,B)=>B.unmergable,xc=(S,B)=>vc(S,B,ae),er=(S,B)=>si(S,B).exists(G=>!G.isLocked),Aa=(S,B)=>Bt(B,G=>er(S,G)),gd=(S,B)=>nu(S,B).filter(G=>Aa(S,G.cells)),Ds=(S,B)=>ua(S,B).filter(G=>Aa(S,G));var ru=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ra=()=>{const S=sr=>Qn.fromDom(sr.dom.cloneNode(!1)),B=sr=>ur(sr).dom,G=sr=>wt(sr)?Dr(sr)==="body"?!0:Vo(ru,Dr(sr)):!1,le=sr=>wt(sr)?Vo(["br","img","hr","input"],Dr(sr)):!1,Ke=sr=>wt(sr)&&zr(sr,"contenteditable")==="false",Jt=(sr,Sa)=>sr.dom.compareDocumentPosition(Sa.dom),jo=(sr,Sa)=>{const sa=Ni(sr);cl(Sa,sa)},fn=sr=>{const Sa=Dr(sr);return Vo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Sa)},Hn=sr=>wt(sr)?oi(sr,"lang"):pt.none();return{up:ao({selector:_e,closest:W,predicate:kl,all:Le}),down:ao({selector:ze,predicate:$}),styles:ao({get:wl,getRaw:Yi,set:wa,remove:Ql}),attrs:ao({get:zr,set:Ls,remove:Jl,copyTo:jo}),insert:ao({before:Pr,after:fa,afterAll:Kr,append:cs,appendAll:Yr,prepend:qs,wrap:Ci}),remove:ao({unwrap:Di,remove:Ws}),create:ao({nu:Qn.fromTag,clone:S,text:Qn.fromText}),query:ao({comparePosition:Jt,prevSibling:Be,nextSibling:Kt}),property:ao({children:Po,name:Dr,parent:ir,document:B,isText:Tt,isComment:Fe,isElement:wt,isSpecial:fn,getLanguage:Hn,getText:fc,setText:Kc,isBoundary:G,isEmptyTag:le,isNonEditable:Ke}),eq:kr,is:Rr}};const Mc=(S,B,G,le)=>{const Ke=G[0],Jt=G.slice(1);return le(S,B,Ke,Jt)},gi=(S,B,G)=>G.length>0?Mc(S,B,G,br):pt.none(),br=(S,B,G,le)=>{const Ke=B(S,G);return so(le,(Jt,jo)=>{const fn=B(S,jo);return Bi(S,Jt,fn)},Ke)},Bi=(S,B,G)=>B.bind(le=>G.filter(wo(S.eq,le))),ja=gi,ng=ra(),Fa=(S,B)=>ja(ng,(G,le)=>S(le),B),El=(S,B)=>{const G=dl.fromTable(S);return xc(G,B).bind(Ke=>{const Jt=Ke[Ke.length-1],jo=Ke[0].row,fn=Jt.row+Jt.rowspan,Hn=G.all.slice(jo,fn);return Ns(Hn)}).getOr("")},Xc=(S,B)=>B.column>=S.startCol&&B.column+B.colspan-1<=S.finishCol&&B.row>=S.startRow&&B.row+B.rowspan-1<=S.finishRow,Rc=(S,B)=>{let G=!0;const le=wo(Xc,B);for(let Ke=B.startRow;Ke<=B.finishRow;Ke++)for(let Jt=B.startCol;Jt<=B.finishCol;Jt++)G=G&&dl.getAt(S,Ke,Jt).exists(le);return G?pt.some(B):pt.none()},Fi=(S,B)=>bc(Math.min(S.row,B.row),Math.min(S.column,B.column),Math.max(S.row+S.rowspan-1,B.row+B.rowspan-1),Math.max(S.column+S.colspan-1,B.column+B.colspan-1)),Ks=(S,B,G)=>{const le=dl.findItem(S,B,kr),Ke=dl.findItem(S,G,kr);return le.bind(Jt=>Ke.map(jo=>Fi(Jt,jo)))},Jc=(S,B,G)=>Ks(S,B,G).bind(le=>Rc(S,le)),Qc=(S,B,G)=>{const le=ca(S);return Jc(le,B,G)},ca=dl.fromTable;var zl=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ji=(S,B,G)=>{const le=S.select("td,th",B);let Ke;for(let Jt=0;Jt<le.length;Jt++){const jo=S.getStyle(le[Jt],G);if(At(Ke)&&(Ke=jo),Ke!==jo)return""}return Ke},pd=(S,B,G)=>{zl.each("left center right".split(" "),le=>{le!==G&&S.formatter.remove("align"+le,{},B)}),G&&S.formatter.apply("align"+G,{},B)},Ui=(S,B,G)=>{zl.each("top middle bottom".split(" "),le=>{le!==G&&S.formatter.remove("valign"+le,{},B)}),G&&S.formatter.apply("valign"+G,{},B)},Qi=(S,B,G)=>{S.dispatch("TableModified",{...G,table:B})};var Yg=tinymce.util.Tools.resolve("tinymce.Env");const au="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Xg=D(5,S=>{const B=`${S+1}px`;return{title:B,value:B}}),Iu=zt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],S=>({title:S,value:S.toLowerCase()})),Pu="100%",rg=S=>{var B;const G=S.dom,le=(B=G.getParent(S.selection.getStart(),G.isBlock))!==null&&B!==void 0?B:S.getBody();return pc(Qn.fromDom(le))+"px"},su=(S,B)=>Vs(S)||!Ei(S)?B:Hu(S)?{...B,width:rg(S)}:{...B,width:Pu},vm=(S,B)=>Vs(S)||Ei(S)?B:Hu(S)?{...B,width:rg(S)}:{...B,width:Pu},es=S=>B=>B.options.get(S),ag=S=>{const B=S.options.register;B("table_border_widths",{processor:"object[]",default:Xg}),B("table_border_styles",{processor:"object[]",default:Iu}),B("table_cell_advtab",{processor:"boolean",default:!0}),B("table_row_advtab",{processor:"boolean",default:!0}),B("table_advtab",{processor:"boolean",default:!0}),B("table_appearance_options",{processor:"boolean",default:!0}),B("table_grid",{processor:"boolean",default:!Yg.deviceType.isTouch()}),B("table_cell_class_list",{processor:"object[]",default:[]}),B("table_row_class_list",{processor:"object[]",default:[]}),B("table_class_list",{processor:"object[]",default:[]}),B("table_toolbar",{processor:"string",default:au}),B("table_background_color_map",{processor:"object[]",default:[]}),B("table_border_color_map",{processor:"object[]",default:[]})},Pd=es("table_sizing_mode"),qr=es("table_border_widths"),Il=es("table_border_styles"),iu=es("table_cell_advtab"),ed=es("table_row_advtab"),pi=es("table_advtab"),lu=es("table_appearance_options"),xm=es("table_grid"),Ei=es("table_style_by_css"),Jr=es("table_cell_class_list"),wm=es("table_row_class_list"),ma=es("table_class_list"),fi=es("table_toolbar"),Pl=es("table_background_color_map"),ii=es("table_border_color_map"),Hu=S=>Pd(S)==="fixed",Vs=S=>Pd(S)==="responsive",Bc=S=>{const B=S.options,G=B.get("table_default_styles");return B.isSet("table_default_styles")?G:su(S,G)},fd=S=>{const B=S.options,G=B.get("table_default_attributes");return B.isSet("table_default_attributes")?G:vm(S,G)},Ys=S=>_e(S,"table"),hd=(S,B)=>{const G=ze(S,B);return G.length>0?pt.some(G):pt.none()},cu=(S,B,G)=>Yt(S,B).bind(le=>Yt(S,G).bind(Ke=>Fa(Ys,[le,Ke]).map(Jt=>({first:le,last:Ke,table:Jt})))),td=(S,B)=>hd(S,B),km=(S,B,G)=>cu(S,B,G).bind(le=>{const Ke=Hn=>kr(S,Hn),Jt="thead,tfoot,tbody,table",jo=_e(le.first,Jt,Ke),fn=_e(le.last,Jt,Ke);return jo.bind(Hn=>fn.bind(sr=>kr(Hn,sr)?Qc(le.table,le.first,le.last):pt.none()))}),od=Te,_m=S=>{const B=(le,Ke)=>oi(le,Ke).exists(Jt=>parseInt(Jt,10)>1),G=le=>B(le,"rowspan")||B(le,"colspan");return S.length>0&&Bt(S,G)?pt.some(S):pt.none()},hi=(S,B,G)=>B.length<=1?pt.none():km(S,G.firstSelectedSelector,G.lastSelectedSelector).map(le=>({bounds:le,cells:B})),Cm="data-mce-selected",Sm="data-mce-first-selected",tc="td["+Sm+"],th["+Sm+"]",Vu="data-mce-last-selected",sg="td["+Vu+"],th["+Vu+"]",du={selected:Cm,firstSelectedSelector:tc,lastSelectedSelector:sg},Zi=S=>Ce(S).bind(B=>td(B,du.firstSelectedSelector)).fold(ao(S),B=>B[0]),ju=S=>(B,G)=>{const le=Dr(B),Ke=le==="col"||le==="colgroup"?Zi(B):B;return W(Ke,S,G)},Hl=ju("th,td,caption"),Al=ju("th,td"),nd=S=>Bl(S.model.table.getSelectedCells()),bd=(S,B)=>{const G=Al(S),le=G.bind(Ke=>Ce(Ke)).map(Ke=>lt(Ke));return xt(G,le,(Ke,Jt)=>vt(Jt,jo=>Nt(Bl(jo.dom.cells),fn=>zr(fn,B)==="1"||kr(fn,Ke)))).getOr([])},yd=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],uu=S=>({value:$u(S)}),Xs=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,js=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,vd=S=>Xs.test(S)||js.test(S),$u=S=>ft(S,"#").toUpperCase(),bi=S=>vd(S)?pt.some({value:$u(S)}):pt.none(),Ms=S=>{const B=S.toString(16);return(B.length===1?"0"+B:B).toUpperCase()},O=S=>{const B=Ms(S.red)+Ms(S.green)+Ms(S.blue);return uu(B)},V=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,K=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Ne=(S,B,G,le)=>({red:S,green:B,blue:G,alpha:le}),qe=(S,B,G,le)=>{const Ke=parseInt(S,10),Jt=parseInt(B,10),jo=parseInt(G,10),fn=parseFloat(le);return Ne(Ke,Jt,jo,fn)},yo=S=>{const B=V.exec(S);if(B!==null)return pt.some(qe(B[1],B[2],B[3],"1"));const G=K.exec(S);return G!==null?pt.some(qe(G[1],G[2],G[3],G[4])):pt.none()},$t=S=>bi(S).orThunk(()=>yo(S).map(O)).getOrThunk(()=>{const B=document.createElement("canvas");B.height=1,B.width=1;const G=B.getContext("2d");G.clearRect(0,0,B.width,B.height),G.fillStyle="#FFFFFF",G.fillStyle=S,G.fillRect(0,0,1,1);const le=G.getImageData(0,0,1,1).data,Ke=le[0],Jt=le[1],jo=le[2],fn=le[3];return O(Ne(Ke,Jt,jo,fn))}),Zn=S=>yo(S).map(O).map(B=>"#"+B.value).getOr(S),ar=(S,B,G)=>le=>{const Ke=_n(),Jt=gr(G),jo=()=>{const fn=nd(S),Hn=sr=>S.formatter.match(B,{value:G},sr.dom,Jt);Jt?(le.setActive(!Nt(fn,Hn)),Ke.set(S.formatter.formatChanged(B,sr=>le.setActive(!sr),!0))):(le.setActive(Bt(fn,Hn)),Ke.set(S.formatter.formatChanged(B,le.setActive,!1,{value:G})))};return S.initialized?jo():S.on("init",jo),Ke.clear},bn=S=>We(S,"menu"),aa=S=>zt(S,B=>{const G=B.text||B.title||"";return bn(B)?{text:G,items:aa(B.menu)}:{text:G,value:B.value}}),va=S=>S.length?pt.some(aa([{text:"Select...",value:"mce-no-match"},...S])):pt.none(),Rs=(S,B,G,le)=>zt(B,Ke=>{const Jt=Ke.text||Ke.title;return bn(Ke)?{type:"nestedmenuitem",text:Jt,getSubmenuItems:()=>Rs(S,Ke.menu,G,le)}:{text:Jt,type:"togglemenuitem",onAction:()=>le(Ke.value),onSetup:ar(S,G,Ke.value)}}),$a=(S,B)=>G=>{S.execCommand("mceTableApplyCellStyle",!1,{[B]:G})},Hd=S=>tt(S,B=>bn(B)?[{...B,menu:Hd(B.menu)}]:fo(B.value)?[B]:[]),Ao=(S,B,G,le)=>Ke=>Ke(Rs(S,B,G,le)),Es=(S,B,G)=>{const le=zt(B,Ke=>({text:Ke.title,value:"#"+$t(Ke.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:le.length>0?le:void 0,allowCustomColors:!1},onAction:Ke=>{const Jt=Ke.value==="remove"?"":Ke.value;S.execCommand("mceTableApplyCellStyle",!1,{[G]:Jt})}}]},Uu=S=>()=>{const G=S.queryCommandValue("mceTableRowType")==="header"?"body":"header";S.execCommand("mceTableRowType",!1,{type:G})},Fc=S=>()=>{const G=S.queryCommandValue("mceTableColType")==="th"?"td":"th";S.execCommand("mceTableColType",!1,{type:G})},mu=S=>va(Jr(S)).map(B=>({name:"class",type:"listbox",label:"Class",items:B})),qp=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:yd}],ts=S=>qp.concat(mu(S).toArray()),Em=(S,B)=>{const le=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(aa(Il(S)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:B==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(le):le}},Vl={normal:(S,B)=>{const G=S.dom;return{setAttrib:(jo,fn)=>{G.setAttrib(B,jo,fn)},setStyle:(jo,fn)=>{G.setStyle(B,jo,fn)},setFormat:(jo,fn)=>{fn===""?S.formatter.remove(jo,{value:null},B,!0):S.formatter.apply(jo,{value:fn},B)}}}},_a=S=>bo(S,"rgb")?Zn(S):S,zm=S=>{const B=Qn.fromDom(S);return{borderwidth:Yi(B,"border-width").getOr(""),borderstyle:Yi(B,"border-style").getOr(""),bordercolor:Yi(B,"border-color").map(_a).getOr(""),backgroundcolor:Yi(B,"background-color").map(_a).getOr("")}},Zu=S=>{const B=S[0],G=S.slice(1);return Ot(G,le=>{Ot(Ft(B),Ke=>{Ue(le,(Jt,jo)=>{const fn=B[Ke];fn!==""&&Ke===jo&&fn!==Jt&&(B[Ke]=Ke==="class"?"mce-no-match":"")})})}),B},wb=(S,B,G,le)=>R(S,Ke=>!At(G.formatter.matchNode(le,B+Ke))).getOr(""),wc=wo(wb,["left","center","right"],"align"),ig=wo(wb,["top","middle","bottom"],"valign"),jl=(S,B)=>{const G=Bc(S),le=fd(S),Ke=()=>({borderstyle:ot(G,"border-style").getOr(""),bordercolor:_a(ot(G,"border-color").getOr("")),backgroundcolor:_a(ot(G,"background-color").getOr(""))}),Jt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},jo=()=>{const Sa=G["border-width"];return Ei(S)&&Sa?{border:Sa}:ot(le,"border").fold(()=>({}),sa=>({border:sa}))},fn=B?Ke():{},Hn=()=>{const Sa=ot(G,"border-spacing").or(ot(le,"cellspacing")).fold(()=>({}),zs=>({cellspacing:zs})),sa=ot(G,"border-padding").or(ot(le,"cellpadding")).fold(()=>({}),zs=>({cellpadding:zs}));return{...Sa,...sa}};return{...Jt,...G,...le,...fn,...jo(),...Hn()}},Pn=S=>Ce(Qn.fromDom(S)).map(B=>{const G={selection:Bl(S.cells)};return El(B,G)}).getOr(""),Vd=(S,B,G)=>{const le=(fn,Hn)=>{const sr=Yi(Qn.fromDom(Hn),"border-width");return Ei(S)&&sr.isSome()?sr.getOr(""):fn.getAttrib(Hn,"border")||Ji(S.dom,Hn,"border-width")||Ji(S.dom,Hn,"border")||""},Ke=S.dom,Jt=Ei(S)?Ke.getStyle(B,"border-spacing")||Ke.getAttrib(B,"cellspacing"):Ke.getAttrib(B,"cellspacing")||Ke.getStyle(B,"border-spacing"),jo=Ei(S)?Ji(Ke,B,"padding")||Ke.getAttrib(B,"cellpadding"):Ke.getAttrib(B,"cellpadding")||Ji(Ke,B,"padding");return{width:Ke.getStyle(B,"width")||Ke.getAttrib(B,"width"),height:Ke.getStyle(B,"height")||Ke.getAttrib(B,"height"),cellspacing:Jt??"",cellpadding:jo??"",border:le(Ke,B),caption:!!Ke.select("caption",B)[0],class:Ke.getAttrib(B,"class",""),align:wc(S,B),...G?zm(B):{}}},Jg=(S,B,G)=>{const le=S.dom;return{height:le.getStyle(B,"height")||le.getAttrib(B,"height"),class:le.getAttrib(B,"class",""),type:Pn(B),align:wc(S,B),...G?zm(B):{}}},kb=(S,B,G,le)=>{const Ke=S.dom,Jt=le.getOr(B);return{width:((fn,Hn)=>Ke.getStyle(fn,Hn)||Ke.getAttrib(fn,Hn))(Jt,"width"),scope:Ke.getAttrib(B,"scope"),celltype:vo(B),class:Ke.getAttrib(B,"class",""),halign:wc(S,B),valign:ig(S,B),...G?zm(B):{}}},Am=(S,B)=>{const G=dl.fromTable(S),le=dl.justCells(G),Ke=vt(le,Jt=>Nt(B,jo=>kr(Jt.element,jo)));return zt(Ke,Jt=>({element:Jt.element.dom,column:dl.getColumnAt(G,Jt.column).map(jo=>jo.element.dom)}))},kc=(S,B,G,le)=>{le("scope")&&S.setAttrib("scope",G.scope),le("class")&&G.class!=="mce-no-match"&&S.setAttrib("class",G.class),le("width")&&B.setStyle("width",Se(G.width))},zi=(S,B,G)=>{G("backgroundcolor")&&S.setFormat("tablecellbackgroundcolor",B.backgroundcolor),G("bordercolor")&&S.setFormat("tablecellbordercolor",B.bordercolor),G("borderstyle")&&S.setFormat("tablecellborderstyle",B.borderstyle),G("borderwidth")&&S.setFormat("tablecellborderwidth",Se(B.borderwidth))},th=(S,B,G,le)=>{const Ke=B.length===1;Ot(B,Jt=>{const jo=Jt.element,fn=Ke?ae:le,Hn=Vl.normal(S,jo),sr=Jt.column.map(Sa=>Vl.normal(S,Sa)).getOr(Hn);kc(Hn,sr,G,fn),iu(S)&&zi(Hn,G,fn),le("halign")&&pd(S,jo,G.halign),le("valign")&&Ui(S,jo,G.valign)})},os=(S,B)=>{S.execCommand("mceTableCellType",!1,{type:B.celltype,no_events:!0})},qi=(S,B,G,le)=>{const Ke=Pe(le,(Jt,jo)=>G[jo]!==Jt);Ee(Ke)>0&&B.length>=1&&Ce(B[0]).each(Jt=>{const jo=Am(Jt,B),fn=Ee(Pe(Ke,(sr,Sa)=>Sa!=="scope"&&Sa!=="celltype"))>0,Hn=_t(Ke,"celltype");(fn||_t(Ke,"scope"))&&th(S,jo,le,wo(_t,Ke)),Hn&&os(S,le),Qi(S,Jt.dom,{structure:Hn,style:fn})})},el=(S,B,G,le)=>{const Ke=le.getData();le.close(),S.undoManager.transact(()=>{qi(S,B,G,Ke),S.focus()})},gu=(S,B)=>{const G=Ce(B[0]).map(le=>zt(Am(le,B),Ke=>kb(S,Ke.element,iu(S),Ke.column)));return Zu(G.getOrDie())},Tl=S=>{const B=nd(S);if(B.length===0)return;const G=gu(S,B),le={type:"tabpanel",tabs:[{title:"General",name:"general",items:ts(S)},Em(S,"cell")]},Ke={type:"panel",items:[{type:"grid",columns:2,items:ts(S)}]};S.windowManager.open({title:"Cell Properties",size:"normal",body:iu(S)?le:Ke,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:G,onSubmit:wo(el,S,B,G)})},qu=S=>va(wm(S)).map(B=>({name:"class",type:"listbox",label:"Class",items:B})),yi=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Wi=S=>yi.concat(qu(S).toArray()),Tm=(S,B,G)=>{G("class")&&B.class!=="mce-no-match"&&S.setAttrib("class",B.class),G("height")&&S.setStyle("height",Se(B.height))},ho=(S,B,G)=>{G("backgroundcolor")&&S.setStyle("background-color",B.backgroundcolor),G("bordercolor")&&S.setStyle("border-color",B.bordercolor),G("borderstyle")&&S.setStyle("border-style",B.borderstyle)},_c=(S,B,G,le)=>{const Jt=B.length===1?ae:le;Ot(B,jo=>{const fn=te(Qn.fromDom(jo),"td,th"),Hn=Vl.normal(S,jo);Tm(Hn,G,Jt),ed(S)&&ho(Hn,G,Jt),le("height")&&Ot(fn,sr=>{S.dom.setStyle(sr.dom,"height",null)}),le("align")&&pd(S,jo,G.align)})},Wu=(S,B)=>{S.execCommand("mceTableRowType",!1,{type:B.type,no_events:!0})},li=(S,B,G,le)=>{const Ke=Pe(le,(Jt,jo)=>G[jo]!==Jt);if(Ee(Ke)>0){const Jt=_t(Ke,"type"),jo=Jt?Ee(Ke)>1:!0;jo&&_c(S,B,le,wo(_t,Ke)),Jt&&Wu(S,le),Ce(Qn.fromDom(B[0])).each(fn=>Qi(S,fn.dom,{structure:Jt,style:jo}))}},Cc=(S,B,G,le)=>{const Ke=le.getData();le.close(),S.undoManager.transact(()=>{li(S,B,G,Ke),S.focus()})},oc=S=>{const B=bd(Oa(S),du.selected);if(B.length===0)return;const G=zt(B,jo=>Jg(S,jo.dom,ed(S))),le=Zu(G),Ke={type:"tabpanel",tabs:[{title:"General",name:"general",items:Wi(S)},Em(S,"row")]},Jt={type:"panel",items:[{type:"grid",columns:2,items:Wi(S)}]};S.windowManager.open({title:"Row Properties",size:"normal",body:ed(S)?Ke:Jt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:le,onSubmit:wo(Cc,S,zt(B,jo=>jo.dom),le)})},xd=(S,B,G)=>{const le=G?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ke=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Jt=lu(S)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],jo=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],fn=B.length>0?[{name:"class",type:"listbox",label:"Class",items:B}]:[];return le.concat(Ke).concat(Jt).concat(jo).concat(fn)},Lc=(S,B,G,le)=>{if(B.tagName==="TD"||B.tagName==="TH")gn(G)&&tn(le)?S.setStyle(B,G,le):S.setStyles(B,G);else if(B.children)for(let Ke=0;Ke<B.children.length;Ke++)Lc(S,B.children[Ke],G,le)},ul=(S,B,G,le)=>{const Ke=S.dom,Jt={},jo={},fn=Ei(S),Hn=pi(S),sr=parseFloat(G.border)===0;if(!At(G.class)&&G.class!=="mce-no-match"&&(Jt.class=G.class),jo.height=Se(G.height),fn?jo.width=Se(G.width):Ke.getAttrib(B,"width")&&(Jt.width=ka(G.width)),fn?(sr?(Jt.border=0,jo["border-width"]=""):(jo["border-width"]=Se(G.border),Jt.border=1),jo["border-spacing"]=Se(G.cellspacing)):(Jt.border=sr?0:G.border,Jt.cellpadding=G.cellpadding,Jt.cellspacing=G.cellspacing),fn&&B.children){const Sa={};if(sr?Sa["border-width"]="":le.border&&(Sa["border-width"]=Se(G.border)),le.cellpadding&&(Sa.padding=Se(G.cellpadding)),Hn&&le.bordercolor&&(Sa["border-color"]=G.bordercolor),!dt(Sa))for(let sa=0;sa<B.children.length;sa++)Lc(Ke,B.children[sa],Sa)}if(Hn){const Sa=G;jo["background-color"]=Sa.backgroundcolor,jo["border-color"]=Sa.bordercolor,jo["border-style"]=Sa.borderstyle}Ke.setStyles(B,{...Bc(S),...jo}),Ke.setAttribs(B,{...fd(S),...Jt})},Hr=(S,B,G,le)=>{const Ke=S.dom,Jt=le.getData(),jo=Pe(Jt,(fn,Hn)=>G[Hn]!==fn);le.close(),S.undoManager.transact(()=>{if(!B){const fn=Ur(Jt.cols).getOr(1),Hn=Ur(Jt.rows).getOr(1);S.execCommand("mceInsertTable",!1,{rows:Hn,columns:fn}),B=Al(Oa(S),Wn(S)).bind(sr=>Ce(sr,Wn(S))).map(sr=>sr.dom).getOrDie()}if(Ee(jo)>0){const fn={border:_t(jo,"border"),bordercolor:_t(jo,"bordercolor"),cellpadding:_t(jo,"cellpadding")};ul(S,B,Jt,fn);const Hn=Ke.select("caption",B)[0];(Hn&&!Jt.caption||!Hn&&Jt.caption)&&S.execCommand("mceTableToggleCaption"),pd(S,B,Jt.align)}if(S.focus(),S.addVisual(),Ee(jo)>0){const fn=_t(jo,"caption"),Hn=fn?Ee(jo)>1:!0;Qi(S,B,{structure:fn,style:Hn})}})},Ic=(S,B)=>{const G=S.dom;let le,Ke=jl(S,pi(S));B?(Ke.cols="1",Ke.rows="1",pi(S)&&(Ke.borderstyle="",Ke.bordercolor="",Ke.backgroundcolor="")):(le=G.getParent(S.selection.getStart(),"table",S.getBody()),le?Ke=Vd(S,le,pi(S)):pi(S)&&(Ke.borderstyle="",Ke.bordercolor="",Ke.backgroundcolor=""));const Jt=va(ma(S));Jt.isSome()&&Ke.class&&(Ke.class=Ke.class.replace(/\s*mce\-item\-table\s*/g,""));const jo={type:"grid",columns:2,items:xd(S,Jt.getOr([]),B)},fn=()=>({type:"panel",items:[jo]}),Hn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[jo]},Em(S,"table")]}),sr=pi(S)?Hn():fn();S.windowManager.open({title:"Table Properties",size:"normal",body:sr,onSubmit:wo(Hr,S,le,Ke),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ke})},Js=S=>{const B=G=>{xs(Oa(S))&&G()};Ue({mceTableProps:wo(Ic,S,!1),mceTableRowProps:wo(oc,S),mceTableCellProps:wo(Tl,S),mceInsertTableDialog:wo(Ic,S,!0)},(G,le)=>S.addCommand(le,()=>B(G)))},Bs=S=>({element:S,mergable:pt.none(),unmergable:pt.none(),selection:[S]}),Qg=(S,B,G)=>({element:G,mergable:hi(B,S,du),unmergable:_m(S),selection:od(S)}),Li=S=>{const B=io(pt.none()),G=io([]);let le=pt.none();const Ke=hn("caption"),Jt=yr=>le.forall(ga=>!ga[yr]),jo=()=>Hl(Oa(S),Wn(S)),fn=()=>Hl(vs(S),Wn(S)),Hn=()=>jo().bind(yr=>oo(xt(Ce(yr),fn().bind(Ce),(ga,vi)=>kr(ga,vi)?Ke(yr)?pt.some(Bs(yr)):pt.some(Qg(nd(S),ga,yr)):pt.none()))),sr=yr=>Ce(yr.element).map(vi=>{const Sc=dl.fromTable(vi),dg=xc(Sc,yr).getOr([]),ep=Bo(dg,(Om,Nm)=>(Nm.isLocked&&(Om.onAny=!0,Nm.column===0?Om.onFirst=!0:Nm.column+Nm.colspan>=Sc.grid.columns&&(Om.onLast=!0)),Om),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:gd(Sc,yr).isSome(),unmergeable:Ds(Sc,yr).isSome(),locked:ep}}),Sa=()=>{B.set(Cn(Hn)()),le=B.get().bind(sr),Ot(G.get(),he)},sa=yr=>(yr(),G.set(G.get().concat([yr])),()=>{G.set(vt(G.get(),ga=>ga!==yr))}),zs=(yr,ga)=>sa(()=>B.get().fold(()=>{yr.setEnabled(!1)},vi=>{yr.setEnabled(!ga(vi)&&S.selection.isEditable())})),ms=(yr,ga,vi)=>sa(()=>B.get().fold(()=>{yr.setEnabled(!1),yr.setActive(!1)},Sc=>{yr.setEnabled(!ga(Sc)&&S.selection.isEditable()),yr.setActive(vi(Sc))})),$l=yr=>le.exists(ga=>ga.locked[yr]),Ul=yr=>zs(yr,ga=>!1),fu=yr=>zs(yr,ga=>Ke(ga.element)),hu=yr=>ga=>zs(ga,vi=>Ke(vi.element)||$l(yr)),cg=yr=>ga=>zs(ga,vi=>Ke(vi.element)||yr().isNone()),ac=(yr,ga)=>vi=>zs(vi,Sc=>Ke(Sc.element)||yr().isNone()||$l(ga)),Ua=yr=>zs(yr,ga=>Jt("mergeable")),Wp=yr=>zs(yr,ga=>Jt("unmergeable")),Ol=yr=>ms(yr,Xe,ga=>Ce(ga.element,Wn(S)).exists(Sc=>ve(Sc,"caption"))),Hc=(yr,ga)=>vi=>ms(vi,Sc=>Ke(Sc.element),()=>S.queryCommandValue(yr)===ga),Gp=Hc("mceTableRowType","header"),bu=Hc("mceTableColType","th");return S.on("NodeChange ExecCommand TableSelectorChange",Sa),{onSetupTable:Ul,onSetupCellOrRow:fu,onSetupColumn:hu,onSetupPasteable:cg,onSetupPasteableColumn:ac,onSetupMergeable:Ua,onSetupUnmergeable:Wp,resetTargets:Sa,onSetupTableWithCaption:Ol,onSetupTableRowHeaders:Gp,onSetupTableColumnHeaders:bu,targets:B.get}};var Gu=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ml="x-tinymce/dom-table-",kt=ml+"rows",Pc=ml+"columns",rd=S=>{var B;const G=(B=Gu.read())!==null&&B!==void 0?B:[];return ke(G,le=>pt.from(le.getType(S)))},Ca=()=>rd(kt),nc=()=>rd(Pc),Ii=S=>B=>{const G=()=>{B.setEnabled(S.selection.isEditable())};return S.on("NodeChange",G),G(),()=>{S.off("NodeChange",G)}},La=(S,B)=>{S.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Ii(S),fetch:fn=>fn("inserttable | cell row column | advtablesort | tableprops deletetable")});const G=fn=>()=>S.execCommand(fn),le=(fn,Hn)=>{S.queryCommandSupported(Hn.command)&&S.ui.registry.addButton(fn,{...Hn,onAction:Gt(Hn.onAction)?Hn.onAction:G(Hn.command)})},Ke=(fn,Hn)=>{S.queryCommandSupported(Hn.command)&&S.ui.registry.addToggleButton(fn,{...Hn,onAction:Gt(Hn.onAction)?Hn.onAction:G(Hn.command)})};le("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:B.onSetupTable}),le("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:B.onSetupTable}),le("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:B.onSetupCellOrRow}),le("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:B.onSetupMergeable}),le("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:B.onSetupUnmergeable}),le("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:B.onSetupCellOrRow}),le("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:B.onSetupCellOrRow}),le("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:B.onSetupCellOrRow}),le("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:B.onSetupCellOrRow}),le("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:B.onSetupColumn("onFirst")}),le("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:B.onSetupColumn("onLast")}),le("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:B.onSetupColumn("onAny")}),le("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:B.onSetupCellOrRow}),le("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:B.onSetupCellOrRow}),le("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:B.onSetupPasteable(Ca)}),le("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:B.onSetupPasteable(Ca)}),le("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:B.onSetupColumn("onAny")}),le("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:B.onSetupColumn("onAny")}),le("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:B.onSetupPasteableColumn(nc,"onFirst")}),le("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:B.onSetupPasteableColumn(nc,"onLast")}),le("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Ii(S)});const Jt=Hd(ma(S));Jt.length!==0&&S.queryCommandSupported("mceTableToggleClass")&&S.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Ao(S,Jt,"tableclass",fn=>S.execCommand("mceTableToggleClass",!1,fn)),onSetup:B.onSetupTable});const jo=Hd(Jr(S));jo.length!==0&&S.queryCommandSupported("mceTableCellToggleClass")&&S.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Ao(S,jo,"tablecellclass",fn=>S.execCommand("mceTableCellToggleClass",!1,fn)),onSetup:B.onSetupCellOrRow}),S.queryCommandSupported("mceTableApplyCellStyle")&&(S.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Ao(S,yd,"tablecellverticalalign",$a(S,"vertical-align")),onSetup:B.onSetupCellOrRow}),S.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Ao(S,qr(S),"tablecellborderwidth",$a(S,"border-width")),onSetup:B.onSetupCellOrRow}),S.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Ao(S,Il(S),"tablecellborderstyle",$a(S,"border-style")),onSetup:B.onSetupCellOrRow}),S.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:fn=>fn(Es(S,Pl(S),"background-color")),onSetup:B.onSetupCellOrRow}),S.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:fn=>fn(Es(S,ii(S),"border-color")),onSetup:B.onSetupCellOrRow})),Ke("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:B.onSetupTableWithCaption}),Ke("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Uu(S),onSetup:B.onSetupTableRowHeaders}),Ke("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Fc(S),onSetup:B.onSetupTableColumnHeaders})},rc=S=>{const B=le=>S.dom.is(le,"table")&&S.getBody().contains(le)&&S.dom.isEditable(le.parentNode),G=fi(S);G.length>0&&S.ui.registry.addContextToolbar("table",{predicate:B,items:G,scope:"node",position:"node"})},lg=S=>B=>{const G=()=>{B.setEnabled(S.selection.isEditable())};return S.on("NodeChange",G),G(),()=>{S.off("NodeChange",G)}},Ku=(S,B)=>{const G=sa=>()=>S.execCommand(sa),le=(sa,zs)=>S.queryCommandSupported(zs.command)?(S.ui.registry.addMenuItem(sa,{...zs,onAction:Gt(zs.onAction)?zs.onAction:G(zs.command)}),!0):!1,Ke=(sa,zs)=>{S.queryCommandSupported(zs.command)&&S.ui.registry.addToggleMenuItem(sa,{...zs,onAction:Gt(zs.onAction)?zs.onAction:G(zs.command)})},Jt=sa=>{S.execCommand("mceInsertTable",!1,{rows:sa.numRows,columns:sa.numColumns})},jo=[le("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:B.onSetupCellOrRow}),le("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:B.onSetupCellOrRow}),le("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:B.onSetupCellOrRow}),le("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:B.onSetupCellOrRow}),le("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:B.onSetupCellOrRow}),le("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:B.onSetupCellOrRow}),le("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:B.onSetupPasteable(Ca)}),le("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:B.onSetupPasteable(Ca)})],fn=[le("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:B.onSetupColumn("onFirst")}),le("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:B.onSetupColumn("onLast")}),le("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:B.onSetupColumn("onAny")}),le("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:B.onSetupColumn("onAny")}),le("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:B.onSetupColumn("onAny")}),le("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:B.onSetupPasteableColumn(nc,"onFirst")}),le("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:B.onSetupPasteableColumn(nc,"onLast")})],Hn=[le("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:B.onSetupCellOrRow}),le("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:B.onSetupMergeable}),le("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:B.onSetupUnmergeable})];xm(S)?S.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Jt}],onSetup:lg(S)}):S.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:G("mceInsertTableDialog"),onSetup:lg(S)}),S.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:G("mceInsertTableDialog"),onSetup:lg(S)}),le("tableprops",{text:"Table properties",onSetup:B.onSetupTable,command:"mceTableProps"}),le("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:B.onSetupTable,command:"mceTableDelete"}),Vo(jo,!0)&&S.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:ao("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Vo(fn,!0)&&S.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:ao("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Vo(Hn,!0)&&S.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:ao("tablecellprops tablemergecells tablesplitcells")}),S.ui.registry.addContextMenu("table",{update:()=>(B.resetTargets(),B.targets().fold(ao(""),sa=>Dr(sa.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const sr=Hd(ma(S));sr.length!==0&&S.queryCommandSupported("mceTableToggleClass")&&S.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Rs(S,sr,"tableclass",sa=>S.execCommand("mceTableToggleClass",!1,sa)),onSetup:B.onSetupTable});const Sa=Hd(Jr(S));Sa.length!==0&&S.queryCommandSupported("mceTableCellToggleClass")&&S.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Rs(S,Sa,"tablecellclass",sa=>S.execCommand("mceTableCellToggleClass",!1,sa)),onSetup:B.onSetupCellOrRow}),S.queryCommandSupported("mceTableApplyCellStyle")&&(S.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Rs(S,yd,"tablecellverticalalign",$a(S,"vertical-align")),onSetup:B.onSetupCellOrRow}),S.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Rs(S,qr(S),"tablecellborderwidth",$a(S,"border-width")),onSetup:B.onSetupCellOrRow}),S.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Rs(S,Il(S),"tablecellborderstyle",$a(S,"border-style")),onSetup:B.onSetupCellOrRow}),S.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Es(S,Pl(S),"background-color"),onSetup:B.onSetupCellOrRow}),S.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Es(S,ii(S),"border-color"),onSetup:B.onSetupCellOrRow})),Ke("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:B.onSetupTableWithCaption}),Ke("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Uu(S),onSetup:B.onSetupTableRowHeaders}),Ke("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Fc(S),onSetup:B.onSetupTableRowHeaders})},pu=S=>{const B=Li(S);ag(S),Js(S),Ku(S,B),La(S,B),rc(S)};var Ai=()=>{Oo.add("table",pu)};Ai()}()),BD}var LD;function tF(){return LD||(LD=1,eF()),RD}tF();var ID={},PD={},HD;function oF(){return HD||(HD=1,function(){const Oo=Gt=>{let Je=Gt;return{get:()=>Je,set:ao=>{Je=ao}}};var an=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(Gt,Je)=>{Gt.dispatch("VisualBlocks",{state:Je})},cn=(Gt,Je,bt)=>{Gt.dom.toggleClass(Gt.getBody(),"mce-visualblocks"),bt.set(!bt.get()),Ko(Gt,bt.get())},en=(Gt,Je,bt)=>{Gt.addCommand("mceVisualBlocks",()=>{cn(Gt,Je,bt)})},ro=Gt=>Je=>Je.options.get(Gt),gn=Gt=>{const Je=Gt.options.register;Je("visualblocks_default_state",{processor:"boolean",default:!1})},$o=ro("visualblocks_default_state"),go=(Gt,Je,bt)=>{Gt.on("PreviewFormats AfterPreviewFormats",no=>{bt.get()&&Gt.dom.toggleClass(Gt.getBody(),"mce-visualblocks",no.type==="afterpreviewformats")}),Gt.on("init",()=>{$o(Gt)&&cn(Gt,Je,bt)})},At=(Gt,Je)=>bt=>{bt.setActive(Je.get());const no=ao=>bt.setActive(ao.state);return Gt.on("VisualBlocks",no),()=>Gt.off("VisualBlocks",no)},kn=(Gt,Je)=>{const bt=()=>Gt.execCommand("mceVisualBlocks");Gt.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:bt,onSetup:At(Gt,Je),context:"any"}),Gt.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:bt,onSetup:At(Gt,Je),context:"any"})};var tn=()=>{an.add("visualblocks",(Gt,Je)=>{gn(Gt);const bt=Oo(!1);en(Gt,Je,bt),kn(Gt,bt),go(Gt,Je,bt)})};tn()}()),PD}var VD;function nF(){return VD||(VD=1,oF()),ID}nF();var jD={},$D={},UD;function rF(){return UD||(UD=1,function(){const Oo=(gt,se,Io)=>{var Yo;return Io(gt,se.prototype)?!0:((Yo=gt.constructor)===null||Yo===void 0?void 0:Yo.name)===se.name},an=gt=>{const se=typeof gt;return gt===null?"null":se==="object"&&Array.isArray(gt)?"array":se==="object"&&Oo(gt,String,(Io,Yo)=>Yo.isPrototypeOf(Io))?"string":se},Ko=gt=>se=>an(se)===gt,cn=gt=>se=>typeof se===gt,en=gt=>se=>gt===se,ro=Ko("string"),gn=Ko("object"),$o=en(null),go=cn("boolean"),At=gt=>gt==null,kn=gt=>!At(gt),tn=cn("number");class Gt{constructor(se,Io){this.tag=se,this.value=Io}static some(se){return new Gt(!0,se)}static none(){return Gt.singletonNone}fold(se,Io){return this.tag?Io(this.value):se()}isSome(){return this.tag}isNone(){return!this.tag}map(se){return this.tag?Gt.some(se(this.value)):Gt.none()}bind(se){return this.tag?se(this.value):Gt.none()}exists(se){return this.tag&&se(this.value)}forall(se){return!this.tag||se(this.value)}filter(se){return!this.tag||se(this.value)?this:Gt.none()}getOr(se){return this.tag?this.value:se}or(se){return this.tag?this:se}getOrThunk(se){return this.tag?this.value:se()}orThunk(se){return this.tag?this:se()}getOrDie(se){if(this.tag)return this.value;throw new Error(se??"Called getOrDie on None")}static from(se){return kn(se)?Gt.some(se):Gt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(se){this.tag&&se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Gt.singletonNone=new Gt(!1);const Je=(gt,se)=>{const Io=gt.length,Yo=new Array(Io);for(let Er=0;Er<Io;Er++){const kr=gt[Er];Yo[Er]=se(kr,Er)}return Yo},bt=(gt,se)=>{for(let Io=0,Yo=gt.length;Io<Yo;Io++){const Er=gt[Io];se(Er,Io)}},no=(gt,se)=>{const Io=[];for(let Yo=0,Er=gt.length;Yo<Er;Yo++){const kr=gt[Yo];se(kr,Yo)&&Io.push(kr)}return Io},ao=Object.keys,Te=(gt,se)=>{const Io=ao(gt);for(let Yo=0,Er=Io.length;Yo<Er;Yo++){const kr=Io[Yo],Rr=gt[kr];se(Rr,kr)}},St=gt=>{let se=gt;return{get:()=>se,set:Er=>{se=Er}}},wo=typeof window<"u"?window:Function("return this;")(),he=(gt,se)=>{let Io=se??wo;for(let Yo=0;Yo<gt.length&&Io!==void 0&&Io!==null;++Yo)Io=Io[gt[Yo]];return Io},Xe=(gt,se)=>{const Io=gt.split(".");return he(Io,se)},ae=(gt,se)=>{let Io=null;return{cancel:()=>{$o(Io)||(clearTimeout(Io),Io=null)},throttle:(...kr)=>{$o(Io)&&(Io=setTimeout(()=>{Io=null,gt.apply(null,kr)},se))}}};var pt=tinymce.util.Tools.resolve("tinymce.PluginManager");const sn=gt=>({isEnabled:()=>gt.get()}),Ro=(gt,se)=>gt.dispatch("VisualChars",{state:se}),pn=(gt,se)=>{const Yo=(se||document).createElement("div");if(Yo.innerHTML=gt,!Yo.hasChildNodes()||Yo.childNodes.length>1){const Er="HTML does not have a single root node";throw console.error(Er,gt),new Error(Er)}return D(Yo.childNodes[0])},Vo=(gt,se)=>{const Yo=(se||document).createElement(gt);return D(Yo)},Nt=(gt,se)=>{const Yo=(se||document).createTextNode(gt);return D(Yo)},D=gt=>{if(gt==null)throw new Error("Node cannot be null or undefined");return{dom:gt}},Ot={fromHtml:pn,fromTag:Vo,fromText:Nt,fromDom:D,fromPoint:(gt,se,Io)=>Gt.from(gt.dom.elementFromPoint(se,Io)).map(D)},Lt=1,po=3,vt=(gt,se)=>Xe(gt,se),so=(gt,se)=>{const Io=vt(gt,se);if(Io==null)throw new Error(gt+" not available on this browser");return Io},Bo=Object.getPrototypeOf,je=gt=>so("HTMLElement",gt),R=gt=>{const se=Xe("ownerDocument.defaultView",gt);return gn(gt)&&(je(se).prototype.isPrototypeOf(gt)||/^HTML\w*Element$/.test(Bo(gt).constructor.name))},ut=gt=>gt.dom.nodeType,tt=gt=>gt.dom.nodeValue,Bt=gt=>se=>ut(se)===gt,Vt=gt=>co(gt)&&R(gt.dom),co=Bt(Lt),xo=Bt(po),No=(gt,se,Io)=>{if(ro(Io)||go(Io)||tn(Io))gt.setAttribute(se,Io+"");else throw console.error("Invalid call to Attribute.set. Key ",se,":: Value ",Io,":: Element ",gt),new Error("Attribute value was not simple")},ke=(gt,se,Io)=>{No(gt.dom,se,Io)},Ft=(gt,se)=>{const Io=gt.dom.getAttribute(se);return Io===null?void 0:Io},Uo=(gt,se)=>{gt.dom.removeAttribute(se)},Ue=(gt,se)=>{const Io=Ft(gt,se);return Io===void 0||Io===""?[]:Io.split(" ")},me=(gt,se,Io)=>{const Er=Ue(gt,se).concat([Io]);return ke(gt,se,Er.join(" ")),!0},xe=(gt,se,Io)=>{const Yo=no(Ue(gt,se),Er=>Er!==Io);return Yo.length>0?ke(gt,se,Yo.join(" ")):Uo(gt,se),!1},Pe=gt=>gt.dom.classList!==void 0,Ie=gt=>Ue(gt,"class"),ye=(gt,se)=>me(gt,"class",se),Ee=(gt,se)=>xe(gt,"class",se),ot=(gt,se)=>{Pe(gt)?gt.dom.classList.add(se):ye(gt,se)},_t=gt=>{(Pe(gt)?gt.dom.classList:Ie(gt)).length===0&&Uo(gt,"class")},We=(gt,se)=>{Pe(gt)?gt.dom.classList.remove(se):Ee(gt,se),_t(gt)},dt=gt=>gt.dom.contentEditable,io={" ":"nbsp","­":"shy"},Fo=(gt,se)=>{let Io="";return Te(gt,(Yo,Er)=>{Io+=Er}),new RegExp("["+Io+"]",se?"g":"")},rt=gt=>{let se="";return Te(gt,Io=>{se&&(se+=","),se+="span.mce-"+Io}),se},xt=Fo(io),oo=Fo(io,!0),qo=rt(io),Mn="mce-nbsp",_n=gt=>'<span data-mce-bogus="1" class="mce-'+io[gt]+'">'+gt+"</span>",Dt=gt=>gt.nodeName.toLowerCase()==="span"&&gt.classList.contains("mce-nbsp-wrap"),Pt=gt=>{const se=tt(gt);return xo(gt)&&ro(se)&&xt.test(se)},ft=gt=>Vt(gt)&&dt(gt)==="false",bo=(gt,se)=>{if(Vt(gt)&&!Dt(gt.dom)){const Io=dt(gt);if(Io==="true")return!0;if(Io==="false")return!1}return se},Rn=(gt,se,Io)=>{let Yo=[];const Er=gt.dom,kr=Je(Er.childNodes,Ot.fromDom),Rr=Dr=>Dt(Dr.dom)||!ft(Dr);return bt(kr,Dr=>{Io&&Rr(Dr)&&se(Dr)&&(Yo=Yo.concat([Dr])),Yo=Yo.concat(Rn(Dr,se,bo(Dr,Io)))}),Yo},On=(gt,se)=>{for(;gt.parentNode;){if(gt.parentNode===se)return se;gt=gt.parentNode}},fo=gt=>gt.replace(oo,_n),gr=(gt,se)=>{const Io=gt.dom,Yo=Rn(Ot.fromDom(se),Pt,gt.dom.isEditable(se));bt(Yo,Er=>{var kr;const Rr=Er.dom.parentNode;if(Dt(Rr))ot(Ot.fromDom(Rr),Mn);else{const Dr=fo(Io.encode((kr=tt(Er))!==null&&kr!==void 0?kr:"")),Fs=Io.create("div",{},Dr);let De;for(;De=Fs.lastChild;)Io.insertAfter(De,Er.dom);gt.dom.remove(Er.dom)}})},Ur=(gt,se)=>{const Io=gt.dom.select(qo,se);bt(Io,Yo=>{Dt(Yo)?We(Ot.fromDom(Yo),Mn):gt.dom.remove(Yo,!0)})},Ha=gt=>{const se=gt.getBody(),Io=gt.selection.getBookmark();let Yo=On(gt.selection.getNode(),se);Yo=Yo!==void 0?Yo:se,Ur(gt,Yo),gr(gt,Yo),gt.selection.moveToBookmark(Io)},Cn=(gt,se)=>{Ro(gt,se.get());const Io=gt.getBody();se.get()===!0?gr(gt,Io):Ur(gt,Io)},on=(gt,se)=>{se.set(!se.get());const Io=gt.selection.getBookmark();Cn(gt,se),gt.selection.moveToBookmark(Io)},ea=(gt,se)=>{gt.addCommand("mceVisualChars",()=>{on(gt,se)})},Ya=gt=>se=>se.options.get(gt),Tr=gt=>{const se=gt.options.register;se("visualchars_default_state",{processor:"boolean",default:!1})},Gn=Ya("visualchars_default_state"),Qn=(gt,se)=>{gt.on("init",()=>{Cn(gt,se)})},ta=(gt,se)=>{const Io=ae(()=>{Ha(gt)},300);gt.on("keydown",Yo=>{se.get()===!0&&(Yo.keyCode===13?Ha(gt):Io.throttle())}),gt.on("remove",Io.cancel)},Ba=(gt,se)=>Io=>{Io.setActive(se.get());const Yo=Er=>Io.setActive(Er.state);return gt.on("VisualChars",Yo),()=>gt.off("VisualChars",Yo)},Or=(gt,se)=>{const Io=()=>gt.execCommand("mceVisualChars");gt.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:Io,onSetup:Ba(gt,se),context:"any"}),gt.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:Io,onSetup:Ba(gt,se),context:"any"})};var Va=()=>{pt.add("visualchars",gt=>{Tr(gt);const se=St(Gn(gt));return ea(gt,se),Or(gt,se),ta(gt,se),Qn(gt,se),sn(se)})};Va()}()),$D}var ZD;function aF(){return ZD||(ZD=1,rF()),jD}aF();var qD={},WD={},GD;function sF(){return GD||(GD=1,function(){var Oo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ko=(me=>xe=>me===xe)(null),cn=me=>me,en=(me,xe)=>{const Pe=me.length,Ie=new Array(Pe);for(let ye=0;ye<Pe;ye++){const Ee=me[ye];Ie[ye]=xe(Ee,ye)}return Ie},ro=(me,xe)=>{let Pe=null;return{cancel:()=>{Ko(Pe)||(clearTimeout(Pe),Pe=null)},throttle:(...Ee)=>{Ko(Pe)&&(Pe=setTimeout(()=>{Pe=null,me.apply(null,Ee)},xe))}}},gn=me=>me.replace(/\uFEFF/g,""),go={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},At={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},kn=[new RegExp(go.aletter),new RegExp(go.midnumlet),new RegExp(go.midletter),new RegExp(go.midnum),new RegExp(go.numeric),new RegExp(go.cr),new RegExp(go.lf),new RegExp(go.newline),new RegExp(go.extend),new RegExp(go.format),new RegExp(go.katakana),new RegExp(go.extendnumlet),new RegExp("@")],tn="",Gt=new RegExp("^"+go.punctuation+"$"),Je=/^\s+$/,bt=kn,no=At.OTHER,ao=me=>{let xe=no;const Pe=bt.length;for(let Ie=0;Ie<Pe;++Ie){const ye=bt[Ie];if(ye&&ye.test(me)){xe=Ie;break}}return xe},Te=me=>{const xe={};return Pe=>{if(xe[Pe])return xe[Pe];{const Ie=me(Pe);return xe[Pe]=Ie,Ie}}},St=me=>{const xe=Te(ao);return en(me,xe)},wo=(me,xe)=>{const Pe=me[xe],Ie=me[xe+1];if(xe<0||xe>me.length-1&&xe!==0||Pe===At.ALETTER&&Ie===At.ALETTER)return!1;const ye=me[xe+2];if(Pe===At.ALETTER&&(Ie===At.MIDLETTER||Ie===At.MIDNUMLET||Ie===At.AT)&&ye===At.ALETTER)return!1;const Ee=me[xe-1];return(Pe===At.MIDLETTER||Pe===At.MIDNUMLET||Ie===At.AT)&&Ie===At.ALETTER&&Ee===At.ALETTER||(Pe===At.NUMERIC||Pe===At.ALETTER)&&(Ie===At.NUMERIC||Ie===At.ALETTER)||(Pe===At.MIDNUM||Pe===At.MIDNUMLET)&&Ie===At.NUMERIC&&Ee===At.NUMERIC||Pe===At.NUMERIC&&(Ie===At.MIDNUM||Ie===At.MIDNUMLET)&&ye===At.NUMERIC||(Pe===At.EXTEND||Pe===At.FORMAT)&&(Ie===At.ALETTER||Ie===At.NUMERIC||Ie===At.KATAKANA||Ie===At.EXTEND||Ie===At.FORMAT)||(Ie===At.EXTEND||Ie===At.FORMAT&&(ye===At.ALETTER||ye===At.NUMERIC||ye===At.KATAKANA||ye===At.EXTEND||ye===At.FORMAT))&&(Pe===At.ALETTER||Pe===At.NUMERIC||Pe===At.KATAKANA||Pe===At.EXTEND||Pe===At.FORMAT)||Pe===At.CR&&Ie===At.LF?!1:Pe===At.NEWLINE||Pe===At.CR||Pe===At.LF||Ie===At.NEWLINE||Ie===At.CR||Ie===At.LF?!0:!(Pe===At.KATAKANA&&Ie===At.KATAKANA||Ie===At.EXTENDNUMLET&&(Pe===At.ALETTER||Pe===At.NUMERIC||Pe===At.KATAKANA||Pe===At.EXTENDNUMLET)||Pe===At.EXTENDNUMLET&&(Ie===At.ALETTER||Ie===At.NUMERIC||Ie===At.KATAKANA)||Pe===At.AT)},he=tn,Xe=Je,ae=Gt,pt=me=>me==="http"||me==="https",sn=(me,xe)=>{let Pe;for(Pe=xe;Pe<me.length&&!Xe.test(me[Pe]);Pe++);return Pe},Ro=(me,xe)=>{const Pe=sn(me,xe+1);return me.slice(xe+1,Pe).join(he).substr(0,3)==="://"?Pe:xe},pn=(me,xe,Pe,Ie)=>{const ye=[],Ee=[];let ot=[];for(let _t=0;_t<Pe.length;++_t)if(ot.push(me[_t]),wo(Pe,_t)){const We=xe[_t];if((Ie.includeWhitespace||!Xe.test(We))&&(Ie.includePunctuation||!ae.test(We))){const dt=_t-ot.length+1,io=_t+1,Fo=xe.slice(dt,io).join(he);if(pt(Fo)){const rt=Ro(xe,_t),xt=me.slice(io,rt);Array.prototype.push.apply(ot,xt),_t=rt}xe[_t+1]==="."&&/^([a-zA-Z]\.)+$/.test(Fo+".")?(ot.push(me[_t+1]),Ee.push({start:dt,end:io+1})):Ee.push({start:dt,end:io}),ye.push(ot)}ot=[]}return{words:ye,indices:Ee}},Vo=()=>({includeWhitespace:!1,includePunctuation:!1}),Nt=(me,xe,Pe)=>{Pe={...Vo(),...Pe};const Ie=en(me,xe),ye=St(Ie);return pn(me,Ie,ye,Pe)},zt=(me,xe,Pe)=>Nt(me,xe,Pe).words;var Ot=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Lt=(me,xe)=>{const Pe=xe.getBlockElements(),Ie=xe.getVoidElements(),ye=dt=>Pe[dt.nodeName]||Ie[dt.nodeName],Ee=[];let ot="";const _t=new Ot(me,me);let We;for(;We=_t.next();)We.nodeType===3?ot+=gn(We.data):ye(We)&&ot.length&&(Ee.push(ot),ot="");return ot.length&&Ee.push(ot),Ee},po=me=>me.replace(/\u200B/g,""),vt=me=>me.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,so=(me,xe)=>{const Pe=po(Lt(me,xe).join(`
`));return zt(Pe.split(""),cn).length},Bo=(me,xe)=>{const Pe=Lt(me,xe).join("");return vt(Pe)},je=(me,xe)=>{const Pe=Lt(me,xe).join("").replace(/\s/g,"");return vt(Pe)},R=(me,xe)=>()=>xe(me.getBody(),me.schema),ut=(me,xe)=>()=>xe(me.selection.getRng().cloneContents(),me.schema),tt=me=>R(me,so),Bt=me=>({body:{getWordCount:tt(me),getCharacterCount:R(me,Bo),getCharacterCountWithoutSpaces:R(me,je)},selection:{getWordCount:ut(me,so),getCharacterCount:ut(me,Bo),getCharacterCountWithoutSpaces:ut(me,je)},getCount:tt(me)}),Vt=(me,xe)=>{me.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(xe.body.getWordCount()),String(xe.selection.getWordCount())],["Characters (no spaces)",String(xe.body.getCharacterCountWithoutSpaces()),String(xe.selection.getCharacterCountWithoutSpaces())],["Characters",String(xe.body.getCharacterCount()),String(xe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},co=(me,xe)=>{me.addCommand("mceWordCount",()=>Vt(me,xe))};var xo=tinymce.util.Tools.resolve("tinymce.util.Delay");const No=(me,xe)=>{me.dispatch("wordCountUpdate",{wordCount:{words:xe.body.getWordCount(),characters:xe.body.getCharacterCount(),charactersWithoutSpaces:xe.body.getCharacterCountWithoutSpaces()}})},ke=(me,xe)=>{No(me,xe)},Ft=(me,xe,Pe)=>{const Ie=ro(()=>ke(me,xe),Pe);me.on("init",()=>{ke(me,xe),xo.setEditorTimeout(me,()=>{me.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Ie.throttle)},0),me.on("remove",Ie.cancel)})},Uo=me=>{const xe=()=>me.execCommand("mceWordCount");me.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:xe,context:"any"}),me.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:xe,context:"any"})};var Ue=(me=300)=>{Oo.add("wordcount",xe=>{const Pe=Bt(xe);return co(xe,Pe),Uo(xe),Ft(xe,Pe,me),Pe})};Ue()}()),WD}var KD;function iF(){return KD||(KD=1,sF()),qD}iF();tinymce.Resource.add("tinymce.html-i18n.help-keynav.zh_CN",`<h1>开始键盘导航</h1>

<dl>
  <dt>使菜单栏处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F9</dd>
  <dd>macOS：&#x2325;F9</dd>
  <dt>使工具栏处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F10</dd>
  <dd>macOS：&#x2325;F10</dd>
  <dt>使页脚处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F11</dd>
  <dd>macOS：&#x2325;F11</dd>
  <dt>使通知处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F12</dd>
  <dd>macOS：&#x2325;F12</dd>
  <dt>使上下文工具栏处于焦点</dt>
  <dd>Windows、Linux 或 macOS：Ctrl+F9</dd>
</dl>

<p>导航将在第一个 UI 项上开始，其中突出显示该项，或者对于页脚元素路径中的第一项，将为其添加下划线。</p>

<h1>在 UI 部分之间导航</h1>

<p>要从一个 UI 部分移至下一个，请按 <strong>Tab</strong>。</p>

<p>要从一个 UI 部分移至上一个，请按 <strong>Shift+Tab</strong>。</p>

<p>这些 UI 部分的 <strong>Tab</strong> 顺序为：</p>

<ol>
  <li>菜单栏</li>
  <li>每个工具栏组</li>
  <li>边栏</li>
  <li>页脚中的元素路径</li>
  <li>页脚中的字数切换按钮</li>
  <li>页脚中的品牌链接</li>
  <li>页脚中的编辑器调整大小图柄</li>
</ol>

<p>如果不存在某个 UI 部分，则跳过它。</p>

<p>如果键盘导航焦点在页脚，并且没有可见的边栏，则按 <strong>Shift+Tab</strong> 将焦点移至第一个工具栏组而非最后一个。</p>

<h1>在 UI 部分内导航</h1>

<p>要从一个 UI 元素移至下一个，请按相应的<strong>箭头</strong>键。</p>

<p><strong>左</strong>和<strong>右</strong>箭头键</p>

<ul>
  <li>在菜单栏中的菜单之间移动。</li>
  <li>打开菜单中的子菜单。</li>
  <li>在工具栏组中的按钮之间移动。</li>
  <li>在页脚的元素路径中的各项之间移动。</li>
</ul>

<p><strong>下</strong>和<strong>上</strong>箭头键</p>

<ul>
  <li>在菜单中的菜单项之间移动。</li>
  <li>在工具栏弹出菜单中的各项之间移动。</li>
</ul>

<p><strong>箭头</strong>键在具有焦点的 UI 部分内循环。</p>

<p>要关闭打开的菜单、打开的子菜单或打开的弹出菜单，请按 <strong>Esc</strong> 键。</p>

<p>如果当前的焦点在特定 UI 部分的“顶部”，则按 <strong>Esc</strong> 键还将完全退出键盘导航。</p>

<h1>执行菜单项或工具栏按钮</h1>

<p>当突出显示所需的菜单项或工具栏按钮时，按 <strong>Return</strong>、<strong>Enter</strong> 或<strong>空格</strong>以执行该项。</p>

<h1>在非标签页式对话框中导航</h1>

<p>在非标签页式对话框中，当对话框打开时，第一个交互组件获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在交互对话框组件之间导航。</p>

<h1>在标签页式对话框中导航</h1>

<p>在标签页式对话框中，当对话框打开时，标签页菜单中的第一个按钮获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在此对话框的交互组件之间导航。</p>

<p>通过将焦点移至另一对话框标签页的菜单，然后按相应的<strong>箭头</strong>键以在可用的标签页间循环，从而切换到该对话框标签页。</p>
`);tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus the notification</dt>
  <dd>Windows or Linux: Alt+F12</dd>
  <dd>macOS: &#x2325;F12</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9</dd>
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:</p>

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.</p>

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer’s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys</p>

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.</p>

<p>If the current focus is at the ‘top’ of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.</p>

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`);const lF="/vue3-antdv-admin/assets/zh_CN-D2ZaekyI.js",cF=Object.assign({"./zh_CN.js":lF}),dF=Object.entries(cF).reduce((Oo,[an,Ko])=>{const cn=an.replace(/\.\/(.+)\.js/,"$1");return Oo[cn]=Ko,Oo},{}),uF=["accordion","advlist","anchor","autolink","autosave","charmap","code","codesample","directionality","emoticons","fullscreen","help","image","importcss","insertdatetime","link","lists","media","nonbreaking","pagebreak","preview","quickbars","save","searchreplace","table","visualblocks","visualchars","wordcount"],mF=["fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen"],gF={...eM,init:Object,toolbar:{type:Array,default:mF},plugins:{type:Array,default:uF},height:{type:[Number,String],required:!1,default:400},width:{type:[Number,String],required:!1,default:"auto"}},pF=BO({__name:"index",props:NR(gF,{value:{},valueModifiers:{}}),emits:["update:value"],setup(Oo){const an=Oo,Ko=DR(Oo,"value"),cn=MR(),en=TO(()=>{const $o=RR().getLocale.value;return["zh_CN","en"].includes($o)?$o:"zh_CN"}),ro=TO(()=>cn.getNavTheme==="realDark"?"oxide-dark":"oxide"),gn=TO(()=>{const{height:$o,init:go,toolbar:At,plugins:kn}=an,Gt="/vue3-antdv-admin/tinymce-resource";return{base_url:Gt,license_key:"gpl",height:$o,toolbar:At,menubar:"file edit insert view format table",plugins:kn,language_url:dF[en.value],language:en.value,branding:!1,default_link_target:"_blank",link_title:!1,promotion:!1,object_resizing:!1,auto_focus:!0,resize:!0,skin:ro.value,skin_url:`${Gt}/skins/ui/${ro.value}`,...go}});return($o,go)=>(MO(),XD(RO(nB),BR({...$o.$attrs,...an},{modelValue:Ko.value,"onUpdate:modelValue":go[0]||(go[0]=At=>Ko.value=At),"tinymce-script-src":RO(rB),init:gn.value}),null,16,["modelValue","tinymce-script-src","init"]))}}),fF={images_upload_handler:async Oo=>(await JD.toolsUpload.uploadUpload({file:Oo.blob()})).filename},hF=[{field:"subject",component:"Input",label:"邮件标题",required:!0,colProps:{md:18}},{field:"to",component:"Input",label:"收件邮箱",helpMessage:"多个地址英文逗号,隔开",componentProps:{placeholder:"请输入邮箱地址,多个地址英文逗号,隔开"},colProps:{md:18},rules:[{type:"email",required:!0,message:"请输入有效的邮箱地址"}]},{field:"content",component:()=>VS(pF,{init:fF},null),label:"正文",colProps:{md:18}}],o9=BO({name:"ToolsEmail",__name:"index",setup(Oo){const an=YD(!1),[Ko]=HR({labelWidth:120,schemas:hF,submitButtonOptions:{text:"发送邮箱"},actionColOptions:{span:18}}),cn=[{key:"2",name:"发送邮件"}];async function en(ro){try{an.value=!0,await JD.systemEmail.emailSend(ro,{successMsg:"发送成功"})}finally{an.value=!1}}return(ro,gn)=>{const $o=$R,go=jR,At=VR,kn=PR;return MO(),XD(kn,{spinning:an.value,tip:"邮件发送中..."},{default:GT(()=>[VS(At,{size:"small"},{default:GT(()=>[VS(go,{"tab-position":"top","tab-bar-style":{marginLeft:"1rem"},"active-key":"2"},{default:GT(()=>[(MO(),FR(LR,null,IR(cn,tn=>VS($o,{key:tn.key,tab:tn.name},{default:GT(()=>[VS(RO(Ko),{onSubmit:en})]),_:2},1032,["tab"])),64))]),_:1})]),_:1})]),_:1},8,["spinning"])}}});export{o9 as default};
