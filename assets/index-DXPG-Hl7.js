import{_ as w,e as E,b3 as Bn,j as de,aI as zn,bL as ln,d as Ce,b0 as ke,aC as Ye,aN as Ne,r as fe,w as le,aW as an,o as lt,h as Et,P as ge,k as oe,c as D,s as Y,ac as Fe,di as Ot,ap as Pe,bi as mt,p as rn,f as sn,cr as cn,dj as ye,aV as Vn,cN as dn,b8 as $t,bu as ot,ba as Yn,a as un,m as fn,be as vn,aP as Qe,bn as St,V as Wn,y as Un,z as Gn,N as qn,i as Dt,b1 as Le,I as Ae,c7 as Xn,b9 as Zn,b as hn,bb as Jn,aT as Je,aR as he,b4 as Qn,bc as He,bd as xt}from"./index-Clv9zNM3.js";import{c as eo,g as to}from"./collapseMotion-BCa41I5P.js";import{d as no}from"./debounce-BtYDntiA.js";function Ft(){const e=t=>{e.current=t};return e}const at=(e,t)=>{let{height:n,offset:o,prefixCls:l,onInnerResize:r}=e,{slots:a}=t;var i;let d={},s={display:"flex",flexDirection:"column"};return o!==void 0&&(d={height:`${n}px`,position:"relative",overflow:"hidden"},s=w(w({},s),{transform:`translateY(${o}px)`,position:"absolute",left:0,right:0,top:0})),E("div",{style:d},[E(Bn,{onResize:f=>{let{offsetHeight:c}=f;c&&r&&r()}},{default:()=>[E("div",{style:s,class:de({[`${l}-holder-inner`]:l})},[(i=a.default)===null||i===void 0?void 0:i.call(a)])]})])};at.displayName="Filter";at.inheritAttrs=!1;at.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const pn=(e,t)=>{let{setRef:n}=e,{slots:o}=t;var l;const r=zn((l=o.default)===null||l===void 0?void 0:l.call(o));return r&&r.length?ln(r[0],{ref:n}):r};pn.props={setRef:{type:Function,default:()=>{}}};const oo=20;function At(e){return"touches"in e?e.touches[0].pageY:e.pageY}const lo=Ce({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup(){return{moveRaf:null,scrollbarRef:Ft(),thumbRef:Ft(),visibleTimeout:null,state:Ye({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var e,t;(e=this.scrollbarRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onScrollbarTouchStart,Ne?{passive:!1}:!1),(t=this.thumbRef.current)===null||t===void 0||t.addEventListener("touchstart",this.onMouseDown,Ne?{passive:!1}:!1)},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(()=>{this.state.visible=!1},2e3)},onScrollbarTouchStart(e){e.preventDefault()},onContainerMouseDown(e){e.stopPropagation(),e.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,Ne?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,Ne?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,Ne?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,Ne?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),ke.cancel(this.moveRaf)},onMouseDown(e){const{onStartMove:t}=this.$props;w(this.state,{dragging:!0,pageY:At(e),startTop:this.getTop()}),t(),this.patchEvents(),e.stopPropagation(),e.preventDefault()},onMouseMove(e){const{dragging:t,pageY:n,startTop:o}=this.state,{onScroll:l}=this.$props;if(ke.cancel(this.moveRaf),t){const r=At(e)-n,a=o+r,i=this.getEnableScrollRange(),d=this.getEnableHeightRange(),s=d?a/d:0,f=Math.ceil(s*i);this.moveRaf=ke(()=>{l(f)})}},onMouseUp(){const{onStopMove:e}=this.$props;this.state.dragging=!1,e(),this.removeEvents()},getSpinHeight(){const{height:e,scrollHeight:t}=this.$props;let n=e/t*100;return n=Math.max(n,oo),n=Math.min(n,e/2),Math.floor(n)},getEnableScrollRange(){const{scrollHeight:e,height:t}=this.$props;return e-t||0},getEnableHeightRange(){const{height:e}=this.$props,t=this.getSpinHeight();return e-t||0},getTop(){const{scrollTop:e}=this.$props,t=this.getEnableScrollRange(),n=this.getEnableHeightRange();return e===0||t===0?0:e/t*n},showScroll(){const{height:e,scrollHeight:t}=this.$props;return t>e}},render(){const{dragging:e,visible:t}=this.state,{prefixCls:n}=this.$props,o=this.getSpinHeight()+"px",l=this.getTop()+"px",r=this.showScroll(),a=r&&t;return E("div",{ref:this.scrollbarRef,class:de(`${n}-scrollbar`,{[`${n}-scrollbar-show`]:r}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:a?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[E("div",{ref:this.thumbRef,class:de(`${n}-scrollbar-thumb`,{[`${n}-scrollbar-thumb-moving`]:e}),style:{width:"100%",height:o,top:l,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function ao(e,t,n,o){const l=new Map,r=new Map,a=fe(Symbol("update"));le(e,()=>{a.value=Symbol("update")});let i;function d(){ke.cancel(i)}function s(){d(),i=ke(()=>{l.forEach((c,v)=>{if(c&&c.offsetParent){const{offsetHeight:K}=c;r.get(v)!==K&&(a.value=Symbol("update"),r.set(v,c.offsetHeight))}})})}function f(c,v){const K=t(c);l.get(K),v?(l.set(K,v.$el||v),s()):l.delete(K)}return an(()=>{d()}),[f,s,r,a]}function ro(e,t,n,o,l,r,a,i){let d;return s=>{if(s==null){i();return}ke.cancel(d);const f=t.value,c=o.itemHeight;if(typeof s=="number")a(s);else if(s&&typeof s=="object"){let v;const{align:K}=s;"index"in s?{index:v}=s:v=f.findIndex(u=>l(u)===s.key);const{offset:k=0}=s,b=(u,m)=>{if(u<0||!e.value)return;const H=e.value.clientHeight;let T=!1,M=m;if(H){const I=m||K;let Z=0,R=0,F=0;const g=Math.min(f.length,v);for(let U=0;U<=g;U+=1){const W=l(f[U]);R=Z;const Q=n.get(W);F=R+(Q===void 0?c:Q),Z=F,U===v&&Q===void 0&&(T=!0)}const O=e.value.scrollTop;let _=null;switch(I){case"top":_=R-k;break;case"bottom":_=F-H+k;break;default:{const U=O+H;R<O?M="top":F>U&&(M="bottom")}}_!==null&&_!==O&&a(_)}d=ke(()=>{T&&r(),b(u-1,M)},2)};b(5)}}}const io=typeof navigator=="object"&&/Firefox/i.test(navigator.userAgent),yn=(e,t)=>{let n=!1,o=null;function l(){clearTimeout(o),n=!0,o=setTimeout(()=>{n=!1},50)}return function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=r<0&&e.value||r>0&&t.value;return a&&i?(clearTimeout(o),n=!1):(!i||n)&&l(),!n&&i}};function so(e,t,n,o){let l=0,r=null,a=null,i=!1;const d=yn(t,n);function s(c){if(!e.value)return;ke.cancel(r);const{deltaY:v}=c;l+=v,a=v,!d(v)&&(io||c.preventDefault(),r=ke(()=>{o(l*(i?10:1)),l=0}))}function f(c){e.value&&(i=c.detail===a)}return[s,f]}const co=14/15;function uo(e,t,n){let o=!1,l=0,r=null,a=null;const i=()=>{r&&(r.removeEventListener("touchmove",d),r.removeEventListener("touchend",s))},d=v=>{if(o){const K=Math.ceil(v.touches[0].pageY);let k=l-K;l=K,n(k)&&v.preventDefault(),clearInterval(a),a=setInterval(()=>{k*=co,(!n(k,!0)||Math.abs(k)<=.1)&&clearInterval(a)},16)}},s=()=>{o=!1,i()},f=v=>{i(),v.touches.length===1&&!o&&(o=!0,l=Math.ceil(v.touches[0].pageY),r=v.target,r.addEventListener("touchmove",d,{passive:!1}),r.addEventListener("touchend",s))},c=()=>{};lt(()=>{document.addEventListener("touchmove",c,{passive:!1}),le(e,v=>{t.value.removeEventListener("touchstart",f),i(),clearInterval(a),v&&t.value.addEventListener("touchstart",f,{passive:!1})},{immediate:!0})}),Et(()=>{document.removeEventListener("touchmove",c)})}var fo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]]);return n};const vo=[],ho={overflowY:"auto",overflowAnchor:"none"};function po(e,t,n,o,l,r){let{getKey:a}=r;return e.slice(t,n+1).map((i,d)=>{const s=t+d,f=l(i,s,{}),c=a(i);return E(pn,{key:c,setRef:v=>o(i,v)},{default:()=>[f]})})}const yo=Ce({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:ge.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(e,t){let{expose:n}=t;const o=D(()=>{const{height:C,itemHeight:P,virtual:G}=e;return!!(G!==!1&&C&&P)}),l=D(()=>{const{height:C,itemHeight:P,data:G}=e;return o.value&&G&&P*G.length>C}),r=Ye({scrollTop:0,scrollMoving:!1}),a=D(()=>e.data||vo),i=Y([]);le(a,()=>{i.value=mt(a.value).slice()},{immediate:!0});const d=Y(C=>{});le(()=>e.itemKey,C=>{typeof C=="function"?d.value=C:d.value=P=>P==null?void 0:P[C]},{immediate:!0});const s=Y(),f=Y(),c=Y(),v=C=>d.value(C),K={getKey:v};function k(C){let P;typeof C=="function"?P=C(r.scrollTop):P=C;const G=Z(P);s.value&&(s.value.scrollTop=G),r.scrollTop=G}const[b,u,m,H]=ao(i,v),T=Ye({scrollHeight:void 0,start:0,end:0,offset:void 0}),M=Y(0);lt(()=>{Fe(()=>{var C;M.value=((C=f.value)===null||C===void 0?void 0:C.offsetHeight)||0})}),Ot(()=>{Fe(()=>{var C;M.value=((C=f.value)===null||C===void 0?void 0:C.offsetHeight)||0})}),le([o,i],()=>{o.value||w(T,{scrollHeight:void 0,start:0,end:i.value.length-1,offset:void 0})},{immediate:!0}),le([o,i,M,l],()=>{o.value&&!l.value&&w(T,{scrollHeight:M.value,start:0,end:i.value.length-1,offset:void 0}),s.value&&(r.scrollTop=s.value.scrollTop)},{immediate:!0}),le([l,o,()=>r.scrollTop,i,H,()=>e.height,M],()=>{if(!o.value||!l.value)return;let C=0,P,G,ee;const ue=i.value.length,be=i.value,me=r.scrollTop,{itemHeight:Ee,height:_e}=e,Re=me+_e;for(let Se=0;Se<ue;Se+=1){const je=be[Se],Be=v(je);let Oe=m.get(Be);Oe===void 0&&(Oe=Ee);const Te=C+Oe;P===void 0&&Te>=me&&(P=Se,G=C),ee===void 0&&Te>Re&&(ee=Se),C=Te}P===void 0&&(P=0,G=0,ee=Math.ceil(_e/Ee)),ee===void 0&&(ee=ue-1),ee=Math.min(ee+1,ue),w(T,{scrollHeight:C,start:P,end:ee,offset:G})},{immediate:!0});const I=D(()=>T.scrollHeight-e.height);function Z(C){let P=C;return Number.isNaN(I.value)||(P=Math.min(P,I.value)),P=Math.max(P,0),P}const R=D(()=>r.scrollTop<=0),F=D(()=>r.scrollTop>=I.value),g=yn(R,F);function O(C){k(C)}function _(C){var P;const{scrollTop:G}=C.currentTarget;G!==r.scrollTop&&k(G),(P=e.onScroll)===null||P===void 0||P.call(e,C)}const[U,W]=so(o,R,F,C=>{k(P=>P+C)});uo(o,s,(C,P)=>g(C,P)?!1:(U({preventDefault(){},deltaY:C}),!0));function Q(C){o.value&&C.preventDefault()}const ne=()=>{s.value&&(s.value.removeEventListener("wheel",U,Ne?{passive:!1}:!1),s.value.removeEventListener("DOMMouseScroll",W),s.value.removeEventListener("MozMousePixelScroll",Q))};Pe(()=>{Fe(()=>{s.value&&(ne(),s.value.addEventListener("wheel",U,Ne?{passive:!1}:!1),s.value.addEventListener("DOMMouseScroll",W),s.value.addEventListener("MozMousePixelScroll",Q))})}),Et(()=>{ne()});const pe=ro(s,i,m,e,v,u,k,()=>{var C;(C=c.value)===null||C===void 0||C.delayHidden()});n({scrollTo:pe});const ie=D(()=>{let C=null;return e.height&&(C=w({[e.fullHeight?"height":"maxHeight"]:e.height+"px"},ho),o.value&&(C.overflowY="hidden",r.scrollMoving&&(C.pointerEvents="none"))),C});return le([()=>T.start,()=>T.end,i],()=>{if(e.onVisibleChange){const C=i.value.slice(T.start,T.end+1);e.onVisibleChange(C,i.value)}},{flush:"post"}),{state:r,mergedData:i,componentStyle:ie,onFallbackScroll:_,onScrollBar:O,componentRef:s,useVirtual:o,calRes:T,collectHeight:u,setInstance:b,sharedConfig:K,scrollBarRef:c,fillerInnerRef:f,delayHideScrollBar:()=>{var C;(C=c.value)===null||C===void 0||C.delayHidden()}}},render(){const e=w(w({},this.$props),this.$attrs),{prefixCls:t="rc-virtual-list",height:n,itemHeight:o,fullHeight:l,data:r,itemKey:a,virtual:i,component:d="div",onScroll:s,children:f=this.$slots.default,style:c,class:v}=e,K=fo(e,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),k=de(t,v),{scrollTop:b}=this.state,{scrollHeight:u,offset:m,start:H,end:T}=this.calRes,{componentStyle:M,onFallbackScroll:I,onScrollBar:Z,useVirtual:R,collectHeight:F,sharedConfig:g,setInstance:O,mergedData:_,delayHideScrollBar:U}=this;return E("div",oe({style:w(w({},c),{position:"relative"}),class:k},K),[E(d,{class:`${t}-holder`,style:M,ref:"componentRef",onScroll:I,onMouseenter:U},{default:()=>[E(at,{prefixCls:t,height:u,offset:m,onInnerResize:F,ref:"fillerInnerRef"},{default:()=>po(_,H,T,O,f,g)})]}),R&&E(lo,{ref:"scrollBarRef",prefixCls:t,scrollTop:b,height:n,scrollHeight:u,count:_.length,onScroll:Z,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}}),gn=Symbol("TreeContextKey"),go=Ce({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return rn(gn,D(()=>e.value)),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),Nt=()=>sn(gn,D(()=>({}))),bn=Symbol("KeysStateKey"),bo=e=>{rn(bn,e)},mn=()=>sn(bn,{expandedKeys:Y([]),selectedKeys:Y([]),loadedKeys:Y([]),loadingKeys:Y([]),checkedKeys:Y([]),halfCheckedKeys:Y([]),expandedKeysSet:D(()=>new Set),selectedKeysSet:D(()=>new Set),loadedKeysSet:D(()=>new Set),loadingKeysSet:D(()=>new Set),checkedKeysSet:D(()=>new Set),halfCheckedKeysSet:D(()=>new Set),flattenNodes:Y([])}),mo=e=>{let{prefixCls:t,level:n,isStart:o,isEnd:l}=e;const r=`${t}-indent-unit`,a=[];for(let i=0;i<n;i+=1)a.push(E("span",{key:i,class:{[r]:!0,[`${r}-start`]:o[i],[`${r}-end`]:l[i]}},null));return E("span",{"aria-hidden":"true",class:`${t}-indent`},[a])},Sn={eventKey:[String,Number],prefixCls:String,title:ge.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:ge.any,switcherIcon:ge.any,domRef:{type:Function}},So={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},xn=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:ge.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:ge.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:ge.any,switcherIcon:ge.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var xo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]]);return n};const Rt="open",jt="close",Ko="---",Kt=Ce({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:Sn,isTreeNode:1,setup(e,t){let{attrs:n,slots:o,expose:l}=t;cn(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(h=>"`v-slot:"+h+"` ")}instead`);const r=Y(!1),a=Nt(),{expandedKeysSet:i,selectedKeysSet:d,loadedKeysSet:s,loadingKeysSet:f,checkedKeysSet:c,halfCheckedKeysSet:v}=mn(),{dragOverNodeKey:K,dropPosition:k,keyEntities:b}=a.value,u=D(()=>et(e.eventKey,{expandedKeysSet:i.value,selectedKeysSet:d.value,loadedKeysSet:s.value,loadingKeysSet:f.value,checkedKeysSet:c.value,halfCheckedKeysSet:v.value,dragOverNodeKey:K,dropPosition:k,keyEntities:b})),m=ye(()=>u.value.expanded),H=ye(()=>u.value.selected),T=ye(()=>u.value.checked),M=ye(()=>u.value.loaded),I=ye(()=>u.value.loading),Z=ye(()=>u.value.halfChecked),R=ye(()=>u.value.dragOver),F=ye(()=>u.value.dragOverGapTop),g=ye(()=>u.value.dragOverGapBottom),O=ye(()=>u.value.pos),_=Y(),U=D(()=>{const{eventKey:h}=e,{keyEntities:S}=a.value,{children:q}=S[h]||{};return!!(q||[]).length}),W=D(()=>{const{isLeaf:h}=e,{loadData:S}=a.value,q=U.value;return h===!1?!1:h||!S&&!q||S&&M.value&&!q}),Q=D(()=>W.value?null:m.value?Rt:jt),ne=D(()=>{const{disabled:h}=e,{disabled:S}=a.value;return!!(S||h)}),pe=D(()=>{const{checkable:h}=e,{checkable:S}=a.value;return!S||h===!1?!1:S}),ie=D(()=>{const{selectable:h}=e,{selectable:S}=a.value;return typeof h=="boolean"?h:S}),B=D(()=>{const{data:h,active:S,checkable:q,disableCheckbox:te,disabled:ae,selectable:re}=e;return w(w({active:S,checkable:q,disableCheckbox:te,disabled:ae,selectable:re},h),{dataRef:h,data:h,isLeaf:W.value,checked:T.value,expanded:m.value,loading:I.value,selected:H.value,halfChecked:Z.value})}),C=Vn(),P=D(()=>{const{eventKey:h}=e,{keyEntities:S}=a.value,{parent:q}=S[h]||{};return w(w({},tt(w({},e,u.value))),{parent:q})}),G=Ye({eventData:P,eventKey:D(()=>e.eventKey),selectHandle:_,pos:O,key:C.vnode.key});l(G);const ee=h=>{const{onNodeDoubleClick:S}=a.value;S(h,P.value)},ue=h=>{if(ne.value)return;const{onNodeSelect:S}=a.value;h.preventDefault(),S(h,P.value)},be=h=>{if(ne.value)return;const{disableCheckbox:S}=e,{onNodeCheck:q}=a.value;if(!pe.value||S)return;h.preventDefault();const te=!T.value;q(h,P.value,te)},me=h=>{const{onNodeClick:S}=a.value;S(h,P.value),ie.value?ue(h):be(h)},Ee=h=>{const{onNodeMouseEnter:S}=a.value;S(h,P.value)},_e=h=>{const{onNodeMouseLeave:S}=a.value;S(h,P.value)},Re=h=>{const{onNodeContextMenu:S}=a.value;S(h,P.value)},Se=h=>{const{onNodeDragStart:S}=a.value;h.stopPropagation(),r.value=!0,S(h,G);try{h.dataTransfer.setData("text/plain","")}catch{}},je=h=>{const{onNodeDragEnter:S}=a.value;h.preventDefault(),h.stopPropagation(),S(h,G)},Be=h=>{const{onNodeDragOver:S}=a.value;h.preventDefault(),h.stopPropagation(),S(h,G)},Oe=h=>{const{onNodeDragLeave:S}=a.value;h.stopPropagation(),S(h,G)},Te=h=>{const{onNodeDragEnd:S}=a.value;h.stopPropagation(),r.value=!1,S(h,G)},st=h=>{const{onNodeDrop:S}=a.value;h.preventDefault(),h.stopPropagation(),r.value=!1,S(h,G)},Ue=h=>{const{onNodeExpand:S}=a.value;I.value||S(h,P.value)},Ge=()=>{const{data:h}=e,{draggable:S}=a.value;return!!(S&&(!S.nodeDraggable||S.nodeDraggable(h)))},qe=()=>{const{draggable:h,prefixCls:S}=a.value;return h&&(h!=null&&h.icon)?E("span",{class:`${S}-draggable-icon`},[h.icon]):null},ct=()=>{var h,S,q;const{switcherIcon:te=o.switcherIcon||((h=a.value.slots)===null||h===void 0?void 0:h[(q=(S=e.data)===null||S===void 0?void 0:S.slots)===null||q===void 0?void 0:q.switcherIcon])}=e,{switcherIcon:ae}=a.value,re=te||ae;return typeof re=="function"?re(B.value):re},Xe=()=>{const{loadData:h,onNodeLoad:S}=a.value;I.value||h&&m.value&&!W.value&&!U.value&&!M.value&&S(P.value)};lt(()=>{Xe()}),Ot(()=>{Xe()});const dt=()=>{const{prefixCls:h}=a.value,S=ct();if(W.value)return S!==!1?E("span",{class:de(`${h}-switcher`,`${h}-switcher-noop`)},[S]):null;const q=de(`${h}-switcher`,`${h}-switcher_${m.value?Rt:jt}`);return S!==!1?E("span",{onClick:Ue,class:q},[S]):null},ut=()=>{var h,S;const{disableCheckbox:q}=e,{prefixCls:te}=a.value,ae=ne.value;return pe.value?E("span",{class:de(`${te}-checkbox`,T.value&&`${te}-checkbox-checked`,!T.value&&Z.value&&`${te}-checkbox-indeterminate`,(ae||q)&&`${te}-checkbox-disabled`),onClick:be},[(S=(h=a.value).customCheckable)===null||S===void 0?void 0:S.call(h)]):null},Ze=()=>{const{prefixCls:h}=a.value;return E("span",{class:de(`${h}-iconEle`,`${h}-icon__${Q.value||"docu"}`,I.value&&`${h}-icon_loading`)},null)},Me=()=>{const{disabled:h,eventKey:S}=e,{draggable:q,dropLevelOffset:te,dropPosition:ae,prefixCls:re,indent:p,dropIndicatorRender:y,dragOverNodeKey:x,direction:N}=a.value;return!h&&q!==!1&&x===S?y({dropPosition:ae,dropLevelOffset:te,indent:p,prefixCls:re,direction:N}):null},ft=()=>{var h,S,q,te,ae,re;const{icon:p=o.icon,data:y}=e,x=o.title||((h=a.value.slots)===null||h===void 0?void 0:h[(q=(S=e.data)===null||S===void 0?void 0:S.slots)===null||q===void 0?void 0:q.title])||((te=a.value.slots)===null||te===void 0?void 0:te.title)||e.title,{prefixCls:N,showIcon:A,icon:L,loadData:$}=a.value,z=ne.value,J=`${N}-node-content-wrapper`;let j;if(A){const se=p||((ae=a.value.slots)===null||ae===void 0?void 0:ae[(re=y==null?void 0:y.slots)===null||re===void 0?void 0:re.icon])||L;j=se?E("span",{class:de(`${N}-iconEle`,`${N}-icon__customize`)},[typeof se=="function"?se(B.value):se]):Ze()}else $&&I.value&&(j=Ze());let V;typeof x=="function"?V=x(B.value):V=x,V=V===void 0?Ko:V;const X=E("span",{class:`${N}-title`},[V]);return E("span",{ref:_,title:typeof x=="string"?x:"",class:de(`${J}`,`${J}-${Q.value||"normal"}`,!z&&(H.value||r.value)&&`${N}-node-selected`),onMouseenter:Ee,onMouseleave:_e,onContextmenu:Re,onClick:me,onDblclick:ee},[j,X,Me()])};return()=>{const h=w(w({},e),n),{eventKey:S,isLeaf:q,isStart:te,isEnd:ae,domRef:re,active:p,data:y,onMousemove:x,selectable:N}=h,A=xo(h,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:L,filterTreeNode:$,keyEntities:z,dropContainerKey:J,dropTargetKey:j,draggingNodeKey:V}=a.value,X=ne.value,se=dn(A,{aria:!0,data:!0}),{level:xe}=z[S]||{},ve=ae[ae.length-1],ce=Ge(),$e=!X&&ce,ze=V===S,vt=N!==void 0?{"aria-selected":!!N}:void 0;return E("div",oe(oe({ref:re,class:de(n.class,`${L}-treenode`,{[`${L}-treenode-disabled`]:X,[`${L}-treenode-switcher-${m.value?"open":"close"}`]:!q,[`${L}-treenode-checkbox-checked`]:T.value,[`${L}-treenode-checkbox-indeterminate`]:Z.value,[`${L}-treenode-selected`]:H.value,[`${L}-treenode-loading`]:I.value,[`${L}-treenode-active`]:p,[`${L}-treenode-leaf-last`]:ve,[`${L}-treenode-draggable`]:$e,dragging:ze,"drop-target":j===S,"drop-container":J===S,"drag-over":!X&&R.value,"drag-over-gap-top":!X&&F.value,"drag-over-gap-bottom":!X&&g.value,"filter-node":$&&$(P.value)}),style:n.style,draggable:$e,"aria-grabbed":ze,onDragstart:$e?Se:void 0,onDragenter:ce?je:void 0,onDragover:ce?Be:void 0,onDragleave:ce?Oe:void 0,onDrop:ce?st:void 0,onDragend:ce?Te:void 0,onMousemove:x},vt),se),[E(mo,{prefixCls:L,level:xe,isStart:te,isEnd:ae},null),qe(),dt(),ut(),ft()])}}});function Ke(e,t){if(!e)return[];const n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function De(e,t){const n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function Pt(e){return e.split("-")}function Kn(e,t){return`${e}-${t}`}function wo(e){return e&&e.type&&e.type.isTreeNode}function ko(e,t){const n=[],o=t[e];function l(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(a=>{let{key:i,children:d}=a;n.push(i),l(d)})}return l(o.children),n}function Co(e){if(e.parent){const t=Pt(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Eo(e){const t=Pt(e.pos);return Number(t[t.length-1])===0}function Bt(e,t,n,o,l,r,a,i,d,s){var f;const{clientX:c,clientY:v}=e,{top:K,height:k}=e.target.getBoundingClientRect(),u=((s==="rtl"?-1:1)*(((l==null?void 0:l.x)||0)-c)-12)/o;let m=i[n.eventKey];if(v<K+k/2){const O=a.findIndex(W=>W.key===m.key),_=O<=0?0:O-1,U=a[_].key;m=i[U]}const H=m.key,T=m,M=m.key;let I=0,Z=0;if(!d.has(H))for(let O=0;O<u&&Co(m);O+=1)m=m.parent,Z+=1;const R=t.eventData,F=m.node;let g=!0;return Eo(m)&&m.level===0&&v<K+k/2&&r({dragNode:R,dropNode:F,dropPosition:-1})&&m.key===n.eventKey?I=-1:(T.children||[]).length&&d.has(M)?r({dragNode:R,dropNode:F,dropPosition:0})?I=0:g=!1:Z===0?u>-1.5?r({dragNode:R,dropNode:F,dropPosition:1})?I=1:g=!1:r({dragNode:R,dropNode:F,dropPosition:0})?I=0:r({dragNode:R,dropNode:F,dropPosition:1})?I=1:g=!1:r({dragNode:R,dropNode:F,dropPosition:1})?I=1:g=!1,{dropPosition:I,dropLevelOffset:Z,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:M,dropContainerKey:I===0?null:((f=m.parent)===null||f===void 0?void 0:f.key)||null,dropAllowed:g}}function zt(e,t){if(!e)return;const{multiple:n}=t;return n?e.slice():e.length?[e[0]]:e}function ht(e){if(!e)return null;let t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(typeof e=="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return null;return t}function wt(e,t){const n=new Set;function o(l){if(n.has(l))return;const r=t[l];if(!r)return;n.add(l);const{parent:a,node:i}=r;i.disabled||a&&o(a.key)}return(e||[]).forEach(l=>{o(l)}),[...n]}var Oo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]]);return n};function We(e,t){return e??t}function rt(e){const{title:t,_title:n,key:o,children:l}=e||{},r=t||"title";return{title:r,_title:n||[r],key:o||"key",children:l||"children"}}function kt(e){function t(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ot(n).map(l=>{var r,a,i,d;if(!wo(l))return null;const s=l.children||{},f=l.key,c={};for(const[O,_]of Object.entries(l.props))c[Yn(O)]=_;const{isLeaf:v,checkable:K,selectable:k,disabled:b,disableCheckbox:u}=c,m={isLeaf:v||v===""||void 0,checkable:K||K===""||void 0,selectable:k||k===""||void 0,disabled:b||b===""||void 0,disableCheckbox:u||u===""||void 0},H=w(w({},c),m),{title:T=(r=s.title)===null||r===void 0?void 0:r.call(s,H),icon:M=(a=s.icon)===null||a===void 0?void 0:a.call(s,H),switcherIcon:I=(i=s.switcherIcon)===null||i===void 0?void 0:i.call(s,H)}=c,Z=Oo(c,["title","icon","switcherIcon"]),R=(d=s.default)===null||d===void 0?void 0:d.call(s),F=w(w(w({},Z),{title:T,icon:M,switcherIcon:I,key:f,isLeaf:v}),m),g=t(R);return g.length&&(F.children=g),F})}return t(e)}function $o(e,t,n){const{_title:o,key:l,children:r}=rt(n),a=new Set(t===!0?[]:t),i=[];function d(s){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return s.map((c,v)=>{const K=Kn(f?f.pos:"0",v),k=We(c[l],K);let b;for(let m=0;m<o.length;m+=1){const H=o[m];if(c[H]!==void 0){b=c[H];break}}const u=w(w({},$t(c,[...o,l,r])),{title:b,key:k,parent:f,pos:K,children:null,data:c,isStart:[...f?f.isStart:[],v===0],isEnd:[...f?f.isEnd:[],v===s.length-1]});return i.push(u),t===!0||a.has(k)?u.children=d(c[r]||[],u):u.children=[],u})}return d(e),i}function Do(e,t,n){let o={};typeof n=="object"?o=n:o={externalGetKey:n},o=o||{};const{childrenPropName:l,externalGetKey:r,fieldNames:a}=o,{key:i,children:d}=rt(a),s=l||d;let f;r?typeof r=="string"?f=v=>v[r]:typeof r=="function"&&(f=v=>r(v)):f=(v,K)=>We(v[i],K);function c(v,K,k,b){const u=v?v[s]:e,m=v?Kn(k.pos,K):"0",H=v?[...b,v]:[];if(v){const T=f(v,m),M={node:v,index:K,pos:m,key:T,parentPos:k.node?k.pos:null,level:k.level+1,nodes:H};t(M)}u&&u.forEach((T,M)=>{c(T,M,{node:v,pos:m,level:k?k.level+1:-1},H)})}c(null)}function wn(e){let{initWrapper:t,processEntity:n,onProcessFinished:o,externalGetKey:l,childrenPropName:r,fieldNames:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const d=l||i,s={},f={};let c={posEntities:s,keyEntities:f};return t&&(c=t(c)||c),Do(e,v=>{const{node:K,index:k,pos:b,key:u,parentPos:m,level:H,nodes:T}=v,M={node:K,nodes:T,index:k,key:u,pos:b,level:H},I=We(u,b);s[b]=M,f[I]=M,M.parent=s[m],M.parent&&(M.parent.children=M.parent.children||[],M.parent.children.push(M)),n&&n(M,c)},{externalGetKey:d,childrenPropName:r,fieldNames:a}),o&&o(c),c}function et(e,t){let{expandedKeysSet:n,selectedKeysSet:o,loadedKeysSet:l,loadingKeysSet:r,checkedKeysSet:a,halfCheckedKeysSet:i,dragOverNodeKey:d,dropPosition:s,keyEntities:f}=t;const c=f[e];return{eventKey:e,expanded:n.has(e),selected:o.has(e),loaded:l.has(e),loading:r.has(e),checked:a.has(e),halfChecked:i.has(e),pos:String(c?c.pos:""),parent:c.parent,dragOver:d===e&&s===0,dragOverGapTop:d===e&&s===-1,dragOverGapBottom:d===e&&s===1}}function tt(e){const{data:t,expanded:n,selected:o,checked:l,loaded:r,loading:a,halfChecked:i,dragOver:d,dragOverGapTop:s,dragOverGapBottom:f,pos:c,active:v,eventKey:K}=e,k=w(w({dataRef:t},t),{expanded:n,selected:o,checked:l,loaded:r,loading:a,halfChecked:i,dragOver:d,dragOverGapTop:s,dragOverGapBottom:f,pos:c,active:v,eventKey:K,key:K});return"props"in k||Object.defineProperty(k,"props",{get(){return e}}),k}function kn(e,t){const n=new Set;return e.forEach(o=>{t.has(o)||n.add(o)}),n}function No(e){const{disabled:t,disableCheckbox:n,checkable:o}=e||{};return!!(t||n)||o===!1}function Po(e,t,n,o){const l=new Set(e),r=new Set;for(let i=0;i<=n;i+=1)(t.get(i)||new Set).forEach(s=>{const{key:f,node:c,children:v=[]}=s;l.has(f)&&!o(c)&&v.filter(K=>!o(K.node)).forEach(K=>{l.add(K.key)})});const a=new Set;for(let i=n;i>=0;i-=1)(t.get(i)||new Set).forEach(s=>{const{parent:f,node:c}=s;if(o(c)||!s.parent||a.has(s.parent.key))return;if(o(s.parent.node)){a.add(f.key);return}let v=!0,K=!1;(f.children||[]).filter(k=>!o(k.node)).forEach(k=>{let{key:b}=k;const u=l.has(b);v&&!u&&(v=!1),!K&&(u||r.has(b))&&(K=!0)}),v&&l.add(f.key),K&&r.add(f.key),a.add(f.key)});return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(kn(r,l))}}function To(e,t,n,o,l){const r=new Set(e);let a=new Set(t);for(let d=0;d<=o;d+=1)(n.get(d)||new Set).forEach(f=>{const{key:c,node:v,children:K=[]}=f;!r.has(c)&&!a.has(c)&&!l(v)&&K.filter(k=>!l(k.node)).forEach(k=>{r.delete(k.key)})});a=new Set;const i=new Set;for(let d=o;d>=0;d-=1)(n.get(d)||new Set).forEach(f=>{const{parent:c,node:v}=f;if(l(v)||!f.parent||i.has(f.parent.key))return;if(l(f.parent.node)){i.add(c.key);return}let K=!0,k=!1;(c.children||[]).filter(b=>!l(b.node)).forEach(b=>{let{key:u}=b;const m=r.has(u);K&&!m&&(K=!1),!k&&(m||a.has(u))&&(k=!0)}),K||r.delete(c.key),k&&a.add(c.key),i.add(c.key)});return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(kn(a,r))}}function pt(e,t,n,o,l,r){let a;r?a=r:a=No;const i=new Set(e.filter(s=>!!n[s]));let d;return t===!0?d=Po(i,l,o,a):d=To(i,t.halfCheckedKeys,l,o,a),d}function Mo(e){const t=fe(0),n=Y();return Pe(()=>{const o=new Map;let l=0;const r=e.value||{};for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)){const i=r[a],{level:d}=i;let s=o.get(d);s||(s=new Set,o.set(d,s)),s.add(i),l=Math.max(l,d)}t.value=l,n.value=o}),{maxLevel:t,levelEntities:n}}const Io=new vn("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),_o=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:w(w({},Qe(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:w(w({},Qe(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:w(w({},Qe(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:w({},St(e))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[t]:{"&-indeterminate":{[`${t}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}:hover ${t}:after`]:{visibility:"visible"},[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,animationName:Io,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${e.motionDurationSlow}`}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}:after`]:{borderColor:e.colorPrimaryHover}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Cn(e,t){const n=fn(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[_o(n)]}const bl=un("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[Cn(n,e)]});var Vt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]]);return n};const Lo=Ce({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:w(w({},Sn),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:o}=t;const l=Y(!0),r=Nt(),a=Y(!1),i=D(()=>e.motion?e.motion:eo()),d=(s,f)=>{var c,v,K,k;f==="appear"?(v=(c=i.value)===null||c===void 0?void 0:c.onAfterEnter)===null||v===void 0||v.call(c,s):f==="leave"&&((k=(K=i.value)===null||K===void 0?void 0:K.onAfterLeave)===null||k===void 0||k.call(K,s)),a.value||e.onMotionEnd(),a.value=!0};return le(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&l.value&&Fe(()=>{l.value=!1})},{immediate:!0,flush:"post"}),lt(()=>{e.motionNodes&&e.onMotionStart()}),Et(()=>{e.motionNodes&&d()}),()=>{const{motion:s,motionNodes:f,motionType:c,active:v,eventKey:K}=e,k=Vt(e,["motion","motionNodes","motionType","active","eventKey"]);return f?E(Wn,oe(oe({},i.value),{},{appear:c==="show",onAfterAppear:b=>d(b,"appear"),onAfterLeave:b=>d(b,"leave")}),{default:()=>[Un(E("div",{class:`${r.value.prefixCls}-treenode-motion`},[f.map(b=>{const u=Vt(b.data,[]),{title:m,key:H,isStart:T,isEnd:M}=b;return delete u.children,E(Kt,oe(oe({},u),{},{title:m,active:v,data:b.data,key:H,eventKey:H,isStart:T,isEnd:M}),o)})]),[[Gn,l.value]])]}):E(Kt,oe(oe({class:n.class,style:n.style},k),{},{active:v,eventKey:K}),o)}}});function Ho(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,o=t.length;if(Math.abs(n-o)!==1)return{add:!1,key:null};function l(r,a){const i=new Map;r.forEach(s=>{i.set(s,!0)});const d=a.filter(s=>!i.has(s));return d.length===1?d[0]:null}return n<o?{add:!0,key:l(e,t)}:{add:!1,key:l(t,e)}}function Yt(e,t,n){const o=e.findIndex(a=>a.key===n),l=e[o+1],r=t.findIndex(a=>a.key===n);if(l){const a=t.findIndex(i=>i.key===l.key);return t.slice(r+1,a)}return t.slice(r+1)}var Wt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]]);return n};const Ut={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Fo=()=>{},Ie=`RC_TREE_MOTION_${Math.random()}`,Ct={key:Ie},En={key:Ie,level:0,index:0,pos:"0",node:Ct,nodes:[Ct]},Gt={parent:null,children:[],pos:En.pos,data:Ct,title:null,key:Ie,isStart:[],isEnd:[]};function qt(e,t,n,o){return t===!1||!n?e:e.slice(0,Math.ceil(n/o)+1)}function Xt(e){const{key:t,pos:n}=e;return We(t,n)}function Ao(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const Ro=Ce({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:So,setup(e,t){let{expose:n,attrs:o}=t;const l=fe(),r=fe(),{expandedKeys:a,flattenNodes:i}=mn();n({scrollTo:b=>{l.value.scrollTo(b)},getIndentWidth:()=>r.value.offsetWidth});const d=Y(i.value),s=Y([]),f=fe(null);function c(){d.value=i.value,s.value=[],f.value=null,e.onListChangeEnd()}const v=Nt();le([()=>a.value.slice(),i],(b,u)=>{let[m,H]=b,[T,M]=u;const I=Ho(T,m);if(I.key!==null){const{virtual:Z,height:R,itemHeight:F}=e;if(I.add){const g=M.findIndex(U=>{let{key:W}=U;return W===I.key}),O=qt(Yt(M,H,I.key),Z,R,F),_=M.slice();_.splice(g+1,0,Gt),d.value=_,s.value=O,f.value="show"}else{const g=H.findIndex(U=>{let{key:W}=U;return W===I.key}),O=qt(Yt(H,M,I.key),Z,R,F),_=H.slice();_.splice(g+1,0,Gt),d.value=_,s.value=O,f.value="hide"}}else M!==H&&(d.value=H)}),le(()=>v.value.dragging,b=>{b||c()});const K=D(()=>e.motion===void 0?d.value:i.value),k=()=>{e.onActiveChange(null)};return()=>{const b=w(w({},e),o),{prefixCls:u,selectable:m,checkable:H,disabled:T,motion:M,height:I,itemHeight:Z,virtual:R,focusable:F,activeItem:g,focused:O,tabindex:_,onKeydown:U,onFocus:W,onBlur:Q,onListChangeStart:ne,onListChangeEnd:pe}=b,ie=Wt(b,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return E(qn,null,[O&&g&&E("span",{style:Ut,"aria-live":"assertive"},[Ao(g)]),E("div",null,[E("input",{style:Ut,disabled:F===!1||T,tabindex:F!==!1?_:null,onKeydown:U,onFocus:W,onBlur:Q,value:"",onChange:Fo,"aria-label":"for screen reader"},null)]),E("div",{class:`${u}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[E("div",{class:`${u}-indent`},[E("div",{ref:r,class:`${u}-indent-unit`},null)])]),E(yo,oe(oe({},$t(ie,["onActiveChange"])),{},{data:K.value,itemKey:Xt,height:I,fullHeight:!1,virtual:R,itemHeight:Z,prefixCls:`${u}-list`,ref:l,onVisibleChange:(B,C)=>{const P=new Set(B);C.filter(ee=>!P.has(ee)).some(ee=>Xt(ee)===Ie)&&c()}}),{default:B=>{const{pos:C}=B,P=Wt(B.data,[]),{title:G,key:ee,isStart:ue,isEnd:be}=B,me=We(ee,C);return delete P.key,delete P.children,E(Lo,oe(oe({},P),{},{eventKey:me,title:G,active:!!g&&ee===g.key,data:B.data,isStart:ue,isEnd:be,motion:M,motionNodes:ee===Ie?s.value:null,motionType:f.value,onMotionStart:ne,onMotionEnd:c,onMousemove:k}),null)}})])}}});function jo(e){let{dropPosition:t,dropLevelOffset:n,indent:o}=e;const l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:l.top=0,l.left=`${-n*o}px`;break;case 1:l.bottom=0,l.left=`${-n*o}px`;break;case 0:l.bottom=0,l.left=`${o}`;break}return E("div",{style:l},null)}const Bo=10,zo=Ce({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:Dt(xn(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:jo,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:o,expose:l}=t;const r=Y(!1);let a={};const i=Y(),d=Y([]),s=Y([]),f=Y([]),c=Y([]),v=Y([]),K=Y([]),k={},b=Ye({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),u=Y([]);le([()=>e.treeData,()=>e.children],()=>{u.value=e.treeData!==void 0?e.treeData.slice():kt(mt(e.children))},{immediate:!0,deep:!0});const m=Y({}),H=Y(!1),T=Y(null),M=Y(!1),I=D(()=>rt(e.fieldNames)),Z=Y();let R=null,F=null,g=null;const O=D(()=>({expandedKeysSet:_.value,selectedKeysSet:U.value,loadedKeysSet:W.value,loadingKeysSet:Q.value,checkedKeysSet:ne.value,halfCheckedKeysSet:pe.value,dragOverNodeKey:b.dragOverNodeKey,dropPosition:b.dropPosition,keyEntities:m.value})),_=D(()=>new Set(K.value)),U=D(()=>new Set(d.value)),W=D(()=>new Set(c.value)),Q=D(()=>new Set(v.value)),ne=D(()=>new Set(s.value)),pe=D(()=>new Set(f.value));Pe(()=>{if(u.value){const p=wn(u.value,{fieldNames:I.value});m.value=w({[Ie]:En},p.keyEntities)}});let ie=!1;le([()=>e.expandedKeys,()=>e.autoExpandParent,m],(p,y)=>{let[x,N]=p,[A,L]=y,$=K.value;if(e.expandedKeys!==void 0||ie&&N!==L)$=e.autoExpandParent||!ie&&e.defaultExpandParent?wt(e.expandedKeys,m.value):e.expandedKeys;else if(!ie&&e.defaultExpandAll){const z=w({},m.value);delete z[Ie],$=Object.keys(z).map(J=>z[J].key)}else!ie&&e.defaultExpandedKeys&&($=e.autoExpandParent||e.defaultExpandParent?wt(e.defaultExpandedKeys,m.value):e.defaultExpandedKeys);$&&(K.value=$),ie=!0},{immediate:!0});const B=Y([]);Pe(()=>{B.value=$o(u.value,K.value,I.value)}),Pe(()=>{e.selectable&&(e.selectedKeys!==void 0?d.value=zt(e.selectedKeys,e):!ie&&e.defaultSelectedKeys&&(d.value=zt(e.defaultSelectedKeys,e)))});const{maxLevel:C,levelEntities:P}=Mo(m);Pe(()=>{if(e.checkable){let p;if(e.checkedKeys!==void 0?p=ht(e.checkedKeys)||{}:!ie&&e.defaultCheckedKeys?p=ht(e.defaultCheckedKeys)||{}:u.value&&(p=ht(e.checkedKeys)||{checkedKeys:s.value,halfCheckedKeys:f.value}),p){let{checkedKeys:y=[],halfCheckedKeys:x=[]}=p;e.checkStrictly||({checkedKeys:y,halfCheckedKeys:x}=pt(y,!0,m.value,C.value,P.value)),s.value=y,f.value=x}}}),Pe(()=>{e.loadedKeys&&(c.value=e.loadedKeys)});const G=()=>{w(b,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ee=p=>{Z.value.scrollTo(p)};le(()=>e.activeKey,()=>{e.activeKey!==void 0&&(T.value=e.activeKey)},{immediate:!0}),le(T,p=>{Fe(()=>{p!==null&&ee({key:p})})},{immediate:!0,flush:"post"});const ue=p=>{e.expandedKeys===void 0&&(K.value=p)},be=()=>{b.draggingNodeKey!==null&&w(b,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),R=null,g=null},me=(p,y)=>{const{onDragend:x}=e;b.dragOverNodeKey=null,be(),x==null||x({event:p,node:y.eventData}),F=null},Ee=p=>{me(p,null),window.removeEventListener("dragend",Ee)},_e=(p,y)=>{const{onDragstart:x}=e,{eventKey:N,eventData:A}=y;F=y,R={x:p.clientX,y:p.clientY};const L=Ke(K.value,N);b.draggingNodeKey=N,b.dragChildrenKeys=ko(N,m.value),i.value=Z.value.getIndentWidth(),ue(L),window.addEventListener("dragend",Ee),x&&x({event:p,node:A})},Re=(p,y)=>{const{onDragenter:x,onExpand:N,allowDrop:A,direction:L}=e,{pos:$,eventKey:z}=y;if(g!==z&&(g=z),!F){G();return}const{dropPosition:J,dropLevelOffset:j,dropTargetKey:V,dropContainerKey:X,dropTargetPos:se,dropAllowed:xe,dragOverNodeKey:ve}=Bt(p,F,y,i.value,R,A,B.value,m.value,_.value,L);if(b.dragChildrenKeys.indexOf(V)!==-1||!xe){G();return}if(a||(a={}),Object.keys(a).forEach(ce=>{clearTimeout(a[ce])}),F.eventKey!==y.eventKey&&(a[$]=window.setTimeout(()=>{if(b.draggingNodeKey===null)return;let ce=K.value.slice();const $e=m.value[y.eventKey];$e&&($e.children||[]).length&&(ce=De(K.value,y.eventKey)),ue(ce),N&&N(ce,{node:y.eventData,expanded:!0,nativeEvent:p})},800)),F.eventKey===V&&j===0){G();return}w(b,{dragOverNodeKey:ve,dropPosition:J,dropLevelOffset:j,dropTargetKey:V,dropContainerKey:X,dropTargetPos:se,dropAllowed:xe}),x&&x({event:p,node:y.eventData,expandedKeys:K.value})},Se=(p,y)=>{const{onDragover:x,allowDrop:N,direction:A}=e;if(!F)return;const{dropPosition:L,dropLevelOffset:$,dropTargetKey:z,dropContainerKey:J,dropAllowed:j,dropTargetPos:V,dragOverNodeKey:X}=Bt(p,F,y,i.value,R,N,B.value,m.value,_.value,A);b.dragChildrenKeys.indexOf(z)!==-1||!j||(F.eventKey===z&&$===0?b.dropPosition===null&&b.dropLevelOffset===null&&b.dropTargetKey===null&&b.dropContainerKey===null&&b.dropTargetPos===null&&b.dropAllowed===!1&&b.dragOverNodeKey===null||G():L===b.dropPosition&&$===b.dropLevelOffset&&z===b.dropTargetKey&&J===b.dropContainerKey&&V===b.dropTargetPos&&j===b.dropAllowed&&X===b.dragOverNodeKey||w(b,{dropPosition:L,dropLevelOffset:$,dropTargetKey:z,dropContainerKey:J,dropTargetPos:V,dropAllowed:j,dragOverNodeKey:X}),x&&x({event:p,node:y.eventData}))},je=(p,y)=>{g===y.eventKey&&!p.currentTarget.contains(p.relatedTarget)&&(G(),g=null);const{onDragleave:x}=e;x&&x({event:p,node:y.eventData})},Be=function(p,y){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var N;const{dragChildrenKeys:A,dropPosition:L,dropTargetKey:$,dropTargetPos:z,dropAllowed:J}=b;if(!J)return;const{onDrop:j}=e;if(b.dragOverNodeKey=null,be(),$===null)return;const V=w(w({},et($,mt(O.value))),{active:((N=q.value)===null||N===void 0?void 0:N.key)===$,data:m.value[$].node});A.indexOf($);const X=Pt(z),se={event:p,node:tt(V),dragNode:F?F.eventData:null,dragNodesKeys:[F.eventKey].concat(A),dropToGap:L!==0,dropPosition:L+Number(X[X.length-1])};x||j==null||j(se),F=null},Oe=(p,y)=>{const{expanded:x,key:N}=y,A=B.value.filter($=>$.key===N)[0],L=tt(w(w({},et(N,O.value)),{data:A.data}));ue(x?Ke(K.value,N):De(K.value,N)),Me(p,L)},Te=(p,y)=>{const{onClick:x,expandAction:N}=e;N==="click"&&Oe(p,y),x&&x(p,y)},st=(p,y)=>{const{onDblclick:x,expandAction:N}=e;(N==="doubleclick"||N==="dblclick")&&Oe(p,y),x&&x(p,y)},Ue=(p,y)=>{let x=d.value;const{onSelect:N,multiple:A}=e,{selected:L}=y,$=y[I.value.key],z=!L;z?A?x=De(x,$):x=[$]:x=Ke(x,$);const J=m.value,j=x.map(V=>{const X=J[V];return X?X.node:null}).filter(V=>V);e.selectedKeys===void 0&&(d.value=x),N&&N(x,{event:"select",selected:z,node:y,selectedNodes:j,nativeEvent:p})},Ge=(p,y,x)=>{const{checkStrictly:N,onCheck:A}=e,L=y[I.value.key];let $;const z={event:"check",node:y,checked:x,nativeEvent:p},J=m.value;if(N){const j=x?De(s.value,L):Ke(s.value,L),V=Ke(f.value,L);$={checked:j,halfChecked:V},z.checkedNodes=j.map(X=>J[X]).filter(X=>X).map(X=>X.node),e.checkedKeys===void 0&&(s.value=j)}else{let{checkedKeys:j,halfCheckedKeys:V}=pt([...s.value,L],!0,J,C.value,P.value);if(!x){const X=new Set(j);X.delete(L),{checkedKeys:j,halfCheckedKeys:V}=pt(Array.from(X),{halfCheckedKeys:V},J,C.value,P.value)}$=j,z.checkedNodes=[],z.checkedNodesPositions=[],z.halfCheckedKeys=V,j.forEach(X=>{const se=J[X];if(!se)return;const{node:xe,pos:ve}=se;z.checkedNodes.push(xe),z.checkedNodesPositions.push({node:xe,pos:ve})}),e.checkedKeys===void 0&&(s.value=j,f.value=V)}A&&A($,z)},qe=p=>{const y=p[I.value.key],x=new Promise((N,A)=>{const{loadData:L,onLoad:$}=e;if(!L||W.value.has(y)||Q.value.has(y))return null;L(p).then(()=>{const J=De(c.value,y),j=Ke(v.value,y);$&&$(J,{event:"load",node:p}),e.loadedKeys===void 0&&(c.value=J),v.value=j,N()}).catch(J=>{const j=Ke(v.value,y);if(v.value=j,k[y]=(k[y]||0)+1,k[y]>=Bo){const V=De(c.value,y);e.loadedKeys===void 0&&(c.value=V),N()}A(J)}),v.value=De(v.value,y)});return x.catch(()=>{}),x},ct=(p,y)=>{const{onMouseenter:x}=e;x&&x({event:p,node:y})},Xe=(p,y)=>{const{onMouseleave:x}=e;x&&x({event:p,node:y})},dt=(p,y)=>{const{onRightClick:x}=e;x&&(p.preventDefault(),x({event:p,node:y}))},ut=p=>{const{onFocus:y}=e;H.value=!0,y&&y(p)},Ze=p=>{const{onBlur:y}=e;H.value=!1,S(null),y&&y(p)},Me=(p,y)=>{let x=K.value;const{onExpand:N,loadData:A}=e,{expanded:L}=y,$=y[I.value.key];if(M.value)return;x.indexOf($);const z=!L;if(z?x=De(x,$):x=Ke(x,$),ue(x),N&&N(x,{node:y,expanded:z,nativeEvent:p}),z&&A){const J=qe(y);J&&J.then(()=>{}).catch(j=>{const V=Ke(K.value,$);ue(V),Promise.reject(j)})}},ft=()=>{M.value=!0},h=()=>{setTimeout(()=>{M.value=!1})},S=p=>{const{onActiveChange:y}=e;T.value!==p&&(e.activeKey!==void 0&&(T.value=p),p!==null&&ee({key:p}),y&&y(p))},q=D(()=>T.value===null?null:B.value.find(p=>{let{key:y}=p;return y===T.value})||null),te=p=>{let y=B.value.findIndex(N=>{let{key:A}=N;return A===T.value});y===-1&&p<0&&(y=B.value.length),y=(y+p+B.value.length)%B.value.length;const x=B.value[y];if(x){const{key:N}=x;S(N)}else S(null)},ae=D(()=>tt(w(w({},et(T.value,O.value)),{data:q.value.data,active:!0}))),re=p=>{const{onKeydown:y,checkable:x,selectable:N}=e;switch(p.which){case Le.UP:{te(-1),p.preventDefault();break}case Le.DOWN:{te(1),p.preventDefault();break}}const A=q.value;if(A&&A.data){const L=A.data.isLeaf===!1||!!(A.data.children||[]).length,$=ae.value;switch(p.which){case Le.LEFT:{L&&_.value.has(T.value)?Me({},$):A.parent&&S(A.parent.key),p.preventDefault();break}case Le.RIGHT:{L&&!_.value.has(T.value)?Me({},$):A.children&&A.children.length&&S(A.children[0].key),p.preventDefault();break}case Le.ENTER:case Le.SPACE:{x&&!$.disabled&&$.checkable!==!1&&!$.disableCheckbox?Ge({},$,!ne.value.has(T.value)):!x&&N&&!$.disabled&&$.selectable!==!1&&Ue({},$);break}}}y&&y(p)};return l({onNodeExpand:Me,scrollTo:ee,onKeydown:re,selectedKeys:D(()=>d.value),checkedKeys:D(()=>s.value),halfCheckedKeys:D(()=>f.value),loadedKeys:D(()=>c.value),loadingKeys:D(()=>v.value),expandedKeys:D(()=>K.value)}),an(()=>{window.removeEventListener("dragend",Ee),r.value=!0}),bo({expandedKeys:K,selectedKeys:d,loadedKeys:c,loadingKeys:v,checkedKeys:s,halfCheckedKeys:f,expandedKeysSet:_,selectedKeysSet:U,loadedKeysSet:W,loadingKeysSet:Q,checkedKeysSet:ne,halfCheckedKeysSet:pe,flattenNodes:B}),()=>{const{draggingNodeKey:p,dropLevelOffset:y,dropContainerKey:x,dropTargetKey:N,dropPosition:A,dragOverNodeKey:L}=b,{prefixCls:$,showLine:z,focusable:J,tabindex:j=0,selectable:V,showIcon:X,icon:se=o.icon,switcherIcon:xe,draggable:ve,checkable:ce,checkStrictly:$e,disabled:ze,motion:vt,loadData:$n,filterTreeNode:Dn,height:Nn,itemHeight:Pn,virtual:Tn,dropIndicatorRender:Mn,onContextmenu:In,onScroll:_n,direction:Ln,rootClassName:Hn,rootStyle:Fn}=e,{class:An,style:Rn}=n,jn=dn(w(w({},e),n),{aria:!0,data:!0});let Ve;return ve?typeof ve=="object"?Ve=ve:typeof ve=="function"?Ve={nodeDraggable:ve}:Ve={}:Ve=!1,E(go,{value:{prefixCls:$,selectable:V,showIcon:X,icon:se,switcherIcon:xe,draggable:Ve,draggingNodeKey:p,checkable:ce,customCheckable:o.checkable,checkStrictly:$e,disabled:ze,keyEntities:m.value,dropLevelOffset:y,dropContainerKey:x,dropTargetKey:N,dropPosition:A,dragOverNodeKey:L,dragging:p!==null,indent:i.value,direction:Ln,dropIndicatorRender:Mn,loadData:$n,filterTreeNode:Dn,onNodeClick:Te,onNodeDoubleClick:st,onNodeExpand:Me,onNodeSelect:Ue,onNodeCheck:Ge,onNodeLoad:qe,onNodeMouseEnter:ct,onNodeMouseLeave:Xe,onNodeContextMenu:dt,onNodeDragStart:_e,onNodeDragEnter:Re,onNodeDragOver:Se,onNodeDragLeave:je,onNodeDragEnd:me,onNodeDrop:Be,slots:o}},{default:()=>[E("div",{role:"tree",class:de($,An,Hn,{[`${$}-show-line`]:z,[`${$}-focused`]:H.value,[`${$}-active-focused`]:T.value!==null}),style:Fn},[E(Ro,oe({ref:Z,prefixCls:$,style:Rn,disabled:ze,selectable:V,checkable:!!ce,motion:vt,height:Nn,itemHeight:Pn,virtual:Tn,focusable:J,focused:H.value,tabindex:j,activeItem:q.value,onFocus:ut,onBlur:Ze,onKeydown:re,onActiveChange:S,onListChangeStart:ft,onListChangeEnd:h,onContextmenu:In,onScroll:_n},jn),null)])]})}}});var Vo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),o.forEach(function(l){Yo(e,l,n[l])})}return e}function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it=function(t,n){var o=Zt({},t,n.attrs);return E(Ae,Zt({},o,{icon:Vo}),null)};it.displayName="FileOutlined";it.inheritAttrs=!1;var Wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function Jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),o.forEach(function(l){Uo(e,l,n[l])})}return e}function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt=function(t,n){var o=Jt({},t,n.attrs);return E(Ae,Jt({},o,{icon:Wo}),null)};Tt.displayName="MinusSquareOutlined";Tt.inheritAttrs=!1;var Go={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function Qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),o.forEach(function(l){qo(e,l,n[l])})}return e}function qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mt=function(t,n){var o=Qt({},t,n.attrs);return E(Ae,Qt({},o,{icon:Go}),null)};Mt.displayName="PlusSquareOutlined";Mt.inheritAttrs=!1;var Xo={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),o.forEach(function(l){Zo(e,l,n[l])})}return e}function Zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var It=function(t,n){var o=en({},t,n.attrs);return E(Ae,en({},o,{icon:Xo}),null)};It.displayName="CaretDownFilled";It.inheritAttrs=!1;function Jo(e,t,n,o,l){const{isLeaf:r,expanded:a,loading:i}=n;let d=t;if(i)return E(Xn,{class:`${e}-switcher-loading-icon`},null);let s;l&&typeof l=="object"&&(s=l.showLeafIcon);let f=null;const c=`${e}-switcher-icon`;return r?l?s&&o?o(n):(typeof l=="object"&&!s?f=E("span",{class:`${e}-switcher-leaf-line`},null):f=E(it,{class:`${e}-switcher-line-icon`},null),f):null:(f=E(It,{class:c},null),l&&(f=a?E(Tt,{class:`${e}-switcher-line-icon`},null):E(Mt,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?d=t(w(w({},n),{defaultIcon:f,switcherCls:c})):Zn(d)&&(d=ln(d,{class:c})),d||f)}const tn=4;function Qo(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:o,indent:l,direction:r="ltr"}=e,a=r==="ltr"?"left":"right",i=r==="ltr"?"right":"left",d={[a]:`${-n*l+tn}px`,[i]:0};switch(t){case-1:d.top="-3px";break;case 1:d.bottom="-3px";break;default:d.bottom="-3px",d[a]=`${l+tn}px`;break}return E("div",{style:d,class:`${o}-drop-indicator`},null)}const el=new vn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),tl=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),nl=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),ol=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:l,treeTitleHeight:r}=t,a=(r-t.fontSizeLG)/2,i=t.paddingXS;return{[n]:w(w({},Qe(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:w({},St(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:l,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:el,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${l}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:w({},St(t)),[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:r,lineHeight:`${r}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:r}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:w(w({},tl(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:r,margin:0,lineHeight:`${r}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-l,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:r/2*.8,height:r/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:i,marginBlockStart:a},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:r,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${r}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:r,height:r,lineHeight:`${r}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:w({lineHeight:`${r}px`,userSelect:"none"},nl(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-l,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${r/2}px !important`}}}}})}},ll=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},al=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,l=t.paddingXS/2,r=t.controlHeightSM,a=fn(t,{treeCls:n,treeNodeCls:o,treeNodePadding:l,treeTitleHeight:r});return[ol(e,a),ll(a)]},rl=un("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Cn(`${n}-checkbox`,e)},al(n,e),to(e)]}),On=()=>{const e=xn();return w(w({},e),{showLine:xt([Boolean,Object]),multiple:he(),autoExpandParent:he(),checkStrictly:he(),checkable:he(),disabled:he(),defaultExpandAll:he(),defaultExpandParent:he(),defaultExpandedKeys:He(),expandedKeys:He(),checkedKeys:xt([Array,Object]),defaultCheckedKeys:He(),selectedKeys:He(),defaultSelectedKeys:He(),selectable:he(),loadedKeys:He(),draggable:he(),showIcon:he(),icon:Je(),switcherIcon:ge.any,prefixCls:String,replaceFields:Qn(),blockNode:he(),openAnimation:ge.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Je(),"onUpdate:checkedKeys":Je(),"onUpdate:expandedKeys":Je()})},nt=Ce({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:Dt(On(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(e,t){let{attrs:n,expose:o,emit:l,slots:r}=t;cn(!(e.treeData===void 0&&r.default));const{prefixCls:a,direction:i,virtual:d}=hn("tree",e),[s,f]=rl(a),c=fe();o({treeRef:c,onNodeExpand:function(){var u;(u=c.value)===null||u===void 0||u.onNodeExpand(...arguments)},scrollTo:u=>{var m;(m=c.value)===null||m===void 0||m.scrollTo(u)},selectedKeys:D(()=>{var u;return(u=c.value)===null||u===void 0?void 0:u.selectedKeys}),checkedKeys:D(()=>{var u;return(u=c.value)===null||u===void 0?void 0:u.checkedKeys}),halfCheckedKeys:D(()=>{var u;return(u=c.value)===null||u===void 0?void 0:u.halfCheckedKeys}),loadedKeys:D(()=>{var u;return(u=c.value)===null||u===void 0?void 0:u.loadedKeys}),loadingKeys:D(()=>{var u;return(u=c.value)===null||u===void 0?void 0:u.loadingKeys}),expandedKeys:D(()=>{var u;return(u=c.value)===null||u===void 0?void 0:u.expandedKeys})}),Pe(()=>{Jn(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const K=(u,m)=>{l("update:checkedKeys",u),l("check",u,m)},k=(u,m)=>{l("update:expandedKeys",u),l("expand",u,m)},b=(u,m)=>{l("update:selectedKeys",u),l("select",u,m)};return()=>{const{showIcon:u,showLine:m,switcherIcon:H=r.switcherIcon,icon:T=r.icon,blockNode:M,checkable:I,selectable:Z,fieldNames:R=e.replaceFields,motion:F=e.openAnimation,itemHeight:g=28,onDoubleclick:O,onDblclick:_}=e,U=w(w(w({},n),$t(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!m,dropIndicatorRender:Qo,fieldNames:R,icon:T,itemHeight:g}),W=r.default?ot(r.default()):void 0;return s(E(zo,oe(oe({},U),{},{virtual:d.value,motion:F,ref:c,prefixCls:a.value,class:de({[`${a.value}-icon-hide`]:!u,[`${a.value}-block-node`]:M,[`${a.value}-unselectable`]:!Z,[`${a.value}-rtl`]:i.value==="rtl"},n.class,f.value),direction:i.value,checkable:I,selectable:Z,switcherIcon:Q=>Jo(a.value,H,Q,r.leafIcon,m),onCheck:K,onExpand:k,onSelect:b,onDblclick:_||O,children:W}),w(w({},r),{checkable:()=>E("span",{class:`${a.value}-checkbox-inner`},null)})))}}});var il={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),o.forEach(function(l){sl(e,l,n[l])})}return e}function sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t=function(t,n){var o=nn({},t,n.attrs);return E(Ae,nn({},o,{icon:il}),null)};_t.displayName="FolderOpenOutlined";_t.inheritAttrs=!1;var cl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),o.forEach(function(l){dl(e,l,n[l])})}return e}function dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=function(t,n){var o=on({},t,n.attrs);return E(Ae,on({},o,{icon:cl}),null)};Lt.displayName="FolderOutlined";Lt.inheritAttrs=!1;var we;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(we||(we={}));function Ht(e,t,n){function o(l){const r=l[t.key],a=l[t.children];n(r,l)!==!1&&Ht(a||[],t,n)}e.forEach(o)}function ul(e){let{treeData:t,expandedKeys:n,startKey:o,endKey:l,fieldNames:r={title:"title",key:"key",children:"children"}}=e;const a=[];let i=we.None;if(o&&o===l)return[o];if(!o||!l)return[];function d(s){return s===o||s===l}return Ht(t,r,s=>{if(i===we.End)return!1;if(d(s)){if(a.push(s),i===we.None)i=we.Start;else if(i===we.Start)return i=we.End,!1}else i===we.Start&&a.push(s);return n.includes(s)}),a}function yt(e,t,n){const o=[...t],l=[];return Ht(e,n,(r,a)=>{const i=o.indexOf(r);return i!==-1&&(l.push(a),o.splice(i,1)),!!o.length}),l}var fl=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]]);return n};const vl=()=>w(w({},On()),{expandAction:xt([Boolean,String])});function hl(e){const{isLeaf:t,expanded:n}=e;return t?E(it,null,null):n?E(_t,null,null):E(Lt,null,null)}const gt=Ce({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:Dt(vl(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(e,t){let{attrs:n,slots:o,emit:l,expose:r}=t;var a;const i=fe(e.treeData||kt(ot((a=o.default)===null||a===void 0?void 0:a.call(o))));le(()=>e.treeData,()=>{i.value=e.treeData}),Ot(()=>{Fe(()=>{var g;e.treeData===void 0&&o.default&&(i.value=kt(ot((g=o.default)===null||g===void 0?void 0:g.call(o))))})});const d=fe(),s=fe(),f=D(()=>rt(e.fieldNames)),c=fe();r({scrollTo:g=>{var O;(O=c.value)===null||O===void 0||O.scrollTo(g)},selectedKeys:D(()=>{var g;return(g=c.value)===null||g===void 0?void 0:g.selectedKeys}),checkedKeys:D(()=>{var g;return(g=c.value)===null||g===void 0?void 0:g.checkedKeys}),halfCheckedKeys:D(()=>{var g;return(g=c.value)===null||g===void 0?void 0:g.halfCheckedKeys}),loadedKeys:D(()=>{var g;return(g=c.value)===null||g===void 0?void 0:g.loadedKeys}),loadingKeys:D(()=>{var g;return(g=c.value)===null||g===void 0?void 0:g.loadingKeys}),expandedKeys:D(()=>{var g;return(g=c.value)===null||g===void 0?void 0:g.expandedKeys})});const K=()=>{const{keyEntities:g}=wn(i.value,{fieldNames:f.value});let O;return e.defaultExpandAll?O=Object.keys(g):e.defaultExpandParent?O=wt(e.expandedKeys||e.defaultExpandedKeys||[],g):O=e.expandedKeys||e.defaultExpandedKeys,O},k=fe(e.selectedKeys||e.defaultSelectedKeys||[]),b=fe(K());le(()=>e.selectedKeys,()=>{e.selectedKeys!==void 0&&(k.value=e.selectedKeys)},{immediate:!0}),le(()=>e.expandedKeys,()=>{e.expandedKeys!==void 0&&(b.value=e.expandedKeys)},{immediate:!0});const m=no((g,O)=>{const{isLeaf:_}=O;_||g.shiftKey||g.metaKey||g.ctrlKey||c.value.onNodeExpand(g,O)},200,{leading:!0}),H=(g,O)=>{e.expandedKeys===void 0&&(b.value=g),l("update:expandedKeys",g),l("expand",g,O)},T=(g,O)=>{const{expandAction:_}=e;_==="click"&&m(g,O),l("click",g,O)},M=(g,O)=>{const{expandAction:_}=e;(_==="dblclick"||_==="doubleclick")&&m(g,O),l("doubleclick",g,O),l("dblclick",g,O)},I=(g,O)=>{const{multiple:_}=e,{node:U,nativeEvent:W}=O,Q=U[f.value.key],ne=w(w({},O),{selected:!0}),pe=(W==null?void 0:W.ctrlKey)||(W==null?void 0:W.metaKey),ie=W==null?void 0:W.shiftKey;let B;_&&pe?(B=g,d.value=Q,s.value=B,ne.selectedNodes=yt(i.value,B,f.value)):_&&ie?(B=Array.from(new Set([...s.value||[],...ul({treeData:i.value,expandedKeys:b.value,startKey:Q,endKey:d.value,fieldNames:f.value})])),ne.selectedNodes=yt(i.value,B,f.value)):(B=[Q],d.value=Q,s.value=B,ne.selectedNodes=yt(i.value,B,f.value)),l("update:selectedKeys",B),l("select",B,ne),e.selectedKeys===void 0&&(k.value=B)},Z=(g,O)=>{l("update:checkedKeys",g),l("check",g,O)},{prefixCls:R,direction:F}=hn("tree",e);return()=>{const g=de(`${R.value}-directory`,{[`${R.value}-directory-rtl`]:F.value==="rtl"},n.class),{icon:O=o.icon,blockNode:_=!0}=e,U=fl(e,["icon","blockNode"]);return E(nt,oe(oe(oe({},n),{},{icon:O||hl,ref:c,blockNode:_},U),{},{prefixCls:R.value,class:g,expandedKeys:b.value,selectedKeys:k.value,onSelect:I,onClick:T,onDblclick:M,onExpand:H,onCheck:Z}),o)}}}),bt=Kt,ml=w(nt,{DirectoryTree:gt,TreeNode:bt,install:e=>(e.component(nt.name,nt),e.component(bt.name,bt),e.component(gt.name,gt),e)});export{Lt as F,yo as L,zo as T,ml as _,wn as a,pt as b,Ft as c,bl as d,al as e,Ke as f,Cn as g,De as h,Jo as r,Mo as u};
